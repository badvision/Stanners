{"1f41bec8ef656da014b7145fdff82563c030ca29":{"changes":{"test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/D2\/config.jelly":"ADD","test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/D1\/config.jelly":"ADD","test\/src\/test\/java\/hudson\/model\/DescriptorTest.java":"MODIFY","test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/D3\/config.jelly":"ADD","test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/B1\/config.jelly":"ADD","test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/B2\/config.jelly":"ADD"},"diff":{"test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/D2\/config.jelly":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/D1\/config.jelly":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/model\/DescriptorTest.java":[{"add":["32","import java.util.Arrays;","37","import org.junit.Ignore;","43","import org.kohsuke.stapler.DataBoundConstructor;","119","    @Issue(\"JENKINS-28110\")","120","    @Test public void nestedDescribableOverridingId() throws Exception {","121","        FreeStyleProject p = rule.createFreeStyleProject(\"p\");","122","        p.getBuildersList().add(new B1(Arrays.asList(new D1(), new D2())));","123","        rule.configRoundtrip(p);","124","        rule.assertLogContains(\"[D 1, D 2]\", rule.buildAndAssertSuccess(p));","125","    }","126","    public static abstract class D extends AbstractDescribableImpl<D> {","127","        @Override public String toString() {return getDescriptor().getDisplayName();}","128","    }","129","    public static class D1 extends D {","130","        @DataBoundConstructor public D1() {}","131","        @TestExtension(\"nestedDescribableOverridingId\") public static class DescriptorImpl extends Descriptor<D> {","132","            @Override public String getDisplayName() {return \"D 1\";}","133","            @Override public String getId() {return \"D1-id\";}","134","        }","135","    }","136","    public static class D2 extends D {","137","        @DataBoundConstructor public D2() {}","138","        @TestExtension(\"nestedDescribableOverridingId\") public static class DescriptorImpl extends Descriptor<D> {","139","            @Override public String getDisplayName() {return \"D 2\";}","140","            @Override public String getId() {return \"D2-id\";}","141","        }","142","    }","143","    public static class B1 extends Builder {","144","        public final List<D> ds;","145","        @DataBoundConstructor public B1(List<D> ds) {","146","            this.ds = ds;","147","        }","148","        @Override public boolean perform(AbstractBuild<?,?> build, Launcher launcher, BuildListener listener) throws InterruptedException, IOException {","149","            listener.getLogger().println(ds);","150","            return true;","151","        }","152","        @TestExtension(\"nestedDescribableOverridingId\") public static class DescriptorImpl extends Descriptor<Builder> {","153","            @Override public String getDisplayName() {return \"B1\";}","154","        }","155","    }","156","","157","    @Ignore(\"never worked: TypePair.convertJSON looks for @DataBoundConstructor on D3 (Stapler does not grok Descriptor)\")","158","    @Issue(\"JENKINS-28110\")","159","    @Test public void nestedDescribableSharingClass() throws Exception {","160","        FreeStyleProject p = rule.createFreeStyleProject(\"p\");","161","        p.getBuildersList().add(new B2(Arrays.asList(new D3(\"d3a\"), new D3(\"d3b\"))));","162","        rule.configRoundtrip(p);","163","        rule.assertLogContains(\"[d3a, d3b]\", rule.buildAndAssertSuccess(p));","164","    }","165","    public static class D3 implements Describable<D3> {","166","        private final String id;","167","        D3(String id) {","168","            this.id = id;","169","        }","170","        @Override public String toString() {","171","            return id;","172","        }","173","        @Override public Descriptor<D3> getDescriptor() {","174","            return Jenkins.getInstance().getDescriptorByName(id);","175","        }","176","    }","177","    public static class D3D extends Descriptor<D3> {","178","        private final String id;","179","        public D3D(String id) {","180","            super(D3.class);","181","            this.id = id;","182","        }","183","        @Override public String getId() {","184","            return id;","185","        }","186","        @Override public D3 newInstance(StaplerRequest req, JSONObject formData) throws Descriptor.FormException {","187","            return new D3(id);","188","        }","189","        @Override public String getDisplayName() {","190","            return id;","191","        }","192","    }","193","    @TestExtension(\"nestedDescribableSharingClass\") public static final Descriptor<D3> d3a = new D3D(\"d3a\");","194","    @TestExtension(\"nestedDescribableSharingClass\") public static final Descriptor<D3> d3b = new D3D(\"d3b\");","195","    public static class B2 extends Builder {","196","        public final List<D3> ds;","197","        @DataBoundConstructor public B2(List<D3> ds) {","198","            this.ds = ds;","199","        }","200","        @Override public boolean perform(AbstractBuild<?,?> build, Launcher launcher, BuildListener listener) throws InterruptedException, IOException {","201","            listener.getLogger().println(ds);","202","            return true;","203","        }","204","        @TestExtension(\"nestedDescribableSharingClass\") public static class DescriptorImpl extends Descriptor<Builder> {","205","            @Override public String getDisplayName() {return \"B2\";}","206","        }","207","    }","208",""],"delete":[]}],"test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/D3\/config.jelly":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/B1\/config.jelly":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/hudson\/model\/DescriptorTest\/B2\/config.jelly":[{"add":[],"delete":[]}]}},"6f87e61ebe6ecd3dfdff217aea2b05336de29c47":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/ballColorTd.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/ballColorTd.jelly":[{"add":["36","      <j:set var=\"iconClassName\" value=\"${it.iconClassName}\"\/>","37","      <j:if test=\"${iconClassName == null}\">","38","        <j:set var=\"iconClassName\" value=\"${icons.toNormalizedIconNameClass(it.image)}\"\/>","39","      <\/j:if>","40","","41","      <j:choose>","42","        <j:when test=\"${iconClassName != null}\">","43","          <l:icon class=\"${iconClassName} ${iconSizeClass}\" alt=\"${it.description}\"","44","               tooltip=\"${it.description}\" style=\"${attrs.style}\" \/>","45","        <\/j:when>","46","        <j:otherwise>","47","          <!-- \"it\" is not a hudson.model.BallColor.  Let's try figure out the icon from its URL.  -->","48","          <j:set var=\"iconUrl\" value=\"${it.getImageOf(iconSize)}\"\/>","49","          <j:if test=\"${iconUrl.startsWith(imagesURL)}\">","50","            <!-- Normalize the icon URL  -->","51","            <j:set var=\"iconUrl\" value=\"${iconUrl.substring(imagesURL.length() + 1)}\"\/>","52","          <\/j:if>","53","","54","          <!-- See if we can get an Icon def from the URL  -->","55","          <j:set var=\"icon\" value=\"${icons.getIconByUrl(iconUrl)}\"\/>","56","          <j:choose>","57","            <j:when test=\"${icon != null}\">","58","              <!-- We found the Icon def -->","59","              <l:icon class=\"${icon.classSpec}\" alt=\"${it.description}\" tooltip=\"${it.description}\" style=\"${attrs.style}\" \/>","60","            <\/j:when>","61","            <j:otherwise>","62","              <!-- We don't seem to have this icon in the IconSet... fallback again... -->","63","              <j:set var=\"iconUrl\" value=\"${it.getImageOf(iconSize)}\"\/>","64","              <l:icon src=\"${iconUrl}\" alt=\"${it.description}\" tooltip=\"${it.description}\" style=\"${attrs.style}\" \/>","65","            <\/j:otherwise>","66","          <\/j:choose>","67","        <\/j:otherwise>","68","      <\/j:choose>"],"delete":["36","      <l:icon class=\"${it.iconClassName} ${iconSizeClass}\" alt=\"${it.description}\"","37","           tooltip=\"${it.description}\" style=\"${attrs.style}\" \/>"]}]}},"ca6d47c5c23a2b6e2c9721bbdf7f663a6006ca8b":{"changes":{"core\/src\/main\/java\/hudson\/util\/ProcessTree.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/ProcessTree.java":[{"add":["45","import java.io.BufferedReader;","46","import java.io.ByteArrayOutputStream;","47","import java.io.DataInputStream;","48","import java.io.File;","49","import java.io.FileFilter;","50","import java.io.FileReader;","51","import java.io.IOException;","52","import java.io.InputStream;","53","import java.io.RandomAccessFile;","54","import java.io.Serializable;","185","            } catch (IOException | Error e) {","186","                LOGGER.log(Level.WARNING, \"Failed to obtain killers\", e);","242","                    if (killer.kill(this)) {","244","                    }","245","                } catch (IOException | Error e) {","246","                    LOGGER.log(Level.WARNING, \"Failed to kill pid=\" + getPid(), e);"],"delete":["45","import java.io.*;","66","import static java.util.logging.Level.FINE;","177","            } catch (IOException e) {","178","                LOGGER.log(Level.WARNING, \"Failed to obtain killers\",e);","234","                    if (killer.kill(this))","236","                } catch (IOException e) {","237","                    LOGGER.log(Level.WARNING, \"Failed to kill pid=\"+getPid(),e);"]}]}},"452f4f1c74dd8369644218cd808a16a6376b728b":{"changes":{"core\/src\/main\/resources\/hudson\/model\/View\/configure.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/View\/configure.jelly":[{"add":["29","  <l:layout norefresh=\"true\" title=\"${%Edit View}\" permission=\"${it.CONFIGURE}\">"],"delete":["29","  <l:layout norefresh=\"true\" title=\"${%Edit View}\">"]}]}},"d1e278b6528aae9b966d724182cbbc2a18489976":{"changes":{"core\/src\/main\/resources\/jenkins\/security\/whitelisted-classes.txt":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/security\/whitelisted-classes.txt":[{"add":["38","java.lang.String$CaseInsensitiveComparator"],"delete":[]}]}},"ad9d191cbcee8928744d375bc13c629bd470329b":{"changes":{"core\/pom.xml":"MODIFY","test\/src\/test\/java\/hudson\/model\/QueueTest.java":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["41","    <stapler.version>1.235-20150312.163208-1<\/stapler.version>"],"delete":["41","    <stapler.version>1.234<\/stapler.version>"]}],"test\/src\/test\/java\/hudson\/model\/QueueTest.java":[{"add":["28","import com.gargoylesoftware.htmlunit.xml.XmlPage;","424","    @Issue(\"JENKINS-27256\")","425","    @Test public void inQueueTaskLookupByAPI() throws Exception {","426","        FreeStyleProject p = r.createFreeStyleProject();","427","        Label label = Label.get(\"unknown-slave\");","428","","429","        \/\/ Give the project an \"unknown-slave\" label, forcing it to","430","        \/\/ stay in the queue after we schedule it, allowing us to query it.","431","        p.setAssignedLabel(label);","432","        p.scheduleBuild2(0);","433","","434","        JenkinsRule.WebClient webclient = r.createWebClient();","435","","436","        XmlPage queueItems = webclient.goToXml(\"queue\/api\/xml\");","437","        String queueTaskId = queueItems.getXmlDocument().getElementsByTagName(\"id\").item(0).getTextContent();","438","        assertNotNull(queueTaskId);","439","        XmlPage queueItem = webclient.goToXml(\"queue\/item\/\" + queueTaskId + \"\/api\/xml\");","440","        assertNotNull(queueItem);","441","        String tagName = queueItem.getDocumentElement().getTagName();","442","        assertTrue(tagName.equals(\"blockedItem\") || tagName.equals(\"buildableItem\"));","443","    }","444",""],"delete":[]}]}},"026b03104b64189ebdcca2e7d1a869be77f7269d":{"changes":{"core\/src\/main\/resources\/hudson\/views\/MyViewsTabBar\/GlobalConfigurationImpl\/config.groovy":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/views\/MyViewsTabBar\/GlobalConfigurationImpl\/config.groovy":[{"add":["2","import hudson.views.MyViewsTabBar","6","def all = MyViewsTabBar.all()"],"delete":["2","import hudson.views.ViewsTabBar","6","def all = ViewsTabBar.all()"]}]}},"d0f84c2e5314eb1f6448f0aa325e75adbfba020c":{"changes":{"core\/src\/main\/java\/hudson\/Util.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Util.java":[{"add":["64","import java.util.concurrent.TimeUnit;","1139","            Class<?> fileAlreadyExistsExceptionC = Class.forName(\"java.nio.file.FileAlreadyExistsException\");","1140","","1142","            final int maxNumberOfTries = 4;","1143","            final int timeInMillis = 100;","1144","            for (int tryNumber = 1; tryNumber <= maxNumberOfTries; tryNumber++) {","1145","                filesC.getMethod(\"deleteIfExists\", pathC).invoke(null, path);","1146","                try {","1147","                    filesC.getMethod(\"createSymbolicLink\", pathC, pathC, noAttrs.getClass()).invoke(null, path, target, noAttrs);","1148","                    break;","1149","                }","1150","                catch (Exception x) {","1151","                    if (fileAlreadyExistsExceptionC.isInstance(x)) {","1152","                        if(tryNumber < maxNumberOfTries) {","1153","                            TimeUnit.MILLISECONDS.sleep(timeInMillis); \/\/trying to defeat likely ongoing race condition","1154","                            continue;","1155","                        }","1156","                        LOGGER.warning(\"symlink FileAlreadyExistsException thrown \"+maxNumberOfTries+\" times => cannot createSymbolicLink\");","1157","                    }","1158","                    throw x;","1159","                }","1160","            }"],"delete":["1138","            filesC.getMethod(\"deleteIfExists\", pathC).invoke(null, path);","1140","            filesC.getMethod(\"createSymbolicLink\", pathC, pathC, noAttrs.getClass()).invoke(null, path, target, noAttrs);"]}]}},"815da8aa732baa699481828dda67dd5835ba4992":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["183","        <version>3.5<\/version>"],"delete":["183","        <version>3.4.1<\/version>"]}]}},"84e8d011805194578d3b3ccfca060ce5cffbf7eb":{"changes":{"core\/src\/main\/java\/hudson\/search\/CollectionSearchIndex.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/search\/CollectionSearchIndex.java":[{"add":["54","        boolean isCaseSensitive = UserSearchProperty.isCaseInsensitive();","55","        if(isCaseSensitive){","61","            if(isCaseSensitive)"],"delete":["54","        if(UserSearchProperty.isCaseInsensitive()){ ","60","            if(UserSearchProperty.isCaseInsensitive())"]}],"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["376","","377","        \/\/ Since we already know this is a name, we can just call getOrCreate with the name directly.","378","        String id = a.getName();","379","        return getOrCreate(id, id, true);"],"delete":["376","        return get(a.getName());"]}]}},"505e422e85e2f76d5d0a2b8863e3e294acbe8f57":{"changes":{"core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["738","     * Gets the artifacts (relative to {@link #getArtifactsDir()}.","790","    \/**","791","     * Maximum number of artifacts to list before using switching to the tree view.","792","     *\/","793","    public static final int LIST_CUTOFF = Integer.parseInt(System.getProperty(\"hudson.model.Run.ArtifactList.listCutoff\", \"16\"));","794","","795","    \/**","796","     * Maximum number of artifacts to show in tree view before just showing a link.","797","     *\/","798","    public static final int TREE_CUTOFF = Integer.parseInt(System.getProperty(\"hudson.model.Run.ArtifactList.treeCutoff\", \"40\"));","799","","800","    \/\/ ..and then \"too many\""],"delete":["738","     * Gets the first {@value #TREE_CUTOFF} artifacts (relative to {@link #getArtifactsDir()}.","766","            if(r.size()>TREE_CUTOFF)","767","                return;","792","    public static final int","793","        LIST_CUTOFF = Integer.parseInt(System.getProperty(\"hudson.model.Run.ArtifactList.listCutoff\", \"16\")),","794","        TREE_CUTOFF = Integer.parseInt(System.getProperty(\"hudson.model.Run.ArtifactList.treeCutoff\", \"40\"));","795","        \/\/ ..and then \"too many\""]}]}},"896d84e9dce86ce3f4ba55af8523e985b282f3cc":{"changes":{"war\/resources\/scripts\/hudson-behavior.js":"MODIFY","core\/src\/main\/resources\/hudson\/model\/View\/newJob.jelly":"MODIFY","core\/src\/main\/resources\/lib\/form\/textbox.jelly":"MODIFY"},"diff":{"war\/resources\/scripts\/hudson-behavior.js":[{"add":["88","    var checker = function() {","97","    var oldOnchange = e.onchange;","98","    if(typeof oldOnchange==\"function\") {","99","        e.onchange = function() { checker.call(this); oldOnchange.call(this); }","100","    } else","101","        e.onchange = checker; ","102","    e.onblur = checker;","103",""],"delete":["88","    e.onchange = e.onblur = function() {"]}],"core\/src\/main\/resources\/hudson\/model\/View\/newJob.jelly":[{"add":["8","        <s:entry title=\"Job name\">","9","\t\t      <s:textbox id=\"name\" name=\"name\" checkUrl=\"'${rootURL}\/itemExistsCheck?value='+escape(this.value)\" onchange=\"updateOk(this.form)\" \/>","17","            <input type=\"radio\" name=\"mode\" value=\"${d.displayName}\" onchange=\"updateOk(this.form)\" onclick=\"updateOk(this.form)\" id=\"${id}\" \/>","27","          <input type=\"radio\" name=\"mode\" value=\"copyJob\" onchange=\"updateOk(this.form)\" onclick=\"updateOk(this.form)\" id=\"${id}\"\/>","39","      <\/s:form>","40","      <script><![CDATA[","41","        function updateOk(form) {","42","          function state() {","43","            if($('name').value.length==0)   return true;","44","            var radio = form.elements['mode'];","45","            for(i=0;i<radio.length;i++)","46","              if(radio[i].checked)","47","                return false;","48","            return true;","49","          }","50","","51","          $('ok').disabled = state()","52","        }","53","        updateOk($('ok').form);ext","54","      ]]><\/script>","55","    <\/l:main-panel>"],"delete":["8","\t\t    <s:entry title=\"Job name\">","9","\t\t      <s:textbox id=\"name\" name=\"name\" checkUrl=\"'${rootURL}\/itemExistsCheck?value='+escape(this.value)\" \/>","17","            <input type=\"radio\" name=\"mode\" value=\"${d.displayName}\" onchange=\"$('ok').disabled=false\" onclick=\"$('ok').disabled=false\" id=\"${id}\" \/>","27","          <input type=\"radio\" name=\"mode\" value=\"copyJob\" onchange=\"$('ok').disabled=false\" onclick=\"$('ok').disabled=false\" id=\"${id}\"\/>","39","\t\t  <\/s:form>","40","\t\t<\/l:main-panel>"]}],"core\/src\/main\/resources\/lib\/form\/textbox.jelly":[{"add":["5","         type=\"text\" value=\"${attrs.value}\" checkUrl=\"${attrs.checkUrl}\" checkMethod=\"${attrs.checkMethod}\" onchange=\"${attrs.onchange}\"\/>"],"delete":["5","         type=\"text\" value=\"${attrs.value}\" checkUrl=\"${attrs.checkUrl}\" checkMethod=\"${attrs.checkMethod}\"\/>"]}]}},"a2c208868976025ce167e2a76c0cafee6c544689":{"changes":{"core\/src\/main\/java\/hudson\/os\/windows\/ManagedWindowsServiceLauncher.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/os\/windows\/ManagedWindowsServiceLauncher.java":[{"add":["269","            \/\/destroy session to free the socket\t","270","            JISession.destroySession(session);","319","            \/\/destroy session to free the socket\t","320","            JISession.destroySession(session);"],"delete":[]}]}},"1d869228d46c83f9fe450d5260e64ed329fd3c51":{"changes":{"core\/src\/main\/resources\/hudson\/atom.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/atom.jelly":[{"add":["1","  <st:contentType value=\"application\/atom+xml;charset=UTF-8\" \/>"],"delete":["1","  <st:contentType value=\"text\/xml;charset=UTF-8\" \/>"]}]}},"23ade1cda500047d6cc229206f8132c4cb1a6ccc":{"changes":{"test\/src\/test\/resources\/hudson\/matrix\/MatrixProjectTest\/testUpgrade\/jobs\/x\/config.xml":"ADD","core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":"MODIFY","test\/src\/test\/groovy\/hudson\/matrix\/MatrixProjectTest.groovy":"MODIFY","changelog.html":"MODIFY","test\/src\/test\/resources\/hudson\/matrix\/MatrixProjectTest\/testUpgrade\/config.xml":"ADD"},"diff":{"test\/src\/test\/resources\/hudson\/matrix\/MatrixProjectTest\/testUpgrade\/jobs\/x\/config.xml":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":[{"add":["473","            executionStrategy = new DefaultMatrixExecutionStrategyImpl(runSequentially != null ? runSequentially : false, touchStoneCombinationFilter, touchStoneResultCondition, sorter);"],"delete":["473","            executionStrategy = new DefaultMatrixExecutionStrategyImpl(runSequentially,touchStoneCombinationFilter,touchStoneResultCondition,sorter);"]}],"test\/src\/test\/groovy\/hudson\/matrix\/MatrixProjectTest.groovy":[{"add":["37","import org.jvnet.hudson.test.recipes.LocalData;","434","","435","    @Bug(15271)","436","    @LocalData","437","    public void testUpgrade() throws Exception {","438","        MatrixProject p = jenkins.getItemByFullName(\"x\", MatrixProject.class);","439","        assertNotNull(p);","440","        MatrixExecutionStrategy executionStrategy = p.getExecutionStrategy();","441","        assertEquals(DefaultMatrixExecutionStrategyImpl.class, executionStrategy.getClass());","442","        DefaultMatrixExecutionStrategyImpl defaultExecutionStrategy = (DefaultMatrixExecutionStrategyImpl) executionStrategy;","443","        assertFalse(defaultExecutionStrategy.isRunSequentially());","444","        assertNull(defaultExecutionStrategy.getTouchStoneCombinationFilter());","445","        assertNull(defaultExecutionStrategy.getTouchStoneResultCondition());","446","        assertNull(defaultExecutionStrategy.getSorter());","447","    }","448",""],"delete":[]}],"changelog.html":[{"add":["60","  <li class=bug>","64","    NPE in <code>MatrixProject.onLoad<\/code>.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15271\">issue 15271<\/a>)","66","  <li class=bug>"],"delete":[]}],"test\/src\/test\/resources\/hudson\/matrix\/MatrixProjectTest\/testUpgrade\/config.xml":[{"add":[],"delete":[]}]}},"8a330acc5eba2697a671d5d6c13d7d7cb90e723e":{"changes":{"test\/src\/test\/java\/jenkins\/model\/ParameterizedJobMixInTest.java":"ADD"},"diff":{"test\/src\/test\/java\/jenkins\/model\/ParameterizedJobMixInTest.java":[{"add":[],"delete":[]}]}},"fbba0cc01eeb1c9d7c412a6e7b76c588cd36c332":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["102","  <li class=bug>","103","    Maven module links in the module list page are broken.","104","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-17713\">issue 17713<\/a>)","105","  <li class='major bug'>","106","    100% CPU pegging in <tt>Deflator.deflateBytes<\/tt>","107","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-14362\">issue 14362<\/a>)"],"delete":["162","    Maven module links in the module list page are broken.","163","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-17713\">issue 17713<\/a>)","164","  <li class=bug>","167","  <li class='major bug'>","168","    100% CPU pegging in <tt>Deflator.deflateBytes<\/tt>","169","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-14362\">issue 14362<\/a>)"]}]}},"2a1d1631bd4d3e6d37d82295089d70e229ea0548":{"changes":{"core\/src\/main\/java\/hudson\/Util.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/IOUtils.java":"MODIFY","core\/pom.xml":"MODIFY","core\/src\/main\/java\/hudson\/cli\/ClientAuthenticationCache.java":"MODIFY","core\/src\/main\/java\/hudson\/tools\/ZipExtractionInstaller.java":"MODIFY","core\/src\/main\/java\/hudson\/os\/PosixException.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/util\/jna\/GNUCLibrary.java":"MODIFY","core\/src\/main\/java\/hudson\/os\/PosixAPI.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Util.java":[{"add":["42","import jnr.posix.FileStat;","43","import jnr.posix.POSIX;","283","            POSIX posix = PosixAPI.jnr();","1075","                        POSIX posix = PosixAPI.jnr();","1076","                        if (posix.isNative()) {","1077","                            \/\/ XXX should we rethrow PosixException as IOException here?","1078","                            r = posix.symlink(targetPath,symlinkFile.getAbsolutePath());","1084","                    \/\/ XXX is this really necessary? JavaPOSIX should do this automatically","1226","            return PosixAPI.jnr().readlink(filename);"],"delete":["42","import org.jruby.ext.posix.FileStat;","43","import org.jruby.ext.posix.POSIX;","283","            POSIX posix = PosixAPI.get();","1075","                        if (PosixAPI.supportsNative()) {","1076","                            r = PosixAPI.get().symlink(targetPath,symlinkFile.getAbsolutePath());","1223","            return PosixAPI.get().readlink(filename);"]}],"core\/src\/main\/java\/hudson\/util\/IOUtils.java":[{"add":["124","        return PosixAPI.jnr().stat(f.getPath()).mode();"],"delete":["124","        return PosixAPI.get().stat(f.getPath()).mode();"]}],"core\/pom.xml":[{"add":["114","    <dependency> <!-- for compatibility only; all new code should use JNR -->","120","      <groupId>com.github.jnr<\/groupId>","121","      <artifactId>jnr-posix<\/artifactId>","122","      <version>3.0.0<\/version>","123","    <\/dependency>","124","    <dependency>"],"delete":["114","    <dependency>"]}],"core\/src\/main\/java\/hudson\/cli\/ClientAuthenticationCache.java":[{"add":["120","                PosixAPI.jnr().chmod(f.getAbsolutePath(),0600);"],"delete":["120","                PosixAPI.get().chmod(f.getAbsolutePath(),0600);"]}],"core\/src\/main\/java\/hudson\/tools\/ZipExtractionInstaller.java":[{"add":["139","                        PosixAPI.jnr().chmod(f.getAbsolutePath(),0755);"],"delete":["139","                        PosixAPI.get().chmod(f.getAbsolutePath(),0755);"]}],"core\/src\/main\/java\/hudson\/os\/PosixException.java":[{"add":["6"," * @see PosixAPI","17","    \/** @deprecated Leaks reference to deprecated jna-posix API. *\/","18","    @Deprecated"],"delete":["6"," *"]}],"changelog.html":[{"add":["63","  <li class=bug>","64","    Using JNR-POSIX rather than JNA-POSIX for better platform support.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-14351\">issue 14351<\/a>)"],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/jna\/GNUCLibrary.java":[{"add":["32","import hudson.os.PosixAPI;","33","import jnr.posix.POSIX;","42"," * <p>Consider deprecating all methods present also in {@link POSIX} (as obtained by {@link PosixAPI#jnr})."],"delete":["40"," *"]}],"core\/src\/main\/java\/hudson\/os\/PosixAPI.java":[{"add":["7","import jnr.constants.platform.Errno;","8","import jnr.posix.POSIX;","9","import jnr.posix.POSIXFactory;","10","import jnr.posix.util.DefaultPOSIXHandler;","14"," * Formerly used the jna-posix library, but this has been superseded by jnr-posix.","18","","19","    private static POSIX posix;","20","    ","21","    \/**","22","     * Load the JNR implementation of the POSIX APIs for the current platform.","23","     * Runtime exceptions will be of type {@link PosixException}.","24","     * @return some implementation (even on Windows or unsupported Unix)","25","     * @since 1.518","26","     *\/","27","    public static synchronized POSIX jnr() {","28","        if (posix == null) {","29","            posix = POSIXFactory.getPOSIX(new DefaultPOSIXHandler() {","30","                @Override public void error(Errno error, String extraData) {","31","                    throw new PosixException(\"native error \" + error.description() + \" \" + extraData, convert(error));","32","                }","33","                @Override public void error(Errno error, String methodName, String extraData) {","34","                    throw new PosixException(\"native error calling \" + methodName + \": \" + error.description() + \" \" + extraData, convert(error));","35","                }","36","                private org.jruby.ext.posix.POSIX.ERRORS convert(Errno error) {","37","                    try {","38","                        return org.jruby.ext.posix.POSIX.ERRORS.valueOf(error.name());","39","                    } catch (IllegalArgumentException x) {","40","                        return org.jruby.ext.posix.POSIX.ERRORS.EIO; \/\/ PosixException.message has real error anyway","41","                    }","42","                }","43","            }, true);","44","        }","49","     * @deprecated use {@link #jnr} and {@link POSIX#isNative}","51","    @Deprecated","57","     * @deprecated use {@link #jnr} and {@link POSIX#isNative}","59","    @Deprecated","61","        return !(jnaPosix instanceof org.jruby.ext.posix.JavaPOSIX);","63","","64","    private static org.jruby.ext.posix.POSIX jnaPosix;","65","    \/** @deprecated Use {@link #jnr} instead. *\/","66","    @Deprecated","67","    public static synchronized org.jruby.ext.posix.POSIX get() {","68","        if (jnaPosix == null) {","69","            jnaPosix = org.jruby.ext.posix.POSIXFactory.getPOSIX(new org.jruby.ext.posix.POSIXHandler() {","70","        public void error(org.jruby.ext.posix.POSIX.ERRORS errors, String s) {","118","        }","119","        return jnaPosix;","120","    }"],"delete":["2","import org.jruby.ext.posix.JavaPOSIX;","3","import org.jruby.ext.posix.POSIX;","4","import org.jruby.ext.posix.POSIXFactory;","5","import org.jruby.ext.posix.POSIXHandler;","6","import org.jruby.ext.posix.POSIX.ERRORS;","7","","16"," * ","20","    public static POSIX get() {","25","     * @deprecated as of 1.448","26","     *      Use {@link #supportsNative()}.","33","     * Determine if the jna-posix library could not provide native support, and","34","     * used a fallback java implementation which does not support many operations.","37","        return !(posix instanceof JavaPOSIX);","39","    ","40","    private static final POSIX posix = POSIXFactory.getPOSIX(new POSIXHandler() {","41","        public void error(ERRORS errors, String s) {"]}]}},"3e29bd7eff12d73a9b49c1d6039dc6d0699db15a":{"changes":{"core\/src\/main\/java\/hudson\/model\/ItemGroupMixIn.java":"MODIFY","test\/src\/test\/resources\/hudson\/model\/ItemGroupMixInTest\/xmlFileReadExceptionOnLoad.zip":"ADD","test\/src\/test\/java\/hudson\/model\/ItemGroupMixInTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ItemGroupMixIn.java":[{"add":["118","            } catch (Exception e) {","119","                Logger.getLogger(ItemGroupMixIn.class.getName()).log(Level.WARNING, \"could not load \" + subdir, e);"],"delete":[]}],"test\/src\/test\/resources\/hudson\/model\/ItemGroupMixInTest\/xmlFileReadExceptionOnLoad.zip":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/model\/ItemGroupMixInTest.java":[{"add":["28","import hudson.Extension;","29","import hudson.tasks.BuildWrapper;","30","import hudson.tasks.BuildWrapperDescriptor;","31","import org.apache.commons.io.FileUtils;","35","import org.jvnet.hudson.test.Issue;","40","import java.io.File;","41","","56","  \/**","57","   * This test unit makes sure that if part of the config.xml file is","58","   * deleted it will still load everything else inside the folder.","59","   * The test unit expects an IOException is thrown, and the one failed","60","   * job fails to load.","61","   *\/","62","  @Issue(\"JENKINS-22811\")","63","  @Test","64","  public void xmlFileFailsToLoad() throws Exception {","65","    MockFolder folder = r.createFolder(\"folder\");","66","    assertNotNull(folder);","67","","68","    AbstractProject project = folder.createProject(FreeStyleProject.class, \"job1\");","69","    AbstractProject project2 = folder.createProject(FreeStyleProject.class, \"job2\");","70","    AbstractProject project3 = folder.createProject(FreeStyleProject.class, \"job3\");","71","","72","    File configFile = project.getConfigFile().getFile();","73","","74","    List<String> lines = FileUtils.readLines(configFile).subList(0, 5);","75","    configFile.delete();","76","","77","    \/\/ Remove half of the config.xml file to make \"invalid\" or fail to load","78","    FileUtils.writeByteArrayToFile(configFile, lines.toString().getBytes());","79","    for (int i = lines.size() \/ 2; i < lines.size(); i++) {","80","      FileUtils.writeStringToFile(configFile, lines.get(i), true);","81","    }","82","","83","    \/\/ Reload Jenkins.","84","    r.jenkins.reload();","85","","86","    \/\/ Folder","87","    assertNotNull(\"Folder failed to load.\", folder);","88","    assertNull(\"Job should have failed to load.\", r.jenkins.getItemByFullName(\"folder\/job1\"));","89","    assertNotNull(\"Other job in folder should have loaded.\", r.jenkins.getItemByFullName(\"folder\/job2\"));","90","    assertNotNull(\"Other job in folder should have loaded.\", r.jenkins.getItemByFullName(\"folder\/job3\"));","91","  }","92","","93","  \/**","94","   * This test unit makes sure that any exception that is thrown is caught, however the folder","95","   * will continue to load not impacting any other jobs in the folder.","96","   *\/","97","  @LocalData","98","  @Issue(\"JENKINS-22811\")","99","  @Test","100","  public void xmlFileReadExceptionOnLoad() throws Exception {","101","    MockFolder d = r.jenkins.getItemByFullName(\"d\", MockFolder.class);","102","    assertNotNull(d);","103","    Collection<TopLevelItem> items = d.getItems();","104","    assertEquals(1, items.size());","105","    assertEquals(\"valid\", items.iterator().next().getName());","106","  }","107","","108","  @Extension","109","  public static class MockBuilderThrowsError extends BuildWrapper {","110","    @Override","111","    public Collection<? extends Action> getProjectActions(AbstractProject project){","112","      throw new NullPointerException();","113","    }","114","","115","    @Extension","116","    public static class DescriptorImpl extends BuildWrapperDescriptor {","117","      @Override","118","      public boolean isApplicable(AbstractProject<?, ?> item) {","119","        return true;","120","      }","121","","122","      @Override","123","      public String getDisplayName() {","124","        return null;","125","      }","126","    }","127","  }"],"delete":[]}]}},"f347a6dd0047a11c99d6f97b6810f0875dde1d0f":{"changes":{"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/HudsonTestCase.java":"MODIFY"},"diff":{"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/HudsonTestCase.java":[{"add":["30","import java.util.Locale;","257","","258","    static {","259","        Locale.setDefault(Locale.ENGLISH);","260","    }"],"delete":[]}]}},"2ff7a905ac866aac5aea7aae0cb97ee8906b5829":{"changes":{"core\/src\/main\/java\/jenkins\/model\/PeepholePermalink.java":"MODIFY","core\/src\/test\/java\/jenkins\/model\/PeepholePermalinkTest.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/PeepholePermalink.java":[{"add":["16","import java.util.HashMap;","17","import java.util.Map;","20","import javax.annotation.Nonnull;","21","import javax.annotation.Nullable;","22","import org.apache.commons.io.FileUtils;","62","","63","    \/** JENKINS-22822: avoids rereading symlinks *\/","64","    static final Map<File,String> symlinks = new HashMap<File,String>();","65","","146","            writeSymlink(cache, target);","163","        synchronized (symlinks) {","164","            String target = symlinks.get(cache);","165","            if (target != null) {","166","                LOGGER.log(Level.FINE, \"readSymlink cached {0} ? {1}\", new Object[] {cache, target});","167","                return target;","168","            }","169","        }","175","        LOGGER.log(Level.FINE, \"readSymlink {0} ? {1}\", new Object[] {cache, target});","176","        synchronized (symlinks) {","177","            symlinks.put(cache, target);","178","        }","183","        LOGGER.log(Level.FINE, \"writeSymlink {0} ? {1}\", new Object[] {cache, target});","184","        synchronized (symlinks) {","185","            symlinks.put(cache, target);","186","        }"],"delete":["12","import org.apache.commons.io.FileUtils;","13","","14","import javax.annotation.Nonnull;","15","import javax.annotation.Nullable;","141","            writeSymlink(cache, String.valueOf(n));"]}],"core\/src\/test\/java\/jenkins\/model\/PeepholePermalinkTest.java":[{"add":["41","        PeepholePermalink.symlinks.clear(); \/\/ so we actually test the filesystem"],"delete":[]}],"changelog.html":[{"add":["61","    Avoid repeatedly reading symlinks from disk to resolve build permalinks.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-22822\">issue 22822<\/a>)","63","  <li class=\"bug\">"],"delete":[]}]}},"d3775fe7aba51c41f0322a2ef7e53e3d17f597b8":{"changes":{"core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["433","            truncDesc = truncDesc.substring(0, lastTruncatablePoint) + ending;","436","        return truncDesc;"],"delete":["433","            truncDesc = truncDesc.substring(0, lastTruncatablePoint);","436","        return truncDesc + ending;"]}]}},"c0fef8664fed589ded65bddc1a755984264dc198":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["556","      <version>1.8<\/version>"],"delete":["556","      <version>1.7<\/version>"]}]}},"bf9c475fe6b559e7088946153052870d57a5c668":{"changes":{"core\/src\/main\/java\/hudson\/model\/Slave.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Slave.java":[{"add":["144","        this.remoteFS = Util.fixNull(remoteFS).trim();","369","                        \"Note that this directory does not need to be visible to the master.\");","377","\/\/ backward compatibility"],"delete":["144","        this.remoteFS = remoteFS;","369","                        \"Note that this directory needs not be visible to the master.\");","377","\/\/ backwrad compatibility"]}]}},"051b0016c4500b317c904b88eb6398b13538f218":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["60","  <li class=bug>","61","      Incorrect display of list items in project changes for SCMs such as Mercurial.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-14365\">issue 14365<\/a>)"],"delete":[]}]}},"60085a0f10409265aa6d028ed5ae9a3b7b9e30f2":{"changes":{"core\/src\/main\/java\/hudson\/util\/AbstractTaskListener.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/LogTaskListener.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/StreamTaskListener.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/AbstractTaskListener.java":[{"add":["2","import hudson.RestrictedSince;","4","import org.kohsuke.accmod.Restricted;","5","import org.kohsuke.accmod.restrictions.NoExternalUse;","12","@Restricted(NoExternalUse.class)","13","@RestrictedSince(\"2.91\")"],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/LogTaskListener.java":[{"add":["37","\/\/ TODO: AbstractTaskListener is empty now, but there are dependencies on that e.g. Ruby Runtime - JENKINS-48116)","38","\/\/ The change needs API deprecation policy or external usages cleanup.","39","","43","public class LogTaskListener extends AbstractTaskListener implements TaskListener, Closeable {"],"delete":["40","public class LogTaskListener implements TaskListener, Closeable {"]}],"core\/src\/main\/java\/hudson\/util\/StreamTaskListener.java":[{"add":["46","\/\/ TODO: AbstractTaskListener is empty now, but there are dependencies on that e.g. Ruby Runtime - JENKINS-48116)","47","\/\/ The change needs API deprecation policy or external usages cleanup.","48","","57","public class StreamTaskListener extends AbstractTaskListener implements TaskListener, Closeable {"],"delete":["54","public class StreamTaskListener implements TaskListener, Closeable {"]}]}},"e7462a1bc3b2ebe07dd57e98a8d6ae405bd69c62":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["91","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-20630\">issue 20630<\/a>)"],"delete":["91","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26030\">issue 26030<\/a>)"]}]}},"f6d20fa8f37da61095cb5bc686dfcb5d2176be74":{"changes":{"core\/src\/main\/resources\/lib\/form\/hetero-radio.jelly":"MODIFY","core\/src\/main\/resources\/lib\/form\/password.jelly":"MODIFY","core\/src\/main\/resources\/lib\/form\/enum.jelly":"MODIFY","core\/src\/main\/resources\/lib\/form\/booleanRadio.jelly":"MODIFY","core\/src\/main\/resources\/lib\/form\/number.jelly":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/resources\/lib\/form\/editableComboBox.jelly":"MODIFY","core\/src\/main\/resources\/lib\/form\/combobox.jelly":"MODIFY","core\/src\/main\/resources\/lib\/form\/select.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/hetero-radio.jelly":[{"add":["55","  <!-- TODO consider customizedFields -->"],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/password.jelly":[{"add":["61","  <!-- TODO consider customizedFields -->"],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/enum.jelly":[{"add":["42","  <!-- TODO consider customizedFields -->","43","<\/j:jelly>"],"delete":["42","<\/j:jelly>"]}],"core\/src\/main\/resources\/lib\/form\/booleanRadio.jelly":[{"add":["45","  <!-- TODO consider customizedFields -->\r","46","<\/j:jelly>\r"],"delete":["45","<\/j:jelly>"]}],"core\/src\/main\/resources\/lib\/form\/number.jelly":[{"add":["77","  <!-- TODO consider customizedFields -->"],"delete":[]}],"changelog.html":[{"add":["60","  <li class=rfe>","61","    Annotate the Advanced section if some fields are already customized.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-3107\">issue 3107<\/a>)"],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/editableComboBox.jelly":[{"add":["60","  <!-- TODO consider customizedFields -->"],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/combobox.jelly":[{"add":["54","  <!-- TODO consider customizedFields -->"],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/select.jelly":[{"add":["58","  <!-- TODO consider customizedFields -->"],"delete":[]}]}},"d56ba241ea4206bea0b2c4aa1178f8e3d46577f4":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["44","    <stapler.version>1.199<\/stapler.version>"],"delete":["44","    <stapler.version>1.198<\/stapler.version>"]}],"changelog.html":[{"add":["58","    JENKINS_HOME can be now on UNC path (like \\\\server\\mount\\dir)","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-9615\">issue 9615<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"f8dd58425f54e27f5bf74a0bb769c50cbb96bc08":{"changes":{"core\/src\/main\/java\/jenkins\/triggers\/ReverseBuildTrigger.java":"MODIFY","test\/src\/test\/java\/jenkins\/triggers\/ReverseBuildTriggerTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/triggers\/ReverseBuildTrigger.java":[{"add":["172","        for (AbstractProject upstream : Items.fromNameList(downstream.getParent(), Util.fixNull(upstreamProjects), AbstractProject.class)) {","255","                            Items.fromNameList(downstream.getParent(), Util.fixNull(trigger.upstreamProjects), Job.class);","312","                                Items.computeRelativeNamesAfterRenaming(oldFullName, newFullName,","313","                                        Util.fixNull(t.upstreamProjects), p.getParent());"],"delete":["172","        for (AbstractProject upstream : Items.fromNameList(downstream.getParent(), upstreamProjects, AbstractProject.class)) {","255","                            Items.fromNameList(downstream.getParent(), trigger.upstreamProjects, Job.class);","312","                                Items.computeRelativeNamesAfterRenaming(oldFullName, newFullName, t.upstreamProjects,","313","                                        p.getParent());"]}],"test\/src\/test\/java\/jenkins\/triggers\/ReverseBuildTriggerTest.java":[{"add":["211","","212","    @Issue(\"JENKINS-45909\")","213","    @Test","214","    public void nullUpstreamProjectsNoNPE() throws Exception {","215","        \/\/job with trigger.upstreamProjects == null","216","        final FreeStyleProject downstreamJob1 = r.createFreeStyleProject(\"downstream1\");","217","        ReverseBuildTrigger trigger = new ReverseBuildTrigger(null);","218","        downstreamJob1.addTrigger(trigger);","219","        downstreamJob1.save();","220","        r.configRoundtrip(downstreamJob1);","221","","222","        \/\/ The reported issue was with Pipeline jobs, which calculate their dependency graphs via","223","        \/\/ ReverseBuildTrigger.RunListenerImpl, so an additional test may be needed downstream.","224","        trigger.buildDependencyGraph(downstreamJob1, Jenkins.getInstance().getDependencyGraph());","225","    }"],"delete":[]}]}},"4f0bd429ed54d416d3c3199da4f67633d61cbaa7":{"changes":{"core\/src\/main\/java\/hudson\/cli\/BuildCommand.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/cli\/BuildCommand.java":[{"add":["27","import hudson.model.Cause.UserIdCause;","143","    public static class CLICause extends UserIdCause {","148","    \t\tstartedBy = \"unknown\";","155","        @Override"],"delete":["27","import hudson.model.Cause;","143","    public static class CLICause extends Cause {","148","    \t\tstartedBy = \"unknown\"; "]}]}},"703fd0e8e2239df181419cf927bc638eb74d12b3":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["674","      <version>1.2<\/version>"],"delete":["674","      <version>1.1<\/version>"]}]}},"e685b604eeeed9c48bee2f728c3ecec3303e5c56":{"changes":{"core\/src\/main\/java\/hudson\/model\/Executor.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Executor.java":[{"add":["644","        if (d <= 0) {"],"delete":["644","        if (d < 0) {"]}]}},"aac8c239721ed52caacbff389a29d5db2c1e3a00":{"changes":{"core\/src\/main\/resources\/lib\/layout\/progressiveRendering.jelly":"MODIFY","core\/src\/main\/java\/jenkins\/util\/ProgressiveRendering.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/resources\/lib\/layout\/progressiveRendering\/progressiveRendering.js":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/layout\/progressiveRendering.jelly":[{"add":[],"delete":["39","    <j:invoke method=\"start\" on=\"${handler}\"\/>"]}],"core\/src\/main\/java\/jenkins\/util\/ProgressiveRendering.java":[{"add":["37","import java.util.concurrent.ScheduledExecutorService;","38","import java.util.concurrent.TimeUnit;","51","import org.kohsuke.stapler.bind.Bound;","52","import org.kohsuke.stapler.bind.BoundObjectTable;","54","import org.kohsuke.stapler.jelly.BindTag;","86","    private final SecurityContext securityContext;","87","    private final RequestImpl request;","89","    private final String uri;","91","    private BoundObjectTable.Table boundObjectTable;","92","    \/** Unfortunately we cannot get the {@link Bound} that was created for us; it is thrown out by {@link BindTag}. *\/","93","    private String boundId;","97","        securityContext = SecurityContextHolder.getContext();","98","        request = createMockRequest();","99","        uri = request.getRequestURI();","106","    @JavaScriptMethod public final void start() {","107","        Ancestor ancestor = Stapler.getCurrentRequest().findAncestor(BoundObjectTable.class);","108","        if (ancestor == null) {","109","            throw new IllegalStateException(\"no BoundObjectTable\");","110","        }","111","        boundObjectTable = ((BoundObjectTable) ancestor.getObject()).getTable();","112","        boundId = ancestor.getNextToken(0);","113","        LOG.log(Level.FINE, \"starting rendering {0} at {1}\", new Object[] {uri, boundId});","114","        final ExecutorService executorService = executorService();","115","        executorService.submit(new Runnable() {","134","                if (executorService instanceof ScheduledExecutorService) {","135","                    ((ScheduledExecutorService) executorService).schedule(new Runnable() {","136","                        @Override public void run() {","137","                            LOG.log(Level.FINE, \"some time has elapsed since {0} finished, so releasing\", boundId);","138","                            release();","139","                        }","140","                    }, timeout() \/* add some grace period for browser\/network overhead *\/ * 2, TimeUnit.MILLISECONDS);","141","                }","146","    \/** {@link BoundObjectTable#releaseMe} just cannot work the way we need it to. *\/","147","    private void release() {","148","        try {","149","            Method release = BoundObjectTable.Table.class.getDeclaredMethod(\"release\", String.class);","150","            release.setAccessible(true);","151","            release.invoke(boundObjectTable, boundId);","152","        } catch (Exception x) {","153","            LOG.log(Level.WARNING, \"failed to unbind \" + boundId, x);","154","        }","155","    }","156","","181","        LOG.log(Level.FINER, \"mocking ancestors {0} using {1}\", new Object[] {ancestors, getters});","281","        Object statusJSON = status == 1 ? \"done\" : status == CANCELED ? \"canceled\" : status == ERROR ? \"error\" : status;","282","        r.put(\"status\", statusJSON);","283","        if (statusJSON instanceof String) { \/\/ somehow completed","284","            LOG.log(Level.FINE, \"finished in news so releasing {0}\", boundId);","285","            release();","286","        }"],"delete":["82","    private String uri;","93","    public final void start() {","94","        final SecurityContext securityContext = SecurityContextHolder.getContext();","95","        final RequestImpl request = createMockRequest();","96","        uri = request.getRequestURI();","97","        executorService().submit(new Runnable() {","144","        LOG.log(Level.FINE, \"mocking ancestors {0} using {1}\", new Object[] {ancestors, getters});","244","        r.put(\"status\", status == 1 ? \"done\" : status == CANCELED ? \"canceled\" : status == ERROR ? \"error\" : status);"]}],"changelog.html":[{"add":["64","    Fixed memory leak occurring on pages producing incremental output with a progress bar.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25081\">issue 25081<\/a>)","66","  <li class=bug>"],"delete":[]}],"core\/src\/main\/resources\/lib\/layout\/progressiveRendering\/progressiveRendering.js":[{"add":["49","    handler.start(function(response) {","50","        checkNewsLater(0);","51","    });"],"delete":["49","    checkNewsLater(0);"]}]}},"41fc8a10bb8eb0e7b106e25eb643481376ac1829":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["563","    <dependency><!-- Jenkins doesn't depend on it but some plugin wants the latest version. Bundling 1.6 until we figure out a mechanism to let plugins load its own -->","566","      <!--  NOTE: 1.7 requires Java 6, so don't use it! -->","567","      <version>1.6<\/version>"],"delete":["563","    <dependency><!-- Jenkins doesn't depend on it but some plugin wants the latest version. Bundling 1.4 until we figure out a mechanism to let plugins load its own -->","566","      <version>1.7<\/version>"]}],"changelog.html":[{"add":["63","  <li class='major bug'>","64","    Restored Java 5 compatibility.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16554\">issue 16554<\/a>)"],"delete":[]}]}},"d7066d19ee73a8a24dedd5e89a92bb0b5e2c1360":{"changes":{"core\/src\/main\/java\/jenkins\/security\/s2m\/AdminWhitelistRule.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/security\/s2m\/AdminWhitelistRule.java":[{"add":["164","        if ((whitelist.length() > 0) && (whitelist.charAt(whitelist.length() - 1) != '\\n'))"],"delete":["164","        if (whitelist.charAt(whitelist.length() - 1) != '\\n')"]}]}},"3af0cc68cb1cea3047a21400486c075f1b555cf2":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Messages_lt.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_zh_CN.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_lv.properties":"ADD","core\/src\/main\/resources\/jenkins\/model\/Messages_ja.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_pt_BR.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_uk.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Messages_it.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/Messages_sr.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_es.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_he.properties":"ADD","core\/src\/main\/resources\/jenkins\/model\/Messages_da.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_zh_TW.properties":"ADD","cli\/pom.xml":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages_de.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled.jelly":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_cs.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_bg.properties":"ADD","core\/src\/main\/resources\/jenkins\/model\/Messages.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/Messages_zh_TW.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_sk.properties":"ADD","core\/src\/main\/java\/jenkins\/model\/ParameterizedJobMixIn.java":"MODIFY","core\/move-l10n.groovy":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages_es.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ar.properties":"ADD","core\/src\/main\/resources\/jenkins\/model\/Messages_it.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/Messages_bg.properties":"MODIFY","core\/pom.xml":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/Messages_lt.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages_ja.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_sl.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Messages_pt_BR.properties":"MODIFY","core\/src\/main\/java\/jenkins\/triggers\/SCMTriggerItem.java":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/config-disableBuild.jelly":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ca.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_nb_NO.properties":"ADD","test\/src\/test\/java\/hudson\/cli\/EnableJobCommandTest.java":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ru.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_da.properties":"ADD","core\/src\/main\/resources\/jenkins\/model\/Messages_es.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_fi.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ko.properties":"ADD","core\/src\/main\/java\/hudson\/cli\/declarative\/CLIRegisterer.java":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_sr.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Messages_bg.properties":"MODIFY","core\/src\/main\/java\/jenkins\/model\/lazy\/LazyBuildMixIn.java":"MODIFY","pom.xml":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_pl.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Messages_da.properties":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractItem.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ja.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_tr.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_hu.properties":"ADD","core\/src\/main\/resources\/jenkins\/model\/Messages_de.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_fr.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_nl.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_sv_SE.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ro.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_lt.properties":"ADD","core\/src\/main\/java\/hudson\/cli\/handlers\/ParameterizedJobOptionHandler.java":"ADD","core\/src\/main\/java\/hudson\/model\/ListView.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages_sr.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/Messages_pt_BR.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_it.properties":"ADD","\/dev\/null":"DELETE","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/BuildCommand.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages_zh_TW.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_pt_PT.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/main.jelly":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_de.properties":"ADD","core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_et.properties":"ADD"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Messages_lt.properties":[{"add":[],"delete":["69","CLI.disable-job.shortDescription=I\\u0161jungia darb\\u0105.","70","CLI.enable-job.shortDescription=\\u012ejungia darb\\u0105."]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_zh_CN.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_lv.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_ja.properties":[{"add":["65","CLI.disable-job.shortDescription=\\u30b8\\u30e7\\u30d6\\u3092\\u7121\\u52b9\\u5316\\u3057\\u307e\\u3059\\u3002","66","CLI.enable-job.shortDescription=\\u30b8\\u30e7\\u30d6\\u3092\\u6709\\u52b9\\u5316\\u3057\\u307e\\u3059\\u3002"],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_pt_BR.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_uk.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Messages_it.properties":[{"add":[],"delete":["47","CLI.disable-job.shortDescription=Disabilita un job","48","CLI.enable-job.shortDescription=Abilita un job"]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_sr.properties":[{"add":["2","Hudson.BadPortNumber=\\u041d\\u0435\\u043f\\u0440\\u0430\\u0432\\u0438\\u043b\\u0430\\u043d \\u0431\\u0440\\u043e\\u0458 \\u043f\\u043e\\u0440\\u0442\\u0430: {0}","3","Hudson.Computer.Caption=\\u041c\\u0430\\u0441\\u0442\\u0435\\u0440","4","Hudson.ControlCodeNotAllowed=\\u041a\\u043e\\u043d\\u0442\\u0440\\u043e\\u043b\\u0438 \\u043a\\u043e\\u0434 \\u043d\\u0438\\u0458\\u0435 \\u0434\\u043e\\u0437\\u0432\\u043e\\u0459\\u0435\\u043d: {0}","5","Hudson.Computer.DisplayName=\\u043c\\u0430\\u0441\\u0442\\u0435\\u0440","7","Hudson.NoJavaInPath=java \\u043a\\u043e\\u043c\\u0430\\u043d\\u0434\\u0430 \\u0441\\u0435 \\u043d\\u0435 \\u043d\\u0430\\u043b\\u0430\\u0437\\u0438 \\u0443 \\u0432\\u0430\\u0448\\u043e\\u0458 PATH \\u043f\\u0440\\u043e\\u043c\\u0435\\u043d\\u0459\\u0438\\u0432\\u0438. \\u041c\\u043e\\u0436\\u0434\\u0430 \\u0442\\u0440\\u0435\\u0431\\u0430\\u0442\\u0435 \\u0434\\u0430 <a href=\"{0}\/configure\">\\u043f\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u0435 JDK-\\u043e\\u0432\\u0435<\/a>?","8","Hudson.NoName=\\u0418\\u043c\\u0435 \\u043d\\u0438\\u0458\\u0435 \\u043d\\u0430\\u0432\\u0435\\u0434\\u0435\\u043d\\u043e","9","Hudson.NodeBeingRemoved=\\u0423\\u043a\\u043b\\u0430\\u045a\\u0430\\u045a\\u0435 \\u043c\\u0430\\u0448\\u0438\\u043d\\u0435 \\u0458\\u0435 \\u0443 \\u0442\\u043e\\u043a\\u0443","10","Hudson.UnsafeChar=\\u041e\\u043f\\u0430\\u0441\\u043d\\u043e \\u0458\\u0435 \\u043a\\u043e\\u0440\\u0438\\u0441\\u0438\\u0442\\u0438 \\u0437\\u043d\\u0430\\u043a\\u043e\\u0432\\u0435 \\u043a\\u0430\\u043e ''{0}''","11","Hudson.JobNameConventionNotApplyed=\\u2018{0}\\u2019 \\u043d\\u0435 \\u043e\\u0434\\u0433\\u043e\\u0432\\u0430\\u0440\\u0430 \\u0448\\u0430\\u0431\\u043b\\u043e\\u043d\\u0443 \\u0437\\u0430 \\u0437\\u0430\\u0434\\u0430\\u0442\\u043a\\u0435 {1}","12","Hudson.ViewAlreadyExists=\\u041f\\u0440\\u0435\\u0433\\u043b\\u0435\\u0434 \\u0441\\u0430 \\u0438\\u043c\\u0435\\u043d\\u043e\\u043c \\u2018{0}\\u2019 \\u0432\\u0435\\u045b \\u043f\\u043e\\u0441\\u0442\\u043e\\u0458\\u0438","13","Hudson.JobAlreadyExists=\\u0417\\u0430\\u0434\\u0430\\u0442\\u0430\\u043a \\u0441\\u0430 \\u0438\\u043c\\u0435\\u043d\\u043e\\u043c \\u2018{0}\\u2019 \\u0432\\u0435\\u045b \\u043f\\u043e\\u0441\\u0442\\u043e\\u0458\\u0438","15","Hudson.NotUsesUTF8ToDecodeURL=\\u0412\\u0430\\u0448 \\u043a\\u043e\\u043d\\u0442\\u0435\\u0458\\u043d\\u0435\\u0440 \\u043d\\u0435 \\u043a\\u043e\\u0440\\u0438\\u0441\\u0442 UTF-8 \\u0437\\u0430 \\u0434\\u0435\\u043a\\u043e\\u0434\\u0438\\u0440\\u0430\\u045a\\u0435 URL-\\u0430\\u0434\\u0440\\u0435\\u0441\\u0435. \\u0410\\u043a\\u043e \\u043a\\u043e\\u0440\\u0438\\u0441\\u0442\\u0438\\u0442\\u0435 \\u043a\\u0430\\u0440\\u0430\\u043a\\u0442\\u0435\\u0440\\u0435 \\u0432\\u0430\\u043d ASCII \\u043d\\u0438\\u0437\\u0430 \\u0443 \\u0438\\u043c\\u0435\\u043d\\u0443 \\u0437\\u0430\\u0434\\u0430\\u0442\\u0430\\u043a\\u0430, \\u0438\\u0442\\u0434, \\u043c\\u043e\\u0436\\u0435 \\u0438\\u0437\\u0430\\u0437\\u0432\\u0430\\u0442\\u0438 \\u043f\\u0440\\u043e\\u0431\\u043b\\u0435\\u043c\\u0435. \\u041e\\u0442\\u0438\\u0452\\u0438 \\u0442\\u0435 \\u043d\\u0430 <a href=\"https:\/\/jenkins.io\/redirect\/configuring-servlet-containers\">\\u041a\\u043e\\u043d\\u0442\\u0435\\u0458\\u043d\\u0435\\u0440\\u0438<\/a> \\u0438 \\","16","  <a href=\"https:\/\/jenkins.io\/redirect\/troubleshooting\/utf8-url-decoding\">Tomcat i18n<\/a> \\u0437\\u0430 \\u0458\\u043e\\u0448 \\u0434\\u0435\\u0442\\u0430\\u0459\\u0430.","17","Hudson.NodeDescription=\\u0433\\u043b\\u0430\\u0432\\u043d\\u0430 Jenkins \\u043c\\u0430\\u0448\\u0438\\u043d\\u0430","18","Hudson.NoParamsSpecified=\\u041d\\u0438\\u0441\\u0443 \\u043d\\u0430\\u0432\\u0435\\u0434\\u0435\\u043d\\u0438 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0438 \\u0437\\u0430 \\u043e\\u0432\\u0430\\u0458 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0438\\u0437\\u043e\\u0432\\u0430\\u043d\\u043e \\u0438\\u0437\\u0433\\u0440\\u0430\\u0434\\u045a\\u0435","19","CLI.restart.shortDescription=\\u041f\\u043e\\u043d\\u043e\\u0432\\u043e \\u043f\\u043e\\u043a\\u0440\\u0435\\u043d\\u0438 Jenkins","20","CLI.safe-restart.shortDescription=\\u0411\\u0435\\u0437\\u0432\\u0435\\u0434\\u043d\\u043e \\u043f\\u043e\\u043d\\u043e\\u0432\\u043e \\u043f\\u043e\\u043a\\u0440\\u0435\\u043d\\u0438 Jenkins-\\u0430","21","CLI.keep-build.shortDescription=\\u0417\\u0430\\u0434\\u0440\\u0436\\u0438 \\u0438\\u0437\\u0433\\u0440\\u0430\\u0434\\u045a\\u0443 \\u0437\\u0430\\u0443\\u0432\\u0435\\u043a","22","CauseOfInterruption.ShortDescription=\\u041e\\u0434\\u0443\\u0441\\u0442\\u0430\\u0432\\u0459\\u0435\\u043d\\u043e \\u043e\\u0434 \\u0441\\u0442\\u0440\\u0430\\u043d\\u0435 {0}","23","CLI.shutdown.shortDescription=\\u041e\\u0434\\u043c\\u0430\\u0445 \\u0437\\u0430\\u0443\\u0441\\u0442\\u0430\\u0432\\u0438 Jenkins \\u0441\\u0435\\u0440\\u0432\\u0435\\u0440","24","DefaultProjectNamingStrategy.DisplayName=\\u0421\\u0442\\u0430\\u043d\\u0434\\u0430\\u0440\\u0434\\u043d\\u043e","26","\\u041f\\u0440\\u0435\\u0431\\u0430\\u0446\\u0438 Jenkins \\u0443 \\u0442\\u0438\\u0445\\u0438 \\u0440\\u0435\\u0436\\u0438\\u043c, \\u0447\\u0435\\u043a\\u0430\\u045b\\u0435 \\u0437\\u0430\\u0432\\u0440\\u0448\\u045a\\u0435\\u0442\\u0430\\u043a \\u0442\\u0440\\u0435\\u043d\\u0443\\u0442\\u043d\\u0438\\u0445 \\u0438\\u0437\\u0433\\u0440\\u0430\\u0434\\u045a\\u0430 \\u0430 \\u043e\\u043d\\u0434\\u0430 \\u045b\\u0435 \\u0443\\u0433\\u0430\\u0441\\u0438\\u0442\\u0438 Jenkins.","27","IdStrategy.CaseInsensitive.DisplayName=\\u0411\\u0435\\u0437 \\u0440\\u0430\\u0437\\u043b\\u0438\\u043a\\u0435 \\u0438\\u0437\\u043c\\u0435\\u045b\\u0443 \\u0432\\u0435\\u043b\\u0438\\u043a\\u0438\\u043c \\u0438 \\u043c\\u0430\\u043b\\u0438\\u043c \\u0441\\u043b\\u043e\\u0432\\u0438\\u043c\\u0430","28","IdStrategy.CaseSensitive.DisplayName=\\u0421\\u0430 \\u0440\\u0430\\u0437\\u043b\\u0438\\u043a\\u043e\\u043c \\u0438\\u0437\\u043c\\u0435\\u045b\\u0443 \\u0432\\u0435\\u043b\\u0438\\u043a\\u0438\\u043c \\u0438 \\u043c\\u0430\\u043b\\u0438\\u043c \\u0441\\u043b\\u043e\\u0432\\u0438\\u043c\\u0430","29","IdStrategy.CaseSensitiveEmailAddress.DisplayName=\\u0421\\u0430 \\u0440\\u0430\\u0437\\u043b\\u0438\\u043a\\u043e\\u043c \\u0438\\u0437\\u043c\\u0435\\u045b\\u0443 \\u0432\\u0435\\u043b\\u0438\\u043a\\u0438\\u043c \\u0438 \\u043c\\u0430\\u043b\\u0438\\u043c \\u0441\\u043b\\u043e\\u0432\\u0438\\u043c\\u0430 (\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 \\u0435-\\u043f\\u043e\\u0448\\u0442\\u0435)","30","Mailer.Address.Not.Configured=\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 \\u043d\\u0438\\u0458\\u0435 \\u0458\\u043e\\u0448 \\u043d\\u0430\\u0432\\u0435\\u0434\\u0435\\u043d\\u0430 <nobody@nowhere>","31","Mailer.Localhost.Error=\\u041d\\u0430\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0440\\u0443\\u0433\\u043e \\u0438\\u043c\\u0435 \\u0437\\u0430 \\u0445\\u043e\\u0441\\u0442, \\u0430 \\u043d\\u0435 \"localhost\"","32","PatternProjectNamingStrategy.DisplayName=\\u0428\\u0430\\u0431\\u043b\\u043e\\u043d","33","PatternProjectNamingStrategy.NamePatternRequired=\\u041d\\u0430\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0448\\u0430\\u0431\\u043b\\u043e\\u043d \\u0438\\u043c\\u0435\\u043d\\u0443","34","PatternProjectNamingStrategy.NamePatternInvalidSyntax=\\u041d\\u0435\\u043f\\u0440\\u0430\\u0432\\u0438\\u043b\\u0430\\u043d \\u0440\\u0435\\u0433\\u0443\\u043b\\u0430\\u0440\\u043d\\u0438 \\u0438\\u0437\\u0440\\u0430\\u0437","35","ParameterizedJobMixIn.build_with_parameters=\\u0418\\u0437\\u0433\\u0440\\u0430\\u0434\\u0438 \\u0441\\u0430 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0438\\u043c\\u0430","37","BlockedBecauseOfBuildInProgress.shortDescription=\\u0418\\u0437\\u0433\\u0440\\u0430\\u0434\\u045a\\u0430 #{0} \\u0458\\u0435 \\u0432\\u0435\\u045b \\u0443 \\u0442\\u043e\\u043a\\u0443 {1}","38","BlockedBecauseOfBuildInProgress.ETA=\\ (\\u043e\\u0441\\u0442\\u0430\\u043b\\u043e:{0})","39","BuildDiscarderProperty.displayName=\\u0418\\u0437\\u0431\\u0440\\u0438\\u0448\\u0438 \\u0441\\u0442\\u0430\\u0440\\u0430 \\u0438\\u0437\\u0433\\u0440\\u0430\\u0434\\u045a\\u0430","41","vil=","42","CLI.disable-job.shortDescription=\\u041f\\u043e\\u043d\\u0438\\u0448\\u0442\\u0438 \\u0437\\u0430\\u0434\\u0430\\u0442\\u0430\\u043a","43","CLI.enable-job.shortDescription=\\u0423\\u043a\\u0459\\u0443\\u0447\\u0438 \\u0437\\u0430\\u0434\\u0430\\u0442\\u0430\\u043a"],"delete":["2","Hudson.BadPortNumber=\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430\\u043D \\u0431\\u0440\\u043E\\u0458 \\u043F\\u043E\\u0440\\u0442\\u0430: {0}","3","Hudson.Computer.Caption=\\u041C\\u0430\\u0441\\u0442\\u0435\\u0440","4","Hudson.ControlCodeNotAllowed=\\u041A\\u043E\\u043D\\u0442\\u0440\\u043E\\u043B\\u0438 \\u043A\\u043E\\u0434 \\u043D\\u0438\\u0458\\u0435 \\u0434\\u043E\\u0437\\u0432\\u043E\\u0459\\u0435\\u043D: {0}","5","Hudson.Computer.DisplayName=\\u043C\\u0430\\u0441\\u0442\\u0435\\u0440","7","Hudson.NoJavaInPath=java \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u0430 \\u0441\\u0435 \\u043D\\u0435 \\u043D\\u0430\\u043B\\u0430\\u0437\\u0438 \\u0443 \\u0432\\u0430\\u0448\\u043E\\u0458 PATH \\u043F\\u0440\\u043E\\u043C\\u0435\\u043D\\u0459\\u0438\\u0432\\u0438. \\u041C\\u043E\\u0436\\u0434\\u0430 \\u0442\\u0440\\u0435\\u0431\\u0430\\u0442\\u0435 \\u0434\\u0430 <a href=\"{0}\/configure\">\\u043F\\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u0435 JDK-\\u043E\\u0432\\u0435<\/a>?","8","Hudson.NoName=\\u0418\\u043C\\u0435 \\u043D\\u0438\\u0458\\u0435 \\u043D\\u0430\\u0432\\u0435\\u0434\\u0435\\u043D\\u043E","9","Hudson.NodeBeingRemoved=\\u0423\\u043A\\u043B\\u0430\\u045A\\u0430\\u045A\\u0435 \\u043C\\u0430\\u0448\\u0438\\u043D\\u0435 \\u0458\\u0435 \\u0443 \\u0442\\u043E\\u043A\\u0443","10","Hudson.UnsafeChar=\\u041E\\u043F\\u0430\\u0441\\u043D\\u043E \\u0458\\u0435 \\u043A\\u043E\\u0440\\u0438\\u0441\\u0438\\u0442\\u0438 \\u0437\\u043D\\u0430\\u043A\\u043E\\u0432\\u0435 \\u043A\\u0430\\u043E ''{0}''","11","Hudson.JobNameConventionNotApplyed=\\u2018{0}\\u2019 \\u043D\\u0435 \\u043E\\u0434\\u0433\\u043E\\u0432\\u0430\\u0440\\u0430 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443 \\u0437\\u0430 \\u0437\\u0430\\u0434\\u0430\\u0442\\u043A\\u0435 {1}","12","Hudson.ViewAlreadyExists=\\u041F\\u0440\\u0435\\u0433\\u043B\\u0435\\u0434 \\u0441\\u0430 \\u0438\\u043C\\u0435\\u043D\\u043E\\u043C \\u2018{0}\\u2019 \\u0432\\u0435\\u045B \\u043F\\u043E\\u0441\\u0442\\u043E\\u0458\\u0438","13","Hudson.JobAlreadyExists=\\u0417\\u0430\\u0434\\u0430\\u0442\\u0430\\u043A \\u0441\\u0430 \\u0438\\u043C\\u0435\\u043D\\u043E\\u043C \\u2018{0}\\u2019 \\u0432\\u0435\\u045B \\u043F\\u043E\\u0441\\u0442\\u043E\\u0458\\u0438","15","Hudson.NotUsesUTF8ToDecodeURL=\\u0412\\u0430\\u0448 \\u043A\\u043E\\u043D\\u0442\\u0435\\u0458\\u043D\\u0435\\u0440 \\u043D\\u0435 \\u043A\\u043E\\u0440\\u0438\\u0441\\u0442 UTF-8 \\u0437\\u0430 \\u0434\\u0435\\u043A\\u043E\\u0434\\u0438\\u0440\\u0430\\u045A\\u0435 URL-\\u0430\\u0434\\u0440\\u0435\\u0441\\u0435. \\u0410\\u043A\\u043E \\u043A\\u043E\\u0440\\u0438\\u0441\\u0442\\u0438\\u0442\\u0435 \\u043A\\u0430\\u0440\\u0430\\u043A\\u0442\\u0435\\u0440\\u0435 \\u0432\\u0430\\u043D ASCII \\u043D\\u0438\\u0437\\u0430 \\u0443 \\u0438\\u043C\\u0435\\u043D\\u0443 \\u0437\\u0430\\u0434\\u0430\\u0442\\u0430\\u043A\\u0430, \\u0438\\u0442\\u0434, \\u043C\\u043E\\u0436\\u0435 \\u0438\\u0437\\u0430\\u0437\\u0432\\u0430\\u0442\\u0438 \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u0435. \\u041E\\u0442\\u0438\\u0452\\u0438 \\u0442\\u0435 \\u043D\\u0430 <a href=\"https:\/\/jenkins.io\/redirect\/configuring-servlet-containers\">\\u041A\\u043E\\u043D\\u0442\\u0435\\u0458\\u043D\\u0435\\u0440\\u0438<\/a> \\u0438 \\","16","  <a href=\"https:\/\/jenkins.io\/redirect\/troubleshooting\/utf8-url-decoding\">Tomcat i18n<\/a> \\u0437\\u0430 \\u0458\\u043E\\u0448 \\u0434\\u0435\\u0442\\u0430\\u0459\\u0430.","17","Hudson.NodeDescription=\\u0433\\u043B\\u0430\\u0432\\u043D\\u0430 Jenkins \\u043C\\u0430\\u0448\\u0438\\u043D\\u0430","18","Hudson.NoParamsSpecified=\\u041D\\u0438\\u0441\\u0443 \\u043D\\u0430\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438 \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u0438 \\u0437\\u0430 \\u043E\\u0432\\u0430\\u0458 \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u0438\\u0437\\u043E\\u0432\\u0430\\u043D\\u043E \\u0438\\u0437\\u0433\\u0440\\u0430\\u0434\\u045A\\u0435","19","CLI.restart.shortDescription=\\u041F\\u043E\\u043D\\u043E\\u0432\\u043E \\u043F\\u043E\\u043A\\u0440\\u0435\\u043D\\u0438 Jenkins","20","CLI.safe-restart.shortDescription=\\u0411\\u0435\\u0437\\u0432\\u0435\\u0434\\u043D\\u043E \\u043F\\u043E\\u043D\\u043E\\u0432\\u043E \\u043F\\u043E\\u043A\\u0440\\u0435\\u043D\\u0438 Jenkins-\\u0430","21","CLI.keep-build.shortDescription=\\u0417\\u0430\\u0434\\u0440\\u0436\\u0438 \\u0438\\u0437\\u0433\\u0440\\u0430\\u0434\\u045A\\u0443 \\u0437\\u0430\\u0443\\u0432\\u0435\\u043A","22","CauseOfInterruption.ShortDescription=\\u041E\\u0434\\u0443\\u0441\\u0442\\u0430\\u0432\\u0459\\u0435\\u043D\\u043E \\u043E\\u0434 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0435 {0}","23","CLI.shutdown.shortDescription=\\u041E\\u0434\\u043C\\u0430\\u0445 \\u0437\\u0430\\u0443\\u0441\\u0442\\u0430\\u0432\\u0438 Jenkins \\u0441\\u0435\\u0440\\u0432\\u0435\\u0440","24","DefaultProjectNamingStrategy.DisplayName=\\u0421\\u0442\\u0430\\u043D\\u0434\\u0430\\u0440\\u0434\\u043D\\u043E","26","\\u041F\\u0440\\u0435\\u0431\\u0430\\u0446\\u0438 Jenkins \\u0443 \\u0442\\u0438\\u0445\\u0438 \\u0440\\u0435\\u0436\\u0438\\u043C, \\u0447\\u0435\\u043A\\u0430\\u045B\\u0435 \\u0437\\u0430\\u0432\\u0440\\u0448\\u045A\\u0435\\u0442\\u0430\\u043A \\u0442\\u0440\\u0435\\u043D\\u0443\\u0442\\u043D\\u0438\\u0445 \\u0438\\u0437\\u0433\\u0440\\u0430\\u0434\\u045A\\u0430 \\u0430 \\u043E\\u043D\\u0434\\u0430 \\u045B\\u0435 \\u0443\\u0433\\u0430\\u0441\\u0438\\u0442\\u0438 Jenkins.","27","IdStrategy.CaseInsensitive.DisplayName=\\u0411\\u0435\\u0437 \\u0440\\u0430\\u0437\\u043B\\u0438\\u043A\\u0435 \\u0438\\u0437\\u043C\\u0435\\u045B\\u0443 \\u0432\\u0435\\u043B\\u0438\\u043A\\u0438\\u043C \\u0438 \\u043C\\u0430\\u043B\\u0438\\u043C \\u0441\\u043B\\u043E\\u0432\\u0438\\u043C\\u0430","28","IdStrategy.CaseSensitive.DisplayName=\\u0421\\u0430 \\u0440\\u0430\\u0437\\u043B\\u0438\\u043A\\u043E\\u043C \\u0438\\u0437\\u043C\\u0435\\u045B\\u0443 \\u0432\\u0435\\u043B\\u0438\\u043A\\u0438\\u043C \\u0438 \\u043C\\u0430\\u043B\\u0438\\u043C \\u0441\\u043B\\u043E\\u0432\\u0438\\u043C\\u0430","29","IdStrategy.CaseSensitiveEmailAddress.DisplayName=\\u0421\\u0430 \\u0440\\u0430\\u0437\\u043B\\u0438\\u043A\\u043E\\u043C \\u0438\\u0437\\u043C\\u0435\\u045B\\u0443 \\u0432\\u0435\\u043B\\u0438\\u043A\\u0438\\u043C \\u0438 \\u043C\\u0430\\u043B\\u0438\\u043C \\u0441\\u043B\\u043E\\u0432\\u0438\\u043C\\u0430 (\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 \\u0435-\\u043F\\u043E\\u0448\\u0442\\u0435)","30","Mailer.Address.Not.Configured=\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 \\u043D\\u0438\\u0458\\u0435 \\u0458\\u043E\\u0448 \\u043D\\u0430\\u0432\\u0435\\u0434\\u0435\\u043D\\u0430 <nobody@nowhere>","31","Mailer.Localhost.Error=\\u041D\\u0430\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0440\\u0443\\u0433\\u043E \\u0438\\u043C\\u0435 \\u0437\\u0430 \\u0445\\u043E\\u0441\\u0442, \\u0430 \\u043D\\u0435 \"localhost\"","32","PatternProjectNamingStrategy.DisplayName=\\u0428\\u0430\\u0431\\u043B\\u043E\\u043D","33","PatternProjectNamingStrategy.NamePatternRequired=\\u041D\\u0430\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D \\u0438\\u043C\\u0435\\u043D\\u0443","34","PatternProjectNamingStrategy.NamePatternInvalidSyntax=\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430\\u043D \\u0440\\u0435\\u0433\\u0443\\u043B\\u0430\\u0440\\u043D\\u0438 \\u0438\\u0437\\u0440\\u0430\\u0437","35","ParameterizedJobMixIn.build_with_parameters=\\u0418\\u0437\\u0433\\u0440\\u0430\\u0434\\u0438 \\u0441\\u0430 \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u0438\\u043C\\u0430","37","BlockedBecauseOfBuildInProgress.shortDescription=\\u0418\\u0437\\u0433\\u0440\\u0430\\u0434\\u045A\\u0430 #{0} \\u0458\\u0435 \\u0432\\u0435\\u045B \\u0443 \\u0442\\u043E\\u043A\\u0443 {1}","38","BlockedBecauseOfBuildInProgress.ETA=\\ (\\u043E\\u0441\\u0442\\u0430\\u043B\\u043E:{0})","39","BuildDiscarderProperty.displayName=\\u0418\\u0437\\u0431\\u0440\\u0438\\u0448\\u0438 \\u0441\\u0442\\u0430\\u0440\\u0430 \\u0438\\u0437\\u0433\\u0440\\u0430\\u0434\\u045A\\u0430","41","vil="]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_es.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_he.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_da.properties":[{"add":["54","CLI.disable-job.shortDescription=Sl\\u00e5r et job fra","55","CLI.enable-job.shortDescription=Sl\\u00e5r et job til"],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_zh_TW.properties":[{"add":[],"delete":[]}],"cli\/pom.xml":[{"add":[],"delete":["29","        <version>1.7<\/version>"]}],"core\/src\/main\/resources\/hudson\/model\/Messages_de.properties":[{"add":[],"delete":["92","CLI.disable-job.shortDescription=Projekt deaktivieren.","93","CLI.enable-job.shortDescription=Projekt aktivieren."]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_cs.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_bg.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/model\/Messages.properties":[{"add":["71","CLI.disable-job.shortDescription=Disables a job.","72","CLI.enable-job.shortDescription=Enables a job."],"delete":[]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_zh_TW.properties":[{"add":["65","CLI.disable-job.shortDescription=\\u505c\\u7528\\u4f5c\\u696d\\u3002","66","CLI.enable-job.shortDescription=\\u555f\\u7528\\u4f5c\\u696d\\u3002"],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_sk.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/ParameterizedJobMixIn.java":[{"add":["27","import hudson.cli.declarative.CLIMethod;","28","import hudson.cli.declarative.CLIResolver;","34","import static hudson.model.Item.CONFIGURE;","35","import hudson.model.Items;","43","import hudson.model.listeners.ItemListener;","60","import jenkins.model.lazy.LazyBuildMixIn;","64","import org.kohsuke.accmod.restrictions.DoNotUse;","66","import org.kohsuke.accmod.restrictions.ProtectedExternally;","67","import org.kohsuke.args4j.Argument;","68","import org.kohsuke.args4j.CmdLineException;","69","import org.kohsuke.stapler.HttpRedirect;","70","import org.kohsuke.stapler.HttpResponse;","80"," * Besides implementing {@link ParameterizedJob}, you should","81"," * <ul>","82"," * <li>override {@link Job#makeSearchIndex} to call {@link #extendSearchIndex}","83"," * <li>override {@link Job#performDelete} to call {@link ParameterizedJob#makeDisabled}","84"," * <li>override {@link Job#getIconColor} to call {@link ParameterizedJob#isDisabled}","85"," * <li>use {@code <p:config-disableBuild\/>}","86"," * <li>use {@code <p:makeDisabled\/>}","87"," * <\/ul>","322","         * Used for CLI binding.","323","         *\/","324","        @Restricted(DoNotUse.class)","325","        @SuppressWarnings(\"rawtypes\")","326","        @CLIResolver","327","        static ParameterizedJob resolveForCLI(@Argument(required=true, metaVar=\"NAME\", usage=\"Job name\") String name) throws CmdLineException {","328","            ParameterizedJob item = Jenkins.getInstance().getItemByFullName(name, ParameterizedJob.class);","329","            if (item == null) {","330","                ParameterizedJob project = Items.findNearest(ParameterizedJob.class, name, Jenkins.getInstance());","331","                throw new CmdLineException(null, project == null ?","332","                        hudson.model.Messages.AbstractItem_NoSuchJobExistsWithoutSuggestion(name) :","333","                        hudson.model.Messages.AbstractItem_NoSuchJobExists(name, project.getFullName()));","334","            }","335","            return item;","336","        }","337","","338","        \/**","446","         * Schedules a new SCM polling command.","447","         *\/","448","        @SuppressWarnings(\"deprecation\")","449","        default void doPolling(StaplerRequest req, StaplerResponse rsp) throws IOException, ServletException {","450","            if (!(this instanceof SCMTriggerItem)) {","451","                rsp.sendError(404);","452","                return;","453","            }","454","            hudson.model.BuildAuthorizationToken.checkPermission((Job) this, getAuthToken(), req, rsp);","455","            ((SCMTriggerItem) this).schedulePolling();","456","            rsp.sendRedirect(\".\");","457","        }","458","","459","        \/**","467","        default boolean isDisabled() {","468","            return false;","469","        }","470","","471","        @Restricted(ProtectedExternally.class)","472","        default void setDisabled(boolean disabled) {","473","            throw new UnsupportedOperationException(\"must be implemented if supportsMakeDisabled is overridden\");","474","        }","475","","476","        \/**","477","         * Specifies whether this project may be disabled by the user.","478","         * @return true if the GUI should allow {@link #doDisable} and the like","479","         *\/","480","        default boolean supportsMakeDisabled() {","481","            return false;","482","        }","483","","484","        \/**","485","         * Marks the build as disabled.","486","         * The method will ignore the disable command if {@link #supportsMakeDisabled()}","487","         * returns false. The enable command will be executed in any case.","488","         * @param b true - disable, false - enable","489","         *\/","490","        default void makeDisabled(boolean b) throws IOException {","491","            if (isDisabled() == b) {","492","                return; \/\/ noop","493","            }","494","            if (b && !supportsMakeDisabled()) {","495","                return; \/\/ do nothing if the disabling is unsupported","496","            }","497","            setDisabled(b);","498","            if (b) {","499","                Jenkins.getInstance().getQueue().cancel(this);","500","            }","501","            save();","502","            ItemListener.fireOnUpdated(this);","503","        }","504","","505","        @CLIMethod(name=\"disable-job\")","506","        @RequirePOST","507","        default HttpResponse doDisable() throws IOException, ServletException {","508","            checkPermission(CONFIGURE);","509","            makeDisabled(true);","510","            return new HttpRedirect(\".\");","511","        }","512","","513","        @CLIMethod(name=\"enable-job\")","514","        @RequirePOST","515","        default HttpResponse doEnable() throws IOException, ServletException {","516","            checkPermission(CONFIGURE);","517","            makeDisabled(false);","518","            return new HttpRedirect(\".\");","519","        }","520","","521","        @Override","522","        default RunT createExecutable() throws IOException {","523","            if (isDisabled()) {","524","                return null;","525","            }","526","            if (this instanceof LazyBuildMixIn.LazyLoadingJob) {","527","                return (RunT) ((LazyBuildMixIn.LazyLoadingJob) this).getLazyBuildMixIn().newBuild();","528","            }","529","            return null;","530","        }","531","","532","        default boolean isBuildable() {","533","            return !isDisabled() && !((Job) this).isHoldOffBuildUntilSave();","534","        }","535",""],"delete":["68"," * Besides implementing {@link ParameterizedJob}, you should override {@link Job#makeSearchIndex} to call {@link #extendSearchIndex}."]}],"core\/move-l10n.groovy":[{"add":["15","        \/\/ TODO does not handle multiline values correctly","27","                \/\/ TODO if the original lacked a trailing newline, this will corrupt previously final key"],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Messages_es.properties":[{"add":[],"delete":["58","CLI.disable-job.shortDescription=Desactivar una tarea","59","CLI.enable-job.shortDescription=Activar una tarea"]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ar.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_it.properties":[{"add":["4","CLI.disable-job.shortDescription=Disabilita un job","5","CLI.enable-job.shortDescription=Abilita un job"],"delete":[]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_bg.properties":[{"add":["109","CLI.disable-job.shortDescription=\\","110"," \\u0418\\u0437\\u043a\\u043b\\u044e\\u0447\\u0432\\u0430\\u043d\\u0435 \\u043d\\u0430 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0430.","111","CLI.enable-job.shortDescription=\\","112"," \\u0412\\u043a\\u043b\\u044e\\u0447\\u0432\\u0430\\u043d\\u0435 \\u043d\\u0430 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0430."],"delete":[]}],"core\/pom.xml":[{"add":[],"delete":["577","      <version>1.4<\/version>","706","        <!-- version specified in grandparent pom -->"]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_lt.properties":[{"add":["46","CLI.disable-job.shortDescription=I\\u0161jungia darb\\u0105.","47","CLI.enable-job.shortDescription=\\u012ejungia darb\\u0105."],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Messages_ja.properties":[{"add":[],"delete":["294","CLI.disable-job.shortDescription=\\u30b8\\u30e7\\u30d6\\u3092\\u7121\\u52b9\\u5316\\u3057\\u307e\\u3059\\u3002","295","CLI.enable-job.shortDescription=\\u30b8\\u30e7\\u30d6\\u3092\\u6709\\u52b9\\u5316\\u3057\\u307e\\u3059\\u3002"]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_sl.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Messages_pt_BR.properties":[{"add":["143","Run.Summary.BrokenForALongTime=Quebrado h\\u00e1 muito tempo","450","ParametersDefinitionProperty.DisplayName=Este build \\u00e9 parametrizado"],"delete":["143","Run.Summary.BrokenForALongTime=Quebrado h muito tempo","180","# Disables a job","181","CLI.disable-job.shortDescription=Desabilitar uma job","326","# Enables a job","327","CLI.enable-job.shortDescription=Habilita um job","454","ParametersDefinitionProperty.DisplayName=Este build \\u00E9 parametrizado"]}],"core\/src\/main\/java\/jenkins\/triggers\/SCMTriggerItem.java":[{"add":["84","     * Schedules a polling of this project.","85","     *\/","86","    default boolean schedulePolling() {","87","        if (this instanceof ParameterizedJobMixIn.ParameterizedJob && ((ParameterizedJobMixIn.ParameterizedJob) this).isDisabled()) {","88","            return false;","89","        }","90","        SCMTrigger scmt = getSCMTrigger();","91","        if (scmt == null) {","92","            return false;","93","        }","94","        scmt.run();","95","        return true;","96","    }","97","","98","    \/**"],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/config-disableBuild.jelly":[{"add":["25","  Configuration entry for disabling a project; applies to ParameterizedJob"],"delete":["25","  Configuration entry for disabling a project"]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ca.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_nb_NO.properties":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/cli\/EnableJobCommandTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ru.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_da.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_es.properties":[{"add":["64","CLI.disable-job.shortDescription=Desactivar una tarea","65","CLI.enable-job.shortDescription=Activar una tarea"],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_fi.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ko.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/cli\/declarative\/CLIRegisterer.java":[{"add":["60","import java.util.MissingResourceException;","282","                } catch (ClassNotFoundException | MissingResourceException e) {"],"delete":["281","                } catch (ClassNotFoundException e) {"]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_sr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Messages_bg.properties":[{"add":[],"delete":["135","CLI.disable-job.shortDescription=\\","136"," \\u0418\\u0437\\u043a\\u043b\\u044e\\u0447\\u0432\\u0430\\u043d\\u0435 \\u043d\\u0430 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0430.","137","CLI.enable-job.shortDescription=\\","138"," \\u0412\\u043a\\u043b\\u044e\\u0447\\u0432\\u0430\\u043d\\u0435 \\u043d\\u0430 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0430."]}],"core\/src\/main\/java\/jenkins\/model\/lazy\/LazyBuildMixIn.java":[{"add":["274","        \/\/ (could allow implementations to call LazyLoadingJob.super.theMethod())","283","        \/\/ (though could use @Restricted(ProtectedExternally.class))","285","        \/\/ (though could allow implementations to call LazyLoadingRun.super.theMethod())"],"delete":["274","        \/\/ nor for createExecutable() since that typically calls isDisabled() first"]}],"pom.xml":[{"add":["97","    <access-modifier.version>1.11<\/access-modifier.version>","98","    <access-modifier-annotation.version>${access-modifier.version}<\/access-modifier-annotation.version> <!-- differing only where needed for timestamped snapshots -->","99","    <access-modifier-checker.version>${access-modifier.version}<\/access-modifier-checker.version>","228","      <dependency>","229","        <groupId>org.kohsuke<\/groupId>","230","        <artifactId>access-modifier-annotation<\/artifactId>","231","        <version>${access-modifier-annotation.version}<\/version>","232","      <\/dependency>","442","          <version>${access-modifier-checker.version}<\/version>"],"delete":["434","          <version>1.4<\/version>"]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_pl.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Messages_da.properties":[{"add":[],"delete":["88","CLI.disable-job.shortDescription=Sl\\u00e5r et job fra","204","CLI.enable-job.shortDescription=Sl\\u00e5r et job til"]}],"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":[{"add":["856","            AbstractProject project = AbstractProject.findNearest(name); \/\/ TODO should be Items.findNearest"],"delete":["856","            AbstractProject project = AbstractProject.findNearest(name);"]}],"core\/src\/main\/resources\/hudson\/model\/Messages.properties":[{"add":[],"delete":["98","CLI.disable-job.shortDescription=Disables a job.","99","CLI.enable-job.shortDescription=Enables a job."]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ja.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_tr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_hu.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_de.properties":[{"add":["67","CLI.disable-job.shortDescription=Projekt deaktivieren.","68","CLI.enable-job.shortDescription=Projekt aktivieren."],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_fr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_nl.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_sv_SE.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_ro.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_lt.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/cli\/handlers\/ParameterizedJobOptionHandler.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/ListView.java":[{"add":["50","import jenkins.model.ParameterizedJobMixIn;","200","            if(statusFilter == null || !(item instanceof ParameterizedJobMixIn.ParameterizedJob) \/\/ TODO or better to call the more generic Job.isBuildable?","201","                              || ((ParameterizedJobMixIn.ParameterizedJob)item).isDisabled() ^ statusFilter)"],"delete":["199","            if(statusFilter == null || !(item instanceof AbstractProject)","200","                              || ((AbstractProject)item).isDisabled() ^ statusFilter)"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled.jelly":[{"add":["1","<!-- deprecated but kept for compatibility -->","2","<j:jelly xmlns:j=\"jelly:core\" xmlns:p=\"\/lib\/hudson\/project\">","3","    <p:makeDisabled\/>"],"delete":["0","<!--","1","The MIT License","2","","3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Erik Ramfelt, Tom Huybrechts, id:cactusman","4","","5","Permission is hereby granted, free of charge, to any person obtaining a copy","6","of this software and associated documentation files (the \"Software\"), to deal","7","in the Software without restriction, including without limitation the rights","8","to use, copy, modify, merge, publish, distribute, sublicense, and\/or sell","9","copies of the Software, and to permit persons to whom the Software is","10","furnished to do so, subject to the following conditions:","11","","12","The above copyright notice and this permission notice shall be included in","13","all copies or substantial portions of the Software.","14","","15","THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR","16","IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,","17","FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE","18","AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER","19","LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,","20","OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN","21","THE SOFTWARE.","22","-->","23","","25","<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"\/lib\/layout\" xmlns:t=\"\/lib\/hudson\" xmlns:f=\"\/lib\/form\" xmlns:i=\"jelly:fmt\" xmlns:p=\"\/lib\/hudson\/project\">","26","  <j:choose>","27","    <j:when test=\"${it.disabled}\">","28","      <div class=\"warning\">","29","        <form method=\"post\" id='enable-project' action=\"enable\">","30","          ${%This project is currently disabled}","31","          <l:hasPermission permission=\"${it.CONFIGURE}\">","32","            <f:submit value=\"${%Enable}\" \/>","33","          <\/l:hasPermission>","34","        <\/form>","35","      <\/div>","36","    <\/j:when>","37","    <j:otherwise>","38","      <div align=\"right\">","39","        <form method=\"post\" id=\"disable-project\" action=\"disable\">","40","          <l:hasPermission permission=\"${it.CONFIGURE}\">","41","            <f:submit value=\"${%Disable Project}\" \/>","42","          <\/l:hasPermission>","43","        <\/form>","44","      <\/div>","45","    <\/j:otherwise>","46","  <\/j:choose>"]}],"core\/src\/main\/resources\/hudson\/model\/Messages_sr.properties":[{"add":["288","Hudson.NotADirectory={0} \\u043D\\u0438\\u0458\\u0435 \\u0434\\u0438\\u0440\\u0435\\u043A\\u0442\\u043E\\u0440\\u0438\\u0458\\u0443\\u043C"],"delete":["74","CLI.disable-job.shortDescription=\\u041F\\u043E\\u043D\\u0438\\u0448\\u0442\\u0438 \\u0437\\u0430\\u0434\\u0430\\u0442\\u0430\\u043A","75","CLI.enable-job.shortDescription=\\u0423\\u043A\\u0459\\u0443\\u0447\\u0438 \\u0437\\u0430\\u0434\\u0430\\u0442\\u0430\\u043A","290","Hudson.NotADirectory={0} \\u043D\\u0438\\u0458\\u0435 \\u0434\\u0438\\u0440\\u0435\\u043A\\u0442\\u043E\\u0440\\u0438\\u0458\\u0443\\u043C"]}],"core\/src\/main\/resources\/jenkins\/model\/Messages_pt_BR.properties":[{"add":["72","CLI.disable-job.shortDescription=Desabilitar uma job","73","CLI.enable-job.shortDescription=Habilita um job"],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_it.properties":[{"add":[],"delete":[]}],"\/dev\/null":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["110","import jenkins.triggers.SCMTriggerItem;","641","        return ParameterizedJobMixIn.ParameterizedJob.super.isBuildable();","670","    @Override","675","    @Restricted(DoNotUse.class)","676","    @Override","677","    public void setDisabled(boolean disabled) {","678","        this.disabled = disabled;","679","    }","680","","695","     * {@inheritDoc}","700","    @Override","705","    \/\/ Seems to be used only by tests; do not bother pulling up.","710","    \/\/ Ditto.","858","     * @see SCMTriggerItem#schedulePolling","1166","    @Override \/\/ same as ParameterizedJob version except calls possibly overridden newBuild","1736","    @Override \/\/ in case schedulePolling was overridden"],"delete":["40","import hudson.cli.declarative.CLIMethod;","50","import hudson.model.listeners.ItemListener;","642","        return !isDisabled() && !isHoldOffBuildUntilSave();","689","     * Marks the build as disabled.","690","     * The method will ignore the disable command if {@link #supportsMakeDisabled()}","691","     * returns false. The enable command will be executed in any case.","692","     * @param b true - disable, false - enable","693","     * @since 1.585 Do not disable projects if {@link #supportsMakeDisabled()} returns false","694","     *\/","695","    public void makeDisabled(boolean b) throws IOException {","696","        if(disabled==b)     return; \/\/ noop","697","        if (b && !supportsMakeDisabled()) return; \/\/ do nothing if the disabling is unsupported","698","        this.disabled = b;","699","        if(b)","700","            Jenkins.getInstance().getQueue().cancel(this);","701","","702","        save();","703","        ItemListener.fireOnUpdated(this);","704","    }","705","","706","    \/**","707","     * Specifies whether this project may be disabled by the user.","710","     * @return true if the GUI should allow {@link #doDisable} and the like","1744","    \/**","1745","     * Schedules a new SCM polling command.","1746","     *\/","1890","    @CLIMethod(name=\"disable-job\")","1891","    @RequirePOST","1892","    public HttpResponse doDisable() throws IOException, ServletException {","1893","        checkPermission(CONFIGURE);","1894","        makeDisabled(true);","1895","        return new HttpRedirect(\".\");","1896","    }","1897","","1898","    @CLIMethod(name=\"enable-job\")","1899","    @RequirePOST","1900","    public HttpResponse doEnable() throws IOException, ServletException {","1901","        checkPermission(CONFIGURE);","1902","        makeDisabled(false);","1903","        return new HttpRedirect(\".\");","1904","    }","1905","","1906",""]}],"core\/src\/main\/java\/hudson\/cli\/BuildCommand.java":[{"add":["160","            if (job instanceof ParameterizedJobMixIn.ParameterizedJob && ((ParameterizedJobMixIn.ParameterizedJob) job).isDisabled()) {"],"delete":["160","            if (job instanceof AbstractProject<?, ?> && ((AbstractProject<?, ?>)job).isDisabled()) {"]}],"core\/src\/main\/resources\/hudson\/model\/Messages_zh_TW.properties":[{"add":[],"delete":["78","CLI.disable-job.shortDescription=\\u505c\\u7528\\u4f5c\\u696d\\u3002","79","CLI.enable-job.shortDescription=\\u555f\\u7528\\u4f5c\\u696d\\u3002"]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_pt_PT.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/main.jelly":[{"add":["28","  <p:makeDisabled\/>"],"delete":["28","  <j:if test=\"${it.supportsMakeDisabled()}\">","29","    <st:include page=\"makeDisabled.jelly\" \/>","30","  <\/j:if>"]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_de.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/makeDisabled_et.properties":[{"add":[],"delete":[]}]}},"a846c366fe1569805548544118d65d908de5644a":{"changes":{"core\/src\/main\/java\/hudson\/util\/RunList.java":"MODIFY","core\/src\/test\/java\/hudson\/util\/IteratorsTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/widgets\/HistoryPageFilter.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/Iterators.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/RunList.java":[{"add":["152","        hudson.util.Iterators.skip(itr, fromIndex);"],"delete":["152","        Iterators.skip(itr,fromIndex);"]}],"core\/src\/test\/java\/hudson\/util\/IteratorsTest.java":[{"add":["34","import org.jvnet.hudson.test.Issue;","80","    public static final CountingPredicate<Integer> EVEN = (index, input) -> input % 2 == 0;","81","","82","    @Issue(\"JENKINS-51779\")","83","    @Test","84","    public void skip() {","85","        List<Integer> lst = Iterators.sequence(1, 4);","86","        Iterator<Integer> it = lst.iterator();","87","        Iterators.skip(it, 0);","88","        assertEquals(\"[1, 2, 3]\", com.google.common.collect.Iterators.toString(it));","89","        it = lst.iterator();","90","        Iterators.skip(it, 1);","91","        assertEquals(\"[2, 3]\", com.google.common.collect.Iterators.toString(it));","92","        it = lst.iterator();","93","        Iterators.skip(it, 2);","94","        assertEquals(\"[3]\", com.google.common.collect.Iterators.toString(it));","95","        it = lst.iterator();","96","        Iterators.skip(it, 3);","97","        assertEquals(\"[]\", com.google.common.collect.Iterators.toString(it));","98","        it = lst.iterator();","99","        Iterators.skip(it, 4);","100","        assertEquals(\"[]\", com.google.common.collect.Iterators.toString(it));","101","    }","102",""],"delete":["79","    public static final CountingPredicate<Integer> EVEN = new CountingPredicate<Integer>() {","80","        public boolean apply(int index, Integer input) {","81","            return input % 2 == 0;","82","        }","83","    };"]}],"core\/src\/main\/java\/jenkins\/widgets\/HistoryPageFilter.java":[{"add":["33","import hudson.util.Iterators;"],"delete":["26","import com.google.common.collect.Iterators;"]}],"core\/src\/main\/java\/hudson\/util\/Iterators.java":[{"add":["25","import com.google.common.annotations.Beta;","38","import javax.annotation.Nonnull;","39","import org.kohsuke.accmod.Restricted;","40","import org.kohsuke.accmod.restrictions.NoExternalUse;","409","","410","    \/**","411","     * Similar to {@link com.google.common.collect.Iterators#skip} except not {@link Beta}.","412","     * @param iterator some iterator","413","     * @param count a nonnegative count","414","     *\/","415","    @Restricted(NoExternalUse.class)","416","    public static void skip(@Nonnull Iterator<?> iterator, int count) {","417","        if (count < 0) {","418","            throw new IllegalArgumentException();","419","        }","420","        while (iterator.hasNext() && count-- > 0) {","421","            iterator.next();","422","        }","423","    }","424",""],"delete":[]}]}},"e6d8500dd8e9b157ae8c54aec6fd42286e88301a":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["182","        <version>2.53.1<\/version>"],"delete":["182","        <version>2.53<\/version>"]}]}},"84e485fc5e608bccf080bf46c0e31c43c6bef474":{"changes":{"core\/src\/main\/resources\/hudson\/slaves\/JNLPLauncher\/main.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/slaves\/JNLPLauncher\/main.jelly":[{"add":["59","                <pre>java ${it.launcher.vmargs}${it.launcher.vmargs==null?'':' '}-jar <a href=\"${rootURL}\/jnlpJars\/slave.jar\">slave.jar<\/a> -jnlpUrl ${h.inferHudsonURL(request)}${it.url}slave-agent.jnlp<\/pre>","68","                <pre>java ${it.launcher.vmargs}${it.launcher.vmargs==null?'':' '}-jar <a href=\"${rootURL}\/jnlpJars\/slave.jar\">slave.jar<\/a> -jnlpUrl ${h.inferHudsonURL(request)}${it.url}slave-agent.jnlp -secret ${it.jnlpMac}<\/pre>"],"delete":["59","                <pre>java -jar <a href=\"${rootURL}\/jnlpJars\/slave.jar\">slave.jar<\/a> -jnlpUrl ${h.inferHudsonURL(request)}${it.url}slave-agent.jnlp<\/pre>","68","                <pre>java -jar <a href=\"${rootURL}\/jnlpJars\/slave.jar\">slave.jar<\/a> -jnlpUrl ${h.inferHudsonURL(request)}${it.url}slave-agent.jnlp -secret ${it.jnlpMac}<\/pre>"]}]}},"27871ce1df3cebdcffd3e2992c21c92a8696df75":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["74","  <li class=bug>","75","    Marking modules as 'not build' in maven incremental builds didn't work anymore in maven 3 jobs","76","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-9072\">issue 9072<\/a>)","77","  <li class=bug>","78","    In incremental maven builds, modules could be left unbuilt, although they had SCM changes","79","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-5764\">issue 5764<\/a>)"],"delete":[]}]}},"6698aca4e7d2f240259d4b112f95b76806e26fad":{"changes":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/java\/hudson\/security\/LegacySecurityRealm.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/GroovyshCommand.java":"MODIFY","test\/src\/test\/java\/hudson\/model\/listeners\/ItemListenerTest.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/declarative\/CLIRegisterer.java":"MODIFY","core\/src\/main\/java\/hudson\/security\/CliAuthenticator.java":"MODIFY","remoting\/src\/main\/java\/hudson\/remoting\/ChannelProperty.java":"ADD","core\/src\/main\/java\/hudson\/cli\/CLICommand.java":"MODIFY","remoting\/src\/main\/java\/hudson\/remoting\/Channel.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/CliManagerImpl.java":"MODIFY","core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["52","import hudson.cli.CLICommand;","2867","                    \/\/ capture the identity given by the transport, since this can be useful for SecurityRealm.createCliAuthenticator()","2868","                    channel.setProperty(CLICommand.TRANSPORT_AUTHENTICATION,getAuthentication());","2869","                    channel.setProperty(CliEntryPoint.class.getName(),new CliManagerImpl());"],"delete":["2866","                    channel.setProperty(CliEntryPoint.class.getName(),new CliManagerImpl(getAuthentication()));","3694",""]}],"core\/src\/main\/java\/hudson\/security\/LegacySecurityRealm.java":[{"add":["25","import org.acegisecurity.AuthenticationManager;","29","import org.kohsuke.stapler.StaplerRequest;","30","import groovy.lang.Binding;","31","import hudson.model.Descriptor;","32","import hudson.util.spring.BeanBuilder;","33","import hudson.Extension;","34","import net.sf.json.JSONObject;"],"delete":["25","import groovy.lang.Binding;","26","import hudson.Extension;","27","import hudson.cli.CLICommand;","28","import hudson.model.Descriptor;","29","import hudson.util.spring.BeanBuilder;","30","import net.sf.json.JSONObject;","33","import org.acegisecurity.AuthenticationManager;","34","import org.kohsuke.stapler.StaplerRequest;","73","    @Override","74","    public CliAuthenticator createCliAuthenticator(CLICommand command, final Authentication auth) {","75","        if (auth == null) {","76","            return createCliAuthenticator(command);","77","        } else {","78","            return new CliAuthenticator() {","79","                public Authentication authenticate() {","80","                    return auth;","81","                }","82","            };","83","        }","84","    }","85","","118",""]}],"core\/src\/main\/java\/hudson\/cli\/GroovyshCommand.java":[{"add":["28","import groovy.lang.Binding;","29","import groovy.lang.Closure;","38","import java.io.PrintStream;","39","import java.io.InputStream;","40","import java.io.BufferedInputStream;","41","import java.io.PrintWriter;","42","","43","import jline.UnsupportedTerminal;","44","import jline.Terminal;","59","    public int main(List<String> args, Locale locale, InputStream stdin, PrintStream stdout, PrintStream stderr) {","60","        \/\/ this allows the caller to manipulate the JVM state, so require the admin privilege.","61","        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);","63","        \/\/ this being remote means no jline capability is available","64","        System.setProperty(\"jline.terminal\", UnsupportedTerminal.class.getName());","65","        Terminal.resetTerminal();","67","        Groovysh shell = createShell(stdin, stdout, stderr);","68","        return shell.run(args.toArray(new String[args.size()]));"],"delete":["25","import groovy.lang.Binding;","26","import groovy.lang.Closure;","27","import hudson.AbortException;","31","import hudson.security.CliAuthenticator;","32","import jline.Terminal;","33","import jline.UnsupportedTerminal;","35","import org.acegisecurity.context.SecurityContext;","36","import org.acegisecurity.context.SecurityContextHolder;","41","import org.kohsuke.args4j.ClassParser;","42","import org.kohsuke.args4j.CmdLineParser;","44","import java.io.BufferedInputStream;","45","import java.io.InputStream;","46","import java.io.PrintStream;","47","import java.io.PrintWriter;","64","    public int main(List<String> args, Locale locale, InputStream stdin, PrintStream stdout, PrintStream stderr, Authentication auth) {","66","        CmdLineParser p = new CmdLineParser(this);","68","        \/\/ add options from the authenticator","69","        SecurityContext sc = SecurityContextHolder.getContext();","70","        Authentication old = sc.getAuthentication();","71","        CliAuthenticator authenticator = Hudson.getInstance().getSecurityRealm().createCliAuthenticator(this, auth);","72","        new ClassParser().parse(authenticator, p);","73","        ","74","        try {","75","","76","            sc.setAuthentication(authenticator.authenticate());","77","","78","            \/\/ this allows the caller to manipulate the JVM state, so require the admin privilege.","79","            Hudson.getInstance().checkPermission(Hudson.ADMINISTER);","80","","81","            \/\/ this being remote means no jline capability is available","82","            System.setProperty(\"jline.terminal\", UnsupportedTerminal.class.getName());","83","            Terminal.resetTerminal();","84","","85","            Groovysh shell = createShell(stdin, stdout, stderr);","86","            return shell.run(args.toArray(new String[args.size()]));","87","        } catch (AbortException e) {","88","            \/\/ signals an error without stack trace","89","            stderr.println(e.getMessage());","90","            return -1;","91","        } catch (Exception e) {","92","            e.printStackTrace(stderr);","93","            return -1;","94","        } finally {","95","            sc.setAuthentication(old); \/\/ restore","96","        }","97",""]}],"test\/src\/test\/java\/hudson\/model\/listeners\/ItemListenerTest.java":[{"add":["62","                 out, out);"],"delete":["62","                 out, out, null);"]}],"core\/src\/main\/java\/hudson\/cli\/declarative\/CLIRegisterer.java":[{"add":["108","                        public int main(List<String> args, Locale locale, InputStream stdin, PrintStream stdout, PrintStream stderr) {","137","                                    CliAuthenticator authenticator = Hudson.getInstance().getSecurityRealm().createCliAuthenticator(this);"],"delete":["108","                        public int main(List<String> args, Locale locale, InputStream stdin, PrintStream stdout, PrintStream stderr, Authentication auth) {","137","                                    CliAuthenticator authenticator = Hudson.getInstance().getSecurityRealm().createCliAuthenticator(this, auth);","198",""]}],"core\/src\/main\/java\/hudson\/security\/CliAuthenticator.java":[{"add":["62"," * If no explicit credential is provided, or if the {@link SecurityRealm} depends on a mode of authentication","63"," * that doesn't involve in explicit password (such as Kerberos), it's also often useful to fall back to","64"," * {@link CLICommand#getTransportAuthentication()}, in case the user is authenticated at the transport level.","65"," *","66"," * <p>"],"delete":[]}],"remoting\/src\/main\/java\/hudson\/remoting\/ChannelProperty.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/cli\/CLICommand.java":[{"add":["34","import hudson.remoting.ChannelProperty;","36","import hudson.security.SecurityRealm;","64"," * calls {@link #main(List, Locale, InputStream, PrintStream, PrintStream)} method.","77"," * the {@link #main(List, Locale, InputStream, PrintStream, PrintStream)} method directly.","154","    public int main(List<String> args, Locale locale, InputStream stdin, PrintStream stdout, PrintStream stderr) {","166","        CliAuthenticator authenticator = Hudson.getInstance().getSecurityRealm().createCliAuthenticator(this);","171","            Authentication auth = authenticator.authenticate();","172","            if (auth==Hudson.ANONYMOUS)","173","                auth = loadStoredAuthentication();","174","            sc.setAuthentication(auth); \/\/ run the CLI with the right credential","226","     * Returns the identity of the client as determined at the CLI transport level.","227","     *","228","     * <p>","229","     * When the CLI connection to the server is tunneled over HTTP, that HTTP connection","230","     * can authenticate the client, just like any other HTTP connections to the server","231","     * can authenticate the client. This method returns that information, if one is available.","232","     * By generalizing it, this method returns the identity obtained at the transport-level authentication.","233","     *","234","     * <p>","235","     * For example, imagine if the current {@link SecurityRealm} is doing Kerberos authentication,","236","     * then this method can return a valid identity of the client.","237","     *","238","     * <p>","239","     * If the transport doesn't do authentication, this method returns {@link Hudson#ANONYMOUS}.","240","     *\/","241","    public Authentication getTransportAuthentication() {","242","        Authentication a = channel.getProperty(TRANSPORT_AUTHENTICATION);","243","        if (a==null)    a = Hudson.ANONYMOUS;","244","        return a;","245","    }","246","","247","    \/**","331","    \/**","332","     * Key for {@link Channel#getProperty(Object)} that links to the {@link Authentication} object","333","     * which captures the identity of the client given by the transport layer.","334","     *\/","335","    public static final ChannelProperty<Authentication> TRANSPORT_AUTHENTICATION = new ChannelProperty<Authentication>(Authentication.class,\"transportAuthentication\");","336","}"],"delete":["62"," * calls {@link #main(List, Locale, InputStream, PrintStream, PrintStream, Authentication)} method.","75"," * the {@link #main(List, Locale, InputStream, PrintStream, PrintStream, Authentication)} method directly.","152","    public int main(List<String> args, Locale locale, InputStream stdin, PrintStream stdout, PrintStream stderr, Authentication auth) {","164","        CliAuthenticator authenticator = Hudson.getInstance().getSecurityRealm().createCliAuthenticator(this, auth);","169","            Authentication a = authenticator.authenticate();","170","            if (a == Hudson.ANONYMOUS)","171","                a = loadStoredAuthentication();","172","            sc.setAuthentication(a); \/\/ run the CLI with the right credential","306","}"]}],"remoting\/src\/main\/java\/hudson\/remoting\/Channel.java":[{"add":["754","    public <T> T getProperty(ChannelProperty<T> key) {","755","        return key.type.cast(properties.get(key));","756","    }","757",""],"delete":[]}],"core\/src\/main\/java\/hudson\/cli\/CliManagerImpl.java":[{"add":["26","import hudson.model.Hudson;","30","import org.apache.commons.discovery.ResourceNameIterator;","31","import org.apache.commons.discovery.ResourceClassIterator;","33","import org.kohsuke.args4j.CmdLineParser;","34","import org.jvnet.tiger_types.Types;","36","import java.util.List;","37","import java.util.Locale;","38","import java.util.Collections;","66","            return cmd.main(args.subList(1,args.size()),locale, stdin, out, err);","70","        new HelpCommand().main(Collections.<String>emptyList(), locale, stdin, out, err);"],"delete":["25","import hudson.model.Hudson;","27","import org.acegisecurity.Authentication;","28","import org.apache.commons.discovery.ResourceClassIterator;","29","import org.apache.commons.discovery.ResourceNameIterator;","33","import org.jvnet.tiger_types.Types;","34","import org.kohsuke.args4j.CmdLineParser;","41","import java.util.Collections;","42","import java.util.List;","43","import java.util.Locale;","51","","52","    private final Authentication auth;","53","","54","    public CliManagerImpl(Authentication auth) {","55","        this.auth = auth!=null ? auth : Hudson.ANONYMOUS;","56","    }","57","","59","        this(null);","75","            return cmd.main(args.subList(1,args.size()),locale, stdin, out, err, auth);","79","        new HelpCommand().main(Collections.<String>emptyList(), locale, stdin, out, err, auth);","112","","113",""]}],"core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":[{"add":["152","     *      the session as authenticated by the transport (which is often just {@link Hudson#ANONYMOUS}.)","154","    public CliAuthenticator createCliAuthenticator(final CLICommand command) {","157","                return command.getTransportAuthentication();"],"delete":["152","     *      the session as an anonymous user.","154","    public CliAuthenticator createCliAuthenticator(CLICommand command) {","157","                return Hudson.ANONYMOUS;","163","     * Creates a {@link CliAuthenticator} object that authenticates an invocation of a CLI command.","164","     * See {@link CliAuthenticator} for more details.","165","     *","166","     * @param command","167","     *      The command about to be executed.","168","     *","169","     * @param auth Authentication to use; not used in default implementation of this method ","170","     * @return","171","     *      never null. By default, this method returns a no-op authenticator that always authenticates","172","     *      the session as an anonymous user.","173","     *\/","174","    public CliAuthenticator createCliAuthenticator(CLICommand command, Authentication auth) {","175","        return createCliAuthenticator(command);","176","    }","177","","178","    \/**"]}]}},"334ce1be691c96ad63642c8301c4f0417a0705c3":{"changes":{"test\/src\/test\/java\/hudson\/model\/UpdateSiteTest.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/UpdateSiteTest.java":[{"add":["126","        assertEquals(FormValidation.ok(), us.updateDirectly(\/* TODO the certificate is now expired, and downloading a fresh copy did not seem to help *\/false).get());","133","        assertEquals(FormValidation.ok(), us.updateDirectly(false).get());"],"delete":["49","import org.jvnet.hudson.test.RandomlyFails;","124","    @RandomlyFails(\"CertificateExpiredException: NotAfter: \u2026\")","128","        assertEquals(FormValidation.ok(), us.updateDirectly(true).get());","132","    @RandomlyFails(\"CertificateExpiredException: NotAfter: \u2026\")","136","        assertEquals(FormValidation.ok(), us.updateDirectly(true).get());"]}]}},"4f3348459e246bb1e940a2639ba236dfbf286e55":{"changes":{"war\/resources\/WEB-INF\/security\/SecurityFilters.groovy":"MODIFY"},"diff":{"war\/resources\/WEB-INF\/security\/SecurityFilters.groovy":[{"add":["59","        bean(RememberMeProcessingFilter) {","60","            rememberMeServices = rememberMeServicesProxy;","61","            authenticationManager = authenticationManagerProxy;","62","        },"],"delete":["52","        bean(RememberMeProcessingFilter) {","53","            rememberMeServices = rememberMeServicesProxy;","54","            authenticationManager = authenticationManagerProxy;","55","        },"]}]}},"84b07be2b7ddc7f53bd26c9ee6c660db3b3a5c41":{"changes":{"cli\/src\/main\/java\/hudson\/cli\/CLI.java":"MODIFY"},"diff":{"cli\/src\/main\/java\/hudson\/cli\/CLI.java":[{"add":["337","                        Thread.sleep(PING_INTERVAL);","341","                            Thread.sleep(PING_INTERVAL);","408","","409","    private static final int PING_INTERVAL = Integer.getInteger(CLI.class.getName() + \".pingInterval\", 3_000); \/\/ JENKINS-59267"],"delete":["337","                        Thread.sleep(10_000);","341","                            Thread.sleep(10_000);"]}]}},"a96c6e02f848f31d8c1c722eb01be9150e77ca3c":{"changes":{"core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["222","    private static final Pattern DRIVE_PATTERN = Pattern.compile(\"[A-Za-z]:[\\\\\\\\\/].*\");"],"delete":["222","    private static final Pattern DRIVE_PATTERN = Pattern.compile(\"[A-Za-z]:\\\\\\\\.*\");"]}]}},"211b57e8b002b4da92743dfac3a1b902835e7652":{"changes":{"test\/src\/test\/java\/hudson\/model\/MyViewsPropertyTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/MyViewsProperty.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/ViewGroupMixIn.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/MyViewsPropertyTest.java":[{"add":["35","import org.jvnet.hudson.test.Issue;","291","","292","    @Test","293","    @Issue(\"JENKINS-48157\")","294","    public void shouldNotFailWhenMigratingLegacyViewsWithoutPrimaryOne() throws IOException {","295","        rule.jenkins.setSecurityRealm(rule.createDummySecurityRealm());","296","        User user = User.get(\"User\");","297","","298","        \/\/ Emulates creation of a new object with Reflection in User#load() does.","299","        MyViewsProperty property = new MyViewsProperty(null);","300","        user.addProperty(property);","301","","302","        \/\/ At AllView with non-default to invoke NPE path in AllView.migrateLegacyPrimaryAllViewLocalizedName()","303","        property.addView(new AllView(\"foobar\"));","304","        property.readResolve();","305","    }"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/MyViewsProperty.java":[{"add":["41","import javax.annotation.CheckForNull;","64","","65","    \/**","66","     * Name of the primary view defined by the user.","67","     * {@code null} means that the View is not defined.","68","     *\/","69","    @CheckForNull","80","    public MyViewsProperty(@CheckForNull String primaryViewName) {","82","        readResolve(); \/\/ initialize fields","86","        this(null);","98","        if (primaryViewName != null) {","99","            \/\/ It may happen when the default constructor is invoked","100","            primaryViewName = AllView.migrateLegacyPrimaryAllViewLocalizedName(views, primaryViewName);","101","        }","112","    @CheckForNull","117","    \/**","118","     * Sets the primary view.","119","     * @param primaryViewName Name of the primary view to be set.","120","     *                        {@code null} to make the primary view undefined.","121","     *\/","122","    public void setPrimaryViewName(@CheckForNull String primaryViewName) {"],"delete":["73","    public MyViewsProperty(String primaryViewName) {","78","        readResolve();","90","        primaryViewName = AllView.migrateLegacyPrimaryAllViewLocalizedName(views, primaryViewName);","105","    public void setPrimaryViewName(String primaryViewName) {"]}],"core\/src\/main\/java\/hudson\/model\/ViewGroupMixIn.java":[{"add":["38","import javax.annotation.Nonnull;","69","     * Returns all views in the group. This list must be modifiable and concurrently iterable.","71","    @Nonnull","73","","74","    \/**","75","     * Gets primary view of the mix-in.","76","     * @return Name of the primary view, {@code null} if there is no primary one defined.","77","     *\/","78","    @CheckForNull","80","","81","    \/**","82","     * Sets the primary view.","83","     * @param newName Name of the primary view to be set.","84","     *                {@code null} to make the primary view undefined.","85","     *\/","92","    public void addView(@Nonnull View v) throws IOException {","98","    public boolean canDelete(@Nonnull View view) {","102","    public synchronized void deleteView(@Nonnull View view) throws IOException {","117","        if (name == null) {","118","            return null;","119","        }","124","        if (!name.equals(primaryView())) {"],"delete":["68","     * Returns all the views. This list must be concurrently iterable.","78","    public void addView(View v) throws IOException {","84","    public boolean canDelete(View view) {","88","    public synchronized void deleteView(View view) throws IOException {","107","        if (name != null && !name.equals(primaryView())) {"]}]}},"c5bc4721a071f49b8db2705722fa777331ac1978":{"changes":{"opensuse\/SPECS\/jenkins.spec":"MODIFY","opensuse\/SOURCES\/jenkins.sysconfig.in":"MODIFY"},"diff":{"opensuse\/SPECS\/jenkins.spec":[{"add":["31","Requires:\tjava >= 1.6"],"delete":["31","Requires:\tjava-sun >= 1.6.0"]}],"opensuse\/SOURCES\/jenkins.sysconfig.in":[{"add":["15","# Java runtime to run Jenkins","16","# When left empty, the current system default JRE, as defined","17","# by update-alternatives(8), is used.","19","JENKINS_JAVA_HOME=\"\""],"delete":["15","# Java executable to run Jenkins","16","# When left empty, we'll try to find the suitable Java.","18","JENKINS_JAVA_CMD=\"\""]}]}},"6414d0718f75f10d32584a09f8886b262ba7e7ed":{"changes":{"core\/src\/main\/java\/hudson\/os\/SU.java":"MODIFY","core\/src\/main\/java\/jenkins\/security\/ChannelConfigurator.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/os\/SU.java":[{"add":["157","            if (Util.fixEmptyAndTrim(rootPassword) == null) {"],"delete":["157","            if(rootPassword==null) {"]}],"core\/src\/main\/java\/jenkins\/security\/ChannelConfigurator.java":[{"add":["40","        return ExtensionList.lookup(ChannelConfigurator.class);"],"delete":["7","import jenkins.model.Jenkins;","41","        return Jenkins.getInstance().getExtensionList(ChannelConfigurator.class);"]}]}},"81ba9354522a18f5c3d55fdf5cba89415abb538b":{"changes":{"core\/src\/main\/java\/hudson\/model\/Descriptor.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/java\/hudson\/security\/HudsonFilter.java":"MODIFY","core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":"MODIFY","core\/src\/main\/java\/hudson\/security\/ChainedServletFilter.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Descriptor.java":[{"add":["34","import org.kohsuke.stapler.MetaClassLoader;"],"delete":["28","import hudson.util.CopyOnWriteList;"]}],"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["1489","            HudsonFilter filter = HudsonFilter.get(servletContext);","1490","            if (filter == null) {","1491","                \/\/ Fix for #3069: This filter is not necessarily initialized before the servlets.","1492","                \/\/ when HudsonFilter does come back, it'll initialize itself.","1493","                LOGGER.info(\"HudsonFilter has not yet been initialized: Can't perform security setup for now\");","1494","            } else {","1495","                LOGGER.info(\"HudsonFilter has been previously initialized: Setting security up\");","1496","                filter.reset(securityRealm);","1497","                LOGGER.info(\"Security is now fully set up\");","1498","            }"],"delete":["1489","            HudsonFilter.get(servletContext).reset(securityRealm);"]}],"core\/src\/main\/java\/hudson\/security\/HudsonFilter.java":[{"add":["25","import hudson.model.Hudson;","26","","28","import java.util.logging.Level;","29","import java.util.logging.Logger;","30","","31","import javax.servlet.Filter;","32","import javax.servlet.FilterChain;","33","import javax.servlet.FilterConfig;","34","import javax.servlet.ServletContext;","35","import javax.servlet.ServletException;","36","import javax.servlet.ServletRequest;","37","import javax.servlet.ServletResponse;","55","\t\/**","101","        Hudson hudson = Hudson.getInstance();","102","        if (hudson != null) {","103","            \/\/ looks like we are initialized after Hudson came into being. initialize it now. See #3069","104","            LOGGER.fine(\"Security wasn't initialized; Initializing it...\");","105","            SecurityRealm securityRealm = hudson.getSecurityRealm();","106","            reset(securityRealm);","107","            LOGGER.fine(\"securityRealm is \" + securityRealm);","108","            LOGGER.fine(\"Security initialized\");","109","        }","145","        LOGGER.entering(HudsonFilter.class.getName(), \"doFilter\");","146","        ","147","        \/\/ to deal with concurrency, we need to capture the object.","163","","164","    private static final Logger LOGGER = Logger.getLogger(HudsonFilter.class.getName());"],"delete":["25","import javax.servlet.*;","44","    \/**","125","        \/\/ to deal with concurrency, we need to capture the object. "]}],"core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":[{"add":["294","        LOGGER.entering(SecurityRealm.class.getName(), \"createFilter\");","295","        "],"delete":[]}],"core\/src\/main\/java\/hudson\/security\/ChainedServletFilter.java":[{"add":["25","import java.io.IOException;","26","import java.util.Arrays;","27","import java.util.Collection;","28","import java.util.logging.Level;","29","import java.util.logging.Logger;","30","","64","        if (LOGGER.isLoggable(Level.FINEST))","65","            for (Filter f : filters)","66","                LOGGER.finest(\"ChainedServletFilter contains: \" + f);","67","","73","        LOGGER.entering(ChainedServletFilter.class.getName(), \"doFilter\");","74","","96","","97","    private static final Logger LOGGER = Logger.getLogger(ChainedServletFilter.class.getName());"],"delete":["31","import java.io.IOException;","32","import java.util.Arrays;","33","import java.util.Collection;"]}]}},"89a11462c7e77484e8e9fff36baa404eaba9c8e8":{"changes":{"core\/src\/main\/java\/hudson\/model\/FingerprintCleanupThread.java":"MODIFY","changelog.html":"MODIFY","core\/src\/test\/java\/hudson\/model\/FingerprintTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Fingerprint.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/FingerprintCleanupThread.java":[{"add":["102","            if (fp == null || !fp.isAlive()) {"],"delete":["102","            if(!fp.isAlive()) {"]}],"changelog.html":[{"add":["66","  <li class=bug>","67","    Since 1.518, fingerprint serialization broke when job or file names contained XML special characters like ampersands.","68","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-18337\">issue 18337<\/a>)"],"delete":[]}],"core\/src\/test\/java\/hudson\/model\/FingerprintTest.java":[{"add":["222","        Fingerprint f = new Fingerprint(new Fingerprint.BuildPtr(\"foo\", 13), \"stuff&more.jar\", SOME_MD5);","231","        assertNotNull(f2);"],"delete":["222","        Fingerprint f = new Fingerprint(new Fingerprint.BuildPtr(\"foo\", 13), \"stuff.jar\", SOME_MD5);"]}],"core\/src\/main\/java\/hudson\/model\/Fingerprint.java":[{"add":["68","import javax.annotation.CheckForNull;","69","import org.xmlpull.v1.XmlPullParserException;","1113","                    w.print(Util.xmlEscape(original.name));","1124","                w.print(Util.xmlEscape(fileName));","1130","                    w.print(Util.xmlEscape(e.getKey()));","1199","    \/*package*\/ static @CheckForNull Fingerprint load(byte[] md5sum) throws IOException {","1202","    \/*package*\/ static @CheckForNull Fingerprint load(File file) throws IOException {","1228","                logger.log(Level.WARNING, \"Size zero fingerprint. Disk corruption? {0}\", configFile);","1229","                file.delete();","1230","                return null;","1231","            }","1232","            String parseError = messageOfXmlPullParserException(e);","1233","            if (parseError != null) {","1234","                logger.log(Level.WARNING, \"Malformed XML in {0}: {1}\", new Object[] {configFile, parseError});","1242","    private static String messageOfXmlPullParserException(Throwable t) {","1243","        if (t instanceof XmlPullParserException) {","1244","            return t.getMessage();","1245","        }","1246","        Throwable t2 = t.getCause();","1247","        if (t2 != null) {","1248","            return messageOfXmlPullParserException(t2);","1249","        } else {","1250","            return null;","1251","        }","1252","    }"],"delete":["1111","                    w.print(original.name);","1122","                w.print(fileName);","1128","                    w.print(e.getKey());","1197","    \/*package*\/ static Fingerprint load(byte[] md5sum) throws IOException {","1200","    \/*package*\/ static Fingerprint load(File file) throws IOException {","1226","                logger.log(Level.WARNING, \"Size zero fingerprint. Disk corruption? \"+configFile,e);"]}]}},"40e75129f40675f8a71b489b38c5911b37cb8559":{"changes":{"core\/src\/main\/java\/hudson\/util\/MaskingClassLoader.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/MaskingClassLoader.java":[{"add":["25","import java.io.IOException;","27","import java.util.*;","82","    @Override","83","    public Enumeration<URL> getResources(String name) throws IOException {","84","        for (String mask : masksResources) {","85","            if(name.startsWith(mask))","86","                return null;","87","        }","88","","89","        return super.getResources(name);","90","    }","91",""],"delete":["26","import java.util.ArrayList;","27","import java.util.Arrays;","28","import java.util.Collection;","29","import java.util.List;"]}]}},"08a4c5d05ee6d91376603479b3044ecbdf759d08":{"changes":{"core\/src\/main\/java\/hudson\/util\/io\/TarArchiver.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/io\/TarArchiver.java":[{"add":["107","                    \/\/ Separate try block not to wrap exception thrown while opening the input stream into an exception","115","                        throw new IOException(\"Error writing to tar file from: \" + file, e);"],"delete":["107","                    \/\/ Separate tray block not to wrap exception thrown while opening the input stream into an exception","115","                        IOException ioE = new IOException(\"Error writing to tar file from: \" + file, e);","116","                        throw ioE;"]}]}},"5c58f82c0d1ddb5e5ddf6cb753748328f966b141":{"changes":{"core\/src\/main\/java\/hudson\/ExtensionComponent.java":"MODIFY","test\/src\/test\/java\/hudson\/ExtensionListTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/ExtensionComponent.java":[{"add":["93","        boolean thisIsDescriptor = false;","94","        String thisLabel = this.instance.getClass().getName();","95","        if (this.instance instanceof Descriptor) {","97","                thisLabel = Util.fixNull(((Descriptor) this.instance).getDisplayName());","98","                thisIsDescriptor = true;","100","                LOG.log(Level.WARNING, \"Failure during Descriptor#getDisplayName for \" + this.instance.getClass().getName(), x);","103","","104","        boolean thatIsDescriptor = false;","105","        String thatLabel = that.instance.getClass().getName();","106","        if (that.instance instanceof Descriptor) {","107","            try {","108","                thatLabel = Util.fixNull(((Descriptor) that.instance).getDisplayName());","109","                thatIsDescriptor = true;","110","            } catch (RuntimeException | LinkageError x) {","111","                LOG.log(Level.WARNING, \"Failure during Descriptor#getDisplayName for \" + that.instance.getClass().getName(), x);","112","            }","113","        }","114","","115","        if (thisIsDescriptor) {","116","            if (thatIsDescriptor) {","117","                return thisLabel.compareTo(thatLabel);","118","            } else {","119","                return 1;","120","            }","121","        } else {","122","            if (thatIsDescriptor) {","123","                return -1;","124","            }","125","        }","126","","127","        return thisLabel.compareTo(thatLabel);"],"delete":["93","        \/\/ make the order bit more deterministic among extensions of the same ordinal","94","        if (this.instance instanceof Descriptor && that.instance instanceof Descriptor) {","96","                return Util.fixNull(((Descriptor)this.instance).getDisplayName()).compareTo(Util.fixNull(((Descriptor)that.instance).getDisplayName()));","98","                LOG.log(Level.WARNING, null, x);","101","        return this.instance.getClass().getName().compareTo(that.instance.getClass().getName());"]}],"test\/src\/test\/java\/hudson\/ExtensionListTest.java":[{"add":["219","    @Issue(\"JENKINS-62056\")","220","    @Test","221","    public void checkSort() {","222","        ExtensionList.lookup(Object.class).get(0); \/\/ exceptions are a problem","223","    }"],"delete":[]}]}},"12031d7d59409186c8c36ac791736e475a883dc2":{"changes":{"war\/src\/main\/js\/templates\/firstUserPanel.hbs":"MODIFY","core\/src\/main\/java\/hudson\/security\/HudsonPrivateSecurityRealm.java":"MODIFY","war\/src\/main\/js\/pluginSetupWizardGui.js":"MODIFY","core\/src\/main\/java\/jenkins\/install\/SetupWizard.java":"MODIFY","core\/src\/main\/java\/hudson\/security\/AccountCreationFailedException.java":"ADD"},"diff":{"war\/src\/main\/js\/templates\/firstUserPanel.hbs":[{"add":["5","\t\t<iframe src=\"{{baseUrl}}\/setupWizard\/setupWizardFirstUser\" id=\"setup-first-user\"><\/iframe>"],"delete":["5","\t\t<iframe src=\"{{baseUrl}}\/setupWizard\/setupWizardFirstUser\"><\/iframe>"]}],"core\/src\/main\/java\/hudson\/security\/HudsonPrivateSecurityRealm.java":[{"add":["292","     * Creates a user account. Intended to be called from the setup wizard.","293","     * Note that this method does not check whether it is actually called from","294","     * the setup wizard. This requires the {@link Jenkins#ADMINISTER} permission.","295","     *","296","     * @param req the request to retrieve input data from","297","     * @return the created user account, never null","298","     * @throws AccountCreationFailedException if account creation failed due to invalid form input","299","     *\/","300","    @Restricted(NoExternalUse.class)","301","    public User createAccountFromSetupWizard(StaplerRequest req) throws IOException, AccountCreationFailedException {","302","        checkPermission(Jenkins.ADMINISTER);","303","        SignupInfo si = validateAccountCreationForm(req, false);","304","        if (si.errorMessage != null) {","305","            throw new AccountCreationFailedException(si.errorMessage);","306","        } else {","307","            return createAccount(si);","308","        }","309","    }","310","","311","    \/**","343","     * @param req the request to get the form data from (is also used for redirection)","344","     * @param rsp the response to use for forwarding if the creation fails","345","     * @param validateCaptcha whether to attempt to validate a captcha in the request","346","     * @param formView the view to redirect to if creation fails","347","     *","352","    private User createAccount(StaplerRequest req, StaplerResponse rsp, boolean validateCaptcha, String formView) throws ServletException, IOException {","353","        SignupInfo si = validateAccountCreationForm(req, validateCaptcha);","354","","355","        if (si.errorMessage != null) {","356","            \/\/ failed. ask the user to try again.","357","            req.getView(this, formView).forward(req, rsp);","358","            return null;","359","        }","360","","361","        return createAccount(si);","362","    }","363","","364","    \/**","365","     * @param req              the request to process","366","     * @param validateCaptcha  whether to attempt to validate a captcha in the request","367","     *","368","     * @return a {@link SignupInfo#SignupInfo(StaplerRequest) SignupInfo from given request}, with {@link","369","     * SignupInfo#errorMessage} set to a non-null value if any of the supported fields are invalid","370","     *\/","371","    private SignupInfo validateAccountCreationForm(StaplerRequest req, boolean validateCaptcha) {","376","        if (validateCaptcha && !validateCaptcha(si.captcha)) {","378","        }","380","        if (si.password1 != null && !si.password1.equals(si.password2)) {","382","        }","384","        if (!(si.password1 != null && si.password1.length() != 0)) {","386","        }","388","        if (si.username == null || si.username.length() == 0) {","390","        } else {","392","            User user = User.getById(si.username, false);","399","        if (si.fullname == null || si.fullname.length() == 0) {","401","        }","403","        if (isMailerPluginPresent() && (si.email == null || !si.email.contains(\"@\"))) {","405","        }","407","        if (!User.isIdOrFullnameAllowed(si.username)) {","411","        if (!User.isIdOrFullnameAllowed(si.fullname)) {","414","        req.setAttribute(\"data\", si); \/\/ for error messages in the view","415","        return si;","416","    }","418","    \/**","419","     * Creates a new account from a valid signup info. A signup info is valid if its {@link SignupInfo#errorMessage}","420","     * field is null.","421","     *","422","     * @param si the valid signup info to create an account from","423","     * @return a valid {@link User} object created from given signup info","424","     * @throws IllegalArgumentException if an invalid signup info is passed","425","     *\/","426","    private User createAccount(SignupInfo si) throws IOException {","427","        if (si.errorMessage != null) {","428","            throw new IllegalArgumentException(\"invalid signup info passed to createAccount(si): \" + si.errorMessage);","431","        User user = createAccount(si.username, si.password1);","433","        if (isMailerPluginPresent()) {","438","                user.addProperty((UserProperty) c.newInstance(si.email));","446",""],"delete":["327","    private User createAccount(StaplerRequest req, StaplerResponse rsp, boolean selfRegistration, String formView) throws ServletException, IOException {","332","        if(selfRegistration && !validateCaptcha(si.captcha))","335","        if(si.password1 != null && !si.password1.equals(si.password2))","338","        if(!(si.password1 != null && si.password1.length() != 0))","341","        if(si.username==null || si.username.length()==0)","343","        else {","345","            User user = User.getById(si.username, false); ","352","        if(si.fullname==null || si.fullname.length()==0)","355","        if(isMailerPluginPresent() && (si.email==null || !si.email.contains(\"@\")))","358","        if (! User.isIdOrFullnameAllowed(si.username)) {","362","        if (! User.isIdOrFullnameAllowed(si.fullname)) {","366","        if(si.errorMessage!=null) {","367","            \/\/ failed. ask the user to try again.","368","            req.setAttribute(\"data\",si);","369","            req.getView(this, formView).forward(req,rsp);","370","            return null;","372","","374","        User user = createAccount(si.username,si.password1);","376","        if(isMailerPluginPresent()) {","381","                user.addProperty((UserProperty)c.newInstance(si.email));","389","    "]}],"war\/src\/main\/js\/pluginSetupWizardGui.js":[{"add":["874","","875","\tvar handleFirstUserResponseSuccess = function (data) {","876","\t\tif (data.status === 'ok') {","878","\t\t} else {","879","\t\t\tsetPanel(errorPanel, {errorMessage: 'Error trying to create first user: ' + data.statusText});","882","","883","\tvar handleFirstUserResponseError = function(res) {","884","\t\t\/\/ We're expecting a full HTML page to replace the form","885","\t\t\/\/ We can only replace the _whole_ iframe due to XSS rules","886","\t\t\/\/ https:\/\/stackoverflow.com\/a\/22913801\/1117552","887","\t\tvar responseText = res.responseText;","888","\t\tvar $page = $(responseText);","889","\t\tvar $main = $page.find('#main-panel').detach();","890","\t\tif($main.length > 0) {","891","\t\t\tresponseText = responseText.replace(\/body([^>]*)[>](.|[\\r\\n])+[<][\/]body\/,'body$1>'+$main.html()+'<\/body');","892","\t\t}","893","\t\tvar doc = $('iframe#setup-first-user').contents()[0];","894","\t\tdoc.open();","895","\t\tdoc.write(responseText);","896","\t\tdoc.close();","897","\t\t$('button').prop({disabled:false});","898","\t};","903","\t\tvar $form = $('iframe#setup-first-user').contents().find('form:not(.no-json)');","904","\t\tsecurityConfig.saveFirstUser($form, handleFirstUserResponseSuccess, handleFirstUserResponseError);"],"delete":["874","\t","875","\tvar handleStaplerSubmit = function(data) {","876","\t\tif(data.status && data.status > 200) {","877","\t\t\t\/\/ Nothing we can really do here","878","\t\t\tsetPanel(errorPanel, { errorMessage: data.statusText });","879","\t\t\treturn;","880","\t\t}","881","\t\t","882","\t\ttry {","883","\t\t\tif(JSON.parse(data).status === 'ok') {","884","\t\t\t\tshowStatePanel();","885","\t\t\t\treturn;","886","\t\t\t}","887","\t\t} catch(e) {","888","\t\t\t\/\/ ignore JSON parsing issues, this may be HTML","889","\t\t}","890","\t\t\/\/ we get 200 OK","891","\t\tvar responseText = data.responseText;","892","\t\tvar $page = $(responseText);","893","\t\tvar $errors = $page.find('.error');","894","\t\tif($errors.length > 0) {","895","\t\t\tvar $main = $page.find('#main-panel').detach();","896","\t\t\tif($main.length > 0) {","897","\t\t\t\tresponseText = responseText.replace(\/body([^>]*)[>](.|[\\r\\n])+[<][\/]body\/,'body$1>'+$main.html()+'<\/body');","898","\t\t\t}","899","\t\t\tvar doc = $('iframe[src]').contents()[0];","900","\t\t\tdoc.open();","901","\t\t\tdoc.write(responseText);","902","\t\t\tdoc.close();","903","\t\t}","904","\t\telse {","912","\t\tsecurityConfig.saveFirstUser($('iframe[src]').contents().find('form:not(.no-json)'), handleStaplerSubmit, handleStaplerSubmit);"]}],"core\/src\/main\/java\/jenkins\/install\/SetupWizard.java":[{"add":["41","import hudson.security.AccountCreationFailedException;","243","    @Restricted(NoExternalUse.class)","244","    public HttpResponse doCreateAdminUser(StaplerRequest req, StaplerResponse rsp) throws IOException {","247","","249","        HudsonPrivateSecurityRealm securityRealm = (HudsonPrivateSecurityRealm) j.getSecurityRealm();","250","","253","            if (admin != null) {","256","","257","            User newUser = securityRealm.createAccountFromSetupWizard(req);","258","            if (admin != null) {","259","                admin = null;","261","","262","            \/\/ Success! Delete the temporary password file:","263","            try {","264","                getInitialAdminPasswordFile().delete();","265","            } catch (InterruptedException e) {","266","                throw new IOException(e);","267","            }","268","","269","            InstallUtil.proceedToNextStateFrom(InstallState.CREATE_ADMIN_USER);","270","","271","            \/\/ ... and then login","272","            Authentication auth = new UsernamePasswordAuthenticationToken(newUser.getId(), req.getParameter(\"password1\"));","273","            auth = securityRealm.getSecurityComponents().manager.authenticate(auth);","274","            SecurityContextHolder.getContext().setAuthentication(auth);","275","            CrumbIssuer crumbIssuer = Jenkins.getInstance().getCrumbIssuer();","276","            JSONObject data = new JSONObject();","277","            if (crumbIssuer != null) {","278","                data.accumulate(\"crumbRequestField\", crumbIssuer.getCrumbRequestField()).accumulate(\"crumb\", crumbIssuer.getCrumb(req));","279","            }","280","            return HttpResponses.okJSON(data);","281","        } catch (AccountCreationFailedException e) {","282","            \/*","283","            Return Unprocessable Entity from WebDAV. While this is not technically in the HTTP\/1.1 standard, browsers","284","            seem to accept this. 400 Bad Request is technically inappropriate because that implies invalid *syntax*,","285","            not incorrect data. The client only cares about it being >200 anyways.","286","             *\/","287","            rsp.setStatus(422);","288","            return HttpResponses.forwardToView(securityRealm, \"\/jenkins\/install\/SetupWizard\/setupWizardFirstUser.jelly\");","290","            if (admin != null) {"],"delete":["242","    public HttpResponse doCreateAdminUser(StaplerRequest req, StaplerResponse rsp) throws IOException, ServletException {","245","        ","247","        HudsonPrivateSecurityRealm securityRealm = (HudsonPrivateSecurityRealm)j.getSecurityRealm();","248","        ","251","            if(admin != null) {","254","            ","255","            User u = securityRealm.createAccountByAdmin(req, rsp, \"\/jenkins\/install\/SetupWizard\/setupWizardFirstUser.jelly\", null);","256","            if (u != null) {","257","                if(admin != null) {","258","                    admin = null;","259","                }","260","                ","261","                \/\/ Success! Delete the temporary password file:","262","                try {","263","                    getInitialAdminPasswordFile().delete();","264","                } catch (InterruptedException e) {","265","                    throw new IOException(e);","266","                }","267","                ","268","                InstallUtil.proceedToNextStateFrom(InstallState.CREATE_ADMIN_USER);","269","                ","270","                \/\/ ... and then login","271","                Authentication a = new UsernamePasswordAuthenticationToken(u.getId(),req.getParameter(\"password1\"));","272","                a = securityRealm.getSecurityComponents().manager.authenticate(a);","273","                SecurityContextHolder.getContext().setAuthentication(a);","274","                CrumbIssuer crumbIssuer = Jenkins.getInstance().getCrumbIssuer();","275","                JSONObject data = new JSONObject();","276","                if (crumbIssuer != null) {","277","                    data.accumulate(\"crumbRequestField\", crumbIssuer.getCrumbRequestField()).accumulate(\"crumb\", crumbIssuer.getCrumb(req));","278","                }","279","                return HttpResponses.okJSON(data);","280","            } else {","281","                return HttpResponses.okJSON();","284","            if(admin != null) {"]}],"core\/src\/main\/java\/hudson\/security\/AccountCreationFailedException.java":[{"add":[],"delete":[]}]}},"6e6e2d7ec93f99ef178f87ef20fa4bb09d0073ae":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Messages_ru.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Messages_ru.properties":[{"add":["46","BallColor.Unstable=\\u041D\\u0435\\u0441\\u0442\\u0430\\u0431\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439"],"delete":["46","BallColor.Unstable=\\u041d\\u0435\\u0441\\u0442\\u0430\\u0431\\u0438\\u043b\\u044c\\u043d\\u043e"]}]}},"5fed787ceadcfe84fb0f5620b216e73208e3d411":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Slave\/ComputerImpl\/log.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Slave\/ComputerImpl\/sidepanel.jelly":"MODIFY","core\/src\/main\/java\/hudson\/model\/Slave.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Slave\/ComputerImpl\/disconnect.jelly":"ADD"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Slave\/ComputerImpl\/log.jelly":[{"add":["4","      <l:isAdmin>","5","        <pre id=\"out\"><\/pre>","6","        <div id=\"spinner\">","7","          <img src=\"${rootURL}\/images\/spinner.gif\" \/>","8","        <\/div>","9","        <t:progressiveText href=\"progressiveLog\" idref=\"out\" spinner=\"spinner\" \/>","10","      <\/l:isAdmin>"],"delete":["4","      <pre id=\"out\"><\/pre>","5","      <div id=\"spinner\">","6","        <img src=\"${rootURL}\/images\/spinner.gif\" \/>","7","      <\/div>","8","      <t:progressiveText href=\"progressiveLog\" idref=\"out\" spinner=\"spinner\" \/>"]}],"core\/src\/main\/resources\/hudson\/model\/Slave\/ComputerImpl\/sidepanel.jelly":[{"add":["9","      <l:isAdmin>","10","        <l:task icon=\"images\/24x24\/clipboard.gif\" href=\"log\" title=\"Log\" \/>","11","        <l:task icon=\"images\/24x24\/computer.gif\" href=\"systemInfo\" title=\"System Information\" \/>","12","        <l:task icon=\"images\/24x24\/edit-delete.gif\" href=\"disconnect\" title=\"Disconnect\" \/>","13","      <\/l:isAdmin>"],"delete":["9","      <l:task icon=\"images\/24x24\/clipboard.gif\" href=\"log\" title=\"Log\" \/>","10","      <l:task icon=\"images\/24x24\/computer.gif\" href=\"systemInfo\" title=\"System Information\" \/>"]}],"core\/src\/main\/java\/hudson\/model\/Slave.java":[{"add":["322","        public void doDoDisconnect(StaplerRequest req, StaplerResponse rsp) throws IOException, ServletException {","323","            if(!Hudson.adminCheck(req,rsp))","324","                return;","325","            closeChannel();","326","            rsp.sendRedirect(\".\");","327","        }","328",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Slave\/ComputerImpl\/disconnect.jelly":[{"add":[],"delete":[]}]}},"f71af8be1abb42ed2662a6f5d311fbcbcd813581":{"changes":{"test\/src\/test\/java\/hudson\/security\/SecurityRealmTest.java":"MODIFY","core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/security\/SecurityRealmTest.java":[{"add":["26","import com.gargoylesoftware.htmlunit.html.HtmlPage;","28","import hudson.model.User;","31","import org.hamcrest.Matchers;","42","import com.gargoylesoftware.htmlunit.CookieManager;","43","import com.gargoylesoftware.htmlunit.util.Cookie;","44","","45","import java.util.Calendar;","46","import java.util.Collections;","47","import java.util.Date;","48","import java.util.Random;","49","","50","import static org.hamcrest.Matchers.*;","93","","94","    static void addSessionCookie(CookieManager manager, String domain, String path, Date date) {","95","        manager.addCookie(new Cookie(domain, \"JSESSIONID.\"+Integer.toHexString(new Random().nextInt()),","96","                \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",","97","                path,","98","                date,","99","                false));","100","    }","101","","102","    @Test","103","    public void many_sessions_logout() throws Exception {","104","        JenkinsRule.WebClient wc = j.createWebClient();","105","        CookieManager manager = wc.getCookieManager();","106","        manager.setCookiesEnabled(true);","107","        wc.goTo(\"login\");","108","","109","        Calendar calendar = Calendar.getInstance();","110","        calendar.add(Calendar.DAY_OF_YEAR, 1);","111","        Date tomorrow = calendar.getTime();","112","        byte[] array = new byte[7];","113","        Collections.nCopies(8, 1)","114","                .stream()","115","                .forEach(i -> addSessionCookie(manager, \"localhost\", \"\/jenkins\", tomorrow));","116","        addSessionCookie(manager, \"localhost\", \"\/will-not-be-sent\", tomorrow);","117","","118","        HtmlPage page = wc.goTo(\"logout\");","119","","120","        StringBuilder builder = new StringBuilder();","121","        int sessionCookies = 0;","122","","123","        final boolean debugCookies = false;","124","        for (Cookie cookie : manager.getCookies()) {","125","            if (cookie.getName().startsWith(\"JSESSIONID.\")) {","126","                ++sessionCookies;","127","","128","                if (debugCookies) {","129","                    builder.append(cookie.getName());","130","                    String path = cookie.getPath();","131","                    if (path != null)","132","                        builder.append(\"; Path=\").append(path);","133","                    builder.append(\"\\n\");","134","                }","135","            }","136","        }","137","        if (debugCookies) {","138","            assertThat(builder.toString(), Matchers.is(equalTo(\"\")));","139","        }","140","        assertThat(sessionCookies, Matchers.is(equalTo(1)));","141","    }"],"delete":[]}],"core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":[{"add":["292","        String contextPath = req.getContextPath().length() > 0 ? req.getContextPath() : \"\/\";","293","        resetRememberMeCookie(req, rsp, contextPath);","294","        clearStaleSessionCookies(req, rsp, contextPath);","295","","296","        rsp.sendRedirect2(getPostLogOutUrl(req,auth));","297","    }","298","","299","    private void resetRememberMeCookie(StaplerRequest req, StaplerResponse rsp, String contextPath) {","300","        Cookie cookie = new Cookie(ACEGI_SECURITY_HASHED_REMEMBER_ME_COOKIE_KEY, \"\");","304","        cookie.setPath(contextPath);","306","    }","308","    \/\/ See https:\/\/github.com\/jenkinsci\/extras-executable-war\/blob\/6558df699d1366b18d045d2ffda3e970df377873\/src\/main\/java\/Main.java#L79-L97","309","    private static final String JSESSIONID_COOKIE_NAME =","310","            System.getProperty(\"executableWar.jetty.sessionIdCookieName\");","311","    private static final boolean DISABLE_CUSTOM_JSESSIONID_COOKIE_NAME =","312","            Boolean.getBoolean(\"executableWar.jetty.disableCustomSessionIdCookieName\");","313","","314","    private void clearStaleSessionCookies(StaplerRequest req, StaplerResponse rsp, String contextPath) {","315","        final String cookieName;","316","        if (!DISABLE_CUSTOM_JSESSIONID_COOKIE_NAME && JSESSIONID_COOKIE_NAME != null) {","317","            cookieName = JSESSIONID_COOKIE_NAME;","318","        } else {","319","            cookieName = \"JSESSIONID.\";","320","        }","321","        for (Cookie cookie : req.getCookies()) {","322","            if (cookie.getName().startsWith(cookieName)) {","323","                \/\/ one reason users log out is to clear their session(s)","324","                \/\/ so tell the browser to drop all old sessions","325","                cookie.setMaxAge(0);","326","                cookie.setValue(\"\");","327","                rsp.addCookie(cookie);","328","            }","329","        }"],"delete":["292","        \/\/ reset remember-me cookie","293","        Cookie cookie = new Cookie(ACEGI_SECURITY_HASHED_REMEMBER_ME_COOKIE_KEY,\"\");","297","        cookie.setPath(req.getContextPath().length()>0 ? req.getContextPath() : \"\/\");","300","        rsp.sendRedirect2(getPostLogOutUrl(req,auth));"]}]}},"bb265c5e95b0fe39128720b903914236962db41b":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["114","      <version>build217-jenkins-3<\/version>"],"delete":["114","      <version>build214-jenkins-3<\/version>"]}],"changelog.html":[{"add":["60","  <li class='major bug'>","61","    Upgrade Trilead SSH client library to version that does not cause connection loss when","62","    there is a lot of logging on the build slave and the performance improvements in","63","    ssh-slaves 0.27+ are enabled (","64","    <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-18836\">issue 18836<\/a>,","65","    <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-18879\">issue 18879<\/a>,","66","    <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-19619\">issue 19619<\/a>)"],"delete":[]}]}},"92044bb090b497344ee4a3e64c0b6dce04d15e88":{"changes":{"core\/src\/main\/java\/hudson\/util\/VersionNumber.java":"MODIFY","core\/src\/test\/java\/hudson\/util\/VersionNumberTest.java":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/util\/VersionNumber.java":[{"add":["84","            if(token.startsWith(\"snapshot\")) {","86","                digits[i++] = 1000;","87","                break;"],"delete":["84","            if(token.equals(\"SNAPSHOT\")) {","86","                digits[i++] = 1000; "]}],"core\/src\/test\/java\/hudson\/util\/VersionNumberTest.java":[{"add":[],"delete":[]}]}},"3ddd2b0c0876239316b5cfc6bca497821bd200b8":{"changes":{"core\/src\/main\/java\/hudson\/lifecycle\/UnixLifecycle.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/jna\/GNUCLibrary.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/lifecycle\/UnixLifecycle.java":[{"add":["82","        LIBC.execvp(exe, new StringArray(args.toArray(new String[args.size()])));"],"delete":["82","        LIBC.execv(exe, new StringArray(args.toArray(new String[args.size()])));"]}],"core\/src\/main\/java\/hudson\/util\/jna\/GNUCLibrary.java":[{"add":["57","    int execv(String path, StringArray args);","58","    int execvp(String file, StringArray args);"],"delete":["57","    int execv(String file, StringArray args);"]}]}},"b86141c84acddf6b583c4e062d0d1bf3de981f91":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Job\/buildTimeTrend.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Job\/buildTimeTrend.jelly":[{"add":["49","                            insert(new Element('a', {href: e.number + '\/console'}).","50","                                insert(new Element('img', {width: 16, height: 16, src: '${imagesURL}\/16x16\/' + e.buildStatusUrl, alt: e.iconColorDescription}))));"],"delete":["49","                            insert(new Element('img', {width: 16, height: 16, src: '${imagesURL}\/16x16\/' + e.buildStatusUrl, alt: e.iconColorDescription})));"]}]}},"c4590529f731ba30b5deb0961d73f76e35ab70ff":{"changes":{"core\/src\/test\/java\/hudson\/util\/ArgumentListBuilderTest.java":"MODIFY","war\/src\/main\/webapp\/help\/ant\/ant-properties.html":"MODIFY","changelog.html":"MODIFY","test\/src\/test\/java\/hudson\/tasks\/AntTest.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/ArgumentListBuilder.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/util\/ArgumentListBuilderTest.java":[{"add":["121","        \/\/ By default, does not escape %VAR%","122","        assertArrayEquals(new String[] { \"cmd.exe\", \"\/C\",","123","                \"\\\"ant.bat -Dfoo1=abc \\\"-Dfoo2=foo bar\\\"\"","124","                + \" \\\"-Dfoo3=\/u*r\\\" \\\"-Dfoo4=\/us?\\\" \\\"-Dfoo10=bar,baz\\\" \\\"-Dfoo5=foo;bar^baz\\\"\"","125","                + \" \\\"-Dfoo6=<xml>&here;<\/xml>\\\" \\\"-Dfoo7=foo|bar\\\"\\\"baz\\\"\"","126","                + \" \\\"-Dfoo8=% %QED% %comspec% %-%(%.%\\\"\"","127","                + \" -Dfoo9=%'''%%@% && exit %%ERRORLEVEL%%\\\"\" },","128","                builder.toWindowsCommand().toCommandArray());","129","        \/\/ Pass flag to escape %VAR%","136","                builder.toWindowsCommand(true).toCommandArray());"],"delete":["127","                builder.toWindowsCommand().toCommandArray());"]}],"war\/src\/main\/webapp\/help\/ant\/ant-properties.html":[{"add":["9","  Always use <tt>$VAR<\/tt> style (even on Windows) for references to Jenkins-defined","10","  environment variables.  On Windows, <tt>%VAR%<\/tt> style references may be used","11","  for environment variables that exist outside of Jenkins."],"delete":["9","  Always use <tt>$VAR<\/tt> style for parameter references (do not use %VAR% style,","10","  even when build runs on Windows)."]}],"changelog.html":[{"add":["83","    Ant properties with Windows %VAR% type variables did not expand since 1.370.","84","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-7442\">issue 7442<\/a>)","85","  <li class=bug>"],"delete":[]}],"test\/src\/test\/java\/hudson\/tasks\/AntTest.java":[{"add":["28","import hudson.Functions;","46","import org.jvnet.hudson.test.Bug;","149","        \/\/ Odd build tag, but it's constructed with getParent().getName() and the parent is the","150","        \/\/ matrix configuration, not the project.. if matrix build tag ever changes, update","151","        \/\/ expected value here:","166","","167","    public void testParameterExpansionByShell() throws Exception {","168","        String antName = configureDefaultAnt().getName();","169","        FreeStyleProject project = createFreeStyleProject();","170","        project.setScm(new ExtractResourceSCM(getClass().getResource(\"ant-job.zip\")));","171","        String homeVar = Functions.isWindows() ? \"%HOME%\" : \"$HOME\";","172","        project.addProperty(new ParametersDefinitionProperty(","173","                new StringParameterDefinition(\"vFOO\", homeVar, \"\"),","174","                new StringParameterDefinition(\"vBAR\", \"Home sweet \" + homeVar + \".\", \"\")));","175","        project.getBuildersList().add(new Ant(\"\", antName, null, null,","176","                \"vHOME=\" + homeVar + \"\\nvFOOHOME=Foo \" + homeVar + \"\\n\"));","177","        FreeStyleBuild build = project.scheduleBuild2(0, new UserCause()).get();","178","        assertBuildStatusSuccess(build);","179","        String log = getLog(build);","180","        if (!Functions.isWindows()) homeVar = \"\\\\\" + homeVar; \/\/ Regex escape for $","181","        assertTrue(\"Missing simple HOME parameter: \" + log,","182","                   log.matches(\"(?s).*vFOO=(?!\" + homeVar + \").*\"));","183","        assertTrue(\"Missing HOME parameter with other text: \" + log,","184","                   log.matches(\"(?s).*vBAR=Home sweet (?!\" + homeVar + \")[^\\\\r\\\\n]*\\\\..*\"));","185","        assertTrue(\"Missing HOME ant property: \" + log,","186","                   log.matches(\"(?s).*vHOME=(?!\" + homeVar + \").*\"));","187","        assertTrue(\"Missing HOME ant property with other text: \" + log,","188","                   log.matches(\"(?s).*vFOOHOME=Foo (?!\" + homeVar + \").*\"));","189","    }","190","","191","    @Bug(7108)","192","    public void testEscapeXmlInParameters() throws Exception {","193","        String antName = configureDefaultAnt().getName();","194","        FreeStyleProject project = createFreeStyleProject();","195","        project.setScm(new ExtractResourceSCM(getClass().getResource(\"ant-job.zip\")));","196","        project.addProperty(new ParametersDefinitionProperty(","197","                new StringParameterDefinition(\"vFOO\", \"<xml\/>\", \"\")));","198","        project.getBuildersList().add(new Ant(\"\", antName, null, null, \"vBAR=<xml\/>\\n\"));","199","        FreeStyleBuild build = project.scheduleBuild2(0, new UserCause()).get();","200","        assertBuildStatusSuccess(build);","201","        String log = getLog(build);","202","        assertTrue(\"Missing parameter: \" + log, log.contains(\"vFOO=<xml\/>\"));","203","        assertTrue(\"Missing ant property: \" + log, log.contains(\"vBAR=<xml\/>\"));","204","    }"],"delete":["147","        \/\/ Odd build tag, but it's constructed with getParent().getName() and the parent is the matrix","148","        \/\/ configuration, not the project.. if matrix build tag ever changes, update expected value here:"]}],"core\/src\/main\/java\/hudson\/util\/ArgumentListBuilder.java":[{"add":["269","     *   space *?,;^&<>|\"","270","     *   and if escapeVars is true, % followed by a letter.","273","     * Jenkins does not seem to require this extra escaping so it is not added by","277","     * <br\/> If escapeVars is true, a % followed by a letter has that letter wrapped","278","     * in double quotes, to avoid possible variable expansion.","279","     * ie, %foo% becomes \"%\"f\"oo%\".  The second % does not need special handling","280","     * because it is not followed by a letter. <br\/>","282","     * @param escapeVars True to escape %VAR% references; false to leave these alone","283","     *                   so they may be expanded when the command is run","287","    public ArgumentListBuilder toWindowsCommand(boolean escapeVars) {","305","                else if (percent && escapeVars","306","                         && ((c >= 'A' && c <= 'Z') || (c >= 'a' && c <= 'z'))) {","326","    \/**","327","     * Calls toWindowsCommand(false)","328","     * @see #toWindowsCommand(boolean)","329","     *\/","330","    public ArgumentListBuilder toWindowsCommand() {","331","        return toWindowsCommand(false);","332","    }","333",""],"delete":["269","     *   space *?,;^&<>|\" or % followed by a letter.","272","     * Hudson does not seem to require this extra escaping so it is not added by","276","     * <br\/> A % followed by a letter has that letter wrapped in double quotes,","277","     * to avoid possible variable expansion.  ie, %foo% becomes \"%\"f\"oo%\".","278","     * The second % does not need special handling because it is not followed","279","     * by a letter. <br\/>","284","    public ArgumentListBuilder toWindowsCommand() {","302","                else if (percent && ((c >= 'A' && c <= 'Z') || (c >= 'a' && c <= 'z'))) {"]}]}},"7410a593b30d635010c6344a812889074e68ac98":{"changes":{"core\/src\/main\/java\/jenkins\/widgets\/HistoryPageEntry.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/widgets\/HistoryPageEntry.java":[{"add":["61","            return (Integer.MIN_VALUE + run.getNumber());"],"delete":["61","            long queueId = run.getQueueId();","62","            if (queueId == Run.QUEUE_ID_UNKNOWN) {","63","                \/\/ Backward compatibility. This is a run from before the Queue.Item IDs","64","                \/\/ were mapped onto their resulting Run instance.","65","                return (Integer.MIN_VALUE + run.getNumber());","66","            } else {","67","                return queueId;","68","            }"]}]}},"d01dbe6246800f55cf9d7a4d22d1f8294073dc49":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["486","      <version>1.7<\/version>"],"delete":["486","      <version>1.5<\/version>"]}],"changelog.html":[{"add":["74","  <li class=bug>","75","    Self-restart wasn't working with 32bit x86 Solaris","76","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-6629\">issue 6629<\/a>)"],"delete":[]}]}},"49ee85a1e7d63fd7e1fb63f78bbe12c26b91bce0":{"changes":{"core\/src\/main\/java\/hudson\/Functions.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["473","    \/**","474","     * Gets the system property indicated by the specified key.","475","     * ","476","     * Delegates to {@link SystemProperties#getString(java.lang.String)}.","477","     *\/","478","    @Restricted(DoNotUse.class)","479","    public static String getSystemProperty(String key) {","480","        return SystemProperties.getString(key);","481","    }","482",""],"delete":[]}]}},"45e4e990269325ba1f8bca25959ff8dcaa21f398":{"changes":{"core\/src\/main\/java\/jenkins\/triggers\/ReverseBuildTrigger.java":"MODIFY","test\/src\/test\/java\/jenkins\/triggers\/ReverseBuildTriggerTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/triggers\/ReverseBuildTrigger.java":[{"add":["109","        if (jenkins == null || job == null) {","149","    @Override public void start(@Nonnull Job project, boolean newInstance) {"],"delete":["109","        if (jenkins == null) {","149","    @Override public void start(Job project, boolean newInstance) {"]}],"test\/src\/test\/java\/jenkins\/triggers\/ReverseBuildTriggerTest.java":[{"add":["41","","42","import java.io.IOException;","52","","53","import static org.hamcrest.Matchers.hasSize;","54","import static org.hamcrest.core.IsNot.not;","55","import static org.hamcrest.core.IsNull.nullValue;","57","","58","import org.hamcrest.core.IsNull;","61","import org.jvnet.hudson.test.Issue;","159","    @Issue(\"JENKINS-29876\")","160","    @Test","161","    public void nullJobInTriggerNotCausesNPE() throws Exception {","162","        final FreeStyleProject upstreamJob = r.createFreeStyleProject(\"upstream\");","163","","164","        \/\/job with trigger.job == null","165","        final FreeStyleProject downstreamJob1 = r.createFreeStyleProject(\"downstream1\");","166","        final ReverseBuildTrigger reverseBuildTrigger = new ReverseBuildTrigger(\"upstream\", Result.SUCCESS);","167","        downstreamJob1.addTrigger(reverseBuildTrigger);","168","        downstreamJob1.save();","169","","170","        \/\/job with trigger.job != null","171","        final FreeStyleProject downstreamJob2 = r.createFreeStyleProject(\"downstream2\");","172","        final ReverseBuildTrigger reverseBuildTrigger2 = new ReverseBuildTrigger(\"upstream\", Result.SUCCESS);","173","        downstreamJob2.addTrigger(reverseBuildTrigger2);","174","        downstreamJob2.save();","175","        r.configRoundtrip(downstreamJob2);","176","","177","        r.jenkins.rebuildDependencyGraph();","178","        final FreeStyleBuild build = upstreamJob.scheduleBuild2(0).get();","179","        r.waitUntilNoActivity();","180","","181","        r.assertLogNotContains(\"java.lang.NullPointerException\", build);","182","        assertThat(\"Build should be not triggered\", downstreamJob1.getBuilds(), hasSize(0));","183","        assertThat(\"Build should be triggered\", downstreamJob2.getBuilds(), not(hasSize(0)));","184","    }"],"delete":[]}]}},"1a27da9c7f0e566a1a9406081c0625a0ff8c2f57":{"changes":{"test\/src\/test\/resources\/lib\/form\/RepeatablePropertyTest\/ExcitingObjectContainer\/config.jelly":"ADD","test\/src\/test\/resources\/lib\/form\/RepeatablePropertyTest\/nested.jelly":"ADD","core\/src\/main\/resources\/lib\/form\/repeatable.jelly":"MODIFY","test\/src\/test\/java\/lib\/form\/RepeatablePropertyTest.java":"MODIFY","core\/src\/main\/resources\/lib\/form\/repeatableProperty.jelly":"MODIFY"},"diff":{"test\/src\/test\/resources\/lib\/form\/RepeatablePropertyTest\/ExcitingObjectContainer\/config.jelly":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/lib\/form\/RepeatablePropertyTest\/nested.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/repeatable.jelly":[{"add":["109","  <j:set var=\"minimum\" value=\"${attrs.minimum ?: 0}\" \/>"],"delete":[]}],"test\/src\/test\/java\/lib\/form\/RepeatablePropertyTest.java":[{"add":["31","import hudson.model.AbstractDescribableImpl;","35","","36","import org.apache.commons.collections4.CollectionUtils;","37","import org.apache.commons.collections4.Predicate;","39","import org.jvnet.hudson.test.Issue;","44","import java.util.Collections;","54","    public List<ExcitingObjectContainer> testRepeatableContainer;","78","","79","    @Issue(\"JENKINS-37599\")","80","    public void testNestedRepeatableProperty() throws Exception {","81","        testRepeatableContainer = Collections.emptyList();","82","        \/\/ minimum=\"1\" is set for the upper one,","83","        \/\/ the form should be:","84","        \/\/ * 1 ExcitingObjectCotainer","85","        \/\/ * no ExcitingObject","86","        final HtmlForm form = getForm(\"nested\");","87","        List<HtmlTextInput> containerNameInputs = form.getElementsByAttribute(\"input\", \"type\", \"text\");","88","        CollectionUtils.filter(containerNameInputs, new Predicate<HtmlTextInput>() {","89","            @Override","90","            public boolean evaluate(HtmlTextInput input) {","91","                return input.getNameAttribute().endsWith(\".containerName\");","92","            }","93","        });","94","        List<HtmlTextInput> greatPropertyInputs = form.getElementsByAttribute(\"input\", \"type\", \"text\");","95","        CollectionUtils.filter(greatPropertyInputs, new Predicate<HtmlTextInput>() {","96","            @Override","97","            public boolean evaluate(HtmlTextInput input) {","98","                return input.getNameAttribute().endsWith(\".greatProperty\");","99","            }","100","        });","101","        assertEquals(1, containerNameInputs.size());","102","        assertEquals(0, greatPropertyInputs.size());","103","    }","182","    public static final class ExcitingObjectContainer extends AbstractDescribableImpl<ExcitingObjectContainer> {","183","        String containerName;","184","        List<ExcitingObject> excitingObjectList;","185","","186","        @DataBoundConstructor","187","        public ExcitingObjectContainer(String containerName, List<ExcitingObject> excitingObjectList) {","188","            this.containerName = containerName;","189","            this.excitingObjectList = excitingObjectList;","190","        }","191","        public String getContainerName() {","192","            return containerName;","193","        }","194","        public List<ExcitingObject> getExcitingObjectList() {","195","            return excitingObjectList;","196","        }","197","        @Extension","198","        public static final class DescriptorImpl extends Descriptor<ExcitingObjectContainer> {","199","        }","200","    }"],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/repeatableProperty.jelly":[{"add":["69","  <f:repeatable field=\"${attrs.field}\" default=\"${attrs.default}\" noAddButton=\"${attrs.noAddButton}\" header=\"${attrs.header}\" add=\"${attrs.add}\" minimum=\"${attrs.minimum ?: 0}\" enableTopButton=\"${attrs.enableTopButton}\">"],"delete":["69","  <f:repeatable field=\"${attrs.field}\" default=\"${attrs.default}\" noAddButton=\"${attrs.noAddButton}\" header=\"${attrs.header}\" add=\"${attrs.add}\" enableTopButton=\"${attrs.enableTopButton}\">"]}]}},"80d17f5a68739eafc27d5a3fd003b7eee4cfe8f3":{"changes":{"test\/src\/test\/java\/hudson\/security\/SecurityRealmTest.java":"ADD","core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/security\/SecurityRealmTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":[{"add":["404","            \/\/ source: https:\/\/stackoverflow.com\/a\/3414217","405","            rsp.setHeader(\"Cache-Control\", \"no-cache, no-store, must-revalidate\");","406","            rsp.setHeader(\"Pragma\", \"no-cache\");","407","            rsp.setHeader(\"Expires\", \"0\");"],"delete":["404","            rsp.addHeader(\"Cache-Control\", \"no-cache\");"]}]}},"f8e92df4d54b6bb405a11503e3cc3763049d4c0d":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["58","    maven submodule build fails doing mkdir on master.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-10831\">issue 10831<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"d05752a03248035bc571732ed8c3cf6cf1e4dc05":{"changes":{"core\/src\/main\/resources\/hudson\/PluginManager\/table.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/PluginManager\/table.properties":[{"add":["27"," Jenkins will refuse to load this plugin if installed.","33"," Warning: This plugin requires dependent plugins that require Jenkins {0} or newer. \\","34"," Jenkins will refuse to load the dependent plugins requiring a newer version of Jenkins, \\","35"," and in turn loading this plugin will fail."],"delete":["27"," It may or may not work in your Jenkins.","33"," Warning: This plugin requires dependent plugins that are \\","34"," built for Jenkins {0} or newer. The dependent plugins may \\","35"," or may not work in your Jenkins and consequently this \\","36"," plugin may or may not work in your Jenkins."]}]}},"73484301cec64ada1521d208d0a6e990746497e5":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Messages_es.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/Jenkins\/loginError_es.properties":"MODIFY","core\/src\/main\/resources\/hudson\/Messages_es.properties":"MODIFY","core\/src\/main\/resources\/hudson\/security\/FederatedLoginService\/UnclaimedIdentityException\/error_es.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Messages_es.properties":[{"add":["86","Hudson.BadPortNumber=N\\u00famero err\\u00f3neo de puerto {0}"],"delete":["86","Hudson.BadPortNumber=N\\u00famero erroneo de puerto {0}"]}],"core\/src\/main\/resources\/jenkins\/model\/Jenkins\/loginError_es.properties":[{"add":["23","Try\\ again=Intntalo de nuevo","24","Login\\ Error=Error de autenticacin"],"delete":["23","Try\\ again=Intental de nuevo","24","Login\\ Error=Error de autencicacin"]}],"core\/src\/main\/resources\/hudson\/Messages_es.properties":[{"add":["49","FilePath.TildaDoesntWork=El caracter ''~'' slo est soportado en UNIX.","55","AboutJenkins.Description=Eche un vistazo a la informacin sobre la versin y la licencia."],"delete":["49","FilePath.TildaDoesntWork=El caracter ''~'' slo est soportado en unix.","55","AboutJenkins.Description=Heche un vistazo a la informacin sobre la versin y la licencia."]}],"core\/src\/main\/resources\/hudson\/security\/FederatedLoginService\/UnclaimedIdentityException\/error_es.properties":[{"add":["24"," Si tienes una cuenta de usuario y quieres asociar {0} con tu cuenta, ste no es el sitio de hacerlo. \\"],"delete":["24"," Si tienes una cuenta de usuario y quieres asociar {0} con tu cuenta, este no es el sitio de hacerlo. \\"]}]}},"12fa365b320084ab6aefc9e859ef26b1371d753d":{"changes":{"core\/src\/main\/java\/hudson\/model\/WorkspaceCleanupThread.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/WorkspaceCleanupThread.java":[{"add":["113","            FilePath path = s.getWorkspaceRoot();","114","            if(path==null)  return;","115","","116","            List<FilePath> dirs = path.list(DIR_FILTER);"],"delete":["113","            List<FilePath> dirs = s.getWorkspaceRoot().list(DIR_FILTER);"]}]}},"f8c3977f1b144c7e9065962bbb47d2f14b751024":{"changes":{"war\/src\/main\/less\/base\/style.less":"MODIFY"},"diff":{"war\/src\/main\/less\/base\/style.less":[{"add":["1674","    visibility: visible;","1684","    visibility: hidden;"],"delete":[]}]}},"185ca987eff23e3c92019e2239384781655ddde6":{"changes":{"core\/src\/main\/java\/hudson\/model\/Descriptor.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/Publisher.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Descriptor.java":[{"add":["494","     * Akin to {@link #getPropertyType(Object,String)} but never returns null."],"delete":["494","     * Akin to {@link #getPropertyType(Object,String) but never returns null."]}],"core\/src\/main\/java\/hudson\/tasks\/Publisher.java":[{"add":[],"delete":["114","     * @author Kohsuke Kawaguchi"]}]}},"55203ebeed1b7e182878d3e3c1184ac042f20473":{"changes":{"core\/src\/main\/java\/hudson\/widgets\/HistoryWidget.java":"MODIFY","core\/src\/test\/java\/jenkins\/widgets\/HistoryPageFilterTest.java":"MODIFY","core\/src\/main\/java\/hudson\/widgets\/BuildHistoryWidget.java":"MODIFY","core\/src\/main\/java\/jenkins\/widgets\/HistoryPageFilter.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/widgets\/HistoryWidget.java":[{"add":["90","        StaplerRequest currentRequest = Stapler.getCurrentRequest();","149","            return Collections.emptyList();","154","            pageEntries.add(new HistoryPageEntry<T>(iterator.next()));","157","        return pageEntries;","166","        historyPageFilter.add(baseList);"],"delete":["32","import org.apache.commons.collections.IteratorUtils;","91","\tStaplerRequest currentRequest = Stapler.getCurrentRequest();","150","            return Collections.EMPTY_LIST;","155","\t        pageEntries.add(new HistoryPageEntry<T>(iterator.next()));","158","\treturn pageEntries;","167","        historyPageFilter.add(IteratorUtils.toList(baseList.iterator()));"]}],"core\/src\/test\/java\/jenkins\/widgets\/HistoryPageFilterTest.java":[{"add":["28","import hudson.model.Queue;","52","        List<ModelObject> itemList = new ArrayList<>();","67","        List<ModelObject> runs = newRuns(1, 2);","68","        List<Queue.Item> queueItems = newQueueItems(3, 4);","70","        historyPageFilter.add(runs, queueItems);","91","        List<ModelObject> runs = newRuns(1, 10);","92","        List<Queue.Item> queueItems = newQueueItems(11, 12);","94","        historyPageFilter.add(runs, queueItems);","113","        List<ModelObject> itemList = newRuns(1, 10);","132","        List<ModelObject> itemList = newRuns(1, 10);","148","        List<ModelObject> itemList = newRuns(1, 10);","168","        List<ModelObject> itemList = newRuns(1, 10);","186","        List<ModelObject> itemList = newRuns(1, 10);","202","        List<ModelObject> itemList = newRuns(1, 10);","220","        List<ModelObject> itemList = newRuns(1, 10);","240","        List<ModelObject> itemList = newRuns(1, 10);","252","    \/**","253","     * Test newerThan (page up) mid range when there are queued builds that are new enough to","254","     * not show up.","255","     *\/","256","    @Test","257","    public void test_newerThan_doesntIncludeQueuedItems() throws IOException {","258","        HistoryPageFilter<ModelObject> historyPageFilter = newPage(5, 5L, null);","259","        List<ModelObject> runs = newRuns(1, 10);","260","        List<Queue.Item> queueItems = newQueueItems(11, 12);","261","","262","        historyPageFilter.add(runs, queueItems);","263","","264","        Assert.assertEquals(true, historyPageFilter.hasUpPage);","265","        Assert.assertEquals(true, historyPageFilter.hasDownPage);","266","        Assert.assertEquals(0, historyPageFilter.queueItems.size());","267","        Assert.assertEquals(5, historyPageFilter.runs.size());","268","","269","        Assert.assertEquals(HistoryPageEntry.getEntryId(10), historyPageFilter.runs.get(0).getEntryId());","270","        Assert.assertEquals(HistoryPageEntry.getEntryId(10), historyPageFilter.newestOnPage);","271","        Assert.assertEquals(HistoryPageEntry.getEntryId(6), historyPageFilter.oldestOnPage);","272","    }","273","","274","    \/**","275","     * Test that later items in the list that are not needed for display are not evaluated at all (for performance).","276","     *\/","277","    @Test","278","    public void test_laterItemsNotEvaluated() throws IOException {","279","        HistoryPageFilter<ModelObject> historyPageFilter = newPage(5, null, null);","280","        List<ModelObject> itemList = newRuns(6, 10);","281","        for (int queueId = 5; queueId >= 1; queueId--) {","282","            itemList.add(new ExplodingMockRun(queueId));","283","        }","284","","285","        historyPageFilter.add(itemList);","286","","287","        Assert.assertEquals(false, historyPageFilter.hasUpPage);","288","        Assert.assertEquals(true, historyPageFilter.hasDownPage);","289","        Assert.assertEquals(5, historyPageFilter.runs.size());","290","","291","        Assert.assertEquals(HistoryPageEntry.getEntryId(10), historyPageFilter.newestOnPage);","292","        Assert.assertEquals(HistoryPageEntry.getEntryId(6), historyPageFilter.oldestOnPage);","293","    }","294","","295","    private List<Queue.Item> newQueueItems(long startId, long endId) {","296","        List<Queue.Item> items = new ArrayList<>();","304","        \/\/ Runs should be in reverse order, newest first.","305","        List<ModelObject> runs = new ArrayList<>();","306","        for (long queueId = endId; queueId >= startId; queueId--) {","313","        HistoryPageFilter<ModelObject> pageFilter = new HistoryPageFilter<>(maxEntries);","356","","357","    \/\/ A version of MockRun that will throw an exception if getQueueId or getNumber is called","358","    private static class ExplodingMockRun extends MockRun {","359","        public ExplodingMockRun(long queueId) throws IOException {","360","            super(queueId);","361","        }","362","","363","        @Override","364","        public long getQueueId() {","365","            Assert.fail(\"Should not get called\");","366","            return super.getQueueId();","367","        }","368","","369","        @Override","370","        public int getNumber() {","371","            Assert.fail(\"Should not get called\");","372","            return super.getNumber();","373","        }","374","    }"],"delete":["51","        List<ModelObject> itemList = new ArrayList<ModelObject>();","66","        List<ModelObject> itemList = new ArrayList<ModelObject>();","68","        itemList.addAll(newRuns(1, 2));","69","        itemList.addAll(newQueueItems(3, 4));","70","","71","        \/\/ want to make sure the list items are ordered by id in descending order","72","        Assert.assertEquals(HistoryPageEntry.getEntryId(1), HistoryPageEntry.getEntryId(itemList.get(0)));","73","        historyPageFilter.add(itemList);","74","        Assert.assertEquals(4, HistoryPageEntry.getEntryId(itemList.get(0)));","95","        List<ModelObject> itemList = new ArrayList<ModelObject>();","97","        itemList.addAll(newRuns(1, 10));","98","        itemList.addAll(newQueueItems(11, 12));","99","","100","        historyPageFilter.add(itemList);","119","        List<ModelObject> itemList = new ArrayList<ModelObject>();","121","        itemList.addAll(newRuns(1, 10));","139","        List<ModelObject> itemList = new ArrayList<ModelObject>();","141","        itemList.addAll(newRuns(1, 10));","156","        List<ModelObject> itemList = new ArrayList<ModelObject>();","158","        itemList.addAll(newRuns(1, 10));","177","        List<ModelObject> itemList = new ArrayList<ModelObject>();","179","        itemList.addAll(newRuns(1, 10));","196","        List<ModelObject> itemList = new ArrayList<ModelObject>();","198","        itemList.addAll(newRuns(1, 10));","213","        List<ModelObject> itemList = new ArrayList<ModelObject>();","215","        itemList.addAll(newRuns(1, 10));","232","        List<ModelObject> itemList = new ArrayList<ModelObject>();","234","        itemList.addAll(newRuns(1, 10));","253","        List<ModelObject> itemList = new ArrayList<ModelObject>();","255","        itemList.addAll(newRuns(1, 10));","266","    private List<ModelObject> newQueueItems(long startId, long endId) {","267","        List<ModelObject> items = new ArrayList<ModelObject>();","275","        List<ModelObject> runs = new ArrayList<ModelObject>();","276","        for (long queueId = startId; queueId <= endId; queueId++) {","283","        HistoryPageFilter<ModelObject> pageFilter = new HistoryPageFilter<ModelObject>(maxEntries);"]}],"core\/src\/main\/java\/hudson\/widgets\/BuildHistoryWidget.java":[{"add":["76","        historyPageFilter.add(baseList, getQueuedItems());"],"delete":["29","import org.apache.commons.collections.IteratorUtils;","77","        List<T> items = new LinkedList<T>();","78","","79","        items.addAll((Collection<? extends T>) getQueuedItems());","80","        items.addAll(IteratorUtils.toList(baseList.iterator()));","81","        historyPageFilter.add(items);"]}],"core\/src\/main\/java\/jenkins\/widgets\/HistoryPageFilter.java":[{"add":["25","import com.google.common.collect.Iterables;","26","import com.google.common.collect.Iterators;","36","import java.util.Iterator;","37","import java.util.LinkedList;","107","     * @param runItems The items to be added. Assumes the items are in descending queue ID order i.e. newest first.","108","     * @deprecated Replaced by add(Iterable&lt;T&gt;) as of version 2.15","110","    @Deprecated","111","    public void add(@Nonnull List<T> runItems) {","112","        addInternal(runItems);","113","    }","114","","115","    \/**","116","     * Add build items to the History page.","117","     *","118","     * @param runItems The items to be added. Assumes the items are in descending queue ID order i.e. newest first.","119","     * @since TODO","120","     *\/","121","    public void add(@Nonnull Iterable<T> runItems) {","122","        addInternal(runItems);","123","    }","124","","125","    \/**","126","     * Add run items and queued items to the History page.","127","     *","128","     * @param runItems The items to be added. Assumes the items are in descending queue ID order i.e. newest first.","129","     * @param queueItems The queue items to be added. Queue items do not need to be sorted.","130","     * @since TODO","131","     *\/","132","    public void add(@Nonnull Iterable<T> runItems, @Nonnull List<Queue.Item> queueItems) {","133","        sort(queueItems);","134","        addInternal(Iterables.concat(queueItems, runItems));","135","    }","136","","137","    \/**","138","     * Add items to the History page, internal implementation.","139","     * @param items The items to be added.","140","     * @param <ItemT> The type of items should either be T or Queue.Item.","141","     *\/","142","    private <ItemT> void addInternal(@Nonnull Iterable<ItemT> items) {","143","        \/\/ Note that items can be a large lazily evaluated collection,","144","        \/\/ so this method is optimized to only iterate through it as much as needed.","145","","146","        if (!items.iterator().hasNext()) {","150","        nextBuildNumber = getNextBuildNumber(items.iterator().next());","154","            Iterator<ItemT> iter = items.iterator();","155","            while (iter.hasNext()) {","156","                add(iter.next());","161","            hasDownPage = iter.hasNext();","165","                \/\/ Walk through the items and keep track of the oldest","166","                \/\/ 'toFillCount' items until we reach an item older than","167","                \/\/ 'newerThan' or the end of the list.","168","                LinkedList<ItemT> itemsToAdd = new LinkedList<>();","169","                Iterator<ItemT> iter = items.iterator();","170","                while (iter.hasNext()) {","171","                    ItemT item = iter.next();","172","                    if (HistoryPageEntry.getEntryId(item) > newerThan) {","173","                        itemsToAdd.addLast(item);","175","                        \/\/ Discard an item off the front of the list if we have","176","                        \/\/ to (which means we would be able to page up).","177","                        if (itemsToAdd.size() > toFillCount) {","178","                            itemsToAdd.removeFirst();","179","                            hasUpPage = true;","182","                        break;","184","                }","185","                if (itemsToAdd.size() == 0) {","188","                } else {","189","                    \/\/ If there's less than a full page of items newer than","190","                    \/\/ 'newerThan', then it's ok to fill the page with older items.","191","                    if (itemsToAdd.size() < toFillCount) {","192","                        \/\/ We have to restart the iterator and skip the items that we added (because","193","                        \/\/ we may have popped an extra item off the iterator that did not get added).","194","                        Iterator<ItemT> skippedIter = items.iterator();","195","                        Iterators.skip(skippedIter, itemsToAdd.size());","196","                        for (int i = itemsToAdd.size(); i < toFillCount && skippedIter.hasNext(); i++) {","197","                            ItemT item = skippedIter.next();","198","                            itemsToAdd.addLast(item);","199","                        }","200","                    }","201","                    hasDownPage = iter.hasNext();","202","                    for (Object item : itemsToAdd) {","203","                        add(item);","204","                    }","208","            Iterator<ItemT> iter = items.iterator();","209","            while (iter.hasNext()) {","210","                Object item = iter.next();","216","                        hasDownPage = iter.hasNext();","228","    private void sort(List<? extends Object> items) {","232","        Collections.sort(items, new Comparator<Object>() {","234","            public int compare(Object o1, Object o2) {","249","    private long getNextBuildNumber(@Nonnull Object entry) {","264","        HistoryPageEntry<Queue.Item> entry = new HistoryPageEntry<>(item);","270","        HistoryPageEntry<Run> entry = new HistoryPageEntry<>(run);","271","        \/\/ Assert that runs have been added in descending order","272","        if (runs.size() > 0) {","273","            if (entry.getEntryId() > runs.get(runs.size() - 1).getEntryId()) {","274","                throw new IllegalStateException(\"Runs were out of order\");","275","            }","276","        }","286","    private boolean add(Object entry) {"],"delete":["103","     * @param items The items to be added. Assumes the list of items are in descending queue ID order i.e. newest first.","105","    public void add(@Nonnull List<T> items) {","106","        if (items.isEmpty()) {","110","        sort(items);","111","","112","        nextBuildNumber = getNextBuildNumber(items.get(0));","116","            for (T item : items) {","117","                add(item);","122","            hasDownPage = (items.size() > maxEntries);","126","                \/\/ Locate the point in the items list where the 'newerThan' build item is. Once located,","127","                \/\/ add a max of 'getFillCount' build items before that build item.","128","                long newestInList = HistoryPageEntry.getEntryId(items.get(0));","129","                long oldestInList = HistoryPageEntry.getEntryId(items.get(items.size() - 1));","130","                int newerThanIdx = -1;","132","                if (newerThan > newestInList) {","133","                    \/\/ Nothing newer","134","                } else if (newerThan >= oldestInList) {","135","                    \/\/ newerThan is within the range of items in the item list.","136","                    \/\/ go through the list and locate the cut-off point.","137","                    for (int i = 0; i < items.size(); i++) {","138","                        T item = items.get(i);","139","                        if (HistoryPageEntry.getEntryId(item) <= newerThan) {","140","                            newerThanIdx = i;","141","                            break;","142","                        }","143","                    }","144","                } else if (newerThan < oldestInList) {","145","                    newerThanIdx = items.size();","146","                }","147","","148","                if (newerThanIdx != -1) {","149","                    if (newerThanIdx <= maxEntries) {","150","                        \/\/ If there's less than a full page of items newer than \"newerThan\", then it's ok to","151","                        \/\/ fill the page with items older than \"newerThan\".","152","                        int itemCountToAdd = Math.min(toFillCount, items.size());","153","                        for (int i = 0; i < itemCountToAdd; i++) {","154","                            add(items.get(i));","157","                        \/\/ There's more than a full page of items newer than \"newerThan\".","158","                        for (int i = (newerThanIdx - toFillCount); i < newerThanIdx; i++) {","159","                            add(items.get(i));","160","                        }","161","                        hasUpPage = true;","163","                    \/\/ if there are items after the \"newerThan\" item, then we","164","                    \/\/ can page down.","165","                    hasDownPage = (items.size() > newerThanIdx + 1);","166","                } else {","172","            for (int i = 0; i < items.size(); i++) {","173","                T item = items.get(i);","179","                        \/\/ This page is full but there may be more builds older","180","                        \/\/ than the oldest on this page.","181","                        hasDownPage = (i + 1 < items.size());","193","    private void sort(List<T> items) {","197","        Collections.sort(items, new Comparator<T>() {","199","            public int compare(T o1, T o2) {","214","    private long getNextBuildNumber(@Nonnull T entry) {","229","        HistoryPageEntry entry = new HistoryPageEntry(item);","235","        HistoryPageEntry entry = new HistoryPageEntry(run);","245","    private boolean add(T entry) {"]}]}},"385e53c4abf16f58fc1f707be32ca4e25bf38449":{"changes":{"test\/src\/test\/java\/hudson\/maven\/ModuleDependencyLocator.java":"ADD"},"diff":{"test\/src\/test\/java\/hudson\/maven\/ModuleDependencyLocator.java":[{"add":[],"delete":[]}]}},"426a968660843f86a7e9e50e69640c66c75bd1e0":{"changes":{"core\/src\/main\/resources\/hudson\/scm\/CVSSCM\/config.jelly":"MODIFY","core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/scm\/CVSSCM\/config.jelly":[{"add":["11","\t  <f:textbox name=\"cvs.branch\" value=\"${scm.branch}\"","12","        checkUrl=\"'${rootURL}\/scm\/CVSSCM\/branchCheck?value='+escape(this.value)\"\/>"],"delete":["11","\t  <f:textbox name=\"cvs.branch\" value=\"${scm.branch}\"\/>"]}],"core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":[{"add":["2","import static hudson.Util.fixNull;","116","        if(fixNull(branch).equals(\"HEAD\"))","117","            branch = null;","118","","857","         * Checks the correctness of the branch name.","858","         *\/","859","        public void doBranchCheck(StaplerRequest req, StaplerResponse rsp) throws IOException, ServletException {","860","            new FormFieldValidator(req,rsp,false) {","861","                protected void check() throws IOException, ServletException {","862","                    String v = fixNull(request.getParameter(\"value\"));","863","","864","                    if(v.equals(\"HEAD\"))","865","                        error(\"Technically, HEAD is not a branch in CVS. Leave this field empty to build the trunk.\");","866","                    else","867","                        ok();","868","                }","869","            }.process();","870","        }","871","","872","        \/**"],"delete":[]}]}},"0e51e36023d0533f099226ba7a0035dae7b02a84":{"changes":{"test\/src\/test\/java\/hudson\/model\/DescriptorVisibilityFilterTest.java":"MODIFY","core\/src\/main\/resources\/hudson\/security\/GlobalSecurityConfiguration\/index.groovy":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/DescriptorVisibilityFilterTest.java":[{"add":["10","import hudson.Extension;","11","import hudson.security.ACL;","12","import hudson.security.AuthorizationStrategy;","13","import hudson.security.SecurityRealm;","20","import org.xml.sax.SAXException;","22","import javax.annotation.CheckForNull;","23","import javax.annotation.Nonnull;","24","import java.io.IOException;","25","import java.util.Collection;","54","    @Test @Issue(\"JENKINS-49044\")","55","    public void securityRealmAndAuthStrategyHidden() throws Exception {","56","        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());","57","        j.jenkins.setAuthorizationStrategy(AuthorizationStrategy.UNSECURED);","58","        HtmlPage page = j.createWebClient().goTo(\"configureSecurity\");","59","        String response = page.getWebResponse().getContentAsString();","60","        assertThat(response, not(containsString(\"TestSecurityRealm\")));","61","        assertThat(response, not(containsString(\"TestAuthStrategy\")));","62","    }","63","","64","    public static final class TestSecurityRealm extends SecurityRealm {","65","","66","        @Override","67","        public SecurityComponents createSecurityComponents() { return null; }","68","","69","        @TestExtension","70","        public static final class DescriptorImpl extends Descriptor<SecurityRealm> {","71","            @Nonnull","72","            @Override","73","            public String getDisplayName() {","74","                return \"TestSecurityRealm\";","75","            }","76","        }","77","","78","        @TestExtension","79","        public static final class HideDescriptor extends DescriptorVisibilityFilter {","80","            @Override","81","            public boolean filter(@CheckForNull Object context, @Nonnull Descriptor descriptor) {","82","                return !(descriptor instanceof DescriptorImpl);","83","            }","84","        }","85","    }","86","","87","    public static final class TestAuthStrategy extends AuthorizationStrategy {","88","","89","        @Nonnull","90","        @Override","91","        public ACL getRootACL() { return null; }","92","","93","        @Nonnull","94","        @Override","95","        public Collection<String> getGroups() { return null; }","96","","97","        @TestExtension","98","        public static final class DescriptorImpl extends Descriptor<AuthorizationStrategy> {","99","            @Nonnull","100","            @Override","101","            public String getDisplayName() {","102","                return \"TestAuthStrategy\";","103","            }","104","        }","105","","106","        @TestExtension","107","        public static final class HideDescriptor extends DescriptorVisibilityFilter {","108","            @Override","109","            public boolean filter(@CheckForNull Object context, @Nonnull Descriptor descriptor) {","110","                return !(descriptor instanceof DescriptorImpl);","111","            }","112","        }","113","    }","114",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/security\/GlobalSecurityConfiguration\/index.groovy":[{"add":["34","                        f.descriptorRadioList(title:_(\"Security Realm\"),varName:\"realm\",         instance:app.securityRealm,         descriptors:h.filterDescriptors(app, SecurityRealm.all()))","35","                        f.descriptorRadioList(title:_(\"Authorization\"), varName:\"authorization\", instance:app.authorizationStrategy, descriptors:h.filterDescriptors(app, AuthorizationStrategy.all()))"],"delete":["34","                        f.descriptorRadioList(title:_(\"Security Realm\"),varName:\"realm\",         instance:app.securityRealm,         descriptors:SecurityRealm.all())","35","                        f.descriptorRadioList(title:_(\"Authorization\"), varName:\"authorization\", instance:app.authorizationStrategy, descriptors:AuthorizationStrategy.all())"]}]}},"33afbcc87f783e4b2ea79ef1a77e9bbef6e6b837":{"changes":{"test\/src\/test\/java\/hudson\/cli\/RunRangeCommandTest.java":"ADD","core\/src\/main\/java\/hudson\/cli\/ListChangesCommand.java":"MODIFY","test\/src\/test\/java\/hudson\/cli\/RunRangeCommand2Test.java":"ADD","core\/src\/main\/java\/hudson\/cli\/AbstractBuildRangeCommand.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/ConsoleCommand.java":"MODIFY","\/dev\/null":"DELETE","core\/src\/main\/java\/hudson\/cli\/RunRangeCommand.java":"ADD","core\/src\/main\/java\/hudson\/model\/AbstractItem.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/ReloadJobCommand.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/SetBuildDisplayNameCommand.java":"MODIFY","test\/src\/test\/java\/hudson\/cli\/ReloadJobCommandTest.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/DeleteBuildsCommand.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/BuildCommand.java":"MODIFY","core\/src\/main\/java\/hudson\/cli\/SetBuildDescriptionCommand.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/cli\/RunRangeCommandTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/cli\/ListChangesCommand.java":[{"add":["3","import hudson.model.Run;","7","import jenkins.scm.RunWithSCM;","16","import org.kohsuke.accmod.Restricted;","17","import org.kohsuke.accmod.restrictions.DoNotUse;","24","@Restricted(DoNotUse.class) \/\/ command implementation only","26","public class ListChangesCommand extends RunRangeCommand {","45","    protected int act(List<Run<?, ?>> builds) throws IOException {","52","            for (Run<?, ?> build : builds) {","53","                if (build instanceof RunWithSCM) {","54","                    w.println(\"<build number='\" + build.getNumber() + \"'>\");","55","                    for (ChangeLogSet<?> cs : ((RunWithSCM<?, ?>) build).getChangeSets()) {","56","                        Model p = new ModelBuilder().get(cs.getClass());","57","                        p.writeTo(cs, Flavor.XML.createDataWriter(cs, w));","58","                    }","59","                    w.println(\"<\/build>\");","60","                }","66","            for (Run<?, ?> build : builds) {","67","                if (build instanceof RunWithSCM) {","68","                    for (ChangeLogSet<?> cs : ((RunWithSCM<?, ?>) build).getChangeSets()) {","69","                        for (Entry e : cs) {","70","                            stdout.printf(\"%s,%s%n\",","71","                                    QuotedStringTokenizer.quote(e.getAuthor().getId()),","72","                                    QuotedStringTokenizer.quote(e.getMsg()));","73","                        }","74","                    }","79","            for (Run<?, ?> build : builds) {","80","                if (build instanceof RunWithSCM) {","81","                    for (ChangeLogSet<?> cs : ((RunWithSCM<?, ?>) build).getChangeSets()) {","82","                        for (Entry e : cs) {","83","                            stdout.printf(\"%s\\t%s%n\", e.getAuthor(), e.getMsg());","84","                            for (String p : e.getAffectedPaths()) {","85","                                stdout.println(\"  \" + p);","86","                            }","87","                        }","88","                    }"],"delete":["3","import hudson.model.AbstractBuild;","22","public class ListChangesCommand extends AbstractBuildRangeCommand {","41","    protected int act(List<AbstractBuild<?, ?>> builds) throws IOException {","48","            for (AbstractBuild build : builds) {","49","                w.println(\"<build number='\"+build.getNumber()+\"'>\");","50","                ChangeLogSet<?> cs = build.getChangeSet();","51","                Model p = new ModelBuilder().get(cs.getClass());","52","                p.writeTo(cs,Flavor.XML.createDataWriter(cs,w));","53","                w.println(\"<\/build>\");","59","            for (AbstractBuild build : builds) {","60","                ChangeLogSet<?> cs = build.getChangeSet();","61","                for (Entry e : cs) {","62","                    stdout.printf(\"%s,%s%n\",","63","                            QuotedStringTokenizer.quote(e.getAuthor().getId()),","64","                            QuotedStringTokenizer.quote(e.getMsg()));","69","            for (AbstractBuild build : builds) {","70","                ChangeLogSet<?> cs = build.getChangeSet();","71","                for (Entry e : cs) {","72","                    stdout.printf(\"%s\\t%s%n\",e.getAuthor(),e.getMsg());","73","                    for (String p : e.getAffectedPaths())","74","                        stdout.println(\"  \"+p);"]}],"test\/src\/test\/java\/hudson\/cli\/RunRangeCommand2Test.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/cli\/AbstractBuildRangeCommand.java":[{"add":["14"," * @deprecated rather use {@link RunRangeCommand}","16","@Deprecated"],"delete":[]}],"core\/src\/main\/java\/hudson\/cli\/ConsoleCommand.java":[{"add":["5","import hudson.model.Job;","7","import hudson.model.Run;","31","    public Job<?,?> job;","45","        Run<?,?> run;","56","                run = p.resolve(job);","96","    private long seek(Run<?, ?> run) throws IOException {"],"delete":["4","import hudson.model.AbstractBuild;","5","import hudson.model.AbstractProject;","31","    public AbstractProject<?,?> job;","45","        AbstractBuild<?,?> run;","56","                run = (AbstractBuild)p.resolve(job);","96","    private long seek(AbstractBuild<?, ?> run) throws IOException {"]}],"\/dev\/null":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/cli\/RunRangeCommand.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":[{"add":["852","            @Argument(required=true,metaVar=\"NAME\",usage=\"Item name\") String name) throws CmdLineException {","856","            AbstractItem project = Items.findNearest(AbstractItem.class, name, Jenkins.getInstance());"],"delete":["852","            @Argument(required=true,metaVar=\"NAME\",usage=\"Job name\") String name) throws CmdLineException {","856","            AbstractProject project = AbstractProject.findNearest(name); \/\/ TODO should be Items.findNearest"]}],"core\/src\/main\/java\/hudson\/cli\/ReloadJobCommand.java":[{"add":["31","import hudson.model.Items;","32","import hudson.model.TopLevelItem;","81","                    AbstractItem project = Items.findNearest(AbstractItem.class, job_s, jenkins);","83","                        \"No such item \\u2018\" + job_s + \"\\u2019 exists.\" :","84","                        String.format(\"No such item \\u2018%s\\u2019 exists. Perhaps you meant \\u2018%s\\u2019?\","],"delete":["71","                \/\/ TODO: JENKINS-30786","80","                    \/\/ TODO: JENKINS-30785","81","                    AbstractProject project = AbstractProject.findNearest(job_s);","83","                        \"No such job \\u2018\" + job_s + \"\\u2019 exists.\" :","84","                        String.format(\"No such job \\u2018%s\\u2019 exists. Perhaps you meant \\u2018%s\\u2019?\","]}],"core\/src\/main\/java\/hudson\/cli\/SetBuildDisplayNameCommand.java":[{"add":["3","import hudson.model.Job;","20","    public transient Job<?, ?> job;"],"delete":["3","import hudson.model.AbstractProject;","20","    public transient AbstractProject<?, ?> job;"]}],"test\/src\/test\/java\/hudson\/cli\/ReloadJobCommandTest.java":[{"add":["93","        assertThat(result.stderr(), containsString(\"ERROR: No such item \u2018aProject\u2019 exists.\"));","123","        assertThat(result.stderr(), containsString(\"ERROR: No such item \u2018never_created\u2019 exists.\"));","135","        assertThat(result.stderr(), containsString(\"ERROR: No such item \u2018never_created1\u2019 exists. Perhaps you meant \u2018never_created\u2019?\"));","184","        assertThat(result.stderr(), containsString(\"never_created: No such item \u2018never_created\u2019 exists.\"));","210","        assertThat(result.stderr(), containsString(\"never_created: No such item \u2018never_created\u2019 exists.\"));","236","        assertThat(result.stderr(), containsString(\"never_created: No such item \u2018never_created\u2019 exists.\"));","262","        assertThat(result.stderr(), containsString(\"never_created1: No such item \u2018never_created1\u2019 exists.\"));","263","        assertThat(result.stderr(), containsString(\"never_created2: No such item \u2018never_created2\u2019 exists.\"));"],"delete":["93","        assertThat(result.stderr(), containsString(\"ERROR: No such job \\u2018aProject\\u2019 exists.\"));","123","        assertThat(result.stderr(), containsString(\"ERROR: No such job \\u2018never_created\\u2019 exists.\"));","135","        assertThat(result.stderr(), containsString(\"ERROR: No such job \\u2018never_created1\\u2019 exists. Perhaps you meant \\u2018never_created\\u2019?\"));","184","        assertThat(result.stderr(), containsString(\"never_created: No such job \\u2018never_created\\u2019 exists.\"));","210","        assertThat(result.stderr(), containsString(\"never_created: No such job \\u2018never_created\\u2019 exists.\"));","236","        assertThat(result.stderr(), containsString(\"never_created: No such job \\u2018never_created\\u2019 exists.\"));","262","        assertThat(result.stderr(), containsString(\"never_created1: No such job \\u2018never_created1\\u2019 exists.\"));","263","        assertThat(result.stderr(), containsString(\"never_created2: No such job \\u2018never_created2\\u2019 exists.\"));"]}],"core\/src\/main\/java\/hudson\/cli\/DeleteBuildsCommand.java":[{"add":["32","import org.kohsuke.accmod.Restricted;","33","import org.kohsuke.accmod.restrictions.DoNotUse;","40","@Restricted(DoNotUse.class) \/\/ command implementation only","42","public class DeleteBuildsCommand extends RunRangeCommand {","56","    protected int act(List<Run<?, ?>> builds) throws IOException {","61","        for (Run<?, ?> build : builds) {"],"delete":["26","import hudson.model.AbstractBuild;","40","public class DeleteBuildsCommand extends AbstractBuildRangeCommand {","54","    protected int act(List<AbstractBuild<?, ?>> builds) throws IOException {","59","        for (AbstractBuild build : builds) {"]}],"core\/src\/main\/java\/hudson\/cli\/BuildCommand.java":[{"add":[],"delete":["27","import hudson.model.AbstractProject;"]}],"core\/src\/main\/java\/hudson\/cli\/SetBuildDescriptionCommand.java":[{"add":["3","import hudson.model.Job;","20","    public transient Job<?,?> job;"],"delete":["3","import hudson.model.AbstractProject;","20","    public transient AbstractProject<?,?> job;"]}]}},"d82ba3b7524096fe571a37894c5b85091f4f45ad":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/security\/csrf\/DefaultCrumbIssuer.java":"MODIFY"},"diff":{"changelog.html":[{"add":["57","  <li class='major bug'>","58","    Default crumb issuer configurations saved in older releases did not load as of Jenkins 1.531.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-19613\">issue 19613<\/a>)"],"delete":["57","  <li class=>"]}],"core\/src\/main\/java\/hudson\/security\/csrf\/DefaultCrumbIssuer.java":[{"add":["102","    private static final String X_FORWARDED_FOR = \"X-Forwarded-For\";","106","        String forwarded = req.getHeader(X_FORWARDED_FOR);"],"delete":["102","    private static final String PROXY_HEADER = \"X-Forwarded-For\";","106","        String forwarded = req.getHeader(PROXY_HEADER);"]}]}},"56e79ce28e167f22896a41a0f4edd783a9baf88a":{"changes":{"core\/src\/main\/java\/hudson\/lifecycle\/Lifecycle.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/lifecycle\/Lifecycle.java":[{"add":["57","            Lifecycle instance;","62","                    instance = (Lifecycle)cl.loadClass(p).newInstance();","77","                if(Hudson.isWindows()) {","78","                    instance = new Lifecycle() {","79","                        @Override","80","                        public void verifyRestartable() throws RestartNotSupportedException {","81","                            throw new RestartNotSupportedException(","82","                                    \"Default Windows lifecycle does not support restart.\");","83","                        }","84","                    };","85","                } else {","86","                    \/\/ if run on Unix, we can do restart","88","                        instance = new UnixLifecycle();","89","                    } catch (final IOException e) {","91","                        instance = new Lifecycle() {","92","                            @Override","93","                            public void verifyRestartable() throws RestartNotSupportedException {","94","                                throw new RestartNotSupportedException(","95","                                        \"Failed to install embedded lifecycle implementation, so cannot restart: \" + e, e);","96","                            }","97","                        };","101","            assert instance != null;","102","            INSTANCE = instance;"],"delete":["61","                    INSTANCE = (Lifecycle)cl.loadClass(p).newInstance();","76","                \/\/ if run on Unix, we can do restart ","77","                if(!Hudson.isWindows()) {","79","                        INSTANCE = new UnixLifecycle();","80","                    } catch (IOException e) {","84","","85","                \/\/ use the default one. final fallback.","86","                if(INSTANCE==null)","87","                    INSTANCE = new Lifecycle() {};"]}]}},"9cb0d11f5adde14d07527838132af9774074c846":{"changes":{"core\/src\/main\/java\/hudson\/model\/Label.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Label.java":[{"add":["341","            if(p instanceof TopLevelItem && this.equals(p.getAssignedLabel()))"],"delete":["341","            if(this.equals(p.getAssignedLabel()))"]}]}},"1618270f6ced8d2760c3df632ea783fa73096af2":{"changes":{"core\/src\/main\/java\/jenkins\/triggers\/ReverseBuildTrigger.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/triggers\/ReverseBuildTrigger.java":[{"add":["27","import hudson.ExtensionList;","151","        RunListenerImpl.get().invalidateCache();","156","        RunListenerImpl.get().invalidateCache();","201","        ","202","        static RunListenerImpl get() {","203","            return ExtensionList.lookup(RunListener.class).get(RunListenerImpl.class);","204","        }","205","","206","        private Map<Job,Collection<ReverseBuildTrigger>> upstream2Trigger;","207","","208","        synchronized void invalidateCache() {","209","            upstream2Trigger = null;","210","        }","211","","212","        private Map<Job,Collection<ReverseBuildTrigger>> calculateCache() {","213","            Map<Job,Collection<ReverseBuildTrigger>> result = new WeakHashMap<>();","214","            SecurityContext orig = ACL.impersonate(ACL.SYSTEM);","215","            for (Job<?, ?> downstream : Jenkins.getInstance().getAllItems(Job.class)) {","216","                ReverseBuildTrigger trigger = ParameterizedJobMixIn.getTrigger(downstream, ReverseBuildTrigger.class);","217","                if (trigger == null) {","218","                    continue;","219","                }","220","                try {","221","                    List<Job> upstreams = Items.fromNameList(downstream.getParent(), trigger.upstreamProjects, Job.class);","222","                    LOGGER.log(Level.FINE, \"from {0} see upstreams {1}\", new Object[] {downstream, upstreams});","223","                    for (Job upstream : upstreams) {","224","                        if (upstream instanceof AbstractProject && downstream instanceof AbstractProject) {","225","                            continue; \/\/ handled specially","226","                        }","227","                        Collection<ReverseBuildTrigger> triggers = result.get(upstream);","228","                        if (triggers == null) {","229","                            triggers = new LinkedList<>();","230","                            result.put(upstream, triggers);","231","                        }","232","                        triggers.remove(trigger);","233","                        triggers.add(trigger);","234","                    }","235","                } finally {","236","                    SecurityContextHolder.setContext(orig);","237","                }","238","            }","239","            return result;","240","        }","241","","244","            synchronized (this) {","245","                if (upstream2Trigger == null) {","246","                    upstream2Trigger = calculateCache();","247","                }"],"delete":["88","    private static final Map<Job,Collection<ReverseBuildTrigger>> upstream2Trigger = new WeakHashMap<>();","151","        SecurityContext orig = ACL.impersonate(ACL.SYSTEM);","152","        try {","153","            for (Job upstream : Items.fromNameList(project.getParent(), upstreamProjects, Job.class)) {","154","                if (upstream instanceof AbstractProject && project instanceof AbstractProject) {","155","                    continue; \/\/ handled specially","156","                }","157","                synchronized (upstream2Trigger) {","158","                    Collection<ReverseBuildTrigger> triggers = upstream2Trigger.get(upstream);","159","                    if (triggers == null) {","160","                        triggers = new LinkedList<>();","161","                        upstream2Trigger.put(upstream, triggers);","162","                    }","163","                    triggers.remove(this);","164","                    triggers.add(this);","165","                }","166","            }","167","        } finally {","168","            SecurityContextHolder.setContext(orig);","169","        }","174","        synchronized (upstream2Trigger) {","175","            for (Collection<ReverseBuildTrigger> triggers : upstream2Trigger.values()) {","176","                triggers.remove(this);","177","            }","178","        }","225","            synchronized (upstream2Trigger) {"]}]}},"cd505e54f066a454281721fc7a23bbcd55d08f23":{"changes":{"core\/src\/main\/resources\/hudson\/Messages.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/Messages.properties":[{"add":["5","Util.second={0} sec","6","Util.minute={0} min","7","Util.hour  ={0} hr","9","Util.month ={0} mo","10","Util.year  ={0} yr"],"delete":["5","Util.second={0} {0,choice,0#secs|1#sec|1<secs}","6","Util.minute={0} {0,choice,0#mins|1#min|1<mins}","7","Util.hour  ={0} {0,choice,0#hrs|1#hr|1<hrs}","9","Util.month ={0} {0,choice,0#mos|1#mo|1<mos}","10","Util.year  ={0} {0,choice,0#yrs|1#yr|1<yrs}"]}]}},"faf13e19b9e36674c4f9a2b9f8d149b3ce7722fe":{"changes":{".github\/PULL_REQUEST_TEMPLATE.md":"MODIFY"},"diff":{".github\/PULL_REQUEST_TEMPLATE.md":[{"add":["23","### Proposed upgrade guidelines","24","","25","N\/A","26","","30","- [ ] Changelog entries and upgrade guidelines are appropriate for the audience affected by the change (users or developer, depending on the change). [Examples](https:\/\/github.com\/jenkins-infra\/jenkins.io\/blob\/master\/content\/_data\/changelogs\/weekly.yml)","31","  * Fill-in the `Proposed changelog entries` section only if there are breaking changes or other changes which may require extra steps from users during the upgrade","44","","45","### Maintainer checklist","46","","47","Before the changes are marked as `ready-for-merge`: ","48","","49","- [ ] There are at least 2 approvals for the pull request and no outstanding requests for change","50","- [ ] Conversations in the pull request are over OR it is explicit that a reviewer does not block the change","51","- [ ] Changelog entries in the PR title and\/or `Proposed changelog entries` are correct","52","- [ ] Proper changelog labels are set so that the changelog can be generated automatically","53","- [ ] If the change needs additional upgrade steps from users, `upgrade-guide-needed` label is set and there is a `Proposed upgrade guidelines` section in the PR title. ([example](https:\/\/github.com\/jenkinsci\/jenkins\/pull\/4387))","54","- [ ] If it would make sense to backport the change to LTS, a JIRA issue should exist and be labeled as `lts-candidate`","55",""],"delete":["26","- [ ] Changelog entry appropriate for the audience affected by the change (users or developer, depending on the change). [Examples](https:\/\/github.com\/jenkins-infra\/jenkins.io\/blob\/master\/content\/_data\/changelogs\/weekly.yml)","27","      * Use the `Internal: ` prefix if the change has no user-visible impact (API, test frameworks, etc.)"]}]}},"532ab9448de62920fd5e2dcb73c2e0b024f39d11":{"changes":{"maven-plugin\/pom.xml":"MODIFY"},"diff":{"maven-plugin\/pom.xml":[{"add":["48","    <wagonVersion>1.0<\/wagonVersion>","213","    <!-- JENKINS-10819 : This wagon is safer and more configurable to provide http(s) support -->","216","      <artifactId>wagon-http<\/artifactId>"],"delete":["48","    <wagonVersion>1.0-beta-7<\/wagonVersion>    ","215","      <artifactId>wagon-http-lightweight<\/artifactId>","217","      <exclusions>","218","        <exclusion>","219","          <groupId>nekohtml<\/groupId>","220","          <artifactId>nekohtml<\/artifactId>","221","        <\/exclusion>","222","        <exclusion>","223","          <groupId>nekohtml<\/groupId>","224","          <artifactId>xercesMinimal<\/artifactId>","225","        <\/exclusion>","226","      <\/exclusions>"]}]}},"ad22f4dd4fa3214b6cc420cb4abcaf43c7010a9c":{"changes":{"core\/src\/main\/resources\/hudson\/model\/ParametersAction\/index.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/ParametersAction\/index.jelly":[{"add":["37","\t\t\t<div class=\"container-fluid pane-frame\">","38","\t\t\t\t<div class=\"row\">","39","\t\t\t\t\t<div class=\"col-xs-24 pane-header\">${%Parameters}<\/div>","40","\t\t\t\t\t<div class=\"row col-xs-24 pane-content\">","41","\t\t\t\t\t\t<table class=\"pane\">","42","\t\t\t\t\t\t\t<j:forEach var=\"parameterValue\" items=\"${it.parameters}\">","43","\t\t\t\t\t\t\t\t<tbody>","44","\t\t\t\t\t\t\t\t\t<st:include it=\"${parameterValue}\"","45","\t\t\t\t\t\t\t\t\tpage=\"value.jelly\" \/>","46","\t\t\t\t\t\t\t\t<\/tbody>","47","\t\t\t\t\t\t\t<\/j:forEach>","48","\t\t\t\t\t\t<\/table>","49","\t\t\t\t\t<\/div>","50","\t\t\t\t<\/div>","51","\t\t\t <\/div>"],"delete":["37","\t\t\t<l:pane title=\"${%Parameters}\" width=\"3\">","38","\t\t\t<j:forEach var=\"parameterValue\" items=\"${it.parameters}\">","39","\t\t\t\t<st:include it=\"${parameterValue}\"","40","\t\t\t\t\tpage=\"value.jelly\" \/>","41","\t\t\t<\/j:forEach>","42","\t\t\t<\/l:pane>"]}]}},"84c76253862a2f36f813a7aa45b77d99c1616be4":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/DirectoryBrowserSupport.java":"MODIFY"},"diff":{"changelog.html":[{"add":["60","  <li class=\"bug\">","61","    Use native encoding for filenames in downloaded ZIPs.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-20663\">issue 20663<\/a>)"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/DirectoryBrowserSupport.java":[{"add":["47","import org.apache.tools.zip.ZipEntry;","48","import org.apache.tools.zip.ZipOutputStream;","342","        zos.setEncoding(System.getProperty(\"file.encoding\")); \/\/ TODO JENKINS-20663 make this overridable via query parameter"],"delete":["42","import java.util.zip.ZipEntry;","43","import java.util.zip.ZipOutputStream;"]}]}},"7438abb88fc7d9bbd5f2b265e8fb191179a3c553":{"changes":{"core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["2454","                if (!f.toPath().normalize().startsWith(baseDir.toPath())) {","2455","                    throw new IOException(","2456","                            \"Tar \" + name + \" contains illegal file name that breaks out of the target directory: \" + te.getName());","2457","                }"],"delete":[]}]}},"9622bbedbb80e2d710fe6ac6a536eeae871a0f2f":{"changes":{"war\/src\/main\/js\/templates\/pluginSelectionPanel.hbs":"MODIFY","core\/src\/main\/resources\/jenkins\/install\/pluginSetupWizard.properties":"MODIFY","war\/src\/main\/less\/pluginSetupWizard.less":"MODIFY","core\/src\/main\/java\/hudson\/PluginManager.java":"MODIFY"},"diff":{"war\/src\/main\/js\/templates\/pluginSelectionPanel.hbs":[{"add":["42","\t\t\t\t\t\t\t<a href=\"{{plugin.website}}\" target=\"_blank\">{{..\/..\/translations.installWizard_websiteLinkLabel}}<\/a>","50","\t\t\t\t\t\t\t\t<a class=\"dep badge\" href=\"{{website}}\" target=\"_blank\">","52","\t\t\t\t\t\t\t\t<\/a>"],"delete":["49","\t\t\t\t\t\t\t\t<span class=\"dep badge\">","51","\t\t\t\t\t\t\t\t<\/span>"]}],"core\/src\/main\/resources\/jenkins\/install\/pluginSetupWizard.properties":[{"add":["52","installWizard_websiteLinkLabel=Website"],"delete":[]}],"war\/src\/main\/less\/pluginSetupWizard.less":[{"add":["434","\t\t\t\t\t\t\t","435","\t\t\t\t\t\t\t&:hover, &:active, &:focus {","436","\t\t\t\t\t\t\t\tcolor: #fff;","437","\t\t\t\t\t\t\t}"],"delete":[]}],"core\/src\/main\/java\/hudson\/PluginManager.java":[{"add":["1008","            pluginInfo.put(\"website\", plugin.getUrl());","1033","                pluginInfo.put(\"website\", plugin.wiki);"],"delete":[]}]}},"c7fd90a8796fe0ad80bfe37a9837af4515fbf5cb":{"changes":{"core\/src\/main\/java\/hudson\/model\/Computer.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Computer.java":[{"add":["830","    \/**","831","     * Calling path, *means protected by Queue.withLock","832","     *","833","     * Computer.doConfigSubmit -> Computer.replaceBy ->Jenkins.setNodes* ->Computer.setNode","834","     * AbstractCIBase.updateComputerList->Computer.inflictMortalWound*","835","     * AbstractCIBase.updateComputerList->AbstractCIBase.updateComputer* ->Computer.setNode","836","     * AbstractCIBase.updateComputerList->AbstractCIBase.killComputer->Computer.kill","837","     * Computer.constructor->Computer.setNode","838","     * Computer.kill is called after numExecutors set to zero(Computer.inflictMortalWound) so not need the Queue.lock","839","     *","840","     * @param number of executors","841","     *\/","842","    private void setNumExecutors(int n) {"],"delete":["830","    private synchronized void setNumExecutors(int n) {"]}]}},"b62c927a27d5928b8577c298b06f7d819cb18ad2":{"changes":{"core\/pom.xml":"MODIFY","licenseCompleter.groovy":"MODIFY","cli\/pom.xml":"MODIFY","pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["212","      <version>1.23<\/version>"],"delete":["212","      <version>1.10<\/version>"]}],"licenseCompleter.groovy":[{"add":[],"delete":["74","    match([\"org.jvnet.localizer:localizer\"]) {","75","        \/\/ see http:\/\/java.net\/projects\/localizer","76","        \/\/ see http:\/\/java.net\/projects\/trilead-putty-extension\/","77","        rewriteLicense([],mitLicense);","78","    }","79",""]}],"cli\/pom.xml":[{"add":["44","      <version>1.23<\/version>"],"delete":["44","      <version>1.10<\/version>"]}],"pom.xml":[{"add":["443","          <version>1.23<\/version>"],"delete":["443","          <version>1.15<\/version>"]}]}},"74d2607b8de4df3ecf99effcfe71d66fbbce1694":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/security\/HudsonAuthenticationEntryPoint.java":"MODIFY"},"diff":{"changelog.html":[{"add":["74","  <li class=bug>","75","    Parameter values disappear if user is not logged in","76","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-7894\">issue 7894<\/a>)"],"delete":[]}],"core\/src\/main\/java\/hudson\/security\/HudsonAuthenticationEntryPoint.java":[{"add":["25","import com.google.common.base.Strings;","77","            String uriFrom = req.getRequestURI();","78","            if(!Strings.isNullOrEmpty(req.getQueryString())) uriFrom += \"?\" + req.getQueryString();","80","            loginForm = MessageFormat.format(loginForm, URLEncoder.encode(uriFrom,\"UTF-8\"));"],"delete":["77","            loginForm = MessageFormat.format(loginForm, URLEncoder.encode(req.getRequestURI(),\"UTF-8\"));"]}]}},"ebf4146584d8ae729c66323546ea21bc3c2ecbcb":{"changes":{"core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["41","import hudson.security.AccessControlled;","1780","     * Requires configure permission on ancestor AbstractProject object in request,","1781","     * or admin permission if no such ancestor is found.","1785","        checkPermissionForValidate();","1805","     * Requires configure permission on ancestor AbstractProject object in request,","1806","     * or admin permission if no such ancestor is found.","1817","        checkPermissionForValidate();","1855","    private static void checkPermissionForValidate() {","1856","        AccessControlled subject = Stapler.getCurrentRequest().findAncestorObject(AbstractProject.class);","1857","        if (subject == null)","1858","            Hudson.getInstance().checkPermission(Hudson.ADMINISTER);","1859","        else","1860","            subject.checkPermission(Item.CONFIGURE);","1861","    }","1862",""],"delete":["1779","     * Requires configure permission on ancestor AbstractProject object in request.","1783","        AbstractProject subject = Stapler.getCurrentRequest().findAncestorObject(AbstractProject.class);","1784","        subject.checkPermission(Item.CONFIGURE);","1804","     * Requires configure permission on ancestor AbstractProject object in request.","1815","        AbstractProject subject = Stapler.getCurrentRequest().findAncestorObject(AbstractProject.class);","1816","        subject.checkPermission(Item.CONFIGURE);"]}]}},"4213391a570853b450afe41deb345f478bb8a4e4":{"changes":{"core\/src\/main\/java\/hudson\/Util.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Util.java":[{"add":["87","import javax.annotation.CheckReturnValue;","1171","    private static void tryToDeleteSymlink(@Nonnull File symlink) {","1172","        if (!symlink.delete()) {","1173","            LogRecord record = new LogRecord(Level.FINE, \"Failed to delete temporary symlink {0}\");","1174","            record.setParameters(new Object[]{symlink.getAbsolutePath()});","1175","            LOGGER.log(record);","1176","        }","1177","    }","1178","","1179","    private static void reportAtomicFailure(@Nonnull Path pathForSymlink, @Nonnull Exception ex) {","1180","        LogRecord record = new LogRecord(Level.FINE, \"Failed to atomically create\/replace symlink {0}\");","1181","        record.setParameters(new Object[]{pathForSymlink.toAbsolutePath().toString()});","1182","        record.setThrown(ex);","1183","        LOGGER.log(record);","1184","    }","1185","","1186","    \/**","1187","     * Creates a symlink to targetPath at baseDir+symlinkPath.","1188","     *","1189","     * @param pathForSymlink","1190","     *      The absolute path of the symlink itself as a path object.","1191","     * @param fileForSymlink","1192","     *      The absolute path of the symlink itself as a file object.","1193","     * @param target","1194","     *      The path that the symlink should point to. Usually relative to the directory of the symlink but may instead be an absolute path.","1195","     * @param symlinkPath","1196","     *      Where to create a symlink in (relative to {@code baseDir})","1197","     *","1198","     * Returns true on success","1199","     *\/","1200","    @CheckReturnValue","1201","    private static boolean createSymlinkAtomic(@Nonnull Path pathForSymlink, @Nonnull File fileForSymlink, @Nonnull Path target, @Nonnull String symlinkPath) {","1202","        try {","1203","            File symlink = File.createTempFile(\"symtmp\", null, fileForSymlink);","1204","            tryToDeleteSymlink(symlink);","1205","            Path tempSymlinkPath = symlink.toPath();","1206","            Files.createSymbolicLink(tempSymlinkPath, target);","1207","            try {","1208","                Files.move(tempSymlinkPath, pathForSymlink, java.nio.file.StandardCopyOption.ATOMIC_MOVE);","1209","                return true;","1210","            } catch (","1211","                UnsupportedOperationException |","1212","                SecurityException |","1213","                IOException ex) {","1214","                \/\/ If we couldn't perform an atomic move or the setup, we fall through to another approach","1215","                reportAtomicFailure(pathForSymlink, ex);","1216","            }","1217","            \/\/ If we didn't return after our atomic move, then we want to clean up our symlink","1218","            tryToDeleteSymlink(symlink);","1219","        } catch (","1220","            SecurityException |","1221","            InvalidPathException |","1222","            UnsupportedOperationException |","1223","            IOException ex) {","1224","            \/\/ We couldn't perform an atomic move or the setup.","1225","            reportAtomicFailure(pathForSymlink, ex);","1226","        }","1227","        return false;","1228","    }","1229","","1244","        File fileForSymlink = new File(baseDir, symlinkPath);","1246","            Path pathForSymlink = fileToPath(fileForSymlink);","1249","            if (createSymlinkAtomic(pathForSymlink, fileForSymlink, target, symlinkPath)) {","1250","                return;","1251","            }","1252","","1256","                Files.deleteIfExists(pathForSymlink);","1258","                    Files.createSymbolicLink(pathForSymlink, target);","1279","            log.printf(\"ln %s %s failed%n\", targetPath, fileForSymlink);"],"delete":["1185","            Path path = fileToPath(new File(baseDir, symlinkPath));","1191","                Files.deleteIfExists(path);","1193","                    Files.createSymbolicLink(path, target);","1214","            log.printf(\"ln %s %s failed%n\",targetPath, new File(baseDir, symlinkPath));"]}]}},"b17d0763709be35d39f16d6af7afaf765ac6cf92":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["117","      <version>build217-jenkins-9<\/version>"],"delete":["117","      <version>build217-jenkins-8<\/version>"]}]}},"8886b04ab5cbdb591f64704d0bba896d0d61d3ff":{"changes":{"core\/pom.xml":"MODIFY","pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["398","        <exclusion>","399","          <groupId>log4j<\/groupId>","400","          <artifactId>log4j<\/artifactId>","401","        <\/exclusion>","473","    <dependency><!-- [JENKINS-4433] -->"],"delete":["469","    <dependency>","472","      <version>1.2.17<\/version>"]}],"pom.xml":[{"add":["219","      <dependency><!-- [JENKINS-4433] -->","220","        <groupId>log4j<\/groupId>","221","        <artifactId>log4j<\/artifactId>","222","        <version>1.2.17<\/version>","223","      <\/dependency>"],"delete":[]}]}},"701805226e77a3cbc90c9ca396ccdaf6145cacef":{"changes":{"war\/resources\/WEB-INF\/security\/LDAPBindSecurityRealm.groovy":"MODIFY"},"diff":{"war\/resources\/WEB-INF\/security\/LDAPBindSecurityRealm.groovy":[{"add":["66","    groupSearchFilter = \"(| (member={0}) (uniqueMember={0}) (memberUid={1}))\";","85","}"],"delete":["84","}"]}]}},"7c568178f3810ab590d33ba23f1cf7fea418edac":{"changes":{"test\/src\/test\/java\/hudson\/tasks\/ArtifactArchiverTest.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/tasks\/ArtifactArchiverTest.java":[{"add":["29","import hudson.model.AbstractProject;","31","import hudson.model.FreeStyleBuild;","37","import java.io.File;","42","import java.util.List;","43","import jenkins.util.VirtualFile;","44","import static org.junit.Assert.*;","45","import static org.junit.Assume.*;","47","import org.junit.Test;","173","","174","    @Bug(21958)","175","    @Test public void symlinks() throws Exception {","176","        FreeStyleProject p = j.createFreeStyleProject();","177","        p.getBuildersList().add(new TestBuilder() {","178","            @Override public boolean perform(AbstractBuild<?,?> build, Launcher launcher, BuildListener listener) throws InterruptedException, IOException {","179","                FilePath ws = build.getWorkspace();","180","                if (ws == null) {","181","                    return false;","182","                }","183","                FilePath dir = ws.child(\"dir\");","184","                dir.mkdirs();","185","                dir.child(\"fizz\").write(\"contents\", null);","186","                dir.child(\"lodge\").symlinkTo(\"fizz\", listener);","187","                return true;","188","            }","189","        });","190","        p.getPublishersList().add(new ArtifactArchiver(\"dir\/lodge\", \"\", false, true));","191","        FreeStyleBuild b = j.assertBuildStatusSuccess(p.scheduleBuild2(0));","192","        FilePath ws = b.getWorkspace();","193","        assertNotNull(ws);","194","        assumeTrue(\"May not be testable on Windows:\\n\" + JenkinsRule.getLog(b), ws.child(\"dir\/lodge\").exists());","195","        List<FreeStyleBuild.Artifact> artifacts = b.getArtifacts();","196","        assertEquals(1, artifacts.size());","197","        FreeStyleBuild.Artifact artifact = artifacts.get(0);","198","        assertEquals(\"dir\/lodge\", artifact.relativePath);","199","        VirtualFile[] kids = b.getArtifactManager().root().child(\"dir\").list();","200","        assertEquals(1, kids.length);","201","        assertEquals(\"lodge\", kids[0].getName());","202","        \/\/ do not check that it .exists() since its target has not been archived","203","    }"],"delete":["26","import hudson.model.AbstractProject;","27","import org.junit.Test;","36","import java.io.File;","47","import static org.junit.Assert.*;"]}],"changelog.html":[{"add":["57","  <li class=bug>","58","    Archiving of symlinks as artifacts did not work in some cases.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-21958\">issue 21958<\/a>)"],"delete":["57","  <li class=>"]}],"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["1935","                                IOUtils.mkdirs(target.getParentFile());","1945","                                IOUtils.mkdirs(new File(dest, relativePath).getParentFile());"],"delete":["1935","                                target.getParentFile().mkdirs();"]}]}},"479dfb404677772a26eecc21d9f82af9e8ce71c2":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/Cause.java":"MODIFY"},"diff":{"changelog.html":[{"add":["69","  <li class=\"bug\">","70","    Startup can be broken by deeply recursive causes in build records.","71","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-24161\">issue 24161<\/a>)"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Cause.java":[{"add":["100","    void onLoad(@Nonnull Job<?,?> job, int buildNumber) {","101","        Run<?,?> build = job.getBuildByNumber(buildNumber);","102","        if (build != null) {","103","            onLoad(build);","104","        }","105","    }","106","","187","        public void onLoad(@Nonnull Job<?,?> _job, int _buildNumber) {","196","                c.onLoad(j, upstreamBuild);","352","            @Override public void onLoad(@Nonnull Job<?,?> _job, int _buildNumber) {}"],"delete":["180","        public void onLoad(@Nonnull Run run) {","188","            Run r = j.getBuildByNumber(this.getUpstreamBuild());","189","            if (r == null) {","190","                \/\/ build doesn't exist anymore","191","                return;","192","            }","193","","195","                c.onLoad(r);"]}]}},"d63f4ecb05208b307f351946cd1c118655059667":{"changes":{"core\/src\/main\/resources\/lib\/form\/password.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/security\/LDAPSecurityRealm\/config.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/password.jelly":[{"add":["3","Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi","41","    <st:attribute name=\"clazz\">","42","      Additional CSS class(es) to add (such as client-side validation clazz=\"required\",","43","      \"number\" or \"positive-number\"; these may be combined, as clazz=\"required number\").","44","    <\/st:attribute>","54","  <m:input xmlns:m=\"jelly:hudson.util.jelly.MorphTagLibrary\"","55","         class=\"setting-input ${attrs.checkUrl!=null?'validated ':''}${attrs.clazz}\"","59","         ATTRIBUTES=\"${attrs}\" EXCEPT=\"field clazz\" \/>","60","<\/j:jelly>"],"delete":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi","50","  <input class=\"setting-input ${attrs.checkUrl!=null?'validated':''}\"","53","         id=\"${attrs.id}\"","55","         checkUrl=\"${attrs.checkUrl}\" checkMethod=\"${attrs.checkMethod}\"","56","         onchange=\"${attrs.onchange}\" onkeyup=\"${attrs.onkeyup}\"\/>","57","<\/j:jelly>"]}],"core\/src\/main\/resources\/hudson\/security\/LDAPSecurityRealm\/config.jelly":[{"add":["3","Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi","43","      <f:textbox name=\"ldap.managerDN\" value=\"${instance.managerDN}\" autocomplete=\"off\"","48","      <f:password name=\"ldap.managerPassword\" value=\"${instance.managerPassword}\" autocomplete=\"off\""],"delete":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi","43","      <f:textbox name=\"ldap.managerDN\" value=\"${instance.managerDN}\"","48","      <f:password name=\"ldap.managerPassword\" value=\"${instance.managerPassword}\""]}]}},"bc3b97795d5c362452c94fa06e6030f9375afa12":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/scriptConsole.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/scriptConsole.jelly":[{"add":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe, id:cactusman, Romain Seguy","28","  <l:layout norefresh=\"true\">"],"delete":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe, id:cactusman","28","  <l:layout>"]}]}},"a79fdaa4b34b8f7fddb39bed3eabf4763940d11b":{"changes":{"test\/src\/test\/java\/jenkins\/triggers\/ReverseBuildTriggerTest.java":"MODIFY","test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/ItemGroupMixIn.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY","test\/src\/test\/java\/hudson\/model\/ItemGroupMixInTest.java":"MODIFY"},"diff":{"test\/src\/test\/java\/jenkins\/triggers\/ReverseBuildTriggerTest.java":[{"add":["99","        String upstreamName = \"upstr3@m\"; \/\/ do not clash with English messages!"],"delete":["99","        String upstreamName = \"upstr3am\"; \/\/ do not clash with English messages!"]}],"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":[{"add":[],"delete":["74","import org.jvnet.hudson.test.WithoutJenkins;","686","","687","    @Issue(\"JENKINS-46911\")","688","    @WithoutJenkins","689","    @Test","690","    public void testCheckGoodName() throws Exception{","691","        String[] illegalNames = {\"ab\\\\c\", \"abc\/\", \"ab\/c\", \" \", \"   \", \"\", \"..\", \".\", \"?\", \"*\", \"6%\",","692","                \"x!\", \"-@\", \"#\", \"$\", \"^\", \"&\", \"|\", \"<\", \">\", \"[\", \"]\", \":\", \";\", \"..\/.\", null};","693","        String[] legalNames = {\"abc\", \"a bc\", \"abc \", \" abc\", \"a.bc\", \". .\"};","694","        String msg = \"checkGoodNameTest found a legal name. Please check.\";","695","        int exceptions = 0;","696","        int goodNames = 0;","697","","698","        for (String name : illegalNames){","699","            try {","700","                Jenkins.checkGoodName(name);","701","                goodNames++;","702","            } catch (Failure e){","703","                exceptions++;","704","            }","705","        }","706","        assertEquals(msg, illegalNames.length, exceptions);","707","        assertEquals(0, goodNames);","708","","709","        exceptions = 0;","710","        goodNames = 0;","711","        for (String name : legalNames){","712","            try {","713","                Jenkins.checkGoodName(name);","714","                goodNames++;","715","            } catch (Failure e){","716","                exceptions++;","717","            }","718","        }","719","        assertEquals(msg, 0, exceptions);","720","        \/\/ TODO: store the name in an list and then assert the size of that list is zero and get a view of what failed. rather than 2 things failed.","721","        assertEquals(legalNames.length, goodNames);","722","    }"]}],"core\/src\/main\/java\/hudson\/model\/ItemGroupMixIn.java":[{"add":[],"delete":["260","        try {","261","            Jenkins.checkGoodName(name);","262","        } catch (Failure e){","263","            throw new IOException(\"Not a valid project name\", e);","264","        }","265","","317","        try {","318","            Jenkins.checkGoodName(name);","319","        } catch (Failure e){","320","            throw new IOException(\"Not a valid project name\", e);","321","        }","322",""]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["3844","        if(name==null || name.length()==0)"],"delete":["3812","     * Creates a new project from the given xml.","3813","     *","3814","     * @param name The name of new project.","3815","     * @param xml Projects xml.","3816","     *","3817","     * @throws IOException if the given name is not good or could not create project.","3818","     *","3819","     * @see #checkGoodName(String)","3852","        if(name==null || name.trim().length()==0)"]}],"test\/src\/test\/java\/hudson\/model\/ItemGroupMixInTest.java":[{"add":[],"delete":["35","import jenkins.model.Jenkins;","52","import java.io.InputStream;","211","    @Issue(\"JENKINS-46911\")","212","    @Test","213","    public void testCreateProjectCheckGoodName() throws Exception{","214","        String xmlFile = \"<?xml version='1.0' encoding='UTF-8'?>\\n\" +","215","                \"<project>\\n\" +","216","                \"<description><\/description>\\n\" +","217","                \"<keepDependencies>false<\/keepDependencies>\\n\" +","218","                \"<properties\/>\\n\" +","219","                \"<triggers\/>\\n\" +","220","                \"<concurrentBuild>false<\/concurrentBuild>\\n\" +","221","                \"<builders\/>\\n\" +","222","                \"<publishers\/>\\n\" +","223","                \"<buildWrappers\/>\\n\" +","224","                \"<\/project>\";","225","        String[] illegalNames = {\"ab\\\\c\", \"abc\/\", \"ab\/c\", \"\", \" \", \"   \", \"..\", \".\", \"?\", \"*\", \"6%\",","226","                \"x!\", \"-@\", \"#\", \"$\", \"^\", \"&\", \"|\", \"<\", \">\", \"[\", \"]\", \":\", \";\", \"..\/.\", null};","227","        Jenkins j = Jenkins.getInstance();","228","","229","        int created = 0;","230","        for (String name : illegalNames){","231","            try{","232","                InputStream is = new ByteArrayInputStream(xmlFile.getBytes());","233","                j.createProjectFromXML(name, is);","234","                created++;","235","            } catch (IOException e){}","236","        }","237","","238","        for (String name : illegalNames){","239","            try{","240","                j.createProject(FreeStyleProject.class, name);","241","                created++;","242","            } catch (IOException e){}","243","        }","244","        \/\/ Checks that no illegal named project has been created.","245","        assertEquals(0, created);","246","    }","247",""]}]}},"199a830383d0e018aa678648ff683e2fec2ccb56":{"changes":{"core\/src\/main\/java\/hudson\/cli\/EnablePluginCommand.java":"ADD","core\/src\/main\/resources\/hudson\/cli\/Messages.properties":"MODIFY","test\/src\/test\/java\/hudson\/cli\/EnablePluginCommandTest.java":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/cli\/EnablePluginCommand.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/cli\/Messages.properties":[{"add":["9","EnablePluginCommand.NoSuchPlugin=No such plugin found with the name {0}","10","EnablePluginCommand.MissingDependencies=Cannot enable plugin {0} as it is missing the dependency {1}","11","","30","EnablePluginCommand.ShortDescription=\\","31"," Enables one or more installed plugins transitively."],"delete":[]}],"test\/src\/test\/java\/hudson\/cli\/EnablePluginCommandTest.java":[{"add":[],"delete":[]}]}},"8d1cda0edd31764f613f1ab100205c9d9a7faac9":{"changes":{"debian\/debian\/jenkins.postinst":"MODIFY","changelog.html":"MODIFY"},"diff":{"debian\/debian\/jenkins.postinst":[{"add":["23","        [ -r \/etc\/default\/jenkins ] && . \/etc\/default\/jenkins","24","        : ${JENKINS_USER:=jenkins}","25","","29","        if ! id $JENKINS_USER > \/dev\/null 2>&1 ; then","32","                $JENKINS_USER","43","            find \/var\/lib\/jenkins -user hudson -exec chown $JENKINS_USER {} + || true","48","        chown $JENKINS_USER:adm \/var\/lib\/jenkins \/var\/log\/jenkins","55","        chown -R $JENKINS_USER:adm \/var\/cache\/jenkins \/var\/run\/jenkins","56","        chmod -R 750               \/var\/cache\/jenkins \/var\/run\/jenkins"],"delete":["26","        if ! id jenkins > \/dev\/null 2>&1 ; then","29","                jenkins","40","            find \/var\/lib\/jenkins -user hudson -exec chown jenkins {} + || true","45","        chown jenkins:adm \/var\/lib\/jenkins \/var\/log\/jenkins","52","        chown -R jenkins:adm \/var\/cache\/jenkins \/var\/run\/jenkins","53","        chmod -R 750         \/var\/cache\/jenkins \/var\/run\/jenkins"]}],"changelog.html":[{"add":["84","  <li class=bug>","85","    Use $JENKINS_USER in Debian postinst script.","86","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-5771\">issue 5771<\/a>)"],"delete":[]}]}},"d92fd4cc63e19c60e374e45e045dcdce2d91e951":{"changes":{"core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":"MODIFY","core\/src\/main\/java\/hudson\/PluginManager.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":[{"add":["275","                out.add(new PluginWrapper.Dependency(detached.shortName + ':' + detached.requiredVersion));","376","        private final String requiredVersion;","378","        private DetachedPlugin(String shortName, String splitWhen, String requiredVersion) {","381","            this.requiredVersion = requiredVersion;","406","        public VersionNumber getRequiredVersion() {","407","            return new VersionNumber(requiredVersion);"],"delete":["59","import java.lang.reflect.InvocationTargetException;","60","import java.net.URI;","62","import java.nio.file.Path;","69","import java.util.LinkedHashSet;","279","                out.add(new PluginWrapper.Dependency(detached.shortName + ':' + detached.requireVersion));","380","        private final String requireVersion;","382","        private DetachedPlugin(String shortName, String splitWhen, String requireVersion) {","385","            this.requireVersion = requireVersion;","410","        public VersionNumber getRequireVersion() {","411","            return new VersionNumber(requireVersion);"]}],"core\/src\/main\/java\/hudson\/PluginManager.java":[{"add":["722","                VersionNumber requiredVersion = p.getRequiredVersion();","723","                if (installedVersion != null && installedVersion.isOlderThan(requiredVersion)) {","726","                            new Object[]{p.getShortName(), installedVersion, requiredVersion});"],"delete":["722","                VersionNumber requireVersion = p.getRequireVersion();","723","                if (installedVersion != null && installedVersion.isOlderThan(requireVersion)) {","726","                            new Object[]{p.getShortName(), installedVersion, requireVersion});"]}]}},"dcfff1e55611bc1191c494b411b414edba49cd85":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["616","      <version>1.1.4c<\/version>"],"delete":["616","      <version>1.1.3.3<\/version>"]}]}},"19ca6228aa147c75a8d58b5b7f2f535fbc2e5603":{"changes":{"bom\/pom.xml":"MODIFY"},"diff":{"bom\/pom.xml":[{"add":["150","              \"[0]\" is a range that must be exactly 0","154","              This prevents conflicts between the old Servlet API and the new Servlet API as the groupIDs have changed"],"delete":["150","              \"[0]\" is a range that must be exaclty 0","154","              This prevents conflicts between the old Servet API and the new Servlet API as the groupIDs have changed"]}]}},"7fa8fe4096d0134f598a9d475df1c6199b9b05e7":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":"MODIFY","test\/src\/test\/java\/hudson\/maven\/MavenModuleSetTest.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/ItemGroup.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":[{"add":["436","        try {","437","            return modules.get(ModuleName.fromString(name));","438","        } catch (IllegalArgumentException x) {","439","            return null; \/\/ not a Maven module name, ignore","440","        }"],"delete":["436","        return modules.get(ModuleName.fromString(name));"]}],"test\/src\/test\/java\/hudson\/maven\/MavenModuleSetTest.java":[{"add":["4","import org.jvnet.hudson.test.Bug;","25","","26","    @Bug(17402)","27","    public void testGetItem() throws Exception {","28","        assertNull(createMavenProject().getItem(\"invalid\"));","29","    }","30",""],"delete":[]}],"changelog.html":[{"add":["65","  <li class='major bug'>","66","    NPE configuring Copy Artifact with Maven jobs.","67","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-17402\">issue 17402<\/a>)"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/ItemGroup.java":[{"add":["28","import javax.annotation.CheckForNull;","67","     * Gets the {@link Item} inside this group that has a given name, or null if it does not exist.","69","    @CheckForNull T getItem(String name);"],"delete":["66","     * Gets the {@link Item} inside this group that has a given name.","68","    T getItem(String name);"]}]}},"1b2035e253ad583d66702d4bc91f0d3436010a43":{"changes":{"core\/src\/main\/java\/hudson\/model\/Slave.java":"MODIFY","core\/src\/main\/java\/hudson\/TcpSlaveAgentListener.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Slave.java":[{"add":["231","            final OutputStream launchLog = openLogFile();","277","        public OutputStream openLogFile() {","278","            OutputStream os;","279","            try {","280","                os = new FileOutputStream(getLogFile());","281","            } catch (FileNotFoundException e) {","282","                logger.log(Level.SEVERE, \"Failed to create log file \"+getLogFile(),e);","283","                os = new NullStream();","284","            }","285","            return os;","286","        }","287",""],"delete":["231","            OutputStream os;","232","            try {","233","                os = new FileOutputStream(getLogFile());","234","            } catch (FileNotFoundException e) {","235","                logger.log(Level.SEVERE, \"Failed to create log file \"+getLogFile(),e);","236","                os = new NullStream();","237","            }","238","            final OutputStream launchLog = os;"]}],"core\/src\/main\/java\/hudson\/TcpSlaveAgentListener.java":[{"add":["13","import java.io.OutputStream;","138","                ComputerImpl computer = (ComputerImpl) Hudson.getInstance().getComputer(nodeName);","151","                OutputStream log = computer.openLogFile();","152","                new PrintWriter(log).println(\"JNLP agent connected from \"+s.getInetAddress());","153","                ","154","                computer.setChannel(s.getInputStream(),s.getOutputStream(),log,"],"delete":["137","                Computer computer = Hudson.getInstance().getComputer(nodeName);","150","                ((ComputerImpl)computer).setChannel(s.getInputStream(),s.getOutputStream(),null,"]}]}},"4969c7b15d4d6b61eb8a7d6724a101b8da1a7f5f":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":[{"add":["21","import java.io.ByteArrayInputStream;","128","            try {","129","                p.load(new StringReader(properties));","130","            } catch (NoSuchMethodError e) {","131","                \/\/ load(Reader) method is only available on JDK6.","132","                \/\/ this fall back version doesn't work correctly with non-ASCII characters,","133","                \/\/ but there's no other easy ways out it seems.","134","                p.load(new ByteArrayInputStream(properties.getBytes()));","135","            }"],"delete":["127","            p.load(new StringReader(properties));"]}]}},"92e56fd3deb18042107656fcab8bd41df965fe52":{"changes":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["2177","     * @since TODO"],"delete":[]}]}},"02e73849dabb81b60cc2d7a97ca2fd0240aa2f74":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["66","  <li class=bug>","67","    Fatal exception apparently within Xalan code on AIX","68","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-10851\">issue 10851<\/a>)    "],"delete":[]}]}},"bc3766f41f379fe517d0a4931690698e3110dfdf":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/SurefireArchiver.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/SurefireArchiver.java":[{"add":["77","\t\tif ((!mojo.is(\"org.apache.maven.plugins\", \"maven-failsafe-plugin\", \"integration-test\"))","78","\t\t    && (!mojo.is(\"eviware\", \"maven-soapui-plugin\", \"test\"))","79","\t\t    && (!mojo.is(\"eviware\", \"maven-soapui-pro-plugin\", \"test\"))) {","244","            && (!mojo.is(\"org.apache.maven.plugins\", \"maven-failsafe-plugin\", \"integration-test\"))","245","            && (!mojo.is(\"eviware\", \"maven-soapui-plugin\", \"test\"))","246","            && (!mojo.is(\"eviware\", \"maven-soapui-pro-plugin\", \"test\")))","312","            } else if (mojo.is(\"eviware\", \"maven-soapui-plugin\", \"test\")) {","313","                Boolean skipTests = mojo.getConfigurationValue(\"skip\", Boolean.class);","314","                if (((skipTests != null) && (skipTests))) {","315","                    return false;","316","                }","317","            } else if (mojo.is(\"eviware\", \"maven-soapui-pro-plugin\", \"test\")) {","318","                Boolean skipTests = mojo.getConfigurationValue(\"skip\", Boolean.class);","319","                if (((skipTests != null) && (skipTests))) {","320","                    return false;","321","                }"],"delete":["77","            if (!mojo.is(\"org.apache.maven.plugins\", \"maven-failsafe-plugin\", \"integration-test\")) {","242","            && (!mojo.is(\"org.apache.maven.plugins\", \"maven-failsafe-plugin\", \"integration-test\")))"]}]}},"f39c435f8c86403653dc777516a4853e912044e3":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/java\/jenkins\/diagnosis\/HsErrPidList.java":"MODIFY"},"diff":{"changelog.html":[{"add":["64","    File locking issue when running functional tests on Windows.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-21977\">issue 21977<\/a>)","66","  <li class=bug>"],"delete":[]}],"core\/src\/main\/java\/jenkins\/diagnosis\/HsErrPidList.java":[{"add":["32","@Extension(optional=true) \/\/ TODO why would an extension using a built-in extension point need to be marked optional?","45","        if (Functions.getIsUnitTest()) {","46","            return;","47","        }"],"delete":["32","@Extension(optional=true)"]}]}},"a9c0080ebdb5ce99cfa47cef674dc59a4035e779":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/resources\/lib\/layout\/task.jelly":"MODIFY","war\/pom.xml":"MODIFY"},"diff":{"changelog.html":[{"add":["64","    Plugin icons in the sidebar were not being properly cached.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16530\">issue 16530<\/a>)","66","  <li class=bug>"],"delete":[]}],"core\/src\/main\/resources\/lib\/layout\/task.jelly":[{"add":["81","            <img width=\"24\" height=\"24\" style=\"margin: 2px;\" alt=\"\" src=\"${rootURL}${icon.startsWith('images\/') || icon.startsWith('plugin\/') ? h.resourcePath : ''}\/${icon}\"\/>","99","          <j:set var=\"icon\" value=\"${rootURL}${icon.startsWith('images\/') || icon.startsWith('plugin\/') ? h.resourcePath : ''}\/${icon}\"\/>"],"delete":["81","            <img width=\"24\" height=\"24\" style=\"margin: 2px;\" alt=\"\" src=\"${rootURL}${icon.startsWith('images\/') ? h.resourcePath : ''}\/${icon}\"\/>","99","          <j:set var=\"icon\" value=\"${rootURL}${icon.startsWith('images\/') ? h.resourcePath : ''}\/${icon}\"\/>"]}],"war\/pom.xml":[{"add":["298","                  <version>1.10<\/version>"],"delete":["298","                  <version>1.8<\/version>"]}]}},"f6deb31220388103e3211d549f1d42fd9a382127":{"changes":{"core\/src\/main\/resources\/jenkins\/split-plugins.txt":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/split-plugins.txt":[{"add":["2","# Columns are: plugin ID, last core release still containing the plugin's functionality, plugin version that's implied.","3","","4","# Note that all split plugins between and including matrix-auth and jdk-tool incorrectly use the first","5","# core release without the plugin's functionality when they should use the immediately prior release.","6","# Fixing these retroactively won't help, as the difference only matters to those specific versions.","7",""],"delete":[]}]}},"5483ee13833bb44ff611e8da3a8c74379ba26e11":{"changes":{"core\/src\/test\/java\/hudson\/model\/RunTest.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/model\/RunTest.java":[{"add":["191","        int truncatedCount = 10* (\"dummyN\".length() + System.getProperty(\"line.separator\").length()) - 2;","192","        assertEquals(\"[...truncated \"+truncatedCount+\" B...]\", logLines.get(0));"],"delete":["191","        assertEquals(\"[...truncated 68 B...]\", logLines.get(0));"]}]}},"3df134061564e19886a3ee357f4f50e04d438948":{"changes":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Hudson\/projectRelationship.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["663","            names.add(j.getFullName());"],"delete":["663","            names.add(j.getName());"]}],"core\/src\/main\/resources\/hudson\/model\/Hudson\/projectRelationship.jelly":[{"add":["30","            <j:set var=\"jl\" value=\"${app.getItemByFullName(request.getParameter('lhs'))}\" \/>","31","            <j:set var=\"jr\" value=\"${app.getItemByFullName(request.getParameter('rhs'))}\" \/>"],"delete":["30","            <j:set var=\"jl\" value=\"${app.getJob(request.getParameter('lhs'))}\" \/>","31","            <j:set var=\"jr\" value=\"${app.getJob(request.getParameter('rhs'))}\" \/>"]}]}},"f1a26582c1b25c470989d19b25378cff5c6d2497":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["1617","                if (buildTrigger.getChildJobs(ap).contains(this))"],"delete":["1617","                if (buildTrigger.getChildProjects(ap).contains(this))"]}],"core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":[{"add":["61","import javax.annotation.Nonnull;","64","import jenkins.model.ParameterizedJobMixIn;","155","    \/** @deprecated use {@link #getChildJobs} *\/","156","    @Deprecated","161","    @Deprecated","166","    @SuppressWarnings(\"unchecked\")","167","    @Nonnull","168","    public List<Job<?, ?>> getChildJobs(@Nonnull AbstractProject<?, ?> owner) {","169","        return Items.fromNameList(owner.getParent(), childProjects, (Class<Job<?, ?>>) (Class) Job.class);","170","    }","171","","177","     * @deprecated apparently unused","179","    @Deprecated","196","        List<Job<?, ?>> jobs = new ArrayList<>();","197","        for (Job<?, ?> job : getChildJobs(build.getProject())) {","198","            if (job instanceof AbstractProject) {","199","                continue; \/\/ taken care of by DependencyGraph","200","            }","201","            jobs.add(job);","202","        }","203","        if (!jobs.isEmpty() && build.getResult().isBetterOrEqualTo(threshold)) {","204","            PrintStream logger = listener.getLogger();","205","            for (Job<?, ?> downstream : jobs) {","206","                if (Jenkins.getInstance().getItemByFullName(downstream.getFullName()) != downstream) {","207","                    LOGGER.log(Level.WARNING, \"Running as {0} cannot even see {1} for trigger from {2}\", new Object[] {Jenkins.getAuthentication().getName(), downstream, build.getParent()});","208","                    continue;","209","                }","210","                if (!downstream.hasPermission(Item.BUILD)) {","211","                    listener.getLogger().println(Messages.BuildTrigger_you_have_no_permission_to_build_(ModelHyperlinkNote.encodeTo(downstream)));","212","                    continue;","213","                }","214","                if (!(downstream instanceof ParameterizedJobMixIn.ParameterizedJob)) {","215","                    logger.println(Messages.BuildTrigger_NotBuildable(ModelHyperlinkNote.encodeTo(downstream)));","216","                    continue;","217","                }","218","                ParameterizedJobMixIn.ParameterizedJob<?, ?> pj = (ParameterizedJobMixIn.ParameterizedJob) downstream;","219","                if (pj.isDisabled()) {","220","                    logger.println(Messages.BuildTrigger_Disabled(ModelHyperlinkNote.encodeTo(downstream)));","221","                    continue;","222","                }","223","                if (!downstream.isBuildable()) { \/\/ some other reason; no API to retrieve cause","224","                    logger.println(Messages.BuildTrigger_NotBuildable(ModelHyperlinkNote.encodeTo(downstream)));","225","                    continue;","226","                }","227","                boolean scheduled = pj.scheduleBuild(pj.getQuietPeriod(), new UpstreamCause((Run) build));","228","                if (Jenkins.getInstance().getItemByFullName(downstream.getFullName()) == downstream) {","229","                    String name = ModelHyperlinkNote.encodeTo(downstream);","230","                    if (scheduled) {","231","                        logger.println(Messages.BuildTrigger_Triggering(name));","232","                    } else {","233","                        logger.println(Messages.BuildTrigger_InQueue(name));","234","                    }","235","                }","236","            }","237","        }","326","        for (AbstractProject p : getChildProjects(owner)) \/\/ only care about AbstractProject here","437","                        Job<?, ?> nearest = Items.findNearest(Job.class, projectName, project.getParent());","441","                    if(!(item instanceof ParameterizedJobMixIn.ParameterizedJob))"],"delete":["166","     * Checks if this trigger has the exact same set of children as the given list.","272","        for (AbstractProject p : getChildProjects(owner))","383","                        AbstractProject nearest = AbstractProject.findNearest(projectName,project.getParent());","387","                    if(!(item instanceof AbstractProject))"]}]}},"79f99e1e8dec7c27a56267ba480936e5b485e3c2":{"changes":{"core\/src\/main\/java\/hudson\/util\/PluginServletFilter.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/PluginServletFilter.java":[{"add":["29","import javax.annotation.CheckForNull;","74","     *","75","     * @param c the ServletContext most of the time taken from a Jenkins instance","76","     * @return get the current PluginServletFilter if it is already available","78","    private static @CheckForNull PluginServletFilter getInstance(ServletContext c) {"],"delete":["74","    private static PluginServletFilter getInstance(ServletContext c) {"]}]}},"9e5817adbbf1b8c258c24281d0f61b40b7507cb3":{"changes":{"core\/src\/main\/java\/hudson\/model\/Job.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages.properties":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Job.java":[{"add":["56","import hudson.util.QuotedStringTokenizer;","1147","                if (FormApply.isApply(req)) {","1148","                    FormApply.applyResponse(\"notificationBar.show(\" + QuotedStringTokenizer.quote(Messages.Job_you_must_use_the_save_button_if_you_wish()) + \",notificationBar.WARNING)\").generateResponse(req, rsp, null);","1149","                } else {","1150","                    rsp.sendRedirect(\"rename?newName=\" + URLEncoder.encode(newName, \"UTF-8\"));","1151","                }"],"delete":["1146","                rsp.sendRedirect(\"rename?newName=\" + URLEncoder.encode(newName, \"UTF-8\"));"]}],"core\/src\/main\/resources\/hudson\/model\/Messages.properties":[{"add":["184","Job.you_must_use_the_save_button_if_you_wish=You must use the Save button if you wish to rename a job."],"delete":[]}]}},"d09fc3a5521ad3fba446e36002ef4fc58d5f9bf9":{"changes":{"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/config_nl.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/config_nl.properties":[{"add":["22","Allow\\ users\\ to\\ sign\\ up=Sta gebruikers toe zichzelf te registreren"],"delete":["22","Allow\\ users\\ to\\ sign\\ up=Sta gebruikers toe in te loggen"]}]}},"729e54c6c76cd6c89c60b623c6ea24b5b263d654":{"changes":{"core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["870","                FileInputStream fis = null;","871","                try {","872","                    fis = new FileInputStream(f);","873","                    Util.copyStream(fis,out);","874","                    return null;","875","                } finally {","876","                    IOUtils.closeQuietly(fis);","877","                    IOUtils.closeQuietly(out);","878","                }"],"delete":["870","                FileInputStream fis = new FileInputStream(f);","871","                Util.copyStream(fis,out);","872","                fis.close();","873","                out.close();","874","                return null;"]}]}},"16509dc22c7129f64c6c2668779b71de819912cf":{"changes":{"core\/src\/main\/resources\/hudson\/security\/csrf\/GlobalCrumbIssuerConfiguration\/help-csrf.html":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/security\/csrf\/GlobalCrumbIssuerConfiguration\/help-csrf.html":[{"add":["9","  Enabling this option can result in some problems, like the following:","10","  <ul>","11","    <li>Some Jenkins features (like the remote API) are more difficult to use when this option is enabled.<\/li>","12","    <li>Some features, especially in plugins not tested with this option enabled, may not work at all.<\/li>","13","    <li>If you are accessing Jenkins through a reverse proxy, it may strip the CSRF HTTP header, resulting in some protected actions failing.<\/li>","14","  <\/ul>","15","  <p>"],"delete":[]}]}},"5501de6a600397a89b3be7a8268ceefb23fe1515":{"changes":{"core\/src\/main\/java\/hudson\/scm\/SubversionSCM.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/SubversionSCM.java":[{"add":["698","        private static final Pattern URL_PATTERN = Pattern.compile(\"(https?|svn(\\\\+\\\\w+)?|file):\/\/.+\");"],"delete":["698","        private static final Pattern URL_PATTERN = Pattern.compile(\"(https?|svn(\\\\+\\\\w+)|file):\/\/.+\");"]}]}},"03bc0a168d613030e898b017a07bed78ab7f24a1":{"changes":{"core\/src\/main\/java\/hudson\/util\/EncodingStream.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/EncodingStream.java":[{"add":["44","        if (b < 0) b += 256;"],"delete":[]}]}},"0971dee536469e3e3f4e8b1e75bf7dbdc57cdb5c":{"changes":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Computer\/index.jelly":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/executors.jelly":"MODIFY","core\/src\/main\/java\/hudson\/model\/Computer.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["530","        if(name.equals(\"(master)\"))","531","            name = \"\";","532","","1450","        public String getDisplayName() {","1451","            return \"master\";","1452","        }","1453","","1454","        @Override","1455","        public String getCaption() {","1456","            return \"Master\"; ","1457","        }","1458","","1459","        @Override"],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Computer\/index.jelly":[{"add":["18","        ${it.caption}"],"delete":["18","        Slave ${it.displayName}"]}],"core\/src\/main\/resources\/lib\/hudson\/executors.jelly":[{"add":["10","\t          <th class=\"pane\">","11","              <j:choose>","12","                <j:when test=\"${empty(app.slaves)}\">","13","                  Status","14","                <\/j:when>","15","                <j:otherwise>","16","                  <a href=\"${rootURL}\/computer\/(master)\/\">Master<\/a>","17","                  <j:if test=\"${c.offline}\">(offline)<\/j:if>","18","                <\/j:otherwise>","19","              <\/j:choose>","20","            <\/th>","21","            <th class=\"pane\"><st:nbsp\/><\/th>"],"delete":["10","\t          <th class=\"pane\">Status<\/th>","11","\t          <th class=\"pane\"><st:nbsp\/><\/th>"]}],"core\/src\/main\/java\/hudson\/model\/Computer.java":[{"add":["142","    public String getCaption() {","143","        return \"Slave \"+nodeName;","144","    }","145",""],"delete":[]}]}},"575c1af489a43a6bc1846ca46864e5d4931e47e3":{"changes":{"core\/src\/main\/java\/hudson\/cli\/SetBuildDescriptionCommand.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/cli\/SetBuildDescriptionCommand.java":[{"add":["30","        if (run == null)","31","            throw new IllegalArgumentException(\"No such build #\"+number);","32",""],"delete":[]}]}},"06514d2517bb124cd3700d8063c755e60a7107fe":{"changes":{"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_fr.properties":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_tr.properties":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index.properties":"MODIFY","war\/src\/main\/webapp\/help\/security\/private-realm_pt_BR.html":"MODIFY","war\/src\/main\/webapp\/help\/security\/private-realm_ru.html":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_es.properties":"MODIFY","war\/src\/main\/webapp\/help\/security\/private-realm_zh_CN.html":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_ru.properties":"MODIFY","war\/src\/main\/webapp\/help\/security\/private-realm_fr.html":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_ko.properties":"MODIFY","war\/src\/main\/webapp\/help\/security\/private-realm_de.html":"MODIFY","war\/src\/main\/webapp\/help\/security\/private-realm_ja.html":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_pt_BR.properties":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_nb_NO.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/View\/People\/index.jelly":"ADD","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_ja.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/User\/sidepanel.jelly":"MODIFY","war\/src\/main\/webapp\/help\/security\/private-realm_tr.html":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_de.properties":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_da.properties":"MODIFY","war\/src\/main\/webapp\/help\/security\/private-realm.html":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_fr.properties":[{"add":["24","Ces utilisateurs peuvent se logguer sur Jenkins. C''est le groupe contenant <a href=\"..\/asynchPeople\">cette liste<\/a>, \\","25","qui contient \\u00e9galement les utilisateus cr\\u00e9\\u00e9s automatiquement qui ont simplement fait des commits sur certains \\","26","projets et n''ont pas d''acc\\u00e8s direct \\u00e0 Jenkins."],"delete":["24","Ces utilisateurs peuvent se logguer sur Jenkins. C''est le groupe contenant <a href=\"..\/people\">cette liste<\/a>, \\","25","qui contient galement les utilisateus crs automatiquement qui ont simplement fait des commits sur certains \\","26","projets et n''ont pas d''accs direct  Jenkins."]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_tr.properties":[{"add":["23","Bu kullan\\u0131c\\u0131vlar Jenkins'da oturum a\\u00e7abilir. Bu liste, <a href=\"..\/asynchPeople\">buradakinin<\/a> bir \\u00fcst k\\u00fcmesidir,"],"delete":["23","Bu kullan\\u0131c\\u0131vlar Jenkins'da oturum a\\u00e7abilir. Bu liste, <a href=\"..\/people\">buradakinin<\/a> bir \\u00fcst k\\u00fcmesidir, "]}],"changelog.html":[{"add":["58","    Restoring <code>\/people<\/code> page as a redirect for compatibility, and fixing links to it.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15206\">issue 15206<\/a> continued)","60","  <li class=bug>"],"delete":[]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index.properties":[{"add":["23","These users can log into Jenkins. This is a sub set of <a href=\"..\/asynchPeople\">this list<\/a>, \\"],"delete":["23","These users can log into Jenkins. This is a sub set of <a href=\"..\/people\">this list<\/a>, \\"]}],"war\/src\/main\/webapp\/help\/security\/private-realm_pt_BR.html":[{"add":["1","  Usa <a href=\"asynchPeople\">a pr&#243;pria lista de usu&#225;rios do Jenkins<\/a> para fazer a autentica&#231;&#227;o,"],"delete":["1","  Usa <a href=\"people\">a pr&#243;pria lista de usu&#225;rios do Jenkins<\/a> para fazer a autentica&#231;&#227;o,"]}],"war\/src\/main\/webapp\/help\/security\/private-realm_ru.html":[{"add":["1","  ???????????? <a href=\"asynchPeople\">??????????? ?????? ?????????????<\/a> ???"],"delete":["1","  ???????????? <a href=\"people\">??????????? ?????? ?????????????<\/a> ???"]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_es.properties":[{"add":["23","   Estos usuarios pueden entrar en Jenkins. Este es un subconjunto de <a href=\"..\/asynchPeople\">esta list<\/a>, \\","24","   que tambien incluyen usuarios creados autom\\u00e1ticamente porque hayan hecho ''commits'' a proyectos. \\","25","   Los usuarios creados autom\\u00e1ticamente no tienen acceso directo a Jenkins."],"delete":["23","   Estos usuarios pueden entrar en Jenkins. Este es un subconjunto de <a href=\"..\/people\">esta list<\/a>, \\","24","   que tambien incluyen usuarios creados automticamente porque hayan hecho ''commits'' a proyectos. \\","25","   Los usuarios creados automticamente no tienen acceso directo a Jenkins."]}],"war\/src\/main\/webapp\/help\/security\/private-realm_zh_CN.html":[{"add":["1","  ??<a href=\"asynchPeople\">Hudson???????<\/a>??,\r"],"delete":["1","  ??<a href=\"people\">Hudson???????<\/a>??,\r"]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_ru.properties":[{"add":["22","Name=\\u0418\\u043c\\u044f","23","User\\ Id=ID \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044f","24","Users=\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0438","25","blurb=\\u041f\\u0435\\u0440\\u0435\\u0447\\u0438\\u0441\\u043b\\u0435\\u043d\\u043d\\u044b\\u0435 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0438 \\u043c\\u043e\\u0433\\u0443\\u0442 \\u0432\\u0445\\u043e\\u0434\\u0438\\u0442\\u044c \\u0432 Jenkins. \\u0423\\u043a\\u0430\\u0437\\u0430\\u043d\\u043d\\u044b\\u0439 \\u0441\\u043f\\u0438\\u0441\\u043e\\u043a \\u044f\\u0432\\u043b\\u044f\\u0435\\u0442\\u0441\\u044f \\u043f\\u043e\\u0434\\u043c\\u043d\\u043e\\u0436\\u0435\\u0441\\u0442\\u0432\\u043e\\u043c <a href=\"..\/asynchPeople\">\\u043f\\u043e\\u043b\\u043d\\u043e\\u0433\\u043e \\u0441\\u043f\\u0438\\u0441\\u043a\\u0430 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0435\\u0439<\/a>, \\u043a\\u043e\\u0442\\u043e\\u0440\\u044b\\u0439 \\u0432 \\u0434\\u043e\\u043f\\u043e\\u043b\\u043d\\u0435\\u043d\\u0438\\u0435 \\u0441\\u043e\\u0434\\u0435\\u0440\\u0436\\u0438\\u0442 \\u0430\\u0432\\u0442\\u043e\\u043c\\u0430\\u0442\\u0438\\u0447\\u0435\\u0441\\u043a\\u0438 \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u043d\\u044b\\u0445 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0435\\u0439, \\u043a\\u043e\\u0442\\u043e\\u0440\\u044b\\u0435 \\u0432\\u043d\\u043e\\u0441\\u0438\\u043b\\u0438 \\u0438\\u0437\\u043c\\u0435\\u043d\\u0435\\u043d\\u0438\\u044f \\u0432 \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b (\\u0434\\u0435\\u043b\\u0430\\u043b\\u0438 commit \\u0432 SCM), \\u0438 \\u043c\\u043e\\u0433\\u0443\\u0442 \\u043d\\u0435 \\u0438\\u043c\\u0435\\u0442\\u044c \\u0434\\u043e\\u0441\\u0442\\u0443\\u043f\\u0430 \\u043a \\u0434\\u0430\\u043d\\u043d\\u043e\\u043c\\u0443 \\u044d\\u043a\\u0437\\u0435\\u043c\\u043f\\u043b\\u044f\\u0440\\u0443 Jenkins."],"delete":["22","Name=\\u0418\\u043C\\u044F","23","User\\ Id=ID \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F","24","Users=\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438","25","blurb=\\u041F\\u0435\\u0440\\u0435\\u0447\\u0438\\u0441\\u043B\\u0435\\u043D\\u043D\\u044B\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438 \\u043C\\u043E\\u0433\\u0443\\u0442 \\u0432\\u0445\\u043E\\u0434\\u0438\\u0442\\u044C \\u0432 Jenkins. \\u0423\\u043A\\u0430\\u0437\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A \\u044F\\u0432\\u043B\\u044F\\u0435\\u0442\\u0441\\u044F \\u043F\\u043E\\u0434\\u043C\\u043D\\u043E\\u0436\\u0435\\u0441\\u0442\\u0432\\u043E\\u043C <a href=\"..\/people\">\\u043F\\u043E\\u043B\\u043D\\u043E\\u0433\\u043E \\u0441\\u043F\\u0438\\u0441\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439<\/a>, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0439 \\u0432 \\u0434\\u043E\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0438\\u0442 \\u0430\\u0432\\u0442\\u043E\\u043C\\u0430\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0435 \\u0432\\u043D\\u043E\\u0441\\u0438\\u043B\\u0438 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F \\u0432 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B (\\u0434\\u0435\\u043B\\u0430\\u043B\\u0438 commit \\u0432 SCM), \\u0438 \\u043C\\u043E\\u0433\\u0443\\u0442 \\u043D\\u0435 \\u0438\\u043C\\u0435\\u0442\\u044C \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430 \\u043A \\u0434\\u0430\\u043D\\u043D\\u043E\\u043C\\u0443 \\u044D\\u043A\\u0437\\u0435\\u043C\\u043F\\u043B\\u044F\\u0440\\u0443 Jenkins."]}],"war\/src\/main\/webapp\/help\/security\/private-realm_fr.html":[{"add":["1","  Utilise la <a href=\"asynchPeople\">liste des utilisateurs gre par Jenkins<\/a>"],"delete":["1","  Utilise la <a href=\"people\">liste des utilisateurs gre par Jenkins<\/a>"]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_ko.properties":[{"add":["22","Name=\\uc774\\ub984","23","blurb=\\uc774 \\uc0ac\\uc6a9\\uc790\\ub4e4\\uc740 Jenkins\\uc5d0 \\ub85c\\uadf8\\uc778\\ud560 \\uc218 \\uc788\\uc74c. \\uc5b4\\ub5a4 \\ud504\\ub85c\\uc81d\\ud2b8\\uc5d0\\uc11c \\uc5b4\\ub5a4 \\uc801\\uc6a9\\uc744 \\ub9c9 \\ub9cc\\ub4e4\\uc5b4 \\ub0b4\\uace0 Jenkins\\uc5d0 \\uc811\\uadfc\\ud558\\uc9c0 \\uc54a\\uc740 \\uc790\\ub3d9 \\uc0dd\\uc131\\ub41c \\uc0ac\\uc6a9\\uc790\\ub3c4 \\ud3ec\\ud568\\ud55c <a href=\"..\/asynchPeople\"> \\ubaa9\\ub85d<\/a>\\uc784."],"delete":["22","Name=\\uC774\\uB984","23","blurb=\\uC774 \\uC0AC\\uC6A9\\uC790\\uB4E4\\uC740 Jenkins\\uC5D0 \\uB85C\\uADF8\\uC778\\uD560 \\uC218 \\uC788\\uC74C. \\uC5B4\\uB5A4 \\uD504\\uB85C\\uC81D\\uD2B8\\uC5D0\\uC11C \\uC5B4\\uB5A4 \\uC801\\uC6A9\\uC744 \\uB9C9 \\uB9CC\\uB4E4\\uC5B4 \\uB0B4\\uACE0 Jenkins\\uC5D0 \\uC811\\uADFC\\uD558\\uC9C0 \\uC54A\\uC740 \\uC790\\uB3D9 \\uC0DD\\uC131\\uB41C \\uC0AC\\uC6A9\\uC790\\uB3C4 \\uD3EC\\uD568\\uD55C <a href=\"..\/people\"> \\uBAA9\\uB85D<\/a>\\uC784."]}],"war\/src\/main\/webapp\/help\/security\/private-realm_de.html":[{"add":["1","  Verwenden Sie <a href=\"asynchPeople\">Jenkins' Benutzerverzeichnis<\/a> zur"],"delete":["1","  Verwenden Sie <a href=\"people\">Jenkins' Benutzerverzeichnis<\/a> zur"]}],"war\/src\/main\/webapp\/help\/security\/private-realm_ja.html":[{"add":["1","  ???????????????<a href=\"asynchPeople\">Jenkins??????????<\/a>??????????"],"delete":["1","  ???????????????<a href=\"people\">Jenkins??????????<\/a>??????????"]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_pt_BR.properties":[{"add":["23","User\\ Id=Identifica\\u00e7\\u00e3o do Usu\\u00e1rio","24","Users=Usu\\u00e1rios","25","blurb=Esses usu\\u00e1rios podem entrar no Jenkins. Este \\u00e9 um sub-conjunto desta <a href=\"..\/asynchPeople\">lista<\/a>, que tamb\\u00e9m cont\\u00e9m os usu\\u00e1rios criados de forma autom\\u00e1tica ao executarem algum commit nos projetos que o Jenkins tem acesso."],"delete":["23","User\\ Id=Identifica\\u00E7\\u00E3o do Usu\\u00E1rio","24","Users=Usu\\u00E1rios","25","blurb=Esses usu\\u00E1rios podem entrar no Jenkins. Este \\u00E9 um sub-conjunto desta <a href=\"..\/people\">lista<\/a>, que tamb\\u00E9m cont\\u00E9m os usu\\u00E1rios criados de forma autom\\u00E1tica ao executarem algum commit nos projetos que o Jenkins tem acesso."]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_nb_NO.properties":[{"add":["25","blurb=Disse brukerne kan logge inn p\\u00e5 Jenkins. De er et subsett av <a href=\"..\/asynchPeople\">dene listen<\/a>, som ogs\\u00e5 inneholder autogenererte brukere som egentlig bare har sjekket inn p\\u00e5 noen prosjekter og ikke har direkte jenkins-tilgang."],"delete":["25","blurb=Disse brukerne kan logge inn p\\u00E5 Jenkins. De er et subsett av <a href=\"..\/people\">dene listen<\/a>, som ogs\\u00E5 inneholder autogenererte brukere som egentlig bare har sjekket inn p\\u00E5 noen prosjekter og ikke har direkte jenkins-tilgang."]}],"core\/src\/main\/resources\/hudson\/model\/View\/People\/index.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_ja.properties":[{"add":["25"," \\u3044\\u304f\\u3064\\u304b\\u306e\\u30d7\\u30ed\\u30b8\\u30a7\\u30af\\u30c8\\u306b\\u30b3\\u30df\\u30c3\\u30c8\\u3059\\u308b\\u3068\\u81ea\\u52d5\\u7684\\u306b\\u4f5c\\u6210\\u3055\\u308c\\u308b\\u30e6\\u30fc\\u30b6\\u30fc\\u3092\\u542b\\u3080<a href=\"..\/asynchPeople\">\\u3053\\u306e\\u30ea\\u30b9\\u30c8<\/a>\\u306e\\u4e00\\u90e8\\u3067\\u3059\\u3002"],"delete":["25"," \\u3044\\u304f\\u3064\\u304b\\u306e\\u30d7\\u30ed\\u30b8\\u30a7\\u30af\\u30c8\\u306b\\u30b3\\u30df\\u30c3\\u30c8\\u3059\\u308b\\u3068\\u81ea\\u52d5\\u7684\\u306b\\u4f5c\\u6210\\u3055\\u308c\\u308b\\u30e6\\u30fc\\u30b6\\u30fc\\u3092\\u542b\\u3080<a href=\"..\/people\">\\u3053\\u306e\\u30ea\\u30b9\\u30c8<\/a>\\u306e\\u4e00\\u90e8\\u3067\\u3059\\u3002"]}],"core\/src\/main\/resources\/hudson\/model\/User\/sidepanel.jelly":[{"add":["33","      <l:task icon=\"images\/24x24\/up.png\" href=\"${rootURL}\/asynchPeople\/\" title=\"${%People}\" contextMenu=\"false\"\/>"],"delete":["33","      <l:task icon=\"images\/24x24\/up.png\" href=\"${rootURL}\/people\/\" title=\"${%People}\" contextMenu=\"false\"\/>"]}],"war\/src\/main\/webapp\/help\/security\/private-realm_tr.html":[{"add":["1","  Yetkilendirmeyi d&#305;&#351; sisteme vermek yerine, <a href=\"asynchPeople\">Hudson'&#305;n kendi kullan&#305;c&#305; listesi<\/a>'ni"],"delete":["1","  Yetkilendirmeyi d&#305;&#351; sisteme vermek yerine, <a href=\"people\">Hudson'&#305;n kendi kullan&#305;c&#305; listesi<\/a>'ni"]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_de.properties":[{"add":["23","Diese Benutzer k\\u00f6nnen sich bei Jenkins anmelden. Dies ist eine Untermenge \\","24","<a href=\"..\/asynchPeople\">jener Liste<\/a>, die zus\\u00e4tzlich automatisch \\","26","beigetragen, d\\u00fcrfen sich aber nicht direkt bei Jenkins anmelden."],"delete":["23","Diese Benutzer knnen sich bei Jenkins anmelden. Dies ist eine Untermenge \\","24","<a href=\"..\/people\">jener Liste<\/a>, die zustzlich automatisch \\","26","beigetragen, drfen sich aber nicht direkt bei Jenkins anmelden."]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/index_da.properties":[{"add":["22","blurb=Disse brugere kan logge p\\u00e5 Jenkins. Dette er en delm\\u00e6ngde af <a href=\"..\/asynchPeople\">denne liste<\/a>"],"delete":["22","blurb=Disse brugere kan logge p\\u00e5 Jenkins. Dette er en delm\\u00e6ngde af <a href=\"..\/people\">denne liste<\/a>"]}],"war\/src\/main\/webapp\/help\/security\/private-realm.html":[{"add":["1","  Use <a href=\"asynchPeople\">Jenkins's own user list<\/a> for authentication,"],"delete":["1","  Use <a href=\"people\">Jenkins's own user list<\/a> for authentication,"]}]}},"22ca90e7f5a2ad070321bfb0897d1dc9f2e92b0e":{"changes":{"core\/src\/main\/java\/hudson\/model\/Job.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Job.java":[{"add":["570","        for( Run r : getBuilds() ) {","571","            if(r.isBuilding())  continue;","573","        }"],"delete":["570","        for( Run r : getBuilds() )"]}]}},"aa79364f737d0ce5e061d2840e69ca54248f0467":{"changes":{"core\/src\/main\/resources\/hudson\/model\/UpdateCenter\/CoreUpdateMonitor\/message.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/UpdateCenter\/CoreUpdateMonitor\/message.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/PluginManager\/table.jelly":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/UpdateCenter\/CoreUpdateMonitor\/message.properties":[{"add":["2","# Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi","22","NewVersionAvailable=New version of Hudson ({0}) is available for <a href=\"{1}\">download<\/a> \\","23","  (<a href=\"http:\/\/hudson-ci.org\/changelog.html\">changelog<\/a>).","24","UpgradeComplete=Upgrade to Hudson {0} is complete, awaiting restart.","25","UpgradeProgress=Upgrade to Hudson {0} is <a href=\"{1}\">in progress or failed<\/a>."],"delete":["2","# Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi","22","NewVersionAvailable=New version of Hudson ({0}) is available for <a href=\"{1}\">download<\/a> (<a href=\"http:\/\/hudson-ci.org\/changelog.html\">changelog<\/a>)."]}],"core\/src\/main\/resources\/hudson\/model\/UpdateCenter\/CoreUpdateMonitor\/message.jelly":[{"add":["3","Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi","27","    <j:set var=\"upJob\" value=\"${app.updateCenter.hudsonJob}\" \/>","28","    <j:choose>","29","      <j:when test=\"${upJob.status.success}\">","30","        ${%UpgradeComplete(ucData.core.version)}","31","      <\/j:when>","32","      <j:when test=\"${upJob!=null}\">","33","        ${%UpgradeProgress(ucData.core.version,rootURL+'\/updateCenter\/')}","34","      <\/j:when>","35","      <j:otherwise>","36","        <form method=\"post\" action=\"${rootURL}\/updateCenter\/upgrade\">","37","        ${%NewVersionAvailable(ucData.core.version,ucData.core.url)}","38","          <j:if test=\"${ucData.canUpgrade()}\">","39","            <f:submit value=\"${%Or Upgrade Automatically}\"\/>","40","          <\/j:if>","41","        <\/form>","42","      <\/j:otherwise>","43","    <\/j:choose>","45","<\/j:jelly>"],"delete":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi","27","    <form method=\"post\" action=\"${rootURL}\/updateCenter\/upgrade\">","28","      ${%NewVersionAvailable(ucData.core.version,ucData.core.url)}","29","      <j:if test=\"${ucData.canUpgrade()}\">","30","        <f:submit value=\"${%Or Upgrade Automatically}\"\/>","31","      <\/j:if>","32","    <\/form>","34","<\/j:jelly>"]}],"core\/src\/main\/resources\/hudson\/PluginManager\/table.jelly":[{"add":["80","                  <j:set var=\"installedOk\" value=\"${installJob.status.success}\" \/>"],"delete":["80","                  <j:set var=\"installedOk\" value=\"${installJob.status.class.name=='hudson.model.UpdateCenter$DownloadJob$Success'}\" \/>"]}],"core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":[{"add":["172","     * Returns latest Hudson upgrade job.","173","     * @return HudsonUpgradeJob or null if not found","174","     *\/","175","    public HudsonUpgradeJob getHudsonJob() {","176","        List<UpdateCenterJob> jobList = getJobs();","177","        Collections.reverse(jobList);","178","        for (UpdateCenterJob job : jobList)","179","            if (job instanceof HudsonUpgradeJob)","180","                return (HudsonUpgradeJob)job;","181","        return null;","182","    }","183","","184","    \/**","774","            public boolean isSuccess() {","775","                return false;","776","            }","798","            @Override public boolean isSuccess() {","799","                return true;","800","            }"],"delete":[]}]}},"99aaa67beccd8570cb3934dcd690156e9fefb507":{"changes":{"core\/src\/main\/java\/hudson\/cli\/declarative\/CLIRegisterer.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/cli\/declarative\/CLIRegisterer.java":[{"add":["150","                                    Authentication auth = authenticator.authenticate();","151","                                    if (auth==Hudson.ANONYMOUS)","152","                                        auth = loadStoredAuthentication();","153","                                    sc.setAuthentication(auth); \/\/ run the CLI with the right credential"],"delete":["150","                                    sc.setAuthentication(authenticator.authenticate()); \/\/ run the CLI with the right credential"]}]}},"77a9f026f88d7cbbceca12f8f5645277a6aadaa0":{"changes":{"core\/src\/main\/java\/hudson\/console\/HudsonExceptionNote.java":"MODIFY","core\/src\/main\/java\/hudson\/console\/ConsoleAnnotator.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/StreamTaskListener.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/console\/HudsonExceptionNote.java":[{"add":["3"," * Copyright (c) 2010-2017, CloudBees, Inc.","29","\/\/ TODO: the implementation has been deprecated due to JENKINS-42861","30","\/\/ Consider providing alternate search mechanisms (JIRA, grepcode, etc.) as proposed in ","31","\/\/ https:\/\/github.com\/jenkinsci\/jenkins\/pull\/2808#pullrequestreview-27467560 (JENKINS-43612)","33"," * Placed on the beginning of the exception stack trace produced by Jenkins, ","34"," * which in turn produces hyperlinked stack trace.","38"," * that occur inside Jenkins.","41"," * @since 1.349 - produces search hyperlinks to the http:\/\/stacktrace.jenkins-ci.org service","42"," * @since TODO - does nothing due to JENKINS-42861","43"," * @deprecated This ConsoleNote used to provide hyperlinks to the","44"," *             <code>http:\/\/stacktrace.jenkins-ci.org\/<\/code> service, which is dead now (JENKINS-42861).","45"," *             This console note does nothing right now.","47","@Deprecated","53","        return null;"],"delete":["3"," * Copyright (c) 2010-2011, CloudBees, Inc.","29","import java.util.regex.Matcher;","30","import java.util.regex.Pattern;","31","","33"," * Placed on the beginning of the exception stack trace produced by Hudson, which in turn produces hyperlinked stack trace.","37"," * that occur inside Hudson.","40"," * @since 1.349","46","        \/\/ An exception stack trace looks like this:","47","        \/\/ org.acme.FooBarException: message","48","        \/\/ <TAB>at org.acme.Foo.method(Foo.java:123)","49","        \/\/ Caused by: java.lang.ClassNotFoundException:","50","        String line = text.getText();","51","        int end = line.indexOf(':',charPos);","52","        if (end<0) {","53","            if (CLASSNAME.matcher(line.substring(charPos)).matches())","54","                end = line.length();","55","            else","56","                return null;    \/\/ unexpected format. abort.","57","        }","58","        text.addHyperlinkLowKey(charPos,end,annotateClassName(line.substring(charPos,end)));","60","        return new ConsoleAnnotator() {","61","            public ConsoleAnnotator annotate(Object context, MarkupText text) {","62","                String line = text.getText();","63","","64","                Matcher m = STACK_TRACE_ELEMENT.matcher(line);","65","                if (m.find()) {\/\/ allow the match to happen in the middle of a line to cope with prefix. Ant and Maven put them, among many other tools.","66","                    text.addHyperlinkLowKey(m.start()+4,m.end(),annotateMethodName(m.group(1),m.group(2),m.group(3),Integer.parseInt(m.group(4))));","67","                    return this;","68","                }","69","","70","                int idx = line.indexOf(CAUSED_BY);","71","                if (idx>=0) {","72","                    int s = idx + CAUSED_BY.length();","73","                    int e = line.indexOf(':', s);","74","                    if (e<0)    e = line.length();","75","                    text.addHyperlinkLowKey(s,e,annotateClassName(line.substring(s,e)));","76","                    return this;","77","                }","78","","79","                if (AND_MORE.matcher(line).matches())","80","                    return this;","81","","82","                \/\/ looks like we are done with the stack trace","83","                return null;","84","            }","85","        };","86","    }","87","","88","    \/\/ TODO; separate out the annotations and mark up","89","","90","    private String annotateMethodName(String className, String methodName, String sourceFileName, int lineNumber) {","91","        return \"http:\/\/stacktrace.jenkins-ci.org\/search\/?query=\"+className+'.'+methodName+\"&entity=method\";","92","    }","93","","94","    private String annotateClassName(String className) {","95","        return \"http:\/\/stacktrace.jenkins-ci.org\/search?query=\"+className;","105","","106","    \/**","107","     * Regular expression that represents a valid class name.","108","     *\/","109","    private static final String CLASSNAME_PATTERN = \"[\\\\p{L}0-9$_.]+\";","110","","111","    private static final Pattern CLASSNAME = Pattern.compile(CLASSNAME_PATTERN+\"\\r?\\n?\");","112","","113","    \/**","114","     * Matches to the line like \"\\tat org.acme.Foo.method(File.java:123)\"","115","     * and captures class name, method name, source file name, and line number separately.","116","     *\/","117","    private static final Pattern STACK_TRACE_ELEMENT = Pattern.compile(\"\\tat (\"+CLASSNAME_PATTERN+\")\\\\.([\\\\p{L}0-9$_<>]+)\\\\((\\\\S+):([0-9]+)\\\\)\");","118","","119","    private static final String CAUSED_BY = \"Caused by: \";","120","","121","    private static final Pattern AND_MORE = Pattern.compile(\"\\t... [0-9]+ more\\n\");"]}],"core\/src\/main\/java\/hudson\/console\/ConsoleAnnotator.java":[{"add":["32","import javax.annotation.CheckForNull;","33","import javax.annotation.Nonnull;","75","     *      The object that owns the console output. Never {@code null}.","78","     *      The callee should put markup into this object. Never {@code null}.","81","     *      To indicate that you are not interested in the following lines, return {@code null}.","83","    @CheckForNull","84","    public abstract ConsoleAnnotator annotate(@Nonnull T context, @Nonnull MarkupText text );"],"delete":["73","     *      The object that owns the console output. Never null.","76","     *      The callee should put markup into this object. Never null.","79","     *      To indicate that you are not interested in the following lines, return null.","81","    public abstract ConsoleAnnotator annotate(T context, MarkupText text );"]}],"core\/src\/main\/java\/hudson\/util\/StreamTaskListener.java":[{"add":["151","        \/\/ the idiom in Jenkins is to use the returned writer for writing stack trace,"],"delete":["151","        \/\/ the idiom in Hudson is to use the returned writer for writing stack trace,"]}]}},"92ca98c4d6164013cbfac4fdf504315431fa279b":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/junit\/JUnitParser.java":"ADD","test\/src\/test\/resources\/hudson\/tasks\/test\/TrivialTestResult\/body.jelly":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/TestResultAction.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/SurefireAggregatedReport.java":"MODIFY","test\/src\/main\/java\/org\/jvnet\/hudson\/test\/TouchBuilder.java":"ADD","test\/src\/test\/java\/hudson\/tasks\/test\/TrivialTestResultAction.java":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/ClassResult.java":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/test\/TestObject\/sidepanel.jelly":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/History.java":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/list_ja.properties":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/TestResult.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/junit\/JUnitResultArchiver.java":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_ru.properties":"ADD","core\/src\/main\/java\/hudson\/tasks\/test\/AggregatedTestResultPublisher.java":"MODIFY","test\/src\/test\/java\/hudson\/tasks\/test\/AbstractTestResultExtensionTest.java":"ADD","test\/src\/test\/resources\/hudson\/tasks\/junit\/HistoryTest.zip":"ADD","test\/src\/test\/resources\/hudson\/tasks\/junit\/TestResultLinksTest.zip":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_tr.properties":"ADD","test\/src\/test\/java\/hudson\/tasks\/junit\/JUnitResultArchiverTest.java":"MODIFY","test\/src\/main\/java\/org\/jvnet\/hudson\/test\/HudsonTestCase.java":"MODIFY","test\/src\/test\/java\/hudson\/tasks\/junit\/TestResultPublishingTest.java":"ADD","core\/src\/main\/java\/hudson\/tasks\/test\/TestObject.java":"ADD","test\/src\/test\/java\/hudson\/tasks\/junit\/HistoryTest.java":"ADD","test\/src\/test\/java\/hudson\/tasks\/test\/TestResultExtensionTest.java":"ADD","core\/src\/main\/java\/hudson\/tasks\/test\/TestResultAggregator.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/test\/TestResult.java":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/TestDataPublisher.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/junit\/SuiteResult.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/test\/MetaTabulatedResult.java":"ADD","test\/src\/test\/resources\/hudson\/tasks\/junit\/TestResultPublishingTest.zip":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_nl.properties":"ADD","core\/src\/main\/java\/hudson\/tasks\/test\/SimpleCaseResult.java":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResult\/index.jelly":"ADD","core\/src\/main\/java\/hudson\/tasks\/test\/MatrixTestResult.java":"MODIFY","test\/src\/test\/resources\/hudson\/tasks\/test\/AbstractTestResultExtensionTest.zip":"ADD","core\/src\/test\/resources\/hudson\/tasks\/junit\/junitResult.xml":"ADD","test\/src\/test\/java\/hudson\/tasks\/test\/TrivialTestResult.java":"ADD","test\/src\/test\/resources\/hudson\/tasks\/junit\/JUnitParserTest.zip":"ADD","core\/src\/main\/resources\/lib\/form\/readOnlyTextbox.jelly":"ADD","test\/src\/test\/java\/hudson\/tasks\/junit\/TestResultLinksTest.java":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_de.properties":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/TestObject.java":"MODIFY","test\/src\/test\/java\/hudson\/tasks\/test\/TrivialTestResultRecorder.java":"ADD","test\/src\/test\/java\/hudson\/model\/ApiTest.java":"MODIFY","core\/src\/test\/java\/hudson\/tasks\/junit\/TestResultTest.java":"ADD","core\/src\/main\/java\/hudson\/tasks\/test\/TestResultParser.java":"ADD","core\/src\/main\/resources\/hudson\/tasks\/junit\/History\/index.jelly":"MODIFY","test\/src\/test\/java\/hudson\/tasks\/junit\/JUnitParserTest.java":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/CaseResult.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/test\/TabulatedResult.java":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResult\/index.properties":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/PackageResult.java":"MODIFY","core\/src\/test\/java\/hudson\/tasks\/junit\/SuiteResultTest.java":"MODIFY","\/dev\/null":"DELETE","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body.jelly":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_ja.properties":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResult\/index_ja.properties":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/list.jelly":"ADD","core\/src\/main\/java\/hudson\/AbortException.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/test\/AggregatedTestResultAction.java":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_fr.properties":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_pt_BR.properties":"ADD","core\/src\/main\/resources\/hudson\/tasks\/test\/TestObject\/sidepanel_ja.properties":"ADD","core\/src\/main\/java\/hudson\/tasks\/test\/AbstractTestResultAction.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/junit\/JUnitParser.java":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/hudson\/tasks\/test\/TrivialTestResult\/body.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/TestResultAction.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Red Hat, Inc., Tom Huybrechts, Yahoo!, Inc.","25","import com.thoughtworks.xstream.XStream;","31","import hudson.tasks.test.TestObject;","34","import org.kohsuke.stapler.StaplerProxy;","191","    \tpublic abstract List<TestAction> getTestAction(hudson.tasks.junit.TestObject testObject);","195","        super.readResolve(); \/\/ let it do the post-deserialization work"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Red Hat, Inc., Tom Huybrechts","44","import org.kohsuke.stapler.StaplerProxy;","45","","46","import com.thoughtworks.xstream.XStream;","47","","66","    private Map<String,String> descriptions = new ConcurrentHashMap<String, String>();","163","    public String getDescription(TestObject object) {","164","    \treturn descriptions.get(object.getId());","165","    }","166","    ","167","    public void setDescription(TestObject object, String description) {","168","    \tdescriptions.put(object.getId(), description);","169","    }","170","    ","201","    \tpublic abstract List<TestAction> getTestAction(TestObject testObject);","205","    \tif (descriptions == null) {","206","    \t\tdescriptions = new ConcurrentHashMap<String, String>();","207","    \t}"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/SurefireAggregatedReport.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, id:cactusman, Yahoo!, Inc."],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, id:cactusman","84","    @Override"]}],"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/TouchBuilder.java":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/tasks\/test\/TrivialTestResultAction.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/ClassResult.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, id:cactusman, Tom Huybrechts, Yahoo!, Inc.","26","import hudson.tasks.test.*;","27","import hudson.tasks.test.TestResult;","28","import hudson.tasks.test.TestObject;","58","    @Override","59","    public AbstractBuild<?, ?> getOwner() {","60","        return (parent==null ? null: parent.getOwner()); ","61","    }","62","","67","    @Override","69","        if(parent==null)   return null;","70","        TestResult pr = parent.getPreviousResult();","72","        if(pr instanceof PackageResult) {","73","            return ((PackageResult)pr).getClassResult(getName());","74","    }","75","        return null;","79","    public hudson.tasks.test.TestResult findCorrespondingResult(String id) {","80","        String myID = safe(getName());","81","        int base = id.indexOf(myID);","82","        String caseName;","83","        if (base > 0) {","84","            int caseNameStart = base + myID.length() + 1;","85","            caseName = id.substring(caseNameStart);","86","        } else {","87","            caseName = id;","88","    }","89","","90","        CaseResult child = getCaseResult(caseName);","91","        if (child != null) {","92","            return child;","93","        }","94","","95","        return null;","102","    @Override","103","    public String getChildTitle() {","104","        return \"Class Reults\"; ","105","    }","106","","142","    public boolean hasChildren() {","143","        return ((cases != null) && (cases.size() > 0));","144","    }","145","","170","    \/**","171","     * Recount my children.","172","     *\/","173","    @Override","174","    public void tally() {","175","        passCount=failCount=skipCount=0;","176","        duration=0;","177","        for (CaseResult r : cases) {","178","            r.setClass(this);","179","            if (r.isSkipped()) {","180","                skipCount++;","181","            }","182","            else if(r.isPassed()) {","183","                passCount++;","184","            }","185","            else {","186","                failCount++;","187","            }","188","            duration += r.getDuration();","189","        }","190","    }","191","","192","","231","    @Override","233","        if(it instanceof CaseResult) {","236","            return super.getRelativePathFrom(it);"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, id:cactusman, Tom Huybrechts","60","        PackageResult pr = parent.getPreviousResult();","62","        return pr.getClassResult(getName());","66","    public ClassResult getResultInBuild(AbstractBuild<?, ?> build) {","67","        PackageResult pr = getParent().getResultInBuild(build);","68","        if(pr==null)    return null;","69","        return pr.getClassResult(getName());","174","        if(it==this)","175","            return \".\";","176","        ","177","        if (it instanceof TestResult) {","178","        \treturn getParent().getSafeName() + \"\/\" + getSafeName();","179","        } else if (it instanceof PackageResult) {","180","        \treturn getSafeName();","181","        } else if (it instanceof CaseResult) {","184","        \tthrow new UnsupportedOperationException();","186",""]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/TestObject\/sidepanel.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/History.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Tom Huybrechts, Yahoo!, Inc.","26","import hudson.model.Hudson;","27","import hudson.tasks.test.TestResult;","28","import hudson.tasks.test.TestObject;","29","import hudson.util.*;","41","import java.awt.*;","42","import java.util.ArrayList;","43","import java.util.List;","44","","46"," * History of {@link hudson.tasks.test.TestObject} over time.","61","    public boolean historyAvailable() {","62","       if (testObject.getOwner().getParent().getBuilds().size() > 1)","63","           return true;","64","        else","65","           return false; ","66","    }","67","\t","68","\tpublic List<TestResult> getList() {","69","\t\tList<TestResult> list = new ArrayList<TestResult>();","72","\t\t\tTestResult o = testObject.getResultInBuild(b);","87","               for (hudson.tasks.test.TestResult o: getList()) {","113","                for (TestResult o: getList()) {","127","            super(testObject.getOwner().getTimestamp(),600,300);","184","                    return label.getUrl();","208","    \tTestResult o;","209","        String url;","210","        public ChartLabel(TestResult o) {","212","            this.url = null;","213","        }","214","","215","        public String getUrl() {","216","            if (this.url == null) generateUrl();","217","            return url;","218","        }","219","","220","         private void generateUrl() {","221","            AbstractBuild<?,?> build = o.getOwner();","222","            String buildLink = build.getUrl();","223","            String actionUrl = o.getTestResultAction().getUrlName();","224","            this.url = Hudson.getInstance().getRootUrl() + buildLink + actionUrl + o.getUrl();             "],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Tom Huybrechts","26","import hudson.util.ChartUtil;","27","import hudson.util.ColorPalette;","28","import hudson.util.DataSetBuilder;","29","import hudson.util.ShiftedCategoryAxis;","30","import hudson.util.StackedAreaRenderer2;","31","import hudson.util.Graph;","32","","33","import java.awt.Color;","34","import java.awt.Paint;","35","import java.util.ArrayList;","36","import java.util.List;","37","","50"," * History of {@link TestObject} over time.","65","\tpublic List<TestObject> getList() {","66","\t\tList<TestObject> list = new ArrayList<TestObject>();","69","\t\t\tTestObject o = testObject.getResultInBuild(b);","84","               for (TestObject o: getList()) {","110","                for (TestObject o: getList()) {","124","            super(testObject.getOwner().getTimestamp(),500,400);","181","                    return String.valueOf(label.o.getOwner().number);","205","    \tTestObject o;","206","        public ChartLabel(TestObject o) {"]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/list_ja.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/TestResult.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, id:cactusman, Tom Huybrechts, Yahoo!, Inc.","28","import hudson.model.Run;","29","import hudson.tasks.test.MetaTabulatedResult;","30","import hudson.tasks.test.TestObject;","31","import hudson.tasks.test.AbstractTestResultAction;","39","import java.io.File;","40","import java.io.IOException;","41","import java.io.PrintWriter;","42","import java.io.StringWriter;","43","import java.util.*;","44","import java.util.logging.Logger;","45","","52","    private static final Logger LOGGER = Logger.getLogger(TestResult.class.getName());","53","","71","    private transient AbstractTestResultAction parentAction;","72","","73","    private transient TestObject parent;","92","    public TestResult() {","100","        this();","105","    \treturn parent;","109","    public void setParent(TestObject parent) {","110","        this.parent = parent;","131","            if ( (buildTime-3000\/*error margin*\/ <= reportFile.lastModified()) || !checkTimestamps) {","208","        return (parentAction == null? null: parentAction.owner);","212","    public hudson.tasks.test.TestResult findCorrespondingResult(String id) {","213","        if (getId().equals(id) || (id == null)) {","214","            return this;","215","        }","216","        ","217","        String firstElement = null;","218","        String subId = null;","219","        int sepIndex = id.indexOf('\/');","220","        if (sepIndex < 0) {","221","            firstElement = id;","222","            subId = null;","223","        } else {","224","            firstElement = id.substring(0, sepIndex);","225","            subId = id.substring(sepIndex + 1);","226","            if (subId.length() == 0) {","227","                subId = null;","228","            }","229","        }","230","","231","        String packageName = null;","232","        if (firstElement.equals(getId())) {","233","            sepIndex = subId.indexOf('\/');","234","            if (sepIndex < 0) {","235","                packageName = subId;","236","                subId = null; ","237","            } else {","238","                packageName = subId.substring(0, sepIndex);","239","                subId = subId.substring(sepIndex + 1);","240","            }","241","        } else {","242","            packageName = firstElement;","243","            subId = null; ","244","        }","245","        PackageResult child = byPackage(packageName);","246","        if (child != null) {","247","            if (subId != null) {","248","                return child.findCorrespondingResult(subId);","249","            } else {","250","                return child;","251","            }","252","        } else {","255","    }","262","    @Override","268","    @Override","282","        if(failedTests==null)","283","            return 0;","284","        else","299","    \/**","300","     * Gets the \"children\" of this test result that passed","301","     *","302","     * @return the children of this test result, if any, or an empty collection","303","     *\/","304","    @Override","305","    public Collection<? extends hudson.tasks.test.TestResult> getPassedTests() {","306","        throw new UnsupportedOperationException();  \/\/ TODO: implement!(FIXME: generated)","307","    }","308","","309","    \/**","310","     * Gets the \"children\" of this test result that were skipped","311","     *","312","     * @return the children of this test result, if any, or an empty list","313","     *\/","314","    @Override","315","    public Collection<? extends hudson.tasks.test.TestResult> getSkippedTests() {","316","        throw new UnsupportedOperationException();  \/\/ TODO: implement!(FIXME: generated)","317","    }","318","","319","    \/**","320","     * If this test failed, then return the build number","321","     * when this test started failing.","322","     *\/","323","    @Override","324","    public int getFailedSince() {","325","        throw new UnsupportedOperationException();  \/\/ TODO: implement!(FIXME: generated)","326","    }","327","","328","    \/**","329","     * If this test failed, then return the run","330","     * when this test started failing.","331","     *\/","332","    @Override","333","    public Run<?, ?> getFailedSinceRun() {","334","        throw new UnsupportedOperationException();  \/\/ TODO: implement!(FIXME: generated)","335","    }","336","","337","    \/**","338","     * The stdout of this test.","339","     * <p\/>","340","     * <p\/>","341","     * Depending on the tool that produced the XML report, this method works somewhat inconsistently.","342","     * With some tools (such as Maven surefire plugin), you get the accurate information, that is","343","     * the stdout from this test case. With some other tools (such as the JUnit task in Ant), this","344","     * method returns the stdout produced by the entire test suite.","345","     * <p\/>","346","     * <p\/>","347","     * If you need to know which is the case, compare this output from {@link SuiteResult#getStdout()}.","348","     *","349","     * @since 1.294","350","     *\/","351","    @Override","352","    public String getStdout() {","353","        StringBuilder sb = new StringBuilder();","354","        for (SuiteResult suite: suites) {","355","            sb.append(\"Standard Out (stdout) for Suite: \" + suite.getName());","356","            sb.append(suite.getStdout());","357","        }","358","        return sb.toString();","359","    }","360","","361","    \/**","362","     * The stderr of this test.","363","     *","364","     * @see #getStdout()","365","     * @since 1.294","366","     *\/","367","    @Override","368","    public String getStderr() {","369","        StringBuilder sb = new StringBuilder();","370","        for (SuiteResult suite: suites) {","371","            sb.append(\"Standard Error (stderr) for Suite: \" + suite.getName());","372","            sb.append(suite.getStderr());","373","        }","374","        return sb.toString();","375","    }","376","","377","    \/**","378","     * If there was an error or a failure, this is the stack trace, or otherwise null.","379","     *\/","380","    @Override","381","    public String getErrorStackTrace() {","382","        return \"No error stack traces available at this level. Drill down to individual tests to find stack traces.\"; ","383","    }","384","","385","    \/**","386","     * If there was an error or a failure, this is the text from the message.","387","     *\/","388","    @Override","389","    public String getErrorDetails() {","390","        return \"No error details available at this level. Drill down to individual tests to find details.\";","391","    }","392","","393","    \/**","394","     * @return true if the test was not skipped and did not fail, false otherwise.","395","     *\/","396","    @Override","397","    public boolean isPassed() {","398","       return (getFailCount() == 0);","399","    }","400","","406","    \/**","407","     * Whether this test result has children.","408","     *\/","409","    @Override","410","    public boolean hasChildren() {","411","        return !suites.isEmpty(); ","412","    }","413","","419","","422","        return \"junit\";","427","        if (token.equals(getId())) {","428","            return this;","429","        }","430","        ","447","     @Override","448","     public void setParentAction(AbstractTestResultAction action) {","449","        this.parentAction = action;","450","        tally(); \/\/ I want to be sure to inform our children when we get an action. ","451","     }","452","","453","     @Override","454","     public AbstractTestResultAction getParentAction() {","455","         return this.parentAction;","456","     }","457","     ","458","    \/**","459","     * Recount my children.","460","     *\/","461","    @Override","462","    public void tally() {","463","        \/\/\/ Empty out data structures","464","        \/\/ TODO: free children? memmory leak? ","465","        suitesByName = new HashMap<String,SuiteResult>();","466","        failedTests = new ArrayList<CaseResult>();","467","        byPackages = new TreeMap<String,PackageResult>();","468","","469","        totalTests = 0;","470","        skippedTests = 0;","471","","472","        \/\/ Ask all of our children to tally themselves","473","        for (SuiteResult s : suites) {","474","            s.setParent(this); \/\/ kluge to prevent double-counting the results","475","            suitesByName.put(s.getName(),s);","476","            List<CaseResult> cases = s.getCases();","477","","478","            for (CaseResult cr: cases) {","479","                cr.setParentAction(this.parentAction);","480","                cr.setParentSuiteResult(s);","481","                cr.tally();","482","                String pkg = cr.getPackageName(), spkg = safe(pkg);","483","                PackageResult pr = byPackage(spkg);","484","                if(pr==null)","485","                    byPackages.put(spkg,pr=new PackageResult(this,pkg));","486","                pr.add(cr);","487","            }","488","        }","489","","490","        for (PackageResult pr : byPackages.values()) {","491","            pr.tally();","492","            skippedTests += pr.getSkipCount();","493","            failedTests.addAll(pr.getFailedTests());","494","            totalTests += pr.getTotalCount();","495","        }","496","    }","497","","507","        this.parentAction = parent;","517","            if(!s.freeze(this))      \/\/ this is disturbing: has-a-parent is conflated with has-been-counted","544","    private static final boolean checkTimestamps = true; \/\/ TODO: change to System.getProperty  ","545",""],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, id:cactusman, Tom Huybrechts","29","","30","import java.io.File;","31","import java.io.IOException;","32","import java.io.PrintWriter;","33","import java.io.StringWriter;","34","import java.util.ArrayList;","35","import java.util.Collection;","36","import java.util.Collections;","37","import java.util.HashMap;","38","import java.util.List;","39","import java.util.Map;","40","import java.util.TreeMap;","41","","71","    private transient TestResultAction parent;","90","    TestResult() {","102","    \treturn null;","106","    public String getId() {","107","    \treturn \"\";","128","            if(buildTime-3000\/*error margin*\/ <= reportFile.lastModified()) {","205","        return parent.owner;","209","    public TestResult getPreviousResult() {","210","        TestResultAction p = parent.getPreviousResult();","211","        if(p!=null)","212","            return p.getResult();","213","        else","218","    public TestResult getResultInBuild(AbstractBuild<?, ?> build) {","219","        TestResultAction tra = build.getAction(TestResultAction.class);","220","        if (tra == null) return null;","221","        return tra.getResult();","222","    }","223","    ","272","        return \"\";","302","        this.parent = parent;","312","            if(!s.freeze(this))"]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/JUnitResultArchiver.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Martin Eigenbrodt, Tom Huybrechts, Yahoo!, Inc.","57","import java.io.IOException;","58","import java.io.Serializable;","59","import java.util.ArrayList;","60","import java.util.Collection;","61","import java.util.Collections;","62","import java.util.List;","63","","101","    \/**","102","     * In progress. Working on delegating the actual parsing to the JUnitParser.","103","     *\/","104","    protected TestResult parse(String expandedTestResults, AbstractBuild build, Launcher launcher, BuildListener listener)","105","            throws IOException, InterruptedException","106","    {","107","        TestResult result = (new JUnitParser()).parse(expandedTestResults, build, launcher, listener);        ","108","        return result;","109","    }","110","","119","\t\t\tTestResult result = parse(testResults, build, launcher, listener);","126","            result.freeze(action);","130","            \/\/ TODO: Move into JUnitParser [BUG 3123310]"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Martin Eigenbrodt, Tom Huybrechts","29","import hudson.Util;","30","import hudson.FilePath.FileCallable;","42","import hudson.remoting.VirtualChannel;","52","","53","import java.io.File;","54","import java.io.IOException;","55","import java.io.Serializable;","56","import java.util.ArrayList;","57","import java.util.Collection;","58","import java.util.Collections;","59","import java.util.List;","60","","62","","115","\t\t\tfinal long buildTime = build.getTimeInMillis();","116","\t\t\tfinal long nowMaster = System.currentTimeMillis();","117","","118","\t\t\tTestResult result = build.getWorkspace().act(","119","\t\t\t\t\tnew ParseResultCallable(testResults, buildTime, nowMaster));","210","\tprivate static final class ParseResultCallable implements","211","\t\t\tFileCallable<TestResult> {","212","\t\tprivate final long buildTime;","213","\t\tprivate final String testResults;","214","\t\tprivate final long nowMaster;","215","","216","\t\tprivate ParseResultCallable(String testResults, long buildTime, long nowMaster) {","217","\t\t\tthis.buildTime = buildTime;","218","\t\t\tthis.testResults = testResults;","219","\t\t\tthis.nowMaster = nowMaster;","220","\t\t}","221","","222","\t\tpublic TestResult invoke(File ws, VirtualChannel channel) throws IOException {","223","\t\t\tfinal long nowSlave = System.currentTimeMillis();","224","","225","\t\t\tFileSet fs = Util.createFileSet(ws, testResults);","226","\t\t\tDirectoryScanner ds = fs.getDirectoryScanner();","227","","228","\t\t\tString[] files = ds.getIncludedFiles();","229","\t\t\tif (files.length == 0) {","230","\t\t\t\t\/\/ no test result. Most likely a configuration","231","\t\t\t\t\/\/ error or fatal problem","232","\t\t\t\tthrow new AbortException(Messages.JUnitResultArchiver_NoTestReportFound());","233","\t\t\t}","234","","235","\t\t\treturn new TestResult(buildTime + (nowSlave - nowMaster), ds);","236","\t\t}","237","\t}"]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_ru.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/test\/AggregatedTestResultPublisher.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Michael B. Donohue, Yahoo!, Inc.","25","import hudson.Extension;","29","import hudson.model.*;","35","import hudson.tasks.Publisher;","36","import hudson.tasks.Recorder;","39","import org.kohsuke.stapler.AncestorInPath;","155","         * Since there's no TestObject that points this action as the owner","156","         * (aggregated {@link TestObject}s point to their respective real owners, not 'this'),","157","         * so this method should be never invoked.","158","         *","159","         * @deprecated","160","         *      so that IDE warns you if you accidentally try to call it.","161","         *\/","162","        @Override","163","        protected final String getDescription(TestObject object) {","164","            throw new AssertionError();","165","        }","166","","167","        \/**","168","         * See {@link #getDescription(TestObject)}","169","         *","170","         * @deprecated","171","         *      so that IDE warns you if you accidentally try to call it.","172","         *\/","173","        @Override","174","        protected final void setDescription(TestObject object, String description) {","175","            throw new AssertionError();","176","        }","177","","178","        \/**"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Michael B. Donohue","27","import hudson.Extension;","29","import hudson.model.AbstractBuild;","30","import hudson.model.AbstractProject;","31","import hudson.model.BuildListener;","33","import hudson.model.Hudson;","34","import hudson.model.Item;","35","import hudson.model.Result;","36","import hudson.model.Run;","37","import hudson.model.TaskListener;","40","import hudson.tasks.Publisher;","41","import hudson.tasks.Recorder;","48","import org.kohsuke.stapler.AncestorInPath;"]}],"test\/src\/test\/java\/hudson\/tasks\/test\/AbstractTestResultExtensionTest.java":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/hudson\/tasks\/junit\/HistoryTest.zip":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/hudson\/tasks\/junit\/TestResultLinksTest.zip":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_tr.properties":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/tasks\/junit\/JUnitResultArchiverTest.java":[{"add":["0","\/*","1"," * The MIT License","2"," * ","3"," * Copyright (c) 2009, Yahoo!, Inc.","4"," * ","5"," * Permission is hereby granted, free of charge, to any person obtaining a copy","6"," * of this software and associated documentation files (the \"Software\"), to deal","7"," * in the Software without restriction, including without limitation the rights","8"," * to use, copy, modify, merge, publish, distribute, sublicense, and\/or sell","9"," * copies of the Software, and to permit persons to whom the Software is","10"," * furnished to do so, subject to the following conditions:","11"," * ","12"," * The above copyright notice and this permission notice shall be included in","13"," * all copies or substantial portions of the Software.","14"," * ","15"," * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR","16"," * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,","17"," * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE","18"," * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER","19"," * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,","20"," * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN","21"," * THE SOFTWARE.","22"," *\/","29","import hudson.slaves.DumbSlave;","30","import hudson.tasks.test.TestObject;","37","import org.jvnet.hudson.test.TouchBuilder;","75","   @LocalData","76","    public void testSlave() throws Exception {","77","        DumbSlave s = createOnlineSlave();","78","        project.setAssignedLabel(s.getSelfLabel());","79","","80","        FilePath src = new FilePath(hudson.getRootPath(), \"jobs\/junit\/workspace\/\");","81","        assertNotNull(src);","82","        FilePath dest = s.getWorkspaceFor(project);","83","        assertNotNull(dest);","84","        src.copyRecursiveTo(\"*.xml\", dest);","85","        ","86","        testBasic();","87","    }","88","","105","        project.scheduleBuild2(0).get(60, TimeUnit.SECONDS);"],"delete":["3","import hudson.Launcher;","4","import hudson.model.AbstractBuild;","5","import hudson.model.BuildListener;","9","import hudson.tasks.Builder;","11","import java.io.IOException;","12","import java.io.Serializable;","15","import java.util.List;","18","import junit.framework.Assert;","19","","22","import org.xml.sax.SAXException;","29","\tpublic static final class TouchBuilder extends Builder implements Serializable {","30","\t\t@Override","31","\t\tpublic boolean perform(AbstractBuild<?, ?> build,","32","\t\t\t\tLauncher launcher, BuildListener listener)","33","\t\t\t\tthrows InterruptedException, IOException {","34","\t\t\tfor (FilePath f: build.getWorkspace().list()) {","35","\t\t\t\tf.touch(System.currentTimeMillis());","36","\t\t\t}","37","\t\t\treturn true;","38","\t\t}","39","\t}","40","","87","\t\tproject.scheduleBuild2(0).get(10, TimeUnit.SECONDS);"]}],"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/HudsonTestCase.java":[{"add":["147","import com.gargoylesoftware.htmlunit.xml.XmlPage;","148","import com.gargoylesoftware.htmlunit.html.*;","151","import hudson.model.Computer;","152","import hudson.slaves.ComputerListener;","153","import java.util.concurrent.CountDownLatch;","555","     * Create a new slave on the local host and wait for it to come onilne","556","     * before returning.","557","     *\/","558","    public DumbSlave createOnlineSlave() throws Exception {","559","        return createOnlineSlave(null);","560","    }","561","    ","562","    \/**","563","     * Create a new slave on the local host and wait for it to come onilne","564","     * before returning.","565","     *\/","566","    public DumbSlave createOnlineSlave(Label l) throws Exception {","567","        return createOnlineSlave(l, null);","568","    }","569","","570","    \/**","571","     * Create a new slave on the local host and wait for it to come online","572","     * before returning","573","     *\/","574","    public DumbSlave createOnlineSlave(Label l, EnvVars env) throws Exception {","575","        final CountDownLatch latch = new CountDownLatch(1);","576","        ComputerListener waiter = new ComputerListener() {","577","                                            @Override","578","                                            public void onOnline(Computer C, TaskListener t) {","579","                                                latch.countDown();","580","                                                unregister();","581","                                            }","582","                                        };","583","        waiter.register();","584","","585","        DumbSlave s = createSlave(l, env);","586","        latch.await();","587","","588","        return s;","589","    }","590","    ","591","    \/**","643","","644","","664","    \/** Determines whether the specifed HTTP status code is generally \"good\" *\/","665","    public boolean isGoodHttpStatus(int status) {","666","        if ((400 <= status) && (status <= 417)) {","667","            return false;","668","        }","669","        if ((500 <= status) && (status <= 505)) {","670","            return false;","671","        }","672","        return true;","673","    }","674","","675","    \/** Assert that the specifed page can be served with a \"good\" HTTP status,","676","     * eg, the page is not missing and can be served without a server error ","677","     * @param page","678","     *\/","679","    public void assertGoodStatus(Page page) {","680","        assertTrue(isGoodHttpStatus(page.getWebResponse().getStatusCode()));","681","    }","682","","683","","717","    \/** Asserts that the XPath matches the contents of a DomNode page. This","718","     * variant of assertXPath(HtmlPage page, String xpath) allows us to","719","     * examine XmlPages.","720","     * @param page","721","     * @param xpath","722","     *\/","723","    public void assertXPath(DomNode page, String xpath) {","724","        List< ? extends Object> nodes = page.getByXPath(xpath);","725","        assertFalse(\"There should be an object that matches XPath:\"+xpath, nodes.isEmpty());","726","    }","727","","728","    public void assertXPathValue(DomNode page, String xpath, String expectedValue) {","729","        Object node = page.getFirstByXPath(xpath);","730","        assertNotNull(\"no node found\", node);","731","        assertTrue(\"the found object was not a Node \" + xpath, node instanceof org.w3c.dom.Node);","732","","733","        org.w3c.dom.Node n = (org.w3c.dom.Node) node;","734","        String textString = n.getTextContent();","735","        assertEquals(\"xpath value should match for \" + xpath, expectedValue, textString);","736","    }","737","","738","    public void assertXPathValueContains(DomNode page, String xpath, String needle) {","739","        Object node = page.getFirstByXPath(xpath);","740","        assertNotNull(\"no node found\", node);","741","        assertTrue(\"the found object was not a Node \" + xpath, node instanceof org.w3c.dom.Node);","742","","743","        org.w3c.dom.Node n = (org.w3c.dom.Node) node;","744","        String textString = n.getTextContent();","745","        assertTrue(\"needle found in haystack\", textString.contains(needle)); ","746","    }","747","","748","    public void assertXPathResultsContainText(DomNode page, String xpath, String needle) {","749","        List<? extends Object> nodes = page.getByXPath(xpath);","750","        assertFalse(\"no nodes matching xpath found\", nodes.isEmpty());","751","        boolean found = false;","752","        for (Object o : nodes) {","753","            if (o instanceof org.w3c.dom.Node) {","754","                org.w3c.dom.Node n = (org.w3c.dom.Node) o;","755","                String textString = n.getTextContent();","756","                if ((textString != null) && textString.contains(needle)) {","757","                    found = true;","758","                    break;","759","                }","760","            }","761","        }","762","        assertTrue(\"needle found in haystack\", found); ","763","    }","764","","765","","766","    public void assertStringContains(String message, String haystack, String needle) {","767","        if (haystack.contains(needle)) {","768","            \/\/ good","769","            return;","770","        } else {","771","            fail(message + \" (seeking '\" + needle + \"')\");","772","        }","773","    }","774","","775","    public void assertStringContains(String haystack, String needle) {","776","        if (haystack.contains(needle)) {","777","            \/\/ good","778","            return;","779","        } else {","780","            fail(\"Could not find '\" + needle + \"'.\");","781","        }","782","    }","783","","1293","        \/** Loads a page as XML. Useful for testing Hudson's xml api, in concert with","1294","         * assertXPath(DomNode page, String xpath)","1295","         * @param path   the path part of the url to visit","1296","         * @return  the XmlPage found at that url","1297","         * @throws IOException","1298","         * @throws SAXException","1299","         *\/","1300","        public XmlPage goToXml(String path) throws IOException, SAXException {","1301","            Page page = goTo(path, \"application\/xml\");","1302","            if (page instanceof XmlPage)","1303","                return (XmlPage) page;","1304","            else","1305","                return null;","1306","        }","1307","        ","1308",""],"delete":["147","import com.gargoylesoftware.htmlunit.html.HtmlButton;","148","import com.gargoylesoftware.htmlunit.html.HtmlForm;","149","import com.gargoylesoftware.htmlunit.html.HtmlPage;","150","import com.gargoylesoftware.htmlunit.html.HtmlElement;","151","import com.gargoylesoftware.htmlunit.html.HtmlInput;"]}],"test\/src\/test\/java\/hudson\/tasks\/junit\/TestResultPublishingTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/test\/TestObject.java":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/tasks\/junit\/HistoryTest.java":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/tasks\/test\/TestResultExtensionTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/test\/TestResultAggregator.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Yahoo!, Inc.","25","import hudson.Launcher;"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi","29","import hudson.Launcher;"]}],"core\/src\/main\/java\/hudson\/tasks\/test\/TestResult.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/TestDataPublisher.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Tom Huybrechts, Yahoo!, Inc.","26","import hudson.Extension;","29","import hudson.model.*;","30","","31","import java.io.IOException;"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Tom Huybrechts","25","import java.io.IOException;","26","","30","import hudson.Extension;","31","import hudson.model.AbstractBuild;","32","import hudson.model.BuildListener;","33","import hudson.model.Describable;","34","import hudson.model.Descriptor;","35","import hudson.model.Hudson;"]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/SuiteResult.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Erik Ramfelt, Xavier Le Vourch, Tom Huybrechts, Yahoo!, Inc.","25","import hudson.tasks.test.TestObject;","33","import java.io.File;","34","import java.io.Serializable;","35","import java.util.ArrayList;","36","import java.util.HashSet;","37","import java.util.List;","38","import java.util.Set;","39","","70","    private transient hudson.tasks.junit.TestResult parent;","199","\tpublic hudson.tasks.junit.TestResult getParent() {","214","        hudson.tasks.test.TestResult pr = parent.getPreviousResult();","216","        if(pr instanceof hudson.tasks.junit.TestResult)","217","            return ((hudson.tasks.junit.TestResult)pr).getSuite(name);","218","        return null;","244","    \/** KLUGE. We have to call this to prevent freeze()","245","     * from calling c.freeze() on all its children,","246","     * because that in turn calls c.getOwner(),","247","     * which requires a non-null parent. ","248","     * @param parent","249","     *\/","250","    void setParent(hudson.tasks.junit.TestResult parent) {","251","        this.parent = parent;","252","    }","253","","254","    \/*package*\/ boolean freeze(hudson.tasks.junit.TestResult owner) {"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Erik Ramfelt, Xavier Le Vourch, Tom Huybrechts","25","import java.io.File;","26","import java.io.Serializable;","27","import java.util.ArrayList;","28","import java.util.HashSet;","29","import java.util.List;","30","import java.util.Set;","31","","69","    private transient TestResult parent;","198","\tpublic TestResult getParent() {","213","        TestResult pr = parent.getPreviousResult();","215","        return pr.getSuite(name);","241","    \/*package*\/ boolean freeze(TestResult owner) {"]}],"core\/src\/main\/java\/hudson\/tasks\/test\/MetaTabulatedResult.java":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/hudson\/tasks\/junit\/TestResultPublishingTest.zip":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_nl.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/test\/SimpleCaseResult.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResult\/index.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/test\/MatrixTestResult.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Yahoo!, Inc.","25","import hudson.matrix.Combination;","26","import hudson.matrix.MatrixBuild;","27","import hudson.matrix.MatrixRun;","59","    public String getTestResultPath(TestResult it) {"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi","27","import hudson.matrix.MatrixBuild;","28","import hudson.matrix.Combination;","29","import hudson.matrix.MatrixRun;","30","import hudson.tasks.junit.CaseResult;","60","    public String getTestResultPath(CaseResult it) {"]}],"test\/src\/test\/resources\/hudson\/tasks\/test\/AbstractTestResultExtensionTest.zip":[{"add":[],"delete":[]}],"core\/src\/test\/resources\/hudson\/tasks\/junit\/junitResult.xml":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/tasks\/test\/TrivialTestResult.java":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/hudson\/tasks\/junit\/JUnitParserTest.zip":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/readOnlyTextbox.jelly":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/tasks\/junit\/TestResultLinksTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_de.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/TestObject.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Tom Huybrechts, Yahoo! Inc.","41","import hudson.tasks.test.AbstractTestResultAction;","50"," * Stub of base class for all test result objects. The real implementation of","51"," * the TestObject is in hudson.tasks.test.TestObject. This class simply","52"," * defines abstract methods so that legacy code will continue to compile.","53"," * @deprecated","59","    public abstract AbstractBuild<?,?> getOwner() ; ","61","   ","64","\tpublic abstract String getId(); \t","68","\tpublic abstract String getUrl(); ","70","\tpublic abstract TestResult getTestResult();","72","    public  abstract AbstractTestResultAction getTestResultAction();","74","    public  abstract  List<TestAction> getTestActions();","76","    public abstract <T> T getTestAction(Class<T> klazz);","78","    \/**","96","\tpublic abstract String getDurationString();","98","    public abstract String getDescription();","99","","100","    public abstract void setDescription(String description);","101","","102","    \/**","105","\tpublic abstract Api getApi();","107","    \/**","110","\tpublic abstract String getName();","112","    \/**","115","\tpublic abstract String getSafeName();","117","    public abstract String getSearchUrl();","137","    public abstract int getTotalCount();","139","    public abstract History getHistory();","141","\/\/    public abstract Object getDynamic(String token, StaplerRequest req,","142","\/\/\t\t\tStaplerResponse rsp);","143","\/\/","144","\/\/    public abstract  HttpResponse doSubmitDescription(","145","\/\/\t\t\t@QueryParameter String description) throws IOException,","146","\/\/\t\t\tServletException;"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Tom Huybrechts","49"," * Base class for all test result objects.","55","\tprivate volatile transient String id;","57","    public AbstractBuild<?,?> getOwner() {","58","        return getParent().getOwner();","59","    }","60","","61","    \/**","62","     * Reverse pointer of {@link TabulatedResult#getChildren()}.","63","     *\/","66","\tpublic String getId() {","67","\t\tif (id == null) {","68","\t\t\tid = getParent().getId() + \"\/\" + getSafeName();","69","\t\t}","70","\t\treturn id;","71","\t}","72","\t","76","\tpublic String getUrl() {","77","\t\treturn getId();","78","\t}","80","\tpublic TestResult getTestResult() {","81","\t\treturn getParent().getTestResult();","82","\t}","84","\tpublic TestResultAction getTestResultAction() {","85","\t\treturn getOwner().getAction(TestResultAction.class);","86","\t}","88","\tpublic List<TestAction> getTestActions() {","89","\t\treturn getTestResultAction().getActions(this);","90","\t}","92","\tpublic <T> T getTestAction(Class<T> klazz) {","93","\t\tfor (TestAction action : getTestActions()) {","94","\t\t\tif (klazz.isAssignableFrom(action.getClass())) {","95","\t\t\t\treturn klazz.cast(action);","96","\t\t\t}","97","\t\t}","98","\t\treturn null;","99","\t}","101","\t\/**","119","\tpublic String getDurationString() {","120","\t\treturn Util.getTimeSpanString((long) (getDuration() * 1000));","121","\t}","122","\t","123","\tpublic String getDescription() {","124","\t\treturn getTestResultAction().getDescription(this);","125","\t}","126","\t","127","\tpublic void setDescription(String description) {","128","\t\tgetTestResultAction().setDescription(this, description);","129","\t}","131","\t\/**","134","\tpublic Api getApi() {","135","\t\treturn new Api(this);","136","\t}","138","\t\/**","141","\tpublic\/* abstract *\/String getName() {","142","\t\treturn \"\";","143","\t}","145","\t\/**","148","\tpublic String getSafeName() {","149","\t\treturn safe(getName());","150","\t}","151","\t","152","\tpublic String getSearchUrl() {","153","\t\treturn getSafeName();","154","\t}","156","\t\/**","157","\t * #2988: uniquifies a {@link #getSafeName} amongst children of the parent.","158","\t *\/","159","\tprotected final synchronized String uniquifyName(","160","\t\t\tCollection<? extends TestObject> siblings, String base) {","161","\t\tString uniquified = base;","162","\t\tint sequence = 1;","163","\t\tfor (TestObject sibling : siblings) {","164","\t\t\tif (sibling != this","165","\t\t\t\t\t&& uniquified.equals(UNIQUIFIED_NAMES.get(sibling))) {","166","\t\t\t\tuniquified = base + '_' + ++sequence;","167","\t\t\t}","168","\t\t}","169","\t\tUNIQUIFIED_NAMES.put(this, uniquified);","170","\t\treturn uniquified;","171","\t}","173","\tprivate static final Map<TestObject, String> UNIQUIFIED_NAMES = new WeakHashMap<TestObject, String>();","174","","175","\t\/**","176","\t * Replaces URL-unsafe characters.","177","\t *\/","178","\tprotected static String safe(String s) {","179","\t\t\/\/ 3 replace calls is still 2-3x faster than a regex replaceAll","180","\t\treturn s.replace('\/', '_').replace('\\\\', '_').replace(':', '_');","181","\t}","182","\t","201","    public final int getTotalCount() {","202","        return getPassCount()+getFailCount()+getSkipCount();","203","    }","204","\t","205","\tpublic History getHistory() {","206","\t\treturn new History(this);","207","\t}","208","\t","209","\tpublic Object getDynamic(String token, StaplerRequest req,","210","\t\t\tStaplerResponse rsp) {","211","\t\tfor (Action a : getTestActions()) {","212","\t\t\tif (a == null)","213","\t\t\t\tcontinue; \/\/ be defensive","214","\t\t\tString urlName = a.getUrlName();","215","\t\t\tif (urlName == null)","216","\t\t\t\tcontinue;","217","\t\t\tif (urlName.equals(token))","218","\t\t\t\treturn a;","219","\t\t}","220","\t\treturn null;","221","\t}","223","\tpublic synchronized HttpResponse doSubmitDescription(","224","\t\t\t@QueryParameter String description) throws IOException,","225","\t\t\tServletException {","226","\t\tgetOwner().checkPermission(Item.BUILD);","228","\t\tsetDescription(description);","229","\t\tgetOwner().save();","230","\t\t","231","\t\treturn new HttpRedirect(\".\");","232","\t}","234","    private static final long serialVersionUID = 1L;"]}],"test\/src\/test\/java\/hudson\/tasks\/test\/TrivialTestResultRecorder.java":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/model\/ApiTest.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Yahoo!, Inc.","72","    public void testUnwrappedLongString() throws Exception {","73","        hudson.setSystemMessage(\"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\");","74","        Page page = new WebClient().goTo(\"api\/xml?xpath=\/hudson\/description\/text()\", \"text\/plain\");","75","        assertEquals(hudson.getSystemMessage(), page.getWebResponse().getContentAsString());","76","    }","77",""],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi"]}],"core\/src\/test\/java\/hudson\/tasks\/junit\/TestResultTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/test\/TestResultParser.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/junit\/History\/index.jelly":[{"add":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Tom Huybrechts, Yahoo!, Inc.","49","        <j:when test=\"${it.historyAvailable()}\">"],"delete":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Tom Huybrechts","49","        <j:when test=\"${it.testObject.previousResult != null}\">"]}],"test\/src\/test\/java\/hudson\/tasks\/junit\/JUnitParserTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/CaseResult.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Seiji Sogabe, Tom Huybrechts, Yahoo!, Inc.","27","import hudson.tasks.test.TestResult;","28","import org.dom4j.Element;","29","import org.kohsuke.stapler.export.Exported;","33","import java.util.*;","34","import java.util.logging.Logger;","36","import static java.util.Collections.emptyList;","43","public final class CaseResult extends TestResult implements Comparable<CaseResult> {","44","    private static final Logger LOGGER = Logger.getLogger(CaseResult.class.getName());","133","        this( parent, (parent==null? \"unnamed\" : parent.getName()), testName, errorStackTrace, \"\", null, null, 0.0f, false );","196","     * Gets the human readable title of this result object.","197","     *\/","198","    @Override","199","    public String getTitle() {","200","        return \"Case Result: \" + getName();","201","    }","202","","203","    \/**","215","        StringBuilder buf = new StringBuilder(testName);","221","        Collection<CaseResult> siblings = (classResult ==null ? Collections.<CaseResult>emptyList(): classResult.getChildren());","222","        return uniquifyName(siblings, buf.toString());","276","        \/\/ If we haven't calculated failedSince yet, and we should,","277","        \/\/ do it now.","278","        if (failedSince==0 && getFailCount()==1) {","279","            CaseResult prev = getPreviousResult();","280","            if(prev!=null && !prev.isPassed())","281","                this.failedSince = prev.failedSince;","282","            else if (getOwner() != null) {","283","                this.failedSince = getOwner().getNumber();","284","            } else {","285","                LOGGER.warning(\"trouble calculating getFailedSince. We've got prev, but no owner.\");","286","                \/\/ failedSince will be 0, which isn't correct. ","287","            }","288","        }","293","    \treturn getOwner().getParent().getBuildByNumber(getFailedSince());","304","        else if (getOwner() != null) {","305","            return getOwner().getNumber()-getFailedSince()+1;","306","        } else {","307","            LOGGER.fine(\"Trying to get age of a CaseResult without an owner\");","308","            return 0; ","309","    }","328","        SuiteResult sr = getSuiteResult();","329","        if (sr==null) return \"\";         ","342","        SuiteResult sr = getSuiteResult();","343","        if (sr==null) return \"\";","349","        if (parent == null) return null;","355","    \/**","356","     * Case results have no children","357","     * @return null","358","     *\/","360","    public TestResult findCorrespondingResult(String id) {","361","        if (id.equals(safe(getName()))) {","362","            return this;","363","    }","364","        return null;","365","    }","366","","367","    \/**","368","     * Gets the \"children\" of this test result that failed","369","     *","370","     * @return the children of this test result, if any, or an empty collection","371","     *\/","372","    @Override","373","    public Collection<? extends TestResult> getFailedTests() {","374","        return singletonListOrEmpty(!isPassed());","375","    }","376","","377","    \/**","378","     * Gets the \"children\" of this test result that passed","379","     *","380","     * @return the children of this test result, if any, or an empty collection","381","     *\/","382","    @Override","383","    public Collection<? extends TestResult> getPassedTests() {","384","        return singletonListOrEmpty(isPassed());","385","    }","386","","387","    \/**","388","     * Gets the \"children\" of this test result that were skipped","389","     *","390","     * @return the children of this test result, if any, or an empty list","391","     *\/","392","    @Override","393","    public Collection<? extends TestResult> getSkippedTests() {","394","        return singletonListOrEmpty(isSkipped());","395","    }","396","","397","    private Collection<? extends hudson.tasks.test.TestResult> singletonListOrEmpty(boolean f) {","398","        if (f)","399","            return Collections.singletonList(this);","400","        else","401","            return emptyList();","444","        SuiteResult sr = getSuiteResult();","445","        if (sr==null) {","446","            LOGGER.warning(\"In getOwner(), getSuiteResult is null\"); return null; }","447","        hudson.tasks.junit.TestResult tr = sr.getParent();","448","        if (tr==null) {","449","            LOGGER.warning(\"In getOwner(), suiteResult.getParent() is null.\"); return null; }","450","        return tr.getOwner(); ","453","    public void setParentSuiteResult(SuiteResult parent) {","454","        this.parent = parent;"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Seiji Sogabe, Tom Huybrechts","30","import java.util.Comparator;","32","import org.dom4j.Element;","33","import org.kohsuke.stapler.export.Exported;","40","public final class CaseResult extends TestObject implements Comparable<CaseResult> {","129","        this( parent, parent.getName(), testName, errorStackTrace, \"\", null, null, 0.0f, false );","203","        StringBuffer buf = new StringBuffer(testName);","209","        return uniquifyName(classResult.getChildren(), buf.toString());","267","    \treturn getOwner().getParent().getBuildByNumber(failedSince);","278","        else","279","            return getOwner().getNumber()-failedSince+1;","321","    public CaseResult getResultInBuild(AbstractBuild<?, ?> build) {","322","        ClassResult pr = getParent().getResultInBuild(build);","323","        if(pr==null)    return null;","324","        return pr.getCaseResult(getName());","365","    public String annotate(String text) {","366","        if (text == null)","367","                return null;","368","        text = text.replace(\"&\", \"&amp;\").replace(\"<\", \"&lt;\").replaceAll(","369","                        \"\\\\b(https?:\/\/[^\\\\s)>]+)\", \"<a href=\\\"$1\\\">$1<\/a>\");","370","","371","        for (TestAction action: getTestActions()) {","372","                text = action.annotate(text);","373","        }","374","","375","        return text;","376","    }","377","","380","        return getSuiteResult().getParent().getOwner();","383","    \/**","384","     * Gets the relative path to this test case from the given object.","385","     *\/","386","    public String getRelativePathFrom(TestObject it) {","387","        if(it==this)","388","            return \".\";","389","","390","        \/\/ package, then class","391","        StringBuilder buf = new StringBuilder();","392","        buf.append(getSafeName());","393","        if(it!=classResult) {","394","            buf.insert(0,'\/');","395","            buf.insert(0,classResult.getSafeName());","396","","397","            PackageResult pkg = classResult.getParent();","398","            if(it!=pkg) {","399","                buf.insert(0,'\/');","400","                buf.insert(0,pkg.getSafeName());","402","        }","403","","404","        return buf.toString();","405","    }"]}],"core\/src\/main\/java\/hudson\/tasks\/test\/TabulatedResult.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResult\/index.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/PackageResult.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, id:cactusman, Tom Huybrechts, Yahoo!, Inc.","26","import hudson.tasks.test.*;","27","import hudson.tasks.test.TestResult;","32","import java.util.*;","41","    private final String packageName;","47","    private final hudson.tasks.junit.TestResult parent;","50","    PackageResult(hudson.tasks.junit.TestResult parent, String packageName) {","55","    @Override","56","    public AbstractBuild<?, ?> getOwner() {","57","        return (parent == null ? null : parent.getOwner());","58","    }","59","","60","    public hudson.tasks.junit.TestResult getParent() {","69","    @Override","70","    public String getSafeName() {","71","        Collection<PackageResult> siblings = (parent == null ? Collections.EMPTY_LIST : parent.getChildren());","72","        return uniquifyName(","73","                siblings,","74","                safe(getName()));","78","    public TestResult findCorrespondingResult(String id) {","79","        String myID = safe(getName());","80","        int base = id.indexOf(myID);","81","        String className;","82","        String subId = null;","83","        if (base > 0) {","84","            int classNameStart = base + myID.length() + 1;","85","            className = id.substring(classNameStart);","86","        } else {","87","            className = id;","88","    }","89","        int classNameEnd = className.indexOf('\/');","90","        if (classNameEnd > 0) {","91","            subId = className.substring(classNameEnd + 1);","92","            if (subId.length() == 0) {","93","                subId = null;","94","            }","95","            className = className.substring(0, classNameEnd);","96","        }","97","","98","        ClassResult child = getClassResult(className);","99","        if (child != null) {","100","            if (subId != null) {","101","                return child.findCorrespondingResult(subId);","102","            } else {","103","                return child;","104","    }","105","        }","106","","107","        return null;","157","    \/**","158","     * Whether this test result has children.","159","     *\/","160","    @Override","161","    public boolean hasChildren() {","162","        int totalTests = passCount + failCount + skipCount;","163","        return (totalTests != 0);","164","    }","165","","166","    \/**","167","     * Returns a list of the failed cases, in no particular","168","     * sort order","169","     * @return","170","     *\/","175","                if (!cr.isPassed() && !cr.isSkipped()) {","179","        }","180","        return r;","181","    }","182","","183","    \/**","184","     * Returns a list of the failed cases, sorted by age.","185","     * @return","186","     *\/","187","    public List<CaseResult> getFailedTestsSortedByAge() {","188","        List<CaseResult> failedTests = getFailedTests();","189","        Collections.sort(failedTests, CaseResult.BY_AGE);","190","        return failedTests;","191","    }","192","","193","    \/**","194","     * Gets the \"children\" of this test result that passed","195","     *","196","     * @return the children of this test result, if any, or an empty collection","197","     *\/","198","    @Override","199","    public Collection<? extends hudson.tasks.test.TestResult> getPassedTests() {","200","        List<CaseResult> r = new ArrayList<CaseResult>();","201","        for (ClassResult clr : classes.values()) {","202","            for (CaseResult cr : clr.getChildren()) {","203","                if (cr.isPassed()) {","204","                    r.add(cr);","205","                }","206","            }","207","        }","212","    \/**","213","     * Gets the \"children\" of this test result that were skipped","214","     *","215","     * @return the children of this test result, if any, or an empty list","216","     *\/","217","    @Override","218","    public Collection<? extends TestResult> getSkippedTests() {","219","        List<CaseResult> r = new ArrayList<CaseResult>();","220","        for (ClassResult clr : classes.values()) {","221","            for (CaseResult cr : clr.getChildren()) {","222","                if (cr.isSkipped()) {","223","                    r.add(cr);","224","                }","225","            }","226","        }","227","        Collections.sort(r, CaseResult.BY_AGE);","228","        return r;","229","    }","230","","231","\/\/    \/**","232","\/\/     * If this test failed, then return the build number","233","\/\/     * when this test started failing.","234","\/\/     *\/","235","\/\/    @Override","236","\/\/    TODO: implement! public int getFailedSince() {","237","\/\/        return 0;  \/\/ (FIXME: generated)","238","\/\/    }","239","\/\/    \/**","240","\/\/     * If this test failed, then return the run","241","\/\/     * when this test started failing.","242","\/\/     *\/","243","\/\/    TODO: implement! @Override","244","\/\/    public Run<?, ?> getFailedSinceRun() {","245","\/\/        return null;  \/\/ (FIXME: generated)","246","\/\/    }","247","    \/**","248","     * @return true if every test was not skipped and every test did not fail, false otherwise.","249","     *\/","250","    @Override","251","    public boolean isPassed() {","252","        return (failCount == 0 && skipCount == 0);","253","    }","254","","258","        if (c == null) {","260","        }","265","    \/**","266","     * Recount my children","267","     *\/","268","    @Override","269","    public void tally() {","270","        passCount = 0;","271","        failCount = 0;","272","        skipCount = 0;","273","        duration = 0;","274","","275","        for (ClassResult cr : classes.values()) {","276","            cr.tally();","277","            passCount += cr.getPassCount();","278","            failCount += cr.getFailCount();","279","            skipCount += cr.getSkipCount();","280","            duration += cr.getDuration();","281","        }","282","    }","283","","285","        passCount = failCount = skipCount = 0;"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, id:cactusman, Tom Huybrechts","30","import java.util.ArrayList;","31","import java.util.Collection;","32","import java.util.Collections;","33","import java.util.List;","34","import java.util.Map;","35","import java.util.TreeMap;","43","    private final String packageName;","49","","51","","52","    private final TestResult parent;","55","    PackageResult(TestResult parent, String packageName) {","60","    public TestResult getParent() {","69","    public @Override String getSafeName() {","70","        return uniquifyName(parent.getChildren(), safe(getName()));","71","    }","72","","73","    public PackageResult getPreviousResult() {","74","        TestResult tr = parent.getPreviousResult();","75","        if(tr==null)    return null;","76","        return tr.byPackage(getName());","80","    public PackageResult getResultInBuild(AbstractBuild<?, ?> build) {","81","        TestResult tr = parent.getResultInBuild(build);","82","        if(tr==null)    return null;","83","        return tr.byPackage(getName());","137","                if(!cr.isPassed() && !cr.isSkipped())","148","        if(c==null)","155","        passCount=failCount=0;","164",""]}],"core\/src\/test\/java\/hudson\/tasks\/junit\/SuiteResultTest.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Erik Ramfelt, Xavier Le Vourch, Yahoo!, Inc.","32","import hudson.XmlFile;","33","","122","","123","    public void testSuiteResultPersistence() throws Exception {","124","        SuiteResult source = parseOne(getDataFile(\"junit-report-1233.xml\"));","125","","126","        File dest = File.createTempFile(\"testSuiteResultPersistence\", \".xml\");","127","        try {","128","            XmlFile xmlFile = new XmlFile(dest);","129","            xmlFile.write(source);","130","","131","            SuiteResult result = (SuiteResult)xmlFile.read();","132","            assertNotNull(result);","133","","134","            assertEquals(source.getName(), result.getName());","135","            assertEquals(source.getTimestamp(), result.getTimestamp());","136","            assertEquals(source.getDuration(), result.getDuration());","137","            assertEquals(source.getStderr(), result.getStderr());","138","            assertEquals(source.getStdout(), result.getStdout());","139","            assertEquals(source.getCases().size(), result.getCases().size());","140","            assertNotNull(result.getCase(\"testGetBundle\"));","141","        } finally {","142","            dest.delete();","143","}","144","    }"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Erik Ramfelt, Xavier Le Vourch"]}],"\/dev\/null":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_ja.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResult\/index_ja.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/list.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/AbortException.java":[{"add":["29"," * When this exception is caught,"],"delete":["29"," * When this exception is caughted,"]}],"core\/src\/main\/java\/hudson\/tasks\/test\/AggregatedTestResultAction.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Red Hat, Inc., Yahoo!, Inc.","162","","163","    \/**","164","     * Since there's no TestObject that points this action as the owner","165","     * (aggregated {@link TestObject}s point to their respective real owners, not 'this'),","166","     * so this method should be never invoked.","167","     *","168","     * @deprecated","169","     *      so that IDE warns you if you accidentally try to call it.","170","     *\/","171","    @Override","172","    protected final String getDescription(TestObject object) {","173","        throw new AssertionError();","174","    }","175","","176","    \/**","177","     * See {@link #getDescription(TestObject)}","178","     *","179","     * @deprecated","180","     *      so that IDE warns you if you accidentally try to call it.","181","     *\/","182","    @Override","183","    protected final void setDescription(TestObject object, String description) {","184","        throw new AssertionError();","185","    }"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Red Hat, Inc."]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_fr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body_pt_BR.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/TestObject\/sidepanel_ja.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/test\/AbstractTestResultAction.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Red Hat, Inc., Stephen Connolly, id:cactusman, Yahoo!, Inc.","28","import hudson.util.*;","40","import org.jvnet.localizer.Localizable;","44","import org.kohsuke.stapler.export.ExportedBean;","46","import java.awt.*;","50","import java.util.Map;","51","import java.util.concurrent.ConcurrentHashMap;","66","    private Map<String,String> descriptions = new ConcurrentHashMap<String, String>();","67","","171","    public TestResult findPreviousCorresponding(TestResult test) {","172","        T previousResult = getPreviousResult();","173","        if (previousResult != null) {","174","            TestResult testResult = (TestResult)getResult();","175","            return testResult.findCorrespondingResult(test.getId());","176","        }","177","","178","        return null;","179","    }","180","","181","    public TestResult findCorrespondingResult(String id) {","182","        return ((TestResult)getResult()).findCorrespondingResult(id);","183","    }","184","    ","220","     * Returns a full path down to a test result","222","    public String getTestResultPath(TestResult it) {","337","","338","    \/**","339","     * {@link TestObject}s do not have their own persistence mechanism, so updatable data of {@link TestObject}s","340","     * need to be persisted by the owning {@link AbstractTestResultAction}, and this method and","341","     * {@link #setDescription(TestObject, String)} provides that logic.","342","     *","343","     * <p>","344","     * The default implementation stores information in the 'this' object.","345","     *","346","     * @see TestObject#getDescription() ","347","     *\/","348","    protected String getDescription(TestObject object) {","349","    \treturn descriptions.get(object.getId());","350","    }","351","","352","    protected void setDescription(TestObject object, String description) {","353","    \tdescriptions.put(object.getId(), description);","354","    }","355","","356","    public Object readResolve() {","357","    \tif (descriptions == null) {","358","    \t\tdescriptions = new ConcurrentHashMap<String, String>();","359","    \t}","360","    \t","361","    \treturn this;","362","    }"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Red Hat, Inc., Stephen Connolly, id:cactusman","28","import hudson.util.ChartUtil;","30","import hudson.util.ColorPalette;","31","import hudson.util.DataSetBuilder;","32","import hudson.util.ShiftedCategoryAxis;","33","import hudson.util.StackedAreaRenderer2;","34","import hudson.util.Area;","47","import org.kohsuke.stapler.export.ExportedBean;","49","import org.jvnet.localizer.Localizable;","51","import java.awt.Color;","207","     * ","209","    public String getTestResultPath(CaseResult it) {"]}]}},"902803df339cf70f6953ad5ec544176aec7b729f":{"changes":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Slave.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["2768","    public Slave.JnlpJar doJnlpJars(StaplerRequest req) {","2769","        return new Slave.JnlpJar(req.getRestOfPath());","2770","    }","2771",""],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Slave.java":[{"add":["61","import org.kohsuke.stapler.HttpResponse;","258","    public static final class JnlpJar implements HttpResponse {","276","        public void generateResponse(StaplerRequest req, StaplerResponse rsp, Object node) throws IOException, ServletException {","277","            doIndex(req,rsp);","278","        }","279",""],"delete":["257","    public static final class JnlpJar {"]}]}},"795a1db6d0a3aa6ea99a11fcd3fff2070724df57":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["44","    <stapler.version>1.182<\/stapler.version>"],"delete":["44","    <stapler.version>1.181<\/stapler.version>"]}],"changelog.html":[{"add":["57","  <li class=bug>","58","    Fixed a file handle leak in serving static content","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-13097\">issue 13097<\/a>)"],"delete":["57","  <li class=>"]}]}},"029f6715f4cf2b2a245bb3236c41bdec96be560f":{"changes":{"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":"MODIFY","core\/pom.xml":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":[{"add":["80","import org.kohsuke.stapler.HttpResponse;","545","    \/**","546","     * Also delete all the workspaces of the configuration, too.","547","     *\/","548","    @Override","549","    public HttpResponse doDoWipeOutWorkspace() throws IOException, ServletException, InterruptedException {","550","        HttpResponse rsp = super.doDoWipeOutWorkspace();","551","        for (MatrixConfiguration c : configurations.values())","552","            c.doDoWipeOutWorkspace();","553","        return rsp;","554","    }","555",""],"delete":[]}],"core\/pom.xml":[{"add":["321","      <version>1.107<\/version>"],"delete":["321","      <version>1.106<\/version>"]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["63","import org.kohsuke.stapler.HttpResponse;","64","import org.kohsuke.stapler.HttpRedirect;","65","import org.kohsuke.stapler.ForwardToView;","1256","    public HttpResponse doDoWipeOutWorkspace() throws IOException, ServletException, InterruptedException {","1260","            return new HttpRedirect(\".\");","1261","        } else {","1262","            \/\/ If we get here, that means the SCM blocked the workspace deletion.","1263","            return new ForwardToView(this,\"wipeOutWorkspaceBlocked.jelly\");","1267","    public HttpResponse doDisable() throws IOException, ServletException {","1271","        return new HttpRedirect(\".\");","1274","    public HttpResponse doEnable() throws IOException, ServletException {","1277","        return new HttpRedirect(\".\");"],"delete":["1253","    public void doDoWipeOutWorkspace(StaplerRequest req, StaplerResponse rsp) throws IOException, ServletException, InterruptedException {","1257","            rsp.sendRedirect2(\".\");","1258","        }","1259","        \/\/ If we get here, that means the SCM blocked the workspace deletion.","1260","        else {","1261","            req.getView(this, \"wipeOutWorkspaceBlocked.jelly\").forward(req, rsp);","1265","    public void doDisable(StaplerResponse rsp) throws IOException, ServletException {","1269","        rsp.sendRedirect2(\".\");","1272","    public void doEnable(StaplerResponse rsp) throws IOException, ServletException {","1275","        rsp.sendRedirect2(\".\");"]}]}},"cc259504ae050e705a55613fbc78e38f81b18496":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/projectView.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/projectView.jelly":[{"add":["82","          <j:set var=\"relativeLinkToJob\" value=\"${h.getRelativeLinkTo(job)}\"\/>","83","          <t:projectViewRow jobBaseUrl=\"${relativeLinkToJob.substring(0, relativeLinkToJob.length() - job.shortUrl.length())}\"\/>"],"delete":["81","","83","          <t:projectViewRow jobBaseUrl=\"${h.getRelativeLinkTo(job).substring(0, h.getRelativeLinkTo(job).length() - job.shortUrl.length())}\"\/>"]}]}},"190f0b6faf8aa49a60f1d2177a0b51d7a5170c42":{"changes":{"test\/src\/test\/java\/hudson\/model\/ParametersTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/FileParameterValue.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/ParametersTest.java":[{"add":["10","import org.jvnet.hudson.test.Issue;","11","","161","","162","    @Issue(\"JENKINS-3539\")","163","    public void testFileParameterNotSet() throws Exception {","164","        FreeStyleProject project = createFreeStyleProject();","165","        ParametersDefinitionProperty pdp = new ParametersDefinitionProperty(","166","                new FileParameterDefinition(\"filename\", \"description\"));","167","        project.addProperty(pdp);","168","","169","        WebClient wc = new WebClient();","170","        wc.setThrowExceptionOnFailingStatusCode(false);","171","        HtmlPage page = wc.goTo(\"\/job\/\" + project.getName() + \"\/build?delay=0sec\");","172","        HtmlForm form = page.getFormByName(\"parameters\");","173","","174","        submit(form);","175","        Queue.Item q = jenkins.getQueue().getItem(project);","176","        if (q != null) q.getFuture().get();","177","        else Thread.sleep(1000);","178","","179","        assertFalse(\"file must not exist\", project.getSomeWorkspace().child(\"filename\").exists());","180","    }","181",""],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/FileParameterValue.java":[{"add":["140","            \tif (!StringUtils.isEmpty(location) && !StringUtils.isEmpty(file.getName())) {"],"delete":["140","            \tif (!StringUtils.isEmpty(location)) {"]}]}},"d9b2986ada1294c20b30d2d856ae7f2c26fce364":{"changes":{"core\/src\/main\/resources\/lib\/layout\/breadcrumbs.js":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/layout\/breadcrumbs.js":[{"add":["44","    Event.observe(document,\"mousemove\",function (ev){"],"delete":["44","    Event.observe(window,\"mousemove\",function (ev){"]}]}},"b0eee6d655502fa4ee1ccdf2456d005c7cfc3470":{"changes":{"core\/src\/main\/java\/hudson\/model\/Job.java":"MODIFY","test\/src\/test\/java\/hudson\/model\/RSSTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/View.java":"MODIFY","core\/src\/main\/java\/hudson\/logging\/LogRecorderManager.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/RSS.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Computer.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Job.java":[{"add":["1568","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (all builds)\", getUrl(), getBuilds().newBuilds());","1573","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (failed builds)\", getUrl(), getBuilds().failureOnly().newBuilds());"],"delete":["1568","        RSS.rss(req, rsp, getDisplayName() + \" all builds\", getUrl(), getBuilds().newBuilds());","1573","        RSS.rss(req, rsp, getDisplayName() + \" failed builds\", getUrl(), getBuilds().failureOnly().newBuilds());"]}],"test\/src\/test\/java\/hudson\/model\/RSSTest.java":[{"add":["26","import jenkins.model.Jenkins;","29","import org.jvnet.hudson.test.FailureBuilder;","32","import org.jvnet.hudson.test.MockAuthorizationStrategy;","33","import org.w3c.dom.Document;","34","import org.w3c.dom.Element;","37","import org.xml.sax.SAXException;","39","import java.io.IOException;","40","import java.text.DateFormat;","41","import java.text.ParseException;","42","import java.text.SimpleDateFormat;","43","import java.time.OffsetDateTime;","45","import java.util.Date;","48","import static org.hamcrest.Matchers.*;","49","import static org.junit.Assert.*;","53","    private static final String ROOT_PATH_PREFIX = \"\";","54","    private static final String FAILED_BUILD_TITLE = \"test0 #1 (broken since this build)\";","55","    private static final String STABLE_BUILD_TITLE = \"test0 #1 (stable)\";","56","    private static final String ALL_BUILD_TYPE = \"all\";","57","    private static final String FAILED_BUILD_TYPE = \"failed\";","58","    private static final String LATEST_BUILD_TYPE = \"latest\";","59","","65","    public void absoluteURLsPresentInRSS_evenWithoutRootUrlSetup_View() throws Exception {","66","        String pathPrefix = ROOT_PATH_PREFIX;","67","        XmlPage page = getRssAllPage(pathPrefix);","73","        runSuccessfulBuild();","75","        page = getRssAllPage(pathPrefix);","82","    @Test","83","    public void checkInitialContent_Rss_All_AllView() throws Exception {","84","        String pathPrefix = ROOT_PATH_PREFIX;","85","        int expectedNodes = 3;","86","        XmlPage page = getRssAllPage(pathPrefix);","87","        Node channelNode = checkRssWrapperNodes(page.getXmlDocument());","88","        checkRssBasicNodes(channelNode, \"Jenkins:All (all builds)\", expectedNodes, pathPrefix);","89","    }","90","","91","    @Test","92","    public void checkInitialContent_Rss_Failed_AllView() throws Exception {","93","        String pathPrefix = ROOT_PATH_PREFIX;","94","        int expectedNodes = 3;","95","        XmlPage page = getRssFailedPage(pathPrefix);","96","        Node channelNode = checkRssWrapperNodes(page.getXmlDocument());","97","        checkRssBasicNodes(channelNode, \"Jenkins:All (failed builds)\", expectedNodes, pathPrefix);","98","    }","99","","100","    @Test","101","    public void checkInitialContent_Atom_All_AllView() throws Exception {","102","        int expectedNodes = 5;","103","        XmlPage page = getRssAllAtomPage();","104","        Element documentElement = page.getXmlDocument().getDocumentElement();","105","        assertThat(documentElement.getNodeName(), is(\"feed\"));","106","        checkAtomBasicNodes(documentElement, \"Jenkins:All (all builds)\", expectedNodes);","107","    }","108","","109","    @Test","110","    public void checkWithSingleBuild_Rss_All_AllView() throws Exception {","111","        runSuccessfulBuild();","112","","113","        String pathPrefix = ROOT_PATH_PREFIX;","114","        String displayName = \"All\";","115","        String buildType = ALL_BUILD_TYPE;","116","        String buildTitle = STABLE_BUILD_TITLE;","117","        XmlPage page = getRssAllPage(pathPrefix);","118","        checkSingleBuild_Rss(page, pathPrefix, displayName, buildType, buildTitle);","119","    }","120","","121","    @Test","122","    public void checkWithSingleBuild_Rss_Failed_AllView() throws Exception {","123","        runFailingBuild();","124","","125","        String pathPrefix = ROOT_PATH_PREFIX;","126","        String displayName = \"All\";","127","        String buildType = FAILED_BUILD_TYPE;","128","        String buildTitle = FAILED_BUILD_TITLE;","129","        XmlPage page = getRssFailedPage(pathPrefix);","130","        checkSingleBuild_Rss(page, pathPrefix, displayName, buildType, buildTitle);","131","    }","132","","133","    @Test","134","    public void checkWithSingleBuild_Atom_All_AllView() throws Exception {","135","        runSuccessfulBuild();","136","","137","        String displayName = \"All\";","138","        String buildType = ALL_BUILD_TYPE;","139","        String buildTitle = STABLE_BUILD_TITLE;","140","        XmlPage page = getRssAllAtomPage();","141","        checkSingleBuild_Atom(page, displayName, buildType, buildTitle);","142","    }","143","","144","    @Test","145","    @Issue(\"JENKINS-59167\")","146","    public void absoluteURLsPresentInAtom_evenWithoutRootUrlSetup_View() throws Exception {","147","        XmlPage page = getRssAllAtomPage();","148","        NodeList allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","149","","150","        assertEquals(1, allLinks.getLength());","151","        assertAllAtomLinksContainRootUrl(allLinks);","152","","153","        runSuccessfulBuild();","154","","155","        page = getRssAllAtomPage();","156","        allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","157","","158","        assertEquals(2, allLinks.getLength());","159","        assertAllAtomLinksContainRootUrl(allLinks);","160","    }","161","","162","    @Issue(\"JENKINS-60577\")","163","    @Test","164","    public void latestBuilds_AllView() throws Exception {","165","        String pathPrefix = ROOT_PATH_PREFIX;","166","        String displayName = \"All\";","167","        String buildType = LATEST_BUILD_TYPE;","168","        int expectedLinks = 3;","169","        int expectedAllLinks = 6;","170","        checkLatestBuilds(j.createWebClient(), pathPrefix, displayName, buildType, null, expectedLinks, expectedAllLinks);","171","    }","172","","173","    @Test","174","    public void checkWithSingleBuild_Rss_All_Computer() throws Exception {","175","        runSuccessfulBuild();","176","","177","        String pathPrefix = \"computer\/(master)\/\";","178","        String displayName = \"master\";","179","        String buildType = ALL_BUILD_TYPE;","180","        String buildTitle = STABLE_BUILD_TITLE;","181","        XmlPage page = getRssAllPage(pathPrefix);","182","        checkSingleBuild_Rss(page, pathPrefix, displayName, buildType, buildTitle);","183","    }","184","","185","    @Test","186","    public void checkWithSingleBuild_Rss_Failed_Computer() throws Exception {","187","        runFailingBuild();","188","","189","        String pathPrefix = \"computer\/(master)\/\";","190","        String displayName = \"master\";","191","        String buildType = FAILED_BUILD_TYPE;","192","        String buildTitle = FAILED_BUILD_TITLE;","193","        XmlPage page = getRssFailedPage(pathPrefix);","194","        checkSingleBuild_Rss(page, pathPrefix, displayName, buildType, buildTitle);","195","    }","196","","197","    @Test","198","    public void latestBuilds_Computer() throws Exception {","199","        String pathPrefix = \"computer\/(master)\/\";","200","        String displayName = \"master\";","201","        String buildType = LATEST_BUILD_TYPE;","202","        int expectedLinks = 3;","203","        int expectedAllLinks = 6;","204","        checkLatestBuilds(j.createWebClient(), pathPrefix, displayName, buildType, null, expectedLinks, expectedAllLinks);","205","    }","206","","207","    @Test","208","    public void checkWithSingleBuild_Rss_All_Job() throws Exception {","209","        runSuccessfulBuild();","210","","211","        String pathPrefix = \"job\/test0\/\";","212","        String displayName = \"test0\";","213","        String buildType = ALL_BUILD_TYPE;","214","        String buildTitle = STABLE_BUILD_TITLE;","215","        XmlPage page = getRssAllPage(pathPrefix);","216","        checkSingleBuild_Rss(page, pathPrefix, displayName, buildType, buildTitle);","217","    }","218","","219","    @Test","220","    public void checkWithSingleBuild_Rss_Failed_Job() throws Exception {","221","        runFailingBuild();","222","","223","        String pathPrefix = \"job\/test0\/\";","224","        String displayName = \"test0\";","225","        String buildType = FAILED_BUILD_TYPE;","226","        String buildTitle = FAILED_BUILD_TITLE;","227","        XmlPage page = getRssFailedPage(pathPrefix);","228","        checkSingleBuild_Rss(page, pathPrefix, displayName, buildType, buildTitle);","229","    }","230","","231","    @Test","232","    public void checkWithSingleBuild_Rss_All_NewView() throws Exception {","233","        FreeStyleProject p = runSuccessfulBuild();","234","","235","        ListView newView = new ListView(\"newView\");","236","        j.jenkins.addView(newView);","237","        newView.add(p);","238","","239","        String pathPrefix = \"view\/newView\/\";","240","        String displayName = \"newView\";","241","        String buildType = ALL_BUILD_TYPE;","242","        String buildTitle = STABLE_BUILD_TITLE;","243","        XmlPage page = getRssAllPage(pathPrefix);","244","        checkSingleBuild_Rss(page, pathPrefix, displayName, buildType, buildTitle);","245","    }","246","","247","    @Test","248","    public void checkWithSingleBuild_Rss_All_User() throws Exception {","249","        String userId = \"alice\";","250","        JenkinsRule.WebClient wc = loginAsUser(userId);","251","","252","        runSuccessfulBuild(userId);","253","","254","        String pathPrefix = \"user\/alice\";","255","        String displayName = userId;","256","        String buildType = ALL_BUILD_TYPE;","257","        String buildTitle = STABLE_BUILD_TITLE;","258","        XmlPage page = getRssAllPage(wc, pathPrefix);","259","        checkSingleBuild_Rss(page, pathPrefix, displayName, buildType, buildTitle);","260","    }","261","","262","    @Test","263","    public void checkWithSingleBuild_Rss_Failed_User() throws Exception {","264","        String userId = \"alice\";","265","        JenkinsRule.WebClient wc = loginAsUser(userId);","266","","267","        runFailingBuild(userId);","268","","269","        String pathPrefix = \"user\/alice\";","270","        String displayName = userId;","271","        String buildType = FAILED_BUILD_TYPE;","272","        String buildTitle = FAILED_BUILD_TITLE;","273","        XmlPage page = getRssFailedPage(wc, pathPrefix);","274","        checkSingleBuild_Rss(page, pathPrefix, displayName, buildType, buildTitle);","275","    }","276","","277","    @Test","278","    public void latestBuilds_User() throws Exception {","279","        String userId = \"alice\";","280","        JenkinsRule.WebClient wc = loginAsUser(userId);","281","        String pathPrefix = \"user\/alice\";","282","        String displayName = userId;","283","        String buildType = LATEST_BUILD_TYPE;","284","        int expectedLinks = 3;","285","        int expectedAllLinks = 6;","286","        checkLatestBuilds(wc, pathPrefix, displayName, buildType, userId, expectedLinks, expectedAllLinks);","287","    }","288","","289","    @Test","290","    public void latestBuilds_User_NotCaused() throws Exception {","291","        String userId = \"alice\";","292","        JenkinsRule.WebClient wc = loginAsUser(userId);","293","        String pathPrefix = \"user\/alice\";","294","        String displayName = userId;","295","        String buildType = LATEST_BUILD_TYPE;","296","        int expectedLinks = 1;","297","        int expectedAllLinks = 1;","298","        checkLatestBuilds(wc, pathPrefix, displayName, buildType, null, expectedLinks, expectedAllLinks);","299","    }","300","","301","    @Test","302","    public void checkInitialContent_Atom_AllLog() throws Exception {","303","        JenkinsRule.WebClient webClient = j.createWebClient();","304","        XmlPage page = (XmlPage) webClient.goTo(\"log\/rss\", \"application\/atom+xml\");","305","        Document xmlDocument = page.getXmlDocument();","306","        Element documentElement = xmlDocument.getDocumentElement();","307","        assertThat(documentElement.getNodeName(), is(\"feed\"));","308","        int expectedNodes = 5;","309","        checkAtomBasicNodes(documentElement, \"Jenkins:log (all entries)\", expectedNodes);","310","    }","311","","312","    @Test","313","    public void checkInitialContent_Atom_SevereLog() throws Exception {","314","        JenkinsRule.WebClient webClient = j.createWebClient();","315","        XmlPage page = (XmlPage) webClient.goTo(\"log\/rss?level=SEVERE\", \"application\/atom+xml\");","316","        Document xmlDocument = page.getXmlDocument();","317","        Element documentElement = xmlDocument.getDocumentElement();","318","        assertThat(documentElement.getNodeName(), is(\"feed\"));","319","        int expectedNodes = 5;","320","        checkAtomBasicNodes(documentElement, \"Jenkins:log (SEVERE entries)\", expectedNodes);","321","    }","322","","323","    @Test","324","    public void checkInitialContent_Atom_WarningLog() throws Exception {","325","        JenkinsRule.WebClient webClient = j.createWebClient();","326","        XmlPage page = (XmlPage) webClient.goTo(\"log\/rss?level=WARNING\", \"application\/atom+xml\");","327","        Document xmlDocument = page.getXmlDocument();","328","        Element documentElement = xmlDocument.getDocumentElement();","329","        assertThat(documentElement.getNodeName(), is(\"feed\"));","330","        int expectedNodes = 5;","331","        checkAtomBasicNodes(documentElement, \"Jenkins:log (WARNING entries)\", expectedNodes);","332","    }","333","","334","    private JenkinsRule.WebClient loginAsUser(String userId) throws Exception {","335","        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());","336","        j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().grant(Jenkins.ADMINISTER).everywhere().to(userId));","337","        User alice = User.getById(userId, true);","338","        JenkinsRule.WebClient wc = j.createWebClient();","339","        wc.login(alice.getId());","340","        return wc;","341","    }","342","","343","    private Node checkRssWrapperNodes(Document xmlDocument) {","344","        Element documentElement = xmlDocument.getDocumentElement();","345","        assertThat(documentElement.getNodeName(), is(\"rss\"));","346","        assertThat(documentElement.getAttribute(\"version\"), is(\"2.0\"));","347","        assertThat(documentElement.getChildNodes().getLength(), is(1));","348","        Node channelNode = documentElement.getFirstChild();","349","        assertThat(channelNode.getNodeName(), is(\"channel\"));","350","        return channelNode;","351","    }","352","","353","    private XmlPage getRssFailedPage(String pathPrefix) throws IOException, SAXException {","354","        return getRssFailedPage(j.createWebClient(), pathPrefix);","355","    }","356","","357","    private XmlPage getRssFailedPage(JenkinsRule.WebClient webClient, String pathPrefix) throws IOException, SAXException {","358","        String prefix = computeAdjustedPathPrefix(pathPrefix);","359","        return (XmlPage) webClient.goTo(prefix + \"rssFailed?flavor=rss20\", \"text\/xml\");","360","    }","361","","362","    private void checkRssBasicNodes(Node channelNode, String expectedTitle, int expectedNodes, String path) throws IOException {","363","        assertThat(channelNode.getChildNodes().getLength(), is(expectedNodes));","364","        assertThat(getSingleNode(channelNode, \"link\").getTextContent(), is(j.getURL().toString() + path));","365","        assertThat(getSingleNode(channelNode, \"description\").getTextContent(), is(expectedTitle));","366","        assertThat(getSingleNode(channelNode, \"title\").getTextContent(), is(expectedTitle));","367","    }","368","","369","    private void checkAtomBasicNodes(Node feedNode, String expectedTitle, int expectedNodes) throws IOException {","370","        if (expectedNodes >= 0) {","371","            assertThat(feedNode.getChildNodes().getLength(), is(expectedNodes));","372","        }","373","        Node linkNode = getSingleNode(feedNode, \"link\");","374","        assertThat(linkNode.getAttributes().getNamedItem(\"rel\").getTextContent(), is(\"alternate\"));","375","        assertThat(linkNode.getAttributes().getNamedItem(\"type\").getTextContent(), is(\"text\/html\"));","376","        assertThat(linkNode.getAttributes().getNamedItem(\"href\").getTextContent(), is(j.getURL().toString()));","377","        assertNotNull(getSingleNode(feedNode, \"updated\"));","378","        assertThat(getSingleNode(feedNode, \"title\").getTextContent(), is(expectedTitle));","379","        Node authorNode = getSingleNode(feedNode, \"author\");","380","        NodeList authorNodes = authorNode.getChildNodes();","381","        assertThat(authorNodes.getLength(), is(1));","382","        Node nameNode = authorNodes.item(0);","383","        assertThat(nameNode.getTextContent(), is(\"Jenkins Server\"));","384","        Node idNode = getSingleNode(feedNode, \"id\");","385","        assertFalse(idNode.getTextContent().isEmpty());","386","    }","387","","388","    private Node getSingleNode(Node parentNode, String nodeName) {","389","        Node childNode = null;","390","        NodeList childNodes = parentNode.getChildNodes();","391","        for (int i = 0; i < childNodes.getLength(); i++) {","392","            if (childNodes.item(i).getNodeName().equals(nodeName)) {","393","                if (childNode == null) {","394","                    childNode = childNodes.item(i);","395","                } else {","396","                    fail(\"Too many children.\");","397","                }","398","            }","399","        }","400","        return childNode;","401","    }","402","","403","    private void checkRssTimeNode(Node firstBuild, String nodeName) throws ParseException {","404","        String pubDate = getSingleNode(firstBuild, nodeName).getTextContent();","405","        assertThat(pubDate, not(emptyString()));","406","        DateFormat formatter = new SimpleDateFormat(\"EEE, dd MMM yyyy HH:mm:ss zzz\");","407","        Date date = formatter.parse(pubDate);","408","        assertNotNull(date);","409","    }","410","","411","    private void checkAtomTimeNode(Node firstBuild, String nodeName) {","412","        String publishedString = getSingleNode(firstBuild, nodeName).getTextContent();","413","        assertNotNull(publishedString);","414","        assertThat(publishedString, is(not(emptyString())));","415","        OffsetDateTime dateTime = OffsetDateTime.parse(publishedString);","416","        assertNotNull(dateTime);","417","    }","418","","419","    private XmlPage getRssAllPage(String pathPrefix) throws Exception {","420","        return getRssAllPage(j.createWebClient(), pathPrefix);","421","    }","422","","423","    private XmlPage getRssAllPage(JenkinsRule.WebClient webClient, String pathPrefix) throws Exception {","424","        String prefix = computeAdjustedPathPrefix(pathPrefix);","425","        return (XmlPage) webClient.goTo(prefix + \"rssAll?flavor=rss20\", \"text\/xml\");","426","    }","427","","428","    private String computeAdjustedPathPrefix(String pathPrefix) {","429","        return pathPrefix.isEmpty() || pathPrefix.endsWith(\"\/\") ? pathPrefix : pathPrefix + \"\/\";","453","    private XmlPage getRssLatestPage(JenkinsRule.WebClient webClient, String pathPrefix) throws Exception {","454","        String prefix = computeAdjustedPathPrefix(pathPrefix);","455","        return (XmlPage) webClient.goTo(prefix + \"rssLatest?flavor=rss20\", \"text\/xml\");","458","    private FreeStyleProject runSuccessfulBuild() throws Exception {","459","        FreeStyleProject p = j.createFreeStyleProject();","460","        j.assertBuildStatusSuccess(p.scheduleBuild2(0));","461","        return p;","464","    private FreeStyleProject runSuccessfulBuild(String userId) throws Exception {","465","        FreeStyleProject p = j.createFreeStyleProject();","466","        j.assertBuildStatusSuccess(p.scheduleBuild2(0, new Cause.UserIdCause(userId)));","467","        return p;","468","    }","469","","470","    private void runFailingBuild() throws Exception {","471","        FreeStyleProject p = j.createFreeStyleProject();","472","        p.getBuildersList().add(new FailureBuilder());","473","        j.assertBuildStatus(Result.FAILURE, p.scheduleBuild2(0).get());","474","    }","475","","476","    private void runFailingBuild(String userId) throws Exception {","477","        FreeStyleProject p = j.createFreeStyleProject();","478","        p.getBuildersList().add(new FailureBuilder());","479","        j.assertBuildStatus(Result.FAILURE, p.scheduleBuild2(0, new Cause.UserIdCause(userId)).get());","480","    }","481","","482","    private void assertLatestRSSLinks(NodeList allLinks, String path) throws Exception {","491","                j.getURL().toString() + path,","496","","497","    private void checkSingleBuild_Rss(XmlPage page, String pathPrefix, String displayName, String buildType, String buildTitle) throws Exception {","498","        Document xmlDocument = page.getXmlDocument();","499","        Node channelNode = checkRssWrapperNodes(xmlDocument);","500","        checkRssBasicNodes(channelNode, \"Jenkins:\" + displayName + \" (\" + buildType + \" builds)\", 4, pathPrefix);","501","        NodeList items = xmlDocument.getElementsByTagName(\"item\");","502","        assertThat(items.getLength(), is(1));","503","        Node firstBuild = items.item(0);","504","        assertThat(firstBuild.getChildNodes().getLength(), is(5));","505","        assertThat(getSingleNode(firstBuild, \"title\").getTextContent(), is(buildTitle));","506","        checkRssTimeNode(firstBuild, \"pubDate\");","507","        assertNotNull(getSingleNode(firstBuild, \"author\").getTextContent());","508","        Node guidNode = getSingleNode(firstBuild, \"guid\");","509","        assertThat(guidNode.getAttributes().getNamedItem(\"isPermaLink\").getTextContent(), is(\"false\"));","510","        assertNotNull(guidNode.getTextContent());","511","    }","512","","513","    private void checkSingleBuild_Atom(XmlPage page, String displayName, String buildType, String buildTitle) throws IOException {","514","        Document xmlDocument = page.getXmlDocument();","515","        Element documentElement = xmlDocument.getDocumentElement();","516","        assertThat(documentElement.getNodeName(), is(\"feed\"));","517","        checkAtomBasicNodes(documentElement, \"Jenkins:\" + displayName + \" (\" + buildType + \" builds)\", 6);","518","        NodeList entries = xmlDocument.getElementsByTagName(\"entry\");","519","        assertThat(entries.getLength(), is(1));","520","        Node firstBuild = entries.item(0);","521","        assertThat(firstBuild.getChildNodes().getLength(), is(5));","522","        assertThat(getSingleNode(firstBuild, \"title\").getTextContent(), is(buildTitle));","523","        checkAtomTimeNode(firstBuild, \"published\");","524","        checkAtomTimeNode(firstBuild, \"updated\");","525","        assertNotNull(getSingleNode(firstBuild, \"id\").getTextContent());","526","        Node linkNode = getSingleNode(firstBuild, \"link\");","527","        assertThat(linkNode.getAttributes().getNamedItem(\"rel\").getTextContent(), is(\"alternate\"));","528","        assertThat(linkNode.getAttributes().getNamedItem(\"type\").getTextContent(), is(\"text\/html\"));","529","        assertThat(linkNode.getAttributes().getNamedItem(\"href\").getTextContent(), containsString(j.getURL().toString()));","530","    }","531","","532","    private void checkLatestBuilds(JenkinsRule.WebClient webClient, String pathPrefix, String displayName, String buildType, String userId,","533","                                   int expectedLatesLinks, int expectedAllLinks) throws Exception {","534","        XmlPage page = getRssLatestPage(webClient, pathPrefix);","535","        NodeList allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","536","","537","        assertEquals(1, allLinks.getLength());","538","        Node channelNode = checkRssWrapperNodes(page.getXmlDocument());","539","        checkRssBasicNodes(channelNode, \"Jenkins:\" + displayName + \" (\" + buildType + \" builds)\", 3, pathPrefix);","540","","541","        FreeStyleProject p = j.createFreeStyleProject(\"test1\");","542","        j.assertBuildStatusSuccess(p.scheduleBuild2(0, new Cause.UserIdCause(userId)));","543","        j.assertBuildStatusSuccess(p.scheduleBuild2(0, new Cause.UserIdCause(userId)));","544","","545","        p = j.createFreeStyleProject(\"test2\");","546","        j.assertBuildStatusSuccess(p.scheduleBuild2(0, new Cause.UserIdCause(userId)));","547","        j.assertBuildStatusSuccess(p.scheduleBuild2(0, new Cause.UserIdCause(userId)));","548","        j.assertBuildStatusSuccess(p.scheduleBuild2(0, new Cause.UserIdCause(userId)));","549","","550","        page = getRssLatestPage(webClient, pathPrefix);","551","        allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","552","","553","        assertEquals(expectedLatesLinks, allLinks.getLength());","554","        if (expectedLatesLinks > 1) {","555","            assertLatestRSSLinks(allLinks, pathPrefix);","556","        }","557","","558","        page = getRssAllPage(webClient, pathPrefix);","559","        allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","560","        assertEquals(expectedAllLinks, allLinks.getLength());","561","    }","562",""],"delete":["36","import static org.hamcrest.Matchers.containsInAnyOrder;","37","import static org.hamcrest.Matchers.containsString;","38","import static org.junit.Assert.assertEquals;","39","import static org.junit.Assert.assertThat;","48","    public void absoluteURLsPresentInRSS_evenWithoutRootUrlSetup() throws Exception {","49","        XmlPage page = getRssAllPage();","55","        FreeStyleProject p = j.createFreeStyleProject();","56","        j.assertBuildStatusSuccess(p.scheduleBuild2(0));","58","        page = getRssAllPage();","65","    private XmlPage getRssAllPage() throws Exception {","66","        return (XmlPage) j.createWebClient().goTo(\"rssAll?flavor=rss20\", \"text\/xml\");","77","    @Test","78","    @Issue(\"JENKINS-59167\")","79","    public void absoluteURLsPresentInAtom_evenWithoutRootUrlSetup() throws Exception {","80","        XmlPage page = getRssAllAtomPage();","81","        NodeList allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","82","","83","        assertEquals(1, allLinks.getLength());","84","        assertAllAtomLinksContainRootUrl(allLinks);","85","","86","        FreeStyleProject p = j.createFreeStyleProject();","87","        j.assertBuildStatusSuccess(p.scheduleBuild2(0));","88","","89","        page = getRssAllAtomPage();","90","        allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","91","","92","        assertEquals(2, allLinks.getLength());","93","        assertAllAtomLinksContainRootUrl(allLinks);","94","    }","95","","109","    @Issue(\"JENKINS-60577\")","110","    @Test","111","    public void latestBuilds() throws Exception {","112","        XmlPage page = getRssLatestPage();","113","        NodeList allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","114","","115","        assertEquals(1, allLinks.getLength());","116","","117","        FreeStyleProject p = j.createFreeStyleProject(\"test1\");","118","        j.assertBuildStatusSuccess(p.scheduleBuild2(0));","119","        j.assertBuildStatusSuccess(p.scheduleBuild2(0));","120","","121","        p = j.createFreeStyleProject(\"test2\");","122","        j.assertBuildStatusSuccess(p.scheduleBuild2(0));","123","        j.assertBuildStatusSuccess(p.scheduleBuild2(0));","124","        j.assertBuildStatusSuccess(p.scheduleBuild2(0));","125","","126","        page = getRssLatestPage();","127","        allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","128","","129","        assertEquals(3, allLinks.getLength());","130","        assertLatestRSSLinks(allLinks);","131","","132","        page = getRssAllPage();","133","        allLinks = page.getXmlDocument().getElementsByTagName(\"link\");","134","        assertEquals(6, allLinks.getLength());","137","    private XmlPage getRssLatestPage() throws Exception {","138","        return (XmlPage) j.createWebClient().goTo(\"rssLatest?flavor=rss20\", \"text\/xml\");","141","    private void assertLatestRSSLinks(NodeList allLinks) throws Exception {","150","                j.getURL().toString(),"]}],"core\/src\/main\/java\/hudson\/model\/View.java":[{"add":["1145","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (all builds)\", getUrl(), getBuilds().newBuilds());","1149","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (failed builds)\", getUrl(), getBuilds().failureOnly().newBuilds());","1169","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (latest builds)\", getUrl(), RunList.fromRuns(lastBuilds), Run.FEED_ADAPTER_LATEST);"],"delete":["1145","        RSS.rss(req, rsp, getDisplayName() + \" all builds\", getUrl(), getBuilds().newBuilds());","1149","        RSS.rss(req, rsp, getDisplayName() + \" failed builds\", getUrl(), getBuilds().failureOnly().newBuilds());","1169","        RSS.rss(req, rsp, getDisplayName() + \" last builds only\", getUrl(), RunList.fromRuns(lastBuilds), Run.FEED_ADAPTER_LATEST);"]}],"core\/src\/main\/java\/hudson\/logging\/LogRecorderManager.java":[{"add":["159","        String entryType = \"all\";","169","            entryType = level;","172","        RSS.forwardToRss(\"Jenkins:log (\" + entryType + \" entries)\",\"\", logs, new FeedAdapter<LogRecord>() {"],"delete":["170","        RSS.forwardToRss(\"Hudson log\",\"\", logs, new FeedAdapter<LogRecord>() {"]}],"core\/src\/main\/java\/hudson\/model\/RSS.java":[{"add":[],"delete":["34","import java.io.PrintWriter;","45","     * Parses trackback ping.","46","     *\/","47","    public static void doTrackback( Object it, StaplerRequest req, StaplerResponse rsp ) throws IOException, ServletException {","48","","49","        String url = req.getParameter(\"url\");","50","","51","        rsp.setStatus(HttpServletResponse.SC_OK);","52","        rsp.setContentType(\"application\/xml; charset=UTF-8\");","53","        try (PrintWriter pw = rsp.getWriter()) {","54","            pw.println(\"<response>\");","55","            pw.println(\"<error>\" + (url != null ? 0 : 1) + \"<\/error>\");","56","            if (url == null) {","57","                pw.println(\"<message>url must be specified<\/message>\");","58","            }","59","            pw.println(\"<\/response>\");","60","        }","61","    }","62","","63","    \/**"]}],"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["873","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (all builds)\", getUrl(), getBuilds().newBuilds());","877","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (failed builds)\", getUrl(), getBuilds().regressionOnly());","893","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (latest builds)\", getUrl(), RunList.fromRuns(lastBuilds), Run.FEED_ADAPTER_LATEST);"],"delete":["873","        RSS.rss(req, rsp, getDisplayName() + \" all builds\", getUrl(), getBuilds().newBuilds());","877","        RSS.rss(req, rsp, getDisplayName() + \" regression builds\", getUrl(), getBuilds().regressionOnly());","893","        RSS.rss(req, rsp, getDisplayName() + \" latest build\", getUrl(), RunList.fromRuns(lastBuilds), Run.FEED_ADAPTER_LATEST);"]}],"core\/src\/main\/java\/hudson\/model\/Computer.java":[{"add":["1373","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (all builds)\", getUrl(), getBuilds());","1378","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (failed builds)\", getUrl(), getBuilds().failureOnly());","1400","        RSS.rss(req, rsp, \"Jenkins:\" + getDisplayName() + \" (latest builds)\", getUrl(), RunList.fromRuns(lastBuilds));"],"delete":["1373","        RSS.rss(req, rsp, getDisplayName() + \" all builds\", getUrl(), getBuilds());","1378","        RSS.rss(req, rsp, getDisplayName() + \" failed builds\", getUrl(), getBuilds().failureOnly());","1400","        RSS.rss(req, rsp, getDisplayName() + \" last builds only\", getUrl(), RunList.fromRuns(lastBuilds));"]}]}},"e605d071f15062bbbd7eb7e6a3546a6e1905e9dc":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModule.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/sidepanel.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["427","    public boolean isBuildable() {","663","        if (!isBuildable())","1390","            if (isBuildable()) {"],"delete":["427","    public final boolean isBuildable() {","663","        if (isDisabled())","1390","            if (!isDisabled()) {"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModule.java":[{"add":["145","    @Override","146","    public boolean isBuildable() {","147","        \/\/ not buildable if the parent project is disabled","148","        return super.isBuildable() && getParent().isBuildable();","149","    }","150",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/sidepanel.jelly":[{"add":["43","        <j:if test=\"${it.buildable}\">","74","<\/j:jelly>"],"delete":["43","        <j:if test=\"${!it.disabled}\">","74","<\/j:jelly>"]}]}},"02a5dc5341d5a7ce0fd884eb7549c46b998bc4f0":{"changes":{"core\/pom.xml":"MODIFY","core\/src\/test\/java\/hudson\/util\/CopyOnWriteListTest.java":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["644","    <dependency>","645","      <groupId>org.xmlunit<\/groupId>","646","      <artifactId>xmlunit-core<\/artifactId>","647","      <version>2.2.1<\/version>","648","      <scope>test<\/scope>","649","    <\/dependency>","650","    <dependency>","651","      <groupId>org.xmlunit<\/groupId>","652","      <artifactId>xmlunit-matchers<\/artifactId>","653","      <version>2.2.1<\/version>","654","      <scope>test<\/scope>","655","    <\/dependency>"],"delete":[]}],"core\/src\/test\/java\/hudson\/util\/CopyOnWriteListTest.java":[{"add":["25","import static org.hamcrest.MatcherAssert.assertThat;","28","import static org.xmlunit.matchers.CompareMatcher.isSimilarTo;","31","import org.xmlunit.diff.DefaultNodeMatcher;","32","import org.xmlunit.diff.ElementSelectors;","56","        String expected = \"<hudson.util.CopyOnWriteListTest_-TestData>\"","57","                + \"<list1\/><list2\/><\/hudson.util.CopyOnWriteListTest_-TestData>\";","58","        assertThat(out, isSimilarTo(expected).ignoreWhitespace()","59","                .withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byNameAndText)));","60","","61","","69","        expected = \"<hudson.util.CopyOnWriteListTest_-TestData>\"","71","                + \"<\/string><\/list2><\/hudson.util.CopyOnWriteListTest_-TestData>\";","72","        assertThat(out, isSimilarTo(expected).ignoreWhitespace()","73","                .withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byNameAndText)));"],"delete":["52","        assertEquals(\"empty lists\", \"<hudson.util.CopyOnWriteListTest_-TestData>\"","53","                + \"<list1\/><list2\/><\/hudson.util.CopyOnWriteListTest_-TestData>\",","54","                out.replaceAll(\"\\\\s+\", \"\"));","62","        assertEquals(\"lists\", \"<hudson.util.CopyOnWriteListTest_-TestData>\"","64","                + \"<\/string><\/list2><\/hudson.util.CopyOnWriteListTest_-TestData>\",","65","                out.replaceAll(\"\\\\s+\", \"\"));"]}]}},"9c96f3dcca1784094f28ccd6df6abed1d229a1d4":{"changes":{"debian\/debian\/jenkins.default":"MODIFY","changelog.html":"MODIFY"},"diff":{"debian\/debian\/jenkins.default":[{"add":["42","#   027 makes files read-only for group and inaccessible for others, which some security sensitive users","43","#   might consider benefitial, especially if Jenkins runs in a box that's used for multiple purposes.","44","#   Beware that 027 permission would interfere with sudo scripts that run on the master (JENKINS-25065.)","45","#","46","#   Note also that the particularly sensitive part of $JENKINS_HOME (such as credentials) are always","47","#   written without 'others' access. So the umask values only affect job configuration, build records,","48","#   that sort of things.","49","#","50","#   If commented out, the value from the OS is inherited,  which is normally 022 (as of Ubuntu 12.04,","51","#   by default umask comes from pam_umask(8) and \/etc\/login.defs","52","","53","# UMASK=027"],"delete":["42","#   027 makes files read-only for group and inaccessible for others. comment this out to inherit setting","43","#   (as of Ubuntu 12.04, by default umask comes from pam_umask(8) and \/etc\/login.defs","44","UMASK=027"]}],"changelog.html":[{"add":["62","  <li class=bug>","63","    Due to the reaction, default umask in debian package is set back to 022","64","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25065\">issue 25065<\/a>)"],"delete":[]}]}},"5abb0da9233ddc76c586c9d777c6d9d85999c203":{"changes":{"war\/src\/main\/webapp\/scripts\/sortable.js":"MODIFY"},"diff":{"war\/src\/main\/webapp\/scripts\/sortable.js":[{"add":["304","            a = a.replace(\/[^0-9.]\/g,'');","305","            b = b.replace(\/[^0-9.]\/g,'');"],"delete":[]}]}},"bcd7e87b0d290e561f3de2250209bcd133f4b225":{"changes":{"core\/src\/main\/java\/hudson\/lifecycle\/WindowsSlaveInstaller.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/lifecycle\/WindowsSlaveInstaller.java":[{"add":["26","import hudson.Util;","119","            URL jnlp = new URL(engine.getHudsonUrl(),\"computer\/\"+Util.rawEncode(engine.slaveName)+\"\/slave-agent.jnlp\");"],"delete":["118","            URL jnlp = new URL(engine.getHudsonUrl(),\"computer\/\"+engine.slaveName+\"\/slave-agent.jnlp\");"]}]}},"6eba5a87bc82bcc4895486e3905b10cd0956b142":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/RedeployPublisher.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/RedeployPublisher.java":[{"add":["211","        File tmpSettings = File.createTempFile( \"jenkins\", \"temp-settings.xml\" );","277","                ","278","                \/\/ we copy this file in the master in a  temporary file ","279","                FilePath filePath = new FilePath( tmpSettings );","281","                if (!remoteSettings.exists()) {","282","                    \/\/ JENKINS-9084 we finally use $M2_HOME\/conf\/settings.xml as maven do","283","                    ","284","                    String mavenHome = ","285","                        ((MavenModuleSet) project).getMaven().forNode(buildNode, listener ).getHome();","286","                    String settingsPath = mavenHome + \"\/conf\/settings.xml\";","287","                    remoteSettings = build.getWorkspace().child( settingsPath);","289","                listener.getLogger().println( \"Maven RedeployPublisher use remote \" + (buildNode != null ? buildNode.getNodeName() : \"local\" )","290","                                              + \" maven settings from : \" + remoteSettings.getRemote() );","291","                remoteSettings.copyTo( filePath );","292","                settingsLoc = tmpSettings;","293","                "],"delete":["211","        File tmpSettings = null;","271","                m = mavenModuleSet.getMaven().forNode(buildNode, listener);","278","","279","                \/\/ we copy this file in the master in a temporary file","281","                if (remoteSettings != null) {","282","                    listener.getLogger().println( \"Maven RedeployPublisher use \" + (buildNode != null ? buildNode.getNodeName() : \"local\" )","283","                                                + \" maven settings from : \" + remoteSettings.getRemote() );","284","                    tmpSettings = File.createTempFile( \"jenkins\", \"temp-settings.xml\" );","285","                    FilePath filePath = new FilePath( tmpSettings );","286","                    remoteSettings.copyTo( filePath );","287","                    settingsLoc = tmpSettings;","289",""]}]}},"b0c5a86addf7eb0dbf84a5469380576e155eb151":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["1200","        if(workspace!=null){","1201","            workspace.mkdirs();","1202","        } else {","1203","            throw new AbortException(\"Cannot checkout SCM, workspace is not defined\");","1204","        }","1205",""],"delete":["1200","        workspace.mkdirs();"]}]}},"9c9379e96539caa4b03904ee92cc3e2c2dfdf357":{"changes":{"changelog.html":"MODIFY","war\/pom.xml":"MODIFY"},"diff":{"changelog.html":[{"add":["66","  <li class=bug>","67","    Jenkins didn't start on IBM JDK.","68","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-10810\">issue 10810<\/a>)"],"delete":[]}],"war\/pom.xml":[{"add":["101","      <version>0.9.10-jenkins-28<\/version>"],"delete":["101","      <version>0.9.10-jenkins-27<\/version>"]}]}},"b400d1507a25c895f99b983bee713952af5edadd":{"changes":{"core\/src\/main\/java\/hudson\/security\/TokenBasedRememberMeServices2.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/TokenBasedRememberMeServices2.java":[{"add":["2"," *","4"," *","11"," *","14"," *","37","import javax.servlet.http.Cookie;","40","import java.lang.reflect.InvocationTargetException;","41","import java.lang.reflect.Method;","43","import java.util.logging.Level;","134","\t@Override","135","\tprotected Cookie makeValidCookie(String tokenValueBase64, HttpServletRequest request, long maxAge) {","136","\t\tCookie cookie = super.makeValidCookie(tokenValueBase64, request, maxAge);","137","        \/\/ if we can mark the cookie HTTP only, do so to protect this cookie even in case of XSS vulnerability.","138","\t\tif (SET_HTTP_ONLY!=null) {","139","            try {","140","                SET_HTTP_ONLY.invoke(cookie,true);","141","            } catch (IllegalAccessException e) {","142","                \/\/ ignore","143","            } catch (InvocationTargetException e) {","144","                \/\/ ignore","145","            }","146","        }","147","","148","        \/\/ if the user is running Jenkins over HTTPS, we also want to prevent the cookie from leaking in HTTP.","149","        \/\/ whether the login is done over HTTPS or not would be a good enough approximation of whether Jenkins runs in","150","        \/\/ HTTPS or not, so use that.","151","        if (request.isSecure())","152","            cookie.setSecure(true);","153","\t\treturn cookie;","154","\t}","155","","156","\t\/**","160","","161","    private static final Method SET_HTTP_ONLY;","162","","163","\tstatic {","164","\t\tMethod m = null;","165","\t\ttry {","166","\t\t\tm = Cookie.class.getMethod(\"setHttpOnly\", boolean.class);","167","\t\t} catch (NoSuchMethodException x) { \/\/ 3.0+","168","\t\t}","169","        SET_HTTP_ONLY = m;","170","\t}"],"delete":["2"," * ","4"," * ","11"," * ","14"," * ","130","    \/**"]}],"changelog.html":[{"add":["57","  <li class=rfe>","58","    As security hardening, mark \"remember me\" cookie as HTTP only","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-27277\">issue 27277<\/a>)"],"delete":["57","  <li class=>"]}]}},"7534dc1d498b31cf4957a9841461851fa2773fe1":{"changes":{"core\/src\/main\/resources\/jenkins\/model\/MasterBuildConfiguration\/config.groovy":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/model\/MasterBuildConfiguration\/config.groovy":[{"add":["5","    f.number(clazz:\"number\", min:0, step:1)"],"delete":["5","    f.number(clazz:\"positive-number\", min:1, step:1)"]}]}},"ec13ac9b67619bbe23880d40dd788b30dcd86ca0":{"changes":{"core\/src\/main\/java\/hudson\/model\/TimeZoneProperty.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Computer.java":"MODIFY","core\/src\/main\/java\/jenkins\/util\/HttpSessionListener.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/TimeZoneProperty.java":[{"add":["6","import javax.annotation.Nonnull;","54","        @Nonnull"],"delete":["3","import hudson.util.FormValidation;"]}],"core\/src\/main\/java\/hudson\/model\/Computer.java":[{"add":["1071","     * Returns the {@link Node} description for this computer. Empty String if the {@link Node} is {@code null}.","1077","        return (node != null) ? node.getNodeDescription() : \"\";"],"delete":["1071","     * Returns the {@link Node} description for this computer","1077","        return (node != null) ? node.getNodeDescription() : null;"]}],"core\/src\/main\/java\/jenkins\/util\/HttpSessionListener.java":[{"add":["26","import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;","41","@SuppressFBWarnings(value = \"NM_SAME_SIMPLE_NAME_AS_INTERFACE\", justification = \"Should shadow HttpSessionListener\")"],"delete":[]}]}},"1168ddff5da6e2f84065949200b1ce92fd207d1d":{"changes":{"debian\/debian\/hudson.init":"MODIFY","changelog.html":"MODIFY"},"diff":{"debian\/debian\/hudson.init":[{"add":["148","        # wait for the process to really terminate","149","        while true;","150","        do","151","            sleep 1","152","            $DAEMON $DAEMON_ARGS --running || break","153","        done"],"delete":[]}],"changelog.html":[{"add":["50","  <li class=bug>","51","    Restarting Hudson via debian init script didn't wait for the process to really terminate.","52","    (<a href=\"http:\/\/issues.hudson-ci.org\/browse\/HUDSON-7937\">issue 7937<\/a>)"],"delete":[]}]}},"2bb5df01057542493902bae1a2fff3d840544aeb":{"changes":{"core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":[{"add":["3"," * Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi,","4"," * Martin Eigenbrodt. Seiji Sogabe, Alan Harder","44","import java.util.ListIterator;","277","        for (ListIterator<Dependency> it = set.listIterator(); it.hasNext();) {","278","            Dependency d = it.next();","279","            \/\/ Check for existing edge that connects the same two projects:","280","            if (d.equals(dep)) {","281","                if (d instanceof DependencyGroup)","282","                    ((DependencyGroup)d).add(dep);","283","                else {","284","                    DependencyGroup group = new DependencyGroup(d);","285","                    group.add(dep);","286","                    it.set(group);","287","                }","288","                return;","289","            }","290","        }","291","        \/\/ Otherwise add to list:","292","        set.add(dep);","474","","475","    \/**","476","     * Collect multiple dependencies between the same two projects.","477","     *\/","478","    private static class DependencyGroup extends Dependency {","479","        private List<Dependency> group = new ArrayList<Dependency>();","480","","481","        DependencyGroup(Dependency first) {","482","            super(first.getUpstreamProject(), first.getDownstreamProject());","483","            group.add(first);","484","        }","485","","486","        void add(Dependency next) {","487","            group.add(next);","488","        }","489","","490","        @Override","491","        public boolean shouldTriggerBuild(AbstractBuild build, TaskListener listener,","492","                                          List<Action> actions) {","493","            List<Action> check = new ArrayList<Action>();","494","            for (Dependency d : group) {","495","                if (d.shouldTriggerBuild(build, listener, check)) {","496","                    actions.addAll(check);","497","                    return true;","498","                } else","499","                    check.clear();","500","            }","501","            return false;","502","        }","503","    }"],"delete":["3"," * Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi, Martin Eigenbrodt. Seiji Sogabe","275","        if(!set.contains(dep))","276","            set.add(dep);"]}]}},"bdd8580882295177900855572e41ce891ab9cfaf":{"changes":{"maven-plugin\/src\/test\/java\/hudson\/maven\/reporters\/TestMojoTest.java":"ADD","changelog.html":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MojoInfo.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/TestMojo.java":"MODIFY"},"diff":{"maven-plugin\/src\/test\/java\/hudson\/maven\/reporters\/TestMojoTest.java":[{"add":[],"delete":[]}],"changelog.html":[{"add":["60","  <li class='major bug'>","61","    Getting test results from custom test mojos failed build.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16573\">issue 16573<\/a>)"],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MojoInfo.java":[{"add":["47","import javax.annotation.CheckForNull;","48","","149","     *      parent POM, or default value if one is specified in mojo,","150","     *      or null if no such configuration value exists.","156","    @CheckForNull public <T> T getConfigurationValue(String configName, Class<T> type) throws ComponentConfigurationException {"],"delete":["147","     *      parent POM, or default value if one is specified in mojo.","153","    public <T> T getConfigurationValue(String configName, Class<T> type) throws ComponentConfigurationException {"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/TestMojo.java":[{"add":["10","import javax.annotation.CheckForNull;","11","","64","            if (reportsDir != null && junitFileName != null) {","65","                return Collections.singleton(new File(reportsDir,junitFileName));","66","            }","67","            return null;","105","    @CheckForNull public Iterable<File> getReportFiles(MavenProject pom, MojoInfo mojo) throws ComponentConfigurationException {"],"delete":["62","            return Collections.singleton(new File(reportsDir,junitFileName));","100","    public Iterable<File> getReportFiles(MavenProject pom, MojoInfo mojo) throws ComponentConfigurationException {"]}]}},"6a85f93fb7891d1e2c90ac7efdca2d8d7fa7e1d4":{"changes":{"core\/src\/main\/resources\/jenkins\/security\/whitelisted-classes.txt":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/security\/whitelisted-classes.txt":[{"add":["111","java.util.RandomAccessSublist","114","java.util.Sublist"],"delete":[]}]}},"67e2637a57be9b6817621dbfcdec2b2dc27afdb9":{"changes":{"core\/src\/main\/java\/hudson\/model\/queue\/Executables.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/queue\/Executables.java":[{"add":["29","import javax.annotation.CheckForNull;","64","     * If the Executable is null the Estimated Duration can't be evaluated, then -1 is returned.","65","     * This can happen if Computer.getIdleStartMilliseconds() is called before the executable is set to non-null in Computer.run()","66","     * or if the executor thread exits prematurely, see JENKINS-30456","69","     *","70","     * @return the estimated duration for a given executable, -1 if the executable is null","72","    public static long getEstimatedDurationFor(@CheckForNull Executable e) {","74","            return (e != null) ? e.getEstimatedDuration() : -1;","76","            return (e != null) ? e.getParent().getEstimatedDuration() : -1;"],"delete":["66","    public static long getEstimatedDurationFor(Executable e) {","68","            return e.getEstimatedDuration();","70","            return e.getParent().getEstimatedDuration();"]}]}},"2a92d7cadb8df04aa1f6ce39be63696e9d069314":{"changes":{"core\/src\/main\/java\/jenkins\/slaves\/EncryptedSlaveAgentJnlpFile.java":"MODIFY","pom.xml":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/slaves\/EncryptedSlaveAgentJnlpFile.java":[{"add":["130","                \/\/ should we do this on a separate thread to avoid deadlocks?"],"delete":["130","                \/\/ should we do this on a separate thread to avoid deadlocaks?"]}],"pom.xml":[{"add":["236","        <!--  make sure these old servlet versions are never used by us or by any plugins which end up depending on this version -->","237","        <!--  plugin-pom tries to fudge servlet support to be compatible with cores < 2.0 and JTH which needs 3.x for jetty,","238","              and ends up causing issues with some IDEs -->"],"delete":["236","        <!--  make sure these old servlet versions are never used by us or by any plugins which end up depening on this version -->","237","        <!-- Jenkins test Harness tries to fudge this, causes issues with some IDEs -->"]}]}},"138ce3d8d191daab42ed986254ae689ceb836aad":{"changes":{"test\/src\/test\/java\/hudson\/tasks\/MavenTest.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/Maven.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/tasks\/MavenTest.java":[{"add":["321","        assertTrue(\"Build variables injection should be enabled by default when loading from XML\", p.getBuildersList().get(Maven.class).isInjectBuildVariables());","322","        assertTrue(\"Build variables should be injected by default when loading from XML\", log.contains(\"-DNAME=VALUE\"));","328","        assertFalse(\"Build variables should not be injected\", log.contains(\"-DNAME=VALUE\"));","334","        assertTrue(\"Build variables should be injected\", log.contains(\"-DNAME=VALUE\"));","336","        assertFalse(\"Build variables injection should be disabled by default\", new Maven(\"\", \"\").isInjectBuildVariables());","337","    }","338","","339","    @Test public void doAlwaysPassProperties() throws Exception {","340","        MavenInstallation maven = ToolInstallations.configureMaven3();","341","","342","        FreeStyleProject p = j.createFreeStyleProject();","343","        String properties = \"TEST_PROP1=VAL1\\nTEST_PROP2=VAL2\";","344","","345","        p.getBuildersList().add(new Maven(\"--help\", maven.getName(), null, properties, null, false, null,","346","                null, false\/*do not inject build variables*\/));","347","        String log = j.buildAndAssertSuccess(p).getLog();","348","        assertTrue(\"Properties should always be injected, even when build variables injection is disabled\",","349","                log.contains(\"-DTEST_PROP1=VAL1\") && log.contains(\"-DTEST_PROP2=VAL2\"));","350","","351","        p.getBuildersList().clear();","352","        p.getBuildersList().add(new Maven(\"--help\", maven.getName(), null, properties, null, false, null,","353","                null, true\/*do inject build variables*\/));","354","        log = j.buildAndAssertSuccess(p).getLog();","355","        assertTrue(\"Properties should always be injected, even when build variables injection is enabled\",","356","                log.contains(\"-DTEST_PROP1=VAL1\") && log.contains(\"-DTEST_PROP2=VAL2\"));"],"delete":["47","import hudson.tools.ToolInstallation;","50","import java.io.IOException;","65","import org.apache.tools.ant.filters.TokenFilter.ContainsString;","71","import org.jvnet.hudson.test.SingleFileSCM;","325","        assertTrue(p.getBuildersList().get(Maven.class).isInjectBuildVariables());","326","        assertTrue(\"Build variables are injected\", log.contains(\"-DNAME=VALUE\"));","332","        assertFalse(\"Build variables are not injected\", log.contains(\"-DNAME=VALUE\"));","338","        assertTrue(\"Build variables are injected\", log.contains(\"-DNAME=VALUE\"));","340","        assertFalse(new Maven(\"\", \"\").isInjectBuildVariables());"]}],"core\/src\/main\/java\/hudson\/tasks\/Maven.java":[{"add":["342","            Set<String> sensitiveVars = build.getSensitiveBuildVariables();","343","","344","            \/\/ Inject environment variables only if chosen to do so","346","                args.addKeyValuePairs(\"-D\", build.getBuildVariables(), sensitiveVars);","349","            \/\/ Add properties from builder configuration, AFTER the injected build variables.","350","            final VariableResolver<String> resolver = new Union<String>(new ByMap<String>(env), vr);","351","            args.addKeyValuePairsFromPropertyString(\"-D\", this.properties, resolver, sensitiveVars);","352",""],"delete":["343","                Set<String> sensitiveVars = build.getSensitiveBuildVariables();","344","                args.addKeyValuePairs(\"-D\",build.getBuildVariables(),sensitiveVars);","345","                final VariableResolver<String> resolver = new Union<String>(new ByMap<String>(env), vr);","346","                args.addKeyValuePairsFromPropertyString(\"-D\",this.properties,resolver,sensitiveVars);"]}]}},"56823f366f8d93a079093b42f02cdea43e8a38ea":{"changes":{"core\/src\/main\/resources\/hudson\/PluginManager\/checkUpdates.jelly":"MODIFY","war\/resources\/scripts\/hudson-behavior.js":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/PluginManager\/checkUpdates.jelly":[{"add":["40","      downloadService.siteCount = 0${app.updateCenter.sites.size()};","42","          if (--downloadService.siteCount &lt;= 0)","43","            $$('completionMarker').innerHTML = \"${%Done}\";","48","<\/j:jelly>"],"delete":["41","          $$('completionMarker').innerHTML = \"${%Done}\";","46","<\/j:jelly>"]}],"war\/resources\/scripts\/hudson-behavior.js":[{"add":["1565","                else if(downloadService.completionHandler!=null)","1566","                    downloadService.completionHandler();"],"delete":[]}]}},"8aa65078c9312d826b584b2d0a25105250ff92e2":{"changes":{"core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["273","            if(u==null) {","274","                User tmp = new User(id, idOrFullName);","275","                if (create || tmp.getConfigFile().exists()) {","276","                    byName.put(id,u=tmp);","277","                }"],"delete":["273","            if(u==null && create) {","274","                u = new User(id, idOrFullName);","275","                byName.put(id,u);"]}]}},"ff345824198d9f22fc343fae3104d1df50ac303f":{"changes":{"remoting\/src\/main\/java\/hudson\/remoting\/ProxyOutputStream.java":"MODIFY"},"diff":{"remoting\/src\/main\/java\/hudson\/remoting\/ProxyOutputStream.java":[{"add":["205","        private final int oid;","225","    private static final class EOF extends Command {","226","        private final int oid;","227","","229","            this.oid = oid;","232",""],"delete":["205","        protected final int oid;","225","    private static final class EOF extends Unexport {","227","            super(oid);"]}]}},"b80789474cacc64be4954f0f4473759311e80580":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["58","    Possible race condition in RemoteClassLoader renders slave unusable.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-6604\">issue 6604<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"f87c72f15858edf5dd499349569497c3c2bf4449":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["53","      <version>1.0.5<\/version>"],"delete":["53","      <version>1.0.3<\/version>"]}],"changelog.html":[{"add":["63","  <li class=bug>","64","    Updated icon-set dependency to version 1.0.5.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25499\">issue 25499<\/a>,","66","     <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25498\">issue 25498<\/a>)"],"delete":[]}]}},"40a0cd229f28dcbad5501b26b478862e0d9b6196":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["242","      <version>1.45<\/version>"],"delete":["242","      <version>1.44<\/version>"]}]}},"a96a36f3c0caeeaafe9ee3ef9d94e15725aa509b":{"changes":{"core\/src\/main\/java\/hudson\/scm\/SubversionEventHandlerImpl.java":"MODIFY","core\/src\/main\/java\/hudson\/scm\/SubversionUpdateEventHandler.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/SubversionEventHandlerImpl.java":[{"add":["13","import org.tmatesoft.svn.core.SVNErrorCode;","14","import org.tmatesoft.svn.core.SVNErrorMessage;","15","import org.tmatesoft.svn.core.SVNException;","25","import java.io.IOException;","43","    public void handleEvent(SVNEvent event, double progress) throws SVNException {","47","            try {","48","                path = getRelativePath(file);","49","            } catch (IOException e) {","50","                throw new SVNException(SVNErrorMessage.create(SVNErrorCode.FS_GENERAL), e);","51","            }","167","    public String getRelativePath(File file) throws IOException {","168","        String inPath = file.getCanonicalPath().replace(File.separatorChar, '\/');","169","        String basePath = baseDir.getCanonicalPath().replace(File.separatorChar, '\/');"],"delete":["39","    public void handleEvent(SVNEvent event, double progress) {","43","            path = getRelativePath(file);","159","    public String getRelativePath(File file) {","160","        String inPath = file.getAbsolutePath().replace(File.separatorChar, '\/');","161","        String basePath = baseDir.getAbsolutePath().replace(File.separatorChar, '\/');"]}],"core\/src\/main\/java\/hudson\/scm\/SubversionUpdateEventHandler.java":[{"add":["27","import org.tmatesoft.svn.core.SVNErrorCode;","28","import org.tmatesoft.svn.core.SVNErrorMessage;","29","import org.tmatesoft.svn.core.SVNException;","64","    public void handleEvent(SVNEvent event, double progress) throws SVNException {","68","            try {","69","                path = getRelativePath(file);","70","            } catch (IOException e) {","71","                throw new SVNException(SVNErrorMessage.create(SVNErrorCode.FS_GENERAL), e);","72","            }"],"delete":["61","    public void handleEvent(SVNEvent event, double progress) {","65","            path = getRelativePath(file);"]}]}},"582128b9ac179a788d43c1478be8a5224dc19710":{"changes":{"core\/src\/main\/java\/jenkins\/model\/JenkinsLocationConfiguration.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/WebAppMain.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/JenkinsLocationConfiguration.java":[{"add":["16","import java.lang.reflect.InvocationTargetException;","121","            Method setSecure = scc.getMethod(\"setSecure\", boolean.class);","123","            setSecure.invoke(sessionCookieConfig, v);","124","        } catch (InvocationTargetException e) {","125","            if (e.getTargetException() instanceof IllegalStateException) {","126","                \/\/ servlet 3.0 spec seems to prohibit this from getting set at runtime,","127","                \/\/ though Winstone is happy to accept i. see JENKINS-25019","128","                return;","129","            }","130","            LOGGER.log(Level.WARNING, \"Failed to set secure cookie flag\", e);"],"delete":["119","            \/\/ not exposing session cookie to JavaScript to mitigate damage caused by XSS","121","            Method setHttpOnly = scc.getMethod(\"setHttpOnly\",boolean.class);","122","            setHttpOnly.invoke(sessionCookieConfig,true);","123","","124","            Method setSecure = scc.getMethod(\"setSecure\",boolean.class);","126","            setSecure.invoke(sessionCookieConfig,v);"]}],"changelog.html":[{"add":["63","  <li class=bug>","64","    Servlet containers may refuse to let us set <a href=\"https:\/\/www.owasp.org\/index.php\/SecureFlag\">secure cookie flag<\/a>.","65","    Deal with it gracefully.","66","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25019\">issue 25019<\/a>)"],"delete":[]}],"core\/src\/main\/java\/hudson\/WebAppMain.java":[{"add":["58","import java.lang.reflect.Method;","119","            markCookieAsHttpOnly(context);","120","","256","    \/**","257","     * Set the session cookie as HTTP only.","258","     *","259","     * @see <a href=\"https:\/\/www.owasp.org\/index.php\/HttpOnly\">discussion of this topic in OWASP<\/a>","260","     *\/","261","    private void markCookieAsHttpOnly(ServletContext context) {","262","        try {","263","            Method m;","264","            try {","265","                m = context.getClass().getMethod(\"getSessionCookieConfig\");","266","            } catch (NoSuchMethodException x) { \/\/ 3.0+","267","                LOGGER.log(Level.FINE, \"Failed to set secure cookie flag\", x);","268","                return;","269","            }","270","            Object sessionCookieConfig = m.invoke(context);","271","","272","            \/\/ not exposing session cookie to JavaScript to mitigate damage caused by XSS","273","            Class scc = Class.forName(\"javax.servlet.SessionCookieConfig\");","274","            Method setHttpOnly = scc.getMethod(\"setHttpOnly\",boolean.class);","275","            setHttpOnly.invoke(sessionCookieConfig,true);","276","        } catch (Exception e) {","277","            LOGGER.log(Level.WARNING, \"Failed to set HTTP-only cookie flag\", e);","278","        }","279","    }","280",""],"delete":[]}]}},"35259c4c9dcfc64b97d791be6f28fae4f6bcad16":{"changes":{"core\/src\/main\/resources\/lib\/form\/hetero-list.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/hetero-list.jelly":[{"add":["30","    The submission can be data-bound into List&lt;T&gt; where T is the common base type for the describable instances.","32","    For databinding use, please use &lt;f:repeatableHeteroProperty \/&gt;"],"delete":["30","    The submission can be data-bound into List&lt;T> where T is the common base type for the describable instances.","32","    For databinding use, please use &lt;f:repeatableHeteroProperty \/>"]}]}},"ef74ed31a105f7b6c1e2925e8215b7ddb28d8304":{"changes":{"core\/src\/main\/java\/hudson\/model\/ListView.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ListView.java":[{"add":["38","import java.util.*;","162","        List<TopLevelItem> parentItems = new ArrayList<TopLevelItem>(parent.getItems());","163","        includeItems(parent, parentItems, names);","168","            \/\/ Add if no status filter or filter matches enabled\/disabl2ed status:","176","        List<TopLevelItem> allItems = new ArrayList<TopLevelItem>(parentItems);","191","    private void includeItems(ItemGroup<? extends TopLevelItem> root, Collection<? extends Item> parentItems, SortedSet<String> names) {","193","            for (Item item : parentItems) {","196","                    includeItems(root, ig.getItems(), names);"],"delete":["38","import java.util.ArrayList;","39","import java.util.Collections;","40","import java.util.LinkedHashSet;","41","import java.util.List;","42","import java.util.SortedSet;","43","import java.util.TreeSet;","167","        includeItems(parent, names);","172","            \/\/ Add if no status filter or filter matches enabled\/disabled status:","180","        List<TopLevelItem> allItems = new ArrayList<TopLevelItem>(parent.getItems());","195","    private void includeItems(ItemGroup<? extends TopLevelItem> parent, SortedSet<String> names) {","196","        includeItems(parent, parent, names);","197","    }","198","    ","199","    private void includeItems(ItemGroup<? extends TopLevelItem> root, ItemGroup<?> parent, SortedSet<String> names) {","201","            for (Item item : parent.getItems()) {","204","                    includeItems(root, ig, names);"]}]}},"03521d788cfd805de7871f7d2794474dd192f486":{"changes":{"core\/src\/main\/resources\/hudson\/tasks\/test\/TestResult\/index_ru.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/tasks\/test\/TestResult\/index_ru.properties":[{"add":["22","took=\\u0417\\u0430\\u043d\\u044f\\u043b\\u043e {0}."],"delete":["22","took=\\u0417\\u0430\\u043D\\u044F\\u043B\\u043E {}."]}]}},"dd59e8c11c25a3398af159d24aa58914a4cf340b":{"changes":{"core\/src\/main\/java\/hudson\/ExtensionFinder.java":"MODIFY","test\/src\/test\/resources\/plugins\/variant.hpi":"MODIFY","test\/src\/test\/resources\/plugins\/optional-depender-0.0.2.hpi":"ADD","core\/src\/main\/java\/hudson\/PluginManager.java":"MODIFY","test\/src\/test\/java\/hudson\/PluginManagerTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/ExtensionFinder.java":[{"add":["38","import com.google.inject.TypeLiteral;","39","import com.google.inject.internal.Errors;","489","                    if (ecl != null) { \/\/ Not bootstrap classloader","490","                        Method m = ClassLoader.class.getDeclaredMethod(\"resolveClass\", Class.class);","491","                        m.setAccessible(true);","492","                        m.invoke(ecl, c);","493","                    }","494","                    for (Class cc = c; cc != Object.class; cc = cc.getSuperclass()) {","495","                        \/**","496","                         * See {@link com.google.inject.spi.InjectionPoint#getInjectionPoints(TypeLiteral, boolean, Errors)}","497","                         *\/","498","                        cc.getGenericSuperclass();","499","                        cc.getGenericInterfaces();","500","                        cc.getDeclaredConstructors();","501","                        cc.getDeclaredMethods();","502","                        for (Field f : cc.getDeclaredFields()) {","503","                            if (f.getAnnotation(javax.inject.Inject.class) != null || f.getAnnotation(com.google.inject.Inject.class) != null) {","504","                                resolve(f.getType());","505","                            }"],"delete":["486","                    c.getGenericSuperclass();","487","                    c.getGenericInterfaces();","489","                    Method m = ClassLoader.class.getDeclaredMethod(\"resolveClass\", Class.class);","490","                    m.setAccessible(true);","491","                    m.invoke(ecl, c);","492","                    c.getConstructors();","493","                    c.getMethods();","494","                    for (Field f : c.getFields()) {","495","                        if (f.getAnnotation(javax.inject.Inject.class) != null || f.getAnnotation(com.google.inject.Inject.class) != null) {","496","                            resolve(f.getType());","500","                    while (c != Object.class) {","501","                        c.getGenericSuperclass();","502","                        c = c.getSuperclass();","503","                    }"]}],"test\/src\/test\/resources\/plugins\/variant.hpi":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/plugins\/optional-depender-0.0.2.hpi":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/PluginManager.java":[{"add":["978","        for (PluginWrapper p : plugins) {","979","          p.getPlugin().postInitialize();","980","        }","981","","982","        \/\/ run initializers in the added plugins","983","        Reactor r = new Reactor(InitMilestone.ordering());","984","        Set<ClassLoader> loaders = plugins.stream().map(p -> p.classLoader).collect(Collectors.toSet());","985","        r.addAll(new InitializerFinder(uberClassLoader) {","986","          @Override","987","          protected boolean filter(Method e) {","988","            return !loaders.contains(e.getDeclaringClass().getClassLoader()) || super.filter(e);","989","          }","990","        }.discoverTasks(r));","991","        new InitReactorRunner().run(r);"],"delete":["951","        Jenkins.get().refreshExtensions();","952","","953","        for (PluginWrapper p : plugins) {","954","            p.getPlugin().postInitialize();","955","        }","956","","957","        \/\/ run initializers in the added plugins","958","        Reactor r = new Reactor(InitMilestone.ordering());","959","        Set<ClassLoader> loaders = plugins.stream().map(p -> p.classLoader).collect(Collectors.toSet());","960","        r.addAll(new InitializerFinder(uberClassLoader) {","961","            @Override","962","            protected boolean filter(Method e) {","963","                return !loaders.contains(e.getDeclaringClass().getClassLoader()) || super.filter(e);","964","            }","965","        }.discoverTasks(r));","966","        new InitReactorRunner().run(r);","967",""]}],"test\/src\/test\/java\/hudson\/PluginManagerTest.java":[{"add":["335","        \/\/ Extension extending a dependee class can't be loaded either","336","        try {","337","            r.jenkins.getExtensionList(\"org.jenkinsci.plugins.dependencytest.depender.DependerExtension\");","338","            fail();","339","        } catch( NoClassDefFoundError ex ){}","349","","350","        \/\/ Extensions in depender are loaded.","351","        assertEquals(1, r.jenkins.getExtensionList(\"org.jenkinsci.plugins.dependencytest.depender.DependerExtension\").size());","352","    }","353","","354","    \/**","355","     * Load \"optional-depender\" and then load \"dependee\".","356","     * Asserts that \"depender\" can access to \"dependee\".","357","     *","358","     * @throws Exception","359","     *\/","360","    @Issue(\"JENKINS-60449\")","361","    @WithPlugin(\"variant.hpi\")","362","    @Test public void installDependedOptionalPluginWithoutRestart() throws Exception {","363","        \/\/ Load optional-depender.","364","        {","365","            dynamicLoad(\"optional-depender-0.0.2.hpi\");","366","        }","367","        \/\/ Extension depending on dependee class isn't loaded","368","        assertTrue(r.jenkins.getExtensionList(\"org.jenkinsci.plugins.dependencytest.optionaldepender.OptionalDependerExtension\").isEmpty());","369","        \/\/ Load dependee.","370","        {","371","            dynamicLoad(\"dependee-0.0.2.hpi\");","372","        }","373","","374","        \/\/ Extensions in depender are loaded.","375","        assertEquals(1, r.jenkins.getExtensionList(\"org.jenkinsci.plugins.dependencytest.optionaldepender.OptionalDependerExtension\").size());"],"delete":["344","        ","345","        \/\/ No extensions exist.","346","        \/\/ extensions in depender are loaded.","347","        assertFalse(r.jenkins.getExtensionList(\"org.jenkinsci.plugins.dependencytest.dependee.DependeeExtensionPoint\").isEmpty());"]}]}},"565ced0dba75c3f198c5cf9b9df247941df6ad46":{"changes":{"core\/src\/main\/java\/hudson\/triggers\/Trigger.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/PeriodicWork.java":"MODIFY","core\/src\/test\/java\/jenkins\/util\/TimerTest.java":"ADD","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AperiodicWork.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY","core\/src\/main\/java\/hudson\/node_monitors\/AbstractNodeMonitorDescriptor.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/DoubleLaunchChecker.java":"MODIFY","core\/src\/main\/groovy\/hudson\/util\/LoadMonitor.groovy":"MODIFY","core\/src\/main\/java\/hudson\/model\/ComputerSet.java":"MODIFY","core\/src\/main\/java\/jenkins\/util\/Timer.java":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/triggers\/Trigger.java":[{"add":["275","     *","276","     * @deprecated Use {@link jenkins.util.Timer#get()} instead.","279","    @Deprecated","280","    public static @CheckForNull java.util.Timer timer;"],"delete":["25","import static hudson.init.InitMilestone.JOB_LOADED;","31","import hudson.init.Initializer;","34","import hudson.model.AperiodicWork;","36","import hudson.model.ComputerSet;","47","import hudson.util.DoubleLaunchChecker;","58","import java.util.Timer;","283","    public static @CheckForNull Timer timer;","284","","285","    @Initializer(after=JOB_LOADED)","286","    public static void init() {","287","        new DoubleLaunchChecker().schedule();","288","","289","        Timer _timer = timer;","290","        if (_timer != null) {","291","            \/\/ start all PeridocWorks","292","            for(PeriodicWork p : PeriodicWork.all()) {","293","                _timer.scheduleAtFixedRate(p,p.getInitialDelay(),p.getRecurrencePeriod());","294","            }","295","","296","            \/\/ start all AperidocWorks","297","            for(AperiodicWork p : AperiodicWork.all()) {","298","                _timer.schedule(p,p.getInitialDelay());","299","            }","300","","301","            \/\/ start monitoring nodes, although there's no hurry.","302","            _timer.schedule(new SafeTimerTask() {","303","                public void doRun() {","304","                    ComputerSet.initialize();","305","                }","306","            }, 1000*10);","307","        }","308","    }"]}],"core\/src\/main\/java\/hudson\/model\/PeriodicWork.java":[{"add":["25","import hudson.init.Initializer;","32","import jenkins.util.Timer;","34","import java.util.concurrent.TimeUnit;","37","","38","import static hudson.init.InitMilestone.JOB_LOADED;","95","    @Initializer(after= JOB_LOADED)","96","    public static void init() {","97","        \/\/ start all PeriodicWorks","98","        for (PeriodicWork p : PeriodicWork.all()) {","99","            Timer.get().scheduleAtFixedRate(p, p.getInitialDelay(), p.getRecurrencePeriod(), TimeUnit.MILLISECONDS);","100","        }","101","    }","102",""],"delete":["34","import java.util.Timer;"]}],"core\/src\/test\/java\/jenkins\/util\/TimerTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["201","import jenkins.util.Timer;","767","            Timer.initialize();","840","            Timer.get().scheduleAtFixedRate(new SafeTimerTask() {","841","                @Override","842","                protected void doRun() throws Exception {","843","                    trimLabels();","844","                }","845","            }, TimeUnit2.MINUTES.toMillis(5), TimeUnit2.MINUTES.toMillis(5), TimeUnit.MILLISECONDS);","2699","        Timer.shutdown();","2700",""],"delete":["282","import java.util.Timer;","767","            Trigger.timer = new Timer(\"Jenkins cron thread\");","840","            Timer timer = Trigger.timer;","841","            if (timer != null) {","842","                timer.scheduleAtFixedRate(new SafeTimerTask() {","843","                    @Override","844","                    protected void doRun() throws Exception {","845","                        trimLabels();","846","                    }","847","                }, TimeUnit2.MINUTES.toMillis(5), TimeUnit2.MINUTES.toMillis(5));","848","            }","2702","        Timer timer = Trigger.timer;","2703","        if (timer != null) {","2704","            timer.cancel();","2705","        }","2706","        \/\/ TODO: how to wait for the completion of the last job?","2707","        Trigger.timer = null;"]}],"core\/src\/main\/java\/hudson\/model\/AperiodicWork.java":[{"add":["27","import hudson.init.Initializer;","30","import jenkins.util.Timer;","33","import java.util.concurrent.ScheduledExecutorService;","34","import java.util.concurrent.TimeUnit;","37","import static hudson.init.InitMilestone.JOB_LOADED;","90","        Timer.get().schedule(getNewInstance(), getRecurrencePeriod(), TimeUnit.MILLISECONDS);","91","    }","92","","93","    @Initializer(after= JOB_LOADED)","94","    public static void init() {","95","        \/\/ start all AperidocWorks","96","        for (AperiodicWork p : AperiodicWork.all()) {","97","            Timer.get().schedule(p, p.getInitialDelay(), TimeUnit.MILLISECONDS);","100",""],"delete":["28","import hudson.triggers.Trigger;","32","import java.util.Timer;","87","        Timer timer = Trigger.timer;","88","        if (timer != null) {","89","            timer.schedule(getNewInstance(), getRecurrencePeriod());","92","    "]}],"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["67","import jenkins.util.Timer;","1987","            Timer.get().scheduleWithFixedDelay(this, interval, interval, TimeUnit.MILLISECONDS);"],"delete":["68","import hudson.triggers.Trigger;","93","import java.util.Timer;","1988","            Timer timer = Trigger.timer;","1989","            if (timer != null) {","1990","                timer.schedule(this, interval, interval);","1991","            }"]}],"core\/src\/main\/java\/hudson\/node_monitors\/AbstractNodeMonitorDescriptor.java":[{"add":["33","import jenkins.util.Timer;","40","import java.util.concurrent.TimeUnit;","89","        Timer.get()","90","            .scheduleAtFixedRate(new SafeTimerTask() {","94","            }, interval, interval, TimeUnit.MILLISECONDS);"],"delete":["31","import hudson.triggers.Trigger;","40","import java.util.Timer;","89","        Timer timer = Trigger.timer;","90","        if (timer != null) {","91","            timer.scheduleAtFixedRate(new SafeTimerTask() {","95","            }, interval, interval);","96","        }"]}],"core\/src\/main\/java\/hudson\/util\/DoubleLaunchChecker.java":[{"add":["25","import hudson.init.Initializer;","28","import jenkins.util.Timer;","30","import org.codehaus.mojo.animal_sniffer.IgnoreJRERequirement;","36","","37","import static hudson.init.InitMilestone.JOB_LOADED;","42","import java.util.concurrent.TimeUnit;","152","","153","        Timer.get()","154","            .schedule(new SafeTimerTask() {","158","            }, (random.nextInt(30) + 60) * MINUTE, TimeUnit.MILLISECONDS);","159","    }","160","","161","    @Initializer(after= JOB_LOADED)","162","    public static void init() {","163","        new DoubleLaunchChecker().schedule();"],"delete":["27","import hudson.triggers.Trigger;","42","import java.util.Timer;","148","        Timer timer = Trigger.timer;","149","        if (timer != null) {","150","            timer.schedule(new SafeTimerTask() {","154","            },(random.nextInt(30)+60)*MINUTE);","155","        }"]}],"core\/src\/main\/groovy\/hudson\/util\/LoadMonitor.groovy":[{"add":["26","import jenkins.util.Timer","34","import java.util.concurrent.TimeUnit","54","        Timer.get().scheduleAtFixedRate(this,0,10*1000, TimeUnit.MILLISECONDS);"],"delete":["33","import hudson.triggers.Trigger;","53","        Trigger.timer.scheduleAtFixedRate(this,0,10*1000);"]}],"core\/src\/main\/java\/hudson\/model\/ComputerSet.java":[{"add":["30","import hudson.init.Initializer;","35","import hudson.triggers.SafeTimerTask;","42","import jenkins.util.Timer;","59","import java.util.concurrent.TimeUnit;","64","import static hudson.init.InitMilestone.JOB_LOADED;","65","","405","    @Initializer(after= JOB_LOADED)","406","    public static void init() {","407","        \/\/ start monitoring nodes, although there's no hurry.","408","        Timer.get().schedule(new SafeTimerTask() {","409","            public void doRun() {","410","                ComputerSet.initialize();","411","            }","412","        }, 10, TimeUnit.SECONDS);","413","    }","414",""],"delete":[]}],"core\/src\/main\/java\/jenkins\/util\/Timer.java":[{"add":[],"delete":[]}]}},"d457d56797579aeefe78c2f3c93925931dac90a2":{"changes":{"core\/src\/main\/resources\/lib\/form\/radioBlock.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/radioBlock.jelly":[{"add":["49","\t    <input type=\"radio\" name=\"${name}\" value=\"${value}\"","50","             onclick=\"javascript:updateRb${rb_id}()\" onchange=\"javascript:updateRb${rb_id}()\""],"delete":["49","\t    <input type=\"radio\" name=\"${name}\" value=\"${value}\" onclick=\"javascript:updateRb${rb_id}()\""]}]}},"f463abbe53488747725ea2e45dfc4a98ada02b8e":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/buildHealth.jelly":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/buildHealth.jelly":[{"add":["34","    <j:new var=\"emptyHealthReport\" className=\"hudson.model.HealthReport\"\/>","35","    <j:set var=\"buildHealth\" value=\"${empty(healthReports) ? emptyHealthReport : healthReports[0]}\"\/>","77","                        <j:forEach var=\"rpt\" items=\"${healthReports}\">"],"delete":["33","    <j:set var=\"buildHealth\" value=\"${job.buildHealth}\"\/>","76","                        <j:forEach var=\"rpt\" items=\"${job.buildHealthReports}\">"]}],"changelog.html":[{"add":["57","  <li class=bug>","58","    Build health computed repeatedly for a single Weather column cell.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25074\">issue 25074<\/a>)"],"delete":[]}]}},"976fe5aaa05858b88c5141b8d133efea696233b8":{"changes":{"core\/src\/test\/java\/hudson\/util\/DescribableListTest.java":"ADD","core\/src\/main\/java\/hudson\/util\/DescribableList.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/util\/DescribableListTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/DescribableList.java":[{"add":["273","                DescribableList r = (DescribableList) context.getRequiredType().asSubclass(DescribableList.class).newInstance();","274","                CopyOnWriteList core = copyOnWriteListConverter.unmarshal(reader, context);"],"delete":["272","            CopyOnWriteList core = copyOnWriteListConverter.unmarshal(reader, context);","273","","275","                DescribableList r = (DescribableList)context.getRequiredType().newInstance();"]}]}},"0c3d67097a3394fee7f0eb895c4350ea96887a02":{"changes":{"core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["648","        boolean r = item.cancel(this);"],"delete":["648","        boolean r = item.leave(this);"]}]}},"905e1b515564324e9df3410f86a4a3d3b6e2d39e":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["667","        <!-- release is needed for reliable cross compilation. It is supported","668","        starting JDK 9, but as the only earlier version we support is 8, it would","669","        be either compiled by javac from 8 or one from a newer compiler that","670","        correctly handle the release flag. This will replace both source and target","671","        once we drop support for JDK 8 that only recognize source and target. -->","672","        <maven.compiler.release>${java.level}<\/maven.compiler.release>"],"delete":[]}]}},"f73e15516f5fa0dc1db248a19da5631f3c8f5e82":{"changes":{"core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/config.properties":"MODIFY","cli\/src\/main\/resources\/hudson\/cli\/client\/Messages.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/config.properties":[{"add":["26","  configuration, provided by the updates sites. If you do, they won\\u2019t be shown by \\"],"delete":["26","  configuration, provided by the updates sites. If you do, they won't be shown by \\"]}],"cli\/src\/main\/resources\/hudson\/cli\/client\/Messages.properties":[{"add":["10","  \\ -noKeyAuth          : don''t try to load the SSH authentication private key. Conflicts with -i\\n\\","19","  The available commands depend on the server. Run the ''help'' command to \\"],"delete":["10","  \\ -noKeyAuth          : don't try to load the SSH authentication private key. Conflicts with -i\\n\\","19","  The available commands depend on the server. Run the 'help' command to \\"]}]}},"27f0abd4145a6db5ecf3e2b771aa19c0ee4925e8":{"changes":{"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":"MODIFY"},"diff":{"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":[{"add":["66","import jenkins.AgentProtocol;","80","import java.net.Socket;","87","import javax.annotation.CheckForNull;","88","","90"," * Tests of the {@link Jenkins} class instance logic.","91"," * @see Jenkins","92"," * @see JenkinsRule","502","        newProtocols.add(MockOptInProtocol1.NAME);","506","        assertProtocolEnabled(MockOptInProtocol1.NAME, \"before the roundtrip\");","514","        assertProtocolEnabled(MockOptInProtocol1.NAME, \"after the roundtrip\");","521","        assertProtocolEnabled(MockOptOutProtocol1.NAME, \"after startup\");","522","","524","        newProtocols.remove(MockOptOutProtocol1.NAME);","527","        assertProtocolDisabled(MockOptOutProtocol1.NAME, \"before the roundtrip\");","534","","535","        assertProtocolDisabled(MockOptOutProtocol1.NAME, \"after the roundtrip\");","543","        newProtocols.add(MockOptInProtocol1.NAME);","544","        newProtocols.add(MockOptInProtocol2.NAME);","547","","549","        assertProtocolEnabled(MockOptInProtocol1.NAME, \"before the roundtrip\");","550","        assertProtocolEnabled(MockOptInProtocol2.NAME, \"before the roundtrip\");","551","","556","        assertThat(\"There should be two additional enabled protocols\",","558","        assertProtocolEnabled(MockOptInProtocol1.NAME, \"after the roundtrip\");","559","        assertProtocolEnabled(MockOptInProtocol2.NAME, \"after the roundtrip\");","566","        final String protocolToDisable1 = MockOptOutProtocol1.NAME;","567","        final String protocolToDisable2 = MockOptOutProtocol2.NAME;","574","        assertProtocolDisabled(protocolToDisable1, \"before the roundtrip\");","575","        assertProtocolDisabled(protocolToDisable2, \"before the roundtrip\");","582","        assertProtocolDisabled(protocolToDisable1, \"after the roundtrip\");","583","        assertProtocolDisabled(protocolToDisable2, \"after the roundtrip\");","584","    }","585","","586","    private void assertProtocolDisabled(String protocolName, @CheckForNull String stage) throws AssertionError {","587","        assertThat(protocolName + \" must be disabled. Stage=\" + (stage != null ? stage : \"undefined\"),","588","                j.jenkins.getAgentProtocols(), not(hasItem(protocolName)));","589","    }","590","","591","    private void assertProtocolEnabled(String protocolName, @CheckForNull String stage) throws AssertionError {","592","        assertThat(protocolName + \" must be enabled. Stage=\" + (stage != null ? stage : \"undefined\"),","593","                j.jenkins.getAgentProtocols(), hasItem(protocolName));","594","    }","595","","596","    @TestExtension","597","    public static class MockOptInProtocol1 extends MockOptInProtocol {","598","","599","        static final String NAME = \"MOCK-OPTIN-1\";","600","","601","        @Override","602","        public String getName() {","603","            return NAME;","604","        }","605","    }","606","","607","    @TestExtension","608","    public static class MockOptInProtocol2 extends MockOptInProtocol {","609","","610","        static final String NAME = \"MOCK-OPTIN-2\";","611","","612","        @Override","613","        public String getName() {","614","            return NAME;","615","        }","616","    }","617","","618","    private abstract static class MockOptInProtocol extends AgentProtocol {","619","        @Override","620","        public boolean isOptIn() {","621","            return true;","622","        }","623","","624","        @Override","625","        public void handle(Socket socket) throws IOException, InterruptedException {","626","            throw new IOException(\"This is a mock agent protocol. It cannot be used for connection\");","627","        }","628","    }","629","","630","    @TestExtension","631","    public static class MockOptOutProtocol1 extends MockOptOutProtocol {","632","","633","        static final String NAME = \"MOCK-OPTOUT-1\";","634","","635","        @Override","636","        public String getName() {","637","            return NAME;","638","        }","639","    }","640","","641","    @TestExtension","642","    public static class MockOptOutProtocol2 extends MockOptOutProtocol {","643","","644","        static final String NAME = \"MOCK-OPTOUT-2\";","645","","646","        @Override","647","        public String getName() {","648","            return NAME;","649","        }","650","    }","651","","652","    private abstract static class MockOptOutProtocol extends AgentProtocol {","653","        @Override","654","        public boolean isOptIn() {","655","            return false;","656","        }","657","","658","        @Override","659","        public void handle(Socket socket) throws IOException, InterruptedException {","660","            throw new IOException(\"This is a mock agent protocol. It cannot be used for connection\");","661","        }"],"delete":["82","import java.util.Iterator;","84","import org.junit.Assume;","88"," * @author kingfai","89"," *","497","        Assume.assumeThat(\"We assume that JNLP3-connect is disabled\", ","498","                defaultProtocols, not(hasItem(\"JNLP3-connect\")));","501","        newProtocols.add(\"JNLP3-connect\");","505","        assertThat(\"JNLP3-connect must be enabled before the roundtrip\", ","506","                j.jenkins.getAgentProtocols(), hasItem(\"JNLP3-connect\"));","514","        assertThat(\"JNLP3-connect must be enabled after the roundtrip\", ","515","                reloadedProtocols, hasItem(\"JNLP3-connect\"));","522","        Assume.assumeThat(\"At least one protocol is enabled\", defaultProtocols.size(), greaterThan(0));","523","        ","524","        final String protocolToDisable = defaultProtocols.iterator().next();","525","        ","527","        newProtocols.remove(protocolToDisable);","530","        assertThat(protocolToDisable + \" must be disabled before the roundtrip\", ","531","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable)));","538","        assertThat(protocolToDisable + \" must be disabled after the roundtrip\", ","539","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable)));","546","        Assume.assumeThat(\"We assume that JNLP3-connect is disabled\", ","547","                defaultProtocols, not(hasItem(\"JNLP3-connect\")));","548","        Assume.assumeThat(\"We assume that JNLP4-connect is disabled\", ","549","                defaultProtocols, not(hasItem(\"JNLP4-connect\")));","550","        ","552","        newProtocols.add(\"JNLP3-connect\");","553","        newProtocols.add(\"JNLP4-connect\");","557","        assertThat(\"JNLP3-connect must be enabled before the roundtrip\", ","558","                j.jenkins.getAgentProtocols(), hasItem(\"JNLP3-connect\"));","559","        assertThat(\"JNLP4-connect must be enabled before the roundtrip\", ","560","                j.jenkins.getAgentProtocols(), hasItem(\"JNLP4-connect\"));","561","        ","566","        assertThat(\"We should have two additional enabled protocols\", ","568","        assertThat(\"JNLP3-connect must be enabled after the roundtrip\", ","569","                reloadedProtocols, hasItem(\"JNLP3-connect\"));","570","        assertThat(\"JNLP3-connect must be enabled after the roundtrip\", ","571","                reloadedProtocols, hasItem(\"JNLP4-connect\"));","578","        Assume.assumeThat(\"At least two protocol should be enabled\", defaultProtocols.size(), greaterThan(1));","579","        ","580","        Iterator<String> iterator = defaultProtocols.iterator();","581","        final String protocolToDisable1 = iterator.next();","582","        final String protocolToDisable2 = iterator.next();","589","        assertThat(protocolToDisable1 + \" must be disabled before the roundtrip\", ","590","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable1)));","591","        assertThat(protocolToDisable2 + \" must be disabled before the roundtrip\", ","592","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable2)));","599","        assertThat(protocolToDisable1 + \" must be disabled after the roundtrip\", ","600","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable1)));","601","        assertThat(protocolToDisable2 + \" must be disabled after the roundtrip\", ","602","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable2)));"]}]}},"b74b6484807d1790591b4d9e64bc53c15a4fb8b8":{"changes":{"test\/src\/test\/resources\/hudson\/model\/DependencyGraphTest\/testItemReadPermission.zip":"ADD","core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":"MODIFY","test\/src\/test\/java\/hudson\/model\/DependencyGraphTest.java":"ADD"},"diff":{"test\/src\/test\/resources\/hudson\/model\/DependencyGraphTest\/testItemReadPermission.zip":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":[{"add":["25","import hudson.security.ACL;","26","import org.acegisecurity.Authentication;","27","import org.acegisecurity.context.SecurityContextHolder;","91","        \/\/ Set full privileges while computing to avoid missing any projects the current user cannot see","92","        Authentication saveAuth = SecurityContextHolder.getContext().getAuthentication();","93","        try {","94","            SecurityContextHolder.getContext().setAuthentication(ACL.SYSTEM);","95","            for( AbstractProject p : Hudson.getInstance().getAllItems(AbstractProject.class) )","96","                p.buildDependencyGraph(this);","98","            forward = finalize(forward);","99","            backward = finalize(backward);","101","            built = true;","102","        } finally {","103","            SecurityContextHolder.getContext().setAuthentication(saveAuth);","104","        }"],"delete":["25","import hudson.security.Permission;","89","        for( AbstractProject p : Hudson.getInstance().getAllItems(AbstractProject.class) )","90","            p.buildDependencyGraph(this);","92","        forward = finalize(forward);","93","        backward = finalize(backward);","95","        built = true;"]}],"test\/src\/test\/java\/hudson\/model\/DependencyGraphTest.java":[{"add":[],"delete":[]}]}},"1dd60ec7780870f9c11686659178e52d251c15fc":{"changes":{"war\/src\/main\/webapp\/css\/style.css":"MODIFY","changelog.html":"MODIFY"},"diff":{"war\/src\/main\/webapp\/css\/style.css":[{"add":["1068","  margin-left: 20px !important;  \/* Sync changes with func expandControlsTo50Percent in hudson-behavior.js *\/"],"delete":["1068","  padding-left: 20px !important;  \/* Sync changes with func expandControlsTo50Percent in hudson-behavior.js *\/"]}],"changelog.html":[{"add":["60","  <li class=bug>","61","    Animated ball in job's build history widget won't open Console Output.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26365\">issue 26365<\/a>)"],"delete":[]}]}},"6fa3acf8a9e96c385071eba594959c944150390a":{"changes":{"core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["891","        if(Hudson.FLYWEIGHT_SUPPORT && p.task instanceof FlyweightTask && (!Hudson.getInstance().isQuietingDown() || p.task instanceof NonBlockingTask)) {","933","     * Marks {@link Task}s that are not affected by the {@linkplain Hudson#isQuietingDown()}  quieting down},"],"delete":["30","import hudson.matrix.MatrixConfiguration;","50","import hudson.util.DoubleLaunchChecker;","893","        if(Hudson.FLYWEIGHT_SUPPORT && p.task instanceof FlyweightTask) {","935","     * Marks {@link Task}s that are not affected by the {@linkplain Hudson#isQuietingDown()}  quietting down},"]}]}},"89c94dda875fba273d22451c540c2ad9e4ac0197":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["220","      <version>1.4.4-jenkins-4<\/version>"],"delete":["220","      <version>1.4.4-jenkins-3<\/version>"]}]}},"1a8997102f8a4bb968bfea627dd9d0fda60c0079":{"changes":{"core\/src\/main\/resources\/hudson\/diagnosis\/OldDataMonitor\/message_zh_CN.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/diagnosis\/OldDataMonitor\/message_zh_CN.properties":[{"add":["23","You\\ have\\ data\\ stored\\ in\\ an\\ older\\ format\\ and\/or\\ unreadable\\ data.=\\u60A8\\u7684\\u5B58\\u50A8\\u4E2D\\u6709\\u65E0\\u6CD5\\u8BFB\\u53D6\\u6216\\u8005\\u65E7\\u7684\\u6570\\u636E\\u683C\\u5F0F\\u3002"],"delete":["23","You\\ have\\ data\\ stored\\ in\\ an\\ older\\ format\\ and\/or\\ unreadable\\ data.=\\u60A8\\u6709\\u8CC7\\u6599\\u683C\\u5F0F\\u904E\\u820A\\u6216\\u662F\\u7121\\u6CD5\\u8B80\\u53D6\\u3002"]}]}},"91bae299a37af13e7f5aa1f1c1d474ff85520af6":{"changes":{"core\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["166","        \/**","167","         * Computes the path of {@link #rootPOM}.","168","         *","169","         * Returns \"abc\" if rootPOM=\"abc\/pom.xml\"","170","         * If rootPOM=\"pom.xml\", this method returns \"\".","171","         *\/","172","        private String getRootPath() {","173","            int idx = Math.max(rootPOM.lastIndexOf('\/'), rootPOM.lastIndexOf('\\\\'));","174","            if(idx==-1) return \"\";","175","            return rootPOM.substring(0,idx);","176","        }","177","","191","                MavenUtil.resolveModules(embedder,mp,getRootPath(),relPath);"],"delete":["179","                MavenUtil.resolveModules(embedder,mp,\"\",relPath);"]}]}},"02e5ee887445656a08e7095679893c6a7d4b58d0":{"changes":{"core\/src\/main\/java\/hudson\/model\/FingerprintMap.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/FingerprintMap.java":[{"add":["7","import java.util.concurrent.ConcurrentHashMap;","22","     * @deprecated","23","     *      Some old version of Hudson incorrectly serialized this information to the disk.","24","     *      So we need this field to be here for such configuration to be read correctly.","25","     *      This field is otherwise no longer in use.","26","     *\/","27","    private transient ConcurrentHashMap<String,Object> core = new ConcurrentHashMap<String,Object>();","28","","29","    \/**"],"delete":[]}]}},"eeb9da761b8ee7d79f672b11cbcc72f5678c8fd3":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["56","                ","57","                <!-- pick up the manfiest -->","58","                <unjar src=\"target\/${artifactId}-${version}.jar\" dest=\"target\">","59","                  <patternset>","60","                    <include name=\"META-INF\/MANIFEST.MF\"\/>","61","                  <\/patternset>","62","                <\/unjar>","63","                ","67","                <jar basedir=\"target\/classes14\" destfile=\"target\/${artifactId}-${version}-jdk14.jar\"","68","                     manifest=\"target\/META-INF\/MANIFEST.MF\" \/>"],"delete":["59","                <jar basedir=\"target\/classes14\" destfile=\"target\/${artifactId}-${version}-jdk14.jar\" \/>"]}]}},"b59c490a3b49d72e20007c1ca26051b6602f2401":{"changes":{"test\/src\/test\/groovy\/jenkins\/model\/lazy\/LazyBuildMixIn_Test.groovy":"MODIFY"},"diff":{"test\/src\/test\/groovy\/jenkins\/model\/lazy\/LazyBuildMixIn_Test.groovy":[{"add":["8","import org.jvnet.hudson.test.SleepBuilder","19","        p.buildersList.replaceBy([new SleepBuilder(1000)])"],"delete":["17","        RunListener<Run> listener = new RunListener<Run>() {","18","            @Override public  void onCompleted(Run r, TaskListener listener) {","19","                try {","20","                    Thread.sleep(1000);","21","                } catch (InterruptedException e) {","22","                }","23","            }","24","        };","25","        RunListener.all().add(listener);"]}]}},"98605d0afb441f7953875097953e626128d31825":{"changes":{"core\/src\/main\/java\/hudson\/model\/Label.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Label.java":[{"add":["118","                final Label l = item.getAssignedLabel();","119","                return l != null && Label.this.matches(l.name);"],"delete":["118","                return item.getAssignedLabel() == Label.this;"]}]}},"814cd5ba4bbe19cfca4e545aa445b833bbacd7cd":{"changes":{"core\/src\/main\/java\/hudson\/model\/Build.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Build.java":[{"add":["27","     * If the build required a lock, remember it so that we can release it.","28","     *\/","29","    private transient ReentrantLock buildLock;","30","","31","    \/**","55","            buildLock = t.getLock();","56","            synchronized(buildLock) {","58","                    if(buildLock.isLocked()) {","61","                        buildLock.lockInterruptibly();","64","                        buildLock.lockInterruptibly();","76","        if(buildLock!=null)","77","            buildLock.unlock();"],"delete":["50","            ReentrantLock lock = t.getLock();","51","            synchronized(lock) {","53","                    if(lock.isLocked()) {","56","                        lock.lockInterruptibly();","59","                        lock.lockInterruptibly();","71","        SCMTrigger t = (SCMTrigger)project.getTriggers().get(SCMTrigger.DESCRIPTOR);","72","        if(t!=null)","73","            t.getLock().unlock();"]}]}},"4a524239efb0dee9754b710b17ae3293a5d59670":{"changes":{"core\/src\/main\/resources\/lib\/layout\/layout.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/layout\/layout.jelly":[{"add":["206","                  <a href=\"${rootURL}\/${user.url}\" class=\"model-link inside inverse\"><b>${userName}<\/b><\/a>"],"delete":["206","                  <a href=\"${rootURL}\/user\/${user.id}\" class=\"model-link inside inverse\"><b>${userName}<\/b><\/a>"]}]}},"1fae8c072a1e8da360cd10dca8b82d1cd1b00968":{"changes":{"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/WarExploder.java":"MODIFY"},"diff":{"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/WarExploder.java":[{"add":["90","        File buildDirectory = new File(System.getProperty(\"buildDirectory\", \"target\"));","91","        File explodeDir = new File(buildDirectory, \"jenkins-for-test\").getAbsoluteFile();"],"delete":["90","        File explodeDir = new File(\".\/target\/jenkins-for-test\").getAbsoluteFile();"]}]}},"2d28743decfaa76fc3ad925815e2aa5b6bdea060":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/executors.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/executors.jelly":[{"add":["24","<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"\/lib\/layout\" xmlns:t=\"\/lib\/hudson\" xmlns:f=\"\/lib\/form\" xmlns:local=\"local\">","32","  <d:taglib uri=\"local\">","33","    <d:tag name=\"computerCaption\">","34","      <a href=\"${rootURL}\/${c.url}\">${title}<\/a>","35","      <j:if test=\"${c.offline}\"> (${%offline})<\/j:if>","36","      <j:if test=\"${!c.acceptingTasks}\"> (${%suspended})<\/j:if>","37","    <\/d:tag>","38","  <\/d:taglib>","52","                  <local:computerCaption title=\"${%Master}\" \/>","62","              <local:computerCaption title=\"${c.displayName}\" \/>","63","            <\/th>","84","                <j:choose>","85","                  <j:when test=\"${c.offline}\">","86","                    <a href=\"${rootURL}\/${c.url}\">${%Offline}<\/a>","87","                  <\/j:when>","88","                  <j:otherwise>","89","                    ${%Idle}","90","                  <\/j:otherwise>","91","                <\/j:choose>"],"delete":["24","<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"\/lib\/layout\" xmlns:t=\"\/lib\/hudson\" xmlns:f=\"\/lib\/form\">","45","                  <a href=\"${rootURL}\/computer\/(master)\/\">${%Master}<\/a>","46","                  <j:if test=\"${c.offline}\">(${%offline})<\/j:if>","47","                  <j:if test=\"${!c.acceptingTasks}\">(${%suspended})<\/j:if>","57","\t            <a href=\"${rootURL}\/computer\/${c.displayName}\">${c.displayName}<\/a>","58","\t            <j:if test=\"${c.offline}\">(${%offline})<\/j:if>","59","                <j:if test=\"${!c.acceptingTasks}\">(${%suspended})<\/j:if>                    ","60","              <\/th>","81","\t              ${%Idle}"]}]}},"169b8c4a66cfc9a8724da581340aa28ee5f6a40c":{"changes":{"test\/pom.xml":"MODIFY"},"diff":{"test\/pom.xml":[{"add":[],"delete":["42","      <plugin>","43","        <artifactId>maven-surefire-plugin<\/artifactId>","44","        <configuration>","45","          <testFailureIgnore>true<\/testFailureIgnore>","46","        <\/configuration>","47","      <\/plugin>"]}]}},"07c09bebb8396a48063c1da4fc4b628acddd72a8":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/test\/MatrixTestResult.java":"MODIFY","core\/src\/main\/java\/hudson\/matrix\/MatrixBuild.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/test\/MatrixTestResult.java":[{"add":["55","        return b.getProject().getItem(Combination.fromString(child.name)).getBuildByNumber(child.build);"],"delete":["55","        return b.getRun(Combination.fromString(child.name));"]}],"core\/src\/main\/java\/hudson\/matrix\/MatrixBuild.java":[{"add":["194","","195","    \/**","196","     * Like {@link #getRun(Combination)}, but do not approximate the result by earlier execution","197","     * of the given combination (which is done for partial rebuild of the matrix.)","198","     *\/","199","    public MatrixRun getExactRun(Combination c) {","200","        MatrixConfiguration config = getParent().getItem(c);","201","        if(config==null)    return null;","202","        return config.getBuildByNumber(getNumber());","203","    }"],"delete":[]}]}},"342dc735b0df9e0be0e7e436ccc016bc6515e8e7":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/resources\/hudson\/TcpSlaveAgentListener\/index.jelly":"MODIFY"},"diff":{"changelog.html":[{"add":["61","    Advertise JNLP slave agents to the correct host name, even in the presence of a reverse proxy.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-27218\">issue 27218<\/a>)","63","  <li class=rfe>"],"delete":[]}],"core\/src\/main\/resources\/hudson\/TcpSlaveAgentListener\/index.jelly":[{"add":["32","  <!--","33","    if the host name is overriden, advertise that as well","34","  -->","35","  <st:header name=\"X-Jenkins-JNLP-Host\" value=\"${app.tcpSlaveAgentListener.CLI_HOST_NAME}\" \/>"],"delete":[]}]}},"6affcc507a7987ec69a63ba5c495fd691cf04864":{"changes":{"core\/src\/main\/java\/hudson\/scm\/SCMDescriptor.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/SCMDescriptor.java":[{"add":["55","    ","56","    private transient final AtomicInteger atomicGeneration = new AtomicInteger(1);","84","        return atomicGeneration.get();","94","        atomicGeneration.incrementAndGet();"],"delete":["55","","56","    private final AtomicInteger generation = new AtomicInteger(1);","84","        return generation.get();","94","        generation.incrementAndGet();"]}]}},"41426c32d78c2e47fbe5800e21a428619df70a49":{"changes":{"war\/resources\/scripts\/hudson-behavior.js":"MODIFY","test\/src\/main\/java\/org\/jvnet\/hudson\/test\/HudsonTestCase.java":"MODIFY","core\/src\/main\/java\/hudson\/Functions.java":"MODIFY","core\/src\/main\/resources\/lib\/layout\/layout.jelly":"MODIFY"},"diff":{"war\/resources\/scripts\/hudson-behavior.js":[{"add":[],"delete":["16","\/\/ are we run as unit tests?","17","var isRunAsTest = (function() {","18","    try {","19","        return Packages.java.lang.System.getProperty(\"hudson.unitTest\")!=null;","20","    } catch(e) {","21","        return false;","22","    }","23","})();","24",""]}],"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/HudsonTestCase.java":[{"add":["29","import hudson.Functions;","532","        Functions.isUnitTest = true;"],"delete":["531","        System.setProperty(\"hudson.unitTest\",\"true\");"]}],"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["948","","949","    \/**","950","     * Set to true if we are running unit tests.","951","     *\/","952","    public static boolean isUnitTest = false;"],"delete":[]}],"core\/src\/main\/resources\/lib\/layout\/layout.jelly":[{"add":["42","","43","    <!-- are we running as an unit test? -->","44","    <script>var isRunAsTest=${h.isUnitTest};<\/script>","45",""],"delete":[]}]}},"82c37f6e91316ea47b3dc6f6ab56ca6e98a5f664":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/test\/AggregatedTestResultAction.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/test\/AggregatedTestResultAction.java":[{"add":["65","    @Override","66","    @Exported","67","    public int getSkipCount() {","68","        return skipCount;","69","    }","70",""],"delete":[]}]}},"cb3990a4d6094260bea4571e7079fd0e3949047f":{"changes":{"core\/src\/main\/java\/jenkins\/FilePathFilter.java":"MODIFY","core\/src\/main\/java\/hudson\/slaves\/ChannelPinger.java":"MODIFY","test\/src\/test\/java\/jenkins\/security\/Security218CliTest.java":"MODIFY","core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":"MODIFY","core\/src\/main\/java\/hudson\/Launcher.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Computer.java":"MODIFY","test\/src\/test\/java\/hudson\/bugs\/JnlpAccessWithSecuredHudsonTest.java":"MODIFY","pom.xml":"MODIFY","core\/src\/main\/java\/jenkins\/slaves\/StandardOutputSwapper.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/FilePathFilter.java":[{"add":["104","     * or {@code null} if none is needed."],"delete":["104","     * or null if none is needed."]}],"core\/src\/main\/java\/hudson\/slaves\/ChannelPinger.java":[{"add":["135","            \/\/ No sense in setting up channel pinger if the channel is being closed","136","            setUpPingForChannel(getOpenChannelOrFail(), null, pingTimeoutSeconds, pingIntervalSeconds, false);"],"delete":["135","            setUpPingForChannel(Channel.current(), null, pingTimeoutSeconds, pingIntervalSeconds, false);"]}],"test\/src\/test\/java\/jenkins\/security\/Security218CliTest.java":[{"add":["241","                getChannelOrFail().call(new Callable<String, Exception>() {"],"delete":["241","                Channel.current().call(new Callable<String, Exception>() {"]}],"core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":[{"add":["869","            Channel.currentOrFail().setProperty(\"slave\",Boolean.TRUE); \/\/ indicate that this side of the channel is the slave side."],"delete":["869","            Channel.current().setProperty(\"slave\",Boolean.TRUE); \/\/ indicate that this side of the channel is the slave side."]}],"core\/src\/main\/java\/hudson\/Launcher.java":[{"add":["1291","            final Channel channel = getOpenChannelOrFail();","1301","            return channel.export(RemoteProcess.class,new RemoteProcess() {","1307","                        Channel taskChannel = null;","1309","                            \/\/ Sync IO will fail automatically if the channel is being closed, no need to use getOpenChannelOrFail()","1310","                            taskChannel = Channel.currentOrFail();","1311","                            taskChannel.syncIO();","1314","                            LOGGER.log(Level.INFO, \"Failed to synchronize IO streams on the channel \" + taskChannel, t);"],"delete":["1300","            return Channel.current().export(RemoteProcess.class,new RemoteProcess() {","1307","                            Channel.current().syncIO();"]}],"core\/src\/main\/java\/hudson\/model\/Computer.java":[{"add":["1428","            final Channel ch = getChannelOrFail();","1430","            try (PrintWriter pw = new PrintWriter(sw)) {","1431","                ch.dumpExportTable(pw);","1432","            }"],"delete":["1429","            PrintWriter pw = new PrintWriter(sw);","1430","            Channel.current().dumpExportTable(pw);","1431","            pw.close();"]}],"test\/src\/test\/java\/hudson\/bugs\/JnlpAccessWithSecuredHudsonTest.java":[{"add":["156","            return getChannelOrFail().call(new ScriptLoader(path));"],"delete":["156","            return Channel.current().call(new ScriptLoader(path));"]}],"pom.xml":[{"add":["177","        <version>3.15<\/version>"],"delete":["177","        <version>3.14<\/version>"]}],"core\/src\/main\/java\/jenkins\/slaves\/StandardOutputSwapper.java":[{"add":["41","            Channel c = getOpenChannelOrFail();"],"delete":["41","","42","            Channel c = Channel.current();","43",""]}]}},"d289161de0a1c19231664cd0a5ac1fcc026f3397":{"changes":{"core\/src\/main\/java\/hudson\/util\/io\/RewindableFileOutputStream.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/io\/RewindableRotatingFileOutputStream.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/io\/RewindableFileOutputStream.java":[{"add":["35"," * @since 2.18"],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/io\/RewindableRotatingFileOutputStream.java":[{"add":["32"," * @since 2.18"],"delete":["32"," * @since 1.416"]}]}},"321597a6182f6bb02937d9a8fd24c2d44ed166ea":{"changes":{"core\/src\/main\/java\/hudson\/scm\/SubversionEventHandlerImpl.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/SubversionEventHandlerImpl.java":[{"add":["171","        ","172","        String relativePath = inPath;","177","                relativePath = inPath.substring(commonRoot.length() + 1);","180","        if (relativePath.endsWith(\"\/\")) {","181","            relativePath = relativePath.substring(0, relativePath.length() - 1);","182","        }","183","        return relativePath;"],"delete":["175","                return inPath.substring(commonRoot.length() + 1);","178","        return inPath;"]}]}},"8fe3f1f028d16f56e2f20fa3b68290e9f7493293":{"changes":{"core\/src\/main\/resources\/hudson\/model\/BuildTimelineWidget\/control.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/BuildTimelineWidget\/control.jelly":[{"add":["36","  <link rel=\"stylesheet\" type=\"text\/css\" href=\"${resURL}\/scripts\/yui\/assets\/skins\/sam\/resize.css\"\/>","37","  <script type=\"text\/javascript\" src=\"${resURL}\/scripts\/yui\/resize\/resize-min.js\"><\/script>"],"delete":["36","  <link rel=\"stylesheet\" type=\"text\/css\" href=\"\/scripts\/yui\/assets\/skins\/sam\/resize.css\"\/>","37","  <script type=\"text\/javascript\" src=\"\/scripts\/yui\/resize\/resize-min.js\"><\/script>"]}]}},"b0e3c3de47877d83595872a4886d14ce160084c8":{"changes":{"core\/src\/main\/java\/hudson\/model\/ExternalRun.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ExternalRun.java":[{"add":["61","    public void acceptRemoteSubmission(final Reader in) throws IOException {","95","        if(duration[0]!=0) {","97","            \/\/ save the updated duration","98","            save();","99","        }"],"delete":["61","    public void acceptRemoteSubmission(final Reader in) {","95","        if(duration[0]!=0)"]}]}},"0f1c35291d38a7b5700a4cfa47eb04d2cee3a0a2":{"changes":{"core\/src\/main\/java\/hudson\/util\/TextFile.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/TextFile.java":[{"add":["77","        } catch (Exception e) {","78","            throw new IOException(\"Failed to fully read \" + file, e);"],"delete":[]}]}},"1d16ce024c9049c1f05b45b48d5f8438e9303f4e":{"changes":{"core\/src\/main\/java\/jenkins\/slaves\/DefaultJnlpSlaveReceiver.java":"MODIFY","core\/src\/main\/java\/hudson\/slaves\/DelegatingComputerLauncher.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/slaves\/DefaultJnlpSlaveReceiver.java":[{"add":["3","import hudson.ClassicPluginStrategy;","10","import hudson.slaves.ComputerLauncher;","11","import hudson.slaves.ComputerLauncherFilter;","12","import hudson.slaves.DelegatingComputerLauncher;","17","import java.lang.reflect.InvocationTargetException;","18","import java.lang.reflect.Method;","23","import jenkins.util.SystemProperties;","35","import org.kohsuke.accmod.Restricted;","36","import org.kohsuke.accmod.restrictions.NoExternalUse;","48","    \/**","49","     * Disables strict verification of connections. Turn this on if you have plugins that incorrectly extend","50","     * {@link ComputerLauncher} when then should have extended {@link DelegatingComputerLauncher}","51","     *","52","     * @since FIXME","53","     *\/","54","    @Restricted(NoExternalUse.class)","55","    public static boolean disableStrictVerification =","56","            SystemProperties.getBoolean(DefaultJnlpSlaveReceiver.class.getName() + \".disableStrictVerification\");","57","","58","","65","    private static ComputerLauncher getDelegate(ComputerLauncher launcher) {","66","        try {","67","            Method getDelegate = launcher.getClass().getMethod(\"getDelegate\");","68","            if (ComputerLauncher.class.isAssignableFrom(getDelegate.getReturnType())) {","69","                return (ComputerLauncher) getDelegate.invoke(launcher);","70","            }","71","        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {","72","            \/\/ ignore","73","        }","74","        try {","75","            Method getLauncher = launcher.getClass().getMethod(\"getLauncher\");","76","            if (ComputerLauncher.class.isAssignableFrom(getLauncher.getReturnType())) {","77","                return (ComputerLauncher) getLauncher.invoke(launcher);","78","            }","79","        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {","80","            \/\/ ignore","81","        }","82","        return null;","83","    }","84","","89","        if (computer == null) {","93","        ComputerLauncher launcher = computer.getLauncher();","94","        while (!(launcher instanceof JNLPLauncher)) {","95","            ComputerLauncher l;","96","            if (launcher instanceof DelegatingComputerLauncher) {","97","                launcher = ((DelegatingComputerLauncher) launcher).getLauncher();","98","            } else if (launcher instanceof ComputerLauncherFilter) {","99","                launcher = ((ComputerLauncherFilter) launcher).getCore();","100","            } else if (null != (l = getDelegate(launcher))) {  \/\/ TODO remove when all plugins are fixed","101","                LOGGER.log(Level.INFO, \"Connecting {0} as a JNLP agent where the launcher {1} does not mark \"","102","                                + \"itself correctly as being a JNLP agent\",","103","                        new Object[]{clientName, computer.getLauncher().getClass()});","104","                launcher = l;","105","            } else {","106","                if (disableStrictVerification) {","107","                    LOGGER.log(Level.WARNING, \"Connecting {0} as a JNLP agent where the launcher {1} does not mark \"","108","                            + \"itself correctly as being a JNLP agent\",","109","                            new Object[]{clientName, computer.getLauncher().getClass()});","110","                    break;","111","                } else {","112","                    LOGGER.log(Level.WARNING, \"Rejecting connection to {0} from {1} as a JNLP agent as the launcher \"","113","                                    + \"{2} does not extend JNLPLauncher or does not implement \"","114","                                    + \"DelegatingComputerLauncher with a delegation chain leading to a JNLPLauncher. \"","115","                                    + \"Set system property \"","116","                                    + \"jenkins.slaves.DefaultJnlpSlaveReceiver.disableStrictVerification=true to allow\"","117","                                    + \"connections until the plugin has been fixed.\",","118","                            new Object[]{clientName, event.getSocket().getRemoteSocketAddress(), computer.getLauncher().getClass()});","119","                    event.reject(new ConnectionRefusalException(String.format(\"%s is not a JNLP agent\", clientName)));","120","                    return;","121","                }","122","            }","123","        }"],"delete":["49","        if (computer == null || !(computer.getLauncher() instanceof JNLPLauncher)) {"]}],"core\/src\/main\/java\/hudson\/slaves\/DelegatingComputerLauncher.java":[{"add":["40"," * Base implementation of {@link ComputerLauncher} that to be used by launchers that","41"," * perform some initialization (typically something cloud\/v12n related","42"," * to power up the machine), and then delegate to another {@link ComputerLauncher}","45"," * <strong>If you are delegating to another {@link ComputerLauncher} you must extend this base class<\/strong>","46"," *"],"delete":["40"," * Convenient base implementation of {@link ComputerLauncher} that allows","41"," * subtypes to perform some initialization (typically something cloud\/v12n related","42"," * to power up the machine), then to delegate to another {@link ComputerLauncher}"]}]}},"4c6dd0135ad9e4f108b2bf7527d34dabddd16fb7":{"changes":{"core\/pom.xml":"MODIFY","core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["202","      <version>1.7<\/version>"],"delete":["202","      <version>1.6.2<\/version>"]}],"core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":[{"add":["799","                classData = pluginManager.getCompatibilityTransformer().transform(classname, classData, this);"],"delete":["799","                classData = pluginManager.getCompatibilityTransformer().transform(classname, classData);"]}]}},"d8859876cbec775949c8f45d55735a1f5fc81edb":{"changes":{"core\/src\/main\/java\/hudson\/security\/GlobalSecurityConfiguration.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/GlobalSecurityConfiguration.java":[{"add":["81","    @Restricted(NoExternalUse.class)"],"delete":["81","    @Restricted(NoExternalUse.class) \/\/ only for index.groovy"]}]}},"253943e13ef16a9e14b71ef07a30e51e6a66e38f":{"changes":{"core\/src\/main\/java\/hudson\/scm\/SCM.java":"MODIFY","core\/src\/main\/java\/hudson\/ExtensionFinder.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractItem.java":"MODIFY","core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/View.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/queue\/Executables.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/queue\/Tasks.java":"MODIFY","core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/SCM.java":[{"add":["393","                baseline2 = calcRevisionsFromBuild(project.getLastBuild(), launcher, listener);"],"delete":["323","    \/**","324","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","325","     * on BugParade for more details.","326","     *\/","397","                baseline2 = _calcRevisionsFromBuild(project.getLastBuild(), launcher, listener);"]}],"core\/src\/main\/java\/hudson\/ExtensionFinder.java":[{"add":["145","    @Deprecated"],"delete":["145","    \/**","146","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","147","     * on BugParade for more details.","148","     *\/"]}],"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":[{"add":["303","                try {","304","                    parent.onRenamed(this, oldName, newName);","305","                } catch (AbstractMethodError _) {","306","                    \/\/ ignore","307","                }","555","        Jenkins.getInstance().rebuildDependencyGraphAsync();"],"delete":["303","                callOnRenamed(newName, parent, oldName);","311","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","312","     * on BugParade for more details.","313","     *\/","314","    private void callOnRenamed(String newName, ItemGroup parent, String oldName) throws IOException {","315","        try {","316","            parent.onRenamed(this, oldName, newName);","317","        } catch (AbstractMethodError _) {","318","            \/\/ ignore","319","        }","320","    }","321","","322","    \/**","562","        invokeOnDeleted();","563","        Jenkins.getInstance().rebuildDependencyGraphAsync();","564","    }","565","","566","    \/**","567","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","568","     * on BugParade for more details.","569","     *\/","570","    private void invokeOnDeleted() throws IOException {"]}],"core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":[{"add":["342","                r.addAll(finder.find(type, hudson));"],"delete":["342","                r.addAll(finder._find(type, hudson));"]}],"core\/src\/main\/java\/hudson\/model\/View.java":[{"add":["257","            return owner.getItemGroup();"],"delete":["257","            return _getOwnerItemGroup();","263","    \/**","264","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","265","     * on BugParade for more details.","266","     *\/","267","    private ItemGroup<? extends TopLevelItem> _getOwnerItemGroup() {","268","        return owner.getItemGroup();","269","    }","270",""]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["1268","                baseline = getScm().calcRevisionsFromBuild(build, launcher, listener);"],"delete":["1268","                baseline = getScm()._calcRevisionsFromBuild(build, launcher, listener);"]}],"core\/src\/main\/java\/hudson\/model\/queue\/Executables.java":[{"add":["42","            return e.getParent();","68","            return e.getEstimatedDuration();"],"delete":["42","            return _getParentOf(e);","62","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","63","     * on BugParade for more details.","64","     *\/","65","    private static SubTask _getParentOf(Executable e) {","66","        return e.getParent();","67","    }","68","","69","    \/**","76","            return _getEstimatedDuration(e);","82","    \/**","83","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","84","     * on BugParade for more details.","85","     *\/","86","    private static long _getEstimatedDuration(Executable e) {","87","        return e.getEstimatedDuration();","88","    }"]}],"core\/src\/main\/java\/hudson\/model\/queue\/Tasks.java":[{"add":["45","            return task.getSubTasks();","53","            return t.getSameNodeConstraint();","61","            return t.getOwnerTask();","74","            return t.getDefaultAuthentication();"],"delete":["43","    \/**","44","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","45","     * on BugParade for more details.","46","     *\/","47","    private static Collection<? extends SubTask> _getSubTasksOf(Task task) {","48","        return task.getSubTasks();","49","    }","50","","53","            return _getSubTasksOf(task);","59","    \/**","60","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","61","     * on BugParade for more details.","62","     *\/","63","    private static Object _getSameNodeConstraintOf(SubTask t) {","64","        return t.getSameNodeConstraint();","65","    }","66","","69","            return _getSameNodeConstraintOf(t);","75","    \/**","76","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","77","     * on BugParade for more details.","78","     *\/","79","    public static Task _getOwnerTaskOf(SubTask t) {","80","        return t.getOwnerTask();","81","    }","82","","85","            return _getOwnerTaskOf(t);","92","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","93","     * on BugParade for more details.","94","     *\/","95","    private static Authentication _getDefaultAuthenticationOf(Task t) {","96","        return t.getDefaultAuthentication();","97","    }","98","","99","    \/**","106","            return _getDefaultAuthenticationOf(t);"]}],"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["1858","                channel.syncLocalIO();"],"delete":["1858","                _syncIO();","1870","     * A pointless function to work around what appears to be a HotSpot problem. See JENKINS-5756 and bug 6933067","1871","     * on BugParade for more details.","1872","     *\/","1873","    private void _syncIO() throws InterruptedException {","1874","        channel.syncLocalIO();","1875","    }","1876","","1877","    \/**"]}]}},"90f656803ebaa24b6b57f17d8e4f31576fb15e99":{"changes":{"maven-interceptor\/src\/main\/resources\/META-INF\/plexus\/components.xml":"MODIFY"},"diff":{"maven-interceptor\/src\/main\/resources\/META-INF\/plexus\/components.xml":[{"add":["100","              <phase>process-test-classes<\/phase>"],"delete":[]}]}},"31a6b30207afaef06e7619eb3b7180a0e4384f69":{"changes":{"war\/src\/main\/less\/base-styles-v2.less":"MODIFY","war\/src\/main\/less\/base\/yui-compatibility.less":"ADD"},"diff":{"war\/src\/main\/less\/base-styles-v2.less":[{"add":["22","@import '.\/base\/yui-compatibility.less';"],"delete":[]}],"war\/src\/main\/less\/base\/yui-compatibility.less":[{"add":[],"delete":[]}]}},"3f48eff1ee39e772bd0c1c097ff99fb62786e69f":{"changes":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":"MODIFY","changelog.html":"MODIFY"},"diff":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":[{"add":["370","    \/\/ execScript chokes on \"\" but eval doesn't, so we need to reject it first.","371","    if (script==null || script==\"\") return;","2147","          try {","2149","          } catch(e) {","2151","          }"],"delete":["2145","          if(s!=null)","2146","            try {","2148","            } catch(e) {","2150","            }"]}],"changelog.html":[{"add":["58","    Script evaluation script error on IE.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16561\">issue 16561<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"8f2546a49c7665c945f31266a1a702a1b066deb2":{"changes":{"core\/src\/main\/resources\/hudson\/model\/View\/newJob.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/View\/newJob.jelly":[{"add":["15","            <input type=\"radio\" name=\"mode\" value=\"${d.displayName}\" onchange=\"$('ok').disabled=false\" onclick=\"$('ok').disabled=false\" \/>","24","          <input type=\"radio\" name=\"mode\" value=\"copyJob\" onchange=\"$('ok').disabled=false\" onclick=\"$('ok').disabled=false\" \/>"],"delete":["15","            <input type=\"radio\" name=\"mode\" value=\"${d.displayName}\" onchange=\"$('ok').disabled=false\" \/>","24","          <input type=\"radio\" name=\"mode\" value=\"copyJob\" onchange=\"$('ok').disabled=false\" \/>"]}]}},"3fc6d397ace6121c391434bc5854570a978341c4":{"changes":{"core\/src\/main\/resources\/hudson\/tasks\/junit\/MetaTabulatedResult\/body.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/RunParameterValue\/value.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/tasks\/junit\/MetaTabulatedResult\/body.jelly":[{"add":["77","            <a href=\"${rootURL}\/${f.failedSinceRun.url}\">${f.age}<\/a>","126","<\/j:jelly>"],"delete":["77","            <a href=\"${rootUrl}\/${f.failedSinceRun.url}\">${f.age}<\/a>","126","<\/j:jelly>"]}],"core\/src\/main\/resources\/hudson\/model\/RunParameterValue\/value.jelly":[{"add":["28","\t\t<a href=\"${rootURL}\/${it.run.url}\">${it.run}<\/a>","30","<\/j:jelly>"],"delete":["28","\t\t<a href=\"${rootUrl}\/${it.run.url}\">${it.run}<\/a>","30","<\/j:jelly>"]}]}},"883f77b97b8fd80e4f9c6e2d81294e88f33c94d9":{"changes":{"core\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY","core\/src\/main\/java\/hudson\/maven\/PomInfo.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["194","                toPomInfo(mp,null,relPath,infos);","195","","196","                for (PomInfo pi : infos)","197","                    pi.cutCycle();","198","","208","        private void toPomInfo(MavenProject mp, PomInfo parent, Map<MavenProject,String> relPath, List<PomInfo> infos) {","209","            PomInfo pi = new PomInfo(mp, parent, relPath.get(mp));","210","            infos.add(pi);","212","                toPomInfo(child,pi,relPath,infos);"],"delete":["194","                toPomInfo(mp,relPath,infos);","204","        private void toPomInfo(MavenProject mp, Map<MavenProject,String> relPath, List<PomInfo> infos) {","205","            infos.add(new PomInfo(mp,relPath.get(mp)));","207","                toPomInfo(child,relPath,infos);"]}],"core\/src\/main\/java\/hudson\/maven\/PomInfo.java":[{"add":["54","    \/**","55","     * Parent module.","56","     *\/","57","    public final PomInfo parent;","58","","59","    public PomInfo(MavenProject project, PomInfo parent, String relPath) {","64","        this.parent = parent;","69","        MavenProject parentProject = project.getParent();","70","        if(parentProject!=null)","71","            dependencies.add(new ModuleName(parentProject));","94","    \/**","95","     * Avoids dependency cycles.","96","     *","97","     * <p>","98","     * People often write configuration in parent POMs that use the plugin","99","     * which is a part of the build. To avoid this kind of dependency,","100","     * make sure parent POMs don't depend on a child module.","101","     *\/","102","    \/*package*\/ void cutCycle() {","103","        for(PomInfo p=parent; p!=null; p=p.parent) {","104","            if(p.dependencies.contains(name))","105","                p.dependencies.remove(name);","106","        }","107","    }","108",""],"delete":["54","    public PomInfo(MavenProject project, String relPath) {","63","        MavenProject parent = project.getParent();","64","        if(parent!=null)","65","            dependencies.add(new ModuleName(parent));"]}]}},"f71c79918a76d89542d41f2d5cbfc250aa4f88fd":{"changes":{"core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["1377","                    if (nodes.size() != 1)      return new BecauseLabelIsOffline(label);","1386","            if (nodes.size() != 1)      return new BecauseLabelIsBusy(label);"],"delete":["1377","                    if (nodes.size() > 1)       return new BecauseLabelIsOffline(label);","1386","            if (nodes.size() > 1)       return new BecauseLabelIsBusy(label);"]}]}},"a71e8fc6b1bb4c027c03ca4b81758a41236eccd5":{"changes":{"war\/resources\/scripts\/hudson-behavior.js":"MODIFY"},"diff":{"war\/resources\/scripts\/hudson-behavior.js":[{"add":["287","        var btns = findElementsBySelector(e,\"INPUT.hetero-list-add\"),","288","            btn = btns[btns.length-1]; \/\/ In case nested content also uses hetero-list"],"delete":["287","        var btn = findElementsBySelector(e,\"INPUT.hetero-list-add\")[0];"]}]}},"a862578a5bc4b0e25cdc9125877a3e7da6b621fd":{"changes":{"maven-agent\/src\/main\/java\/hudson\/maven\/agent\/Main.java":"MODIFY"},"diff":{"maven-agent\/src\/main\/java\/hudson\/maven\/agent\/Main.java":[{"add":["5","import org.codehaus.classworlds.DefaultClassRealm;","46","        ClassRealm remoting = new DefaultClassRealm(launcher.getWorld(),\"hudson-remoting\", launcher.getSystemClassLoader());","47","        remoting.setParent(launcher.getWorld().getRealm(\"plexus.core.maven\"));"],"delete":["45","        ClassRealm remoting = launcher.getWorld().getRealm(\"plexus.core.maven\").createChildRealm(\"hudson-remoting\");"]}]}},"df430327c7ad21538662a1c2529c1e1ae57aa2e4":{"changes":{"core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["528","        \/**","529","         * @param fileName","530","         *      relative path name to the output file. Path separator must be '\/'.","531","         *\/","631","                                    if(Functions.isWindows())","632","                                        f = f.replace('\\\\','\/');"],"delete":[]}]}},"c0df15ab38c2fef8592d38451cef0ba68ebc64d0":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["57","  <li class='bug'>","58","    Can't configure Maven Installations on Jenkins ver. 1.483, 1.484","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15293\">issue 15293<\/a>)"],"delete":[]}]}}}