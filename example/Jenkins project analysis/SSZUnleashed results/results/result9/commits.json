{"b2013edbf7a4d40df2bc05a1e219d8599e642961":{"changes":{"core\/src\/main\/java\/hudson\/model\/UsageStatistics.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/UsageStatistics.java":[{"add":["97","        \/\/ user opted out. no data collection.","98","        if(!Jenkins.getInstance().isUsageStatisticsCollected() || DISABLED)     return false;","99","        "],"delete":["33","import static hudson.init.InitMilestone.COMPLETED;","98","        final Jenkins j = Jenkins.getInstance();","99","        \/\/ user opted out or Jenkins not fully initialized. no data collection.","100","        if (j == null || j.isUsageStatisticsCollected() || DISABLED || COMPLETED.compareTo(j.getInitLevel()) > 0) {","101","            return false;","102","        }","103",""]}]}},"29893354a52efac20efcb4e0e91723f3bd889059":{"changes":{"core\/src\/main\/java\/hudson\/Proc.java":"MODIFY","core\/src\/main\/java\/hudson\/Launcher.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Proc.java":[{"add":["51","import org.kohsuke.accmod.Restricted;","52","import org.kohsuke.accmod.restrictions.NoExternalUse;","435","    public static final class RemoteProc extends Proc implements ProcWithJenkins23271Patch {","444","            try {","445","                process.cancel(true);","446","            } finally {","447","                if (this.isAlive()) { \/\/ Should never happen but this forces Proc to not be removed and early GC by escape analysis","448","                    \/\/ TODO: Report exceptions if they happen?","449","                    LOGGER.log(Level.WARNING, \"Process {0} has not really finished after the kill() method execution\", this);","450","                }","451","            }","459","                LOGGER.log(Level.FINE, String.format(\"Join operation has been interrupted for the process %s. Killing the process\", this), e);","460","                kill();","468","            } finally {","469","                if (this.isAlive()) { \/\/ Should never happen but this forces Proc to not be removed and early GC by escape analysis","470","                    LOGGER.log(Level.WARNING, \"Process {0} has not really finished after the join() method completion\", this);","471","                }","501","    ","502","    \/**","503","    * An instance of {@link Proc}, which has an internal workaround for JENKINS-23271.","504","    * It presumes that the instance of the object is guaranteed to be used after the {@link Proc#join()} call.","505","    * See <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-23271\">JENKINS-23271><\/a>","506","    * @author Oleg Nenashev","507","    *\/","508","    @Restricted(NoExternalUse.class)","509","    public interface ProcWithJenkins23271Patch {","510","        \/\/ Empty marker interface","511","    }"],"delete":["433","    public static final class RemoteProc extends Proc {","442","            process.cancel(true);","450","                \/\/ aborting. kill the process","451","                process.cancel(true);"]}],"core\/src\/main\/java\/hudson\/Launcher.java":[{"add":["61","import hudson.Proc.ProcWithJenkins23271Patch;","396","            ","397","            if (procHolderForJoin instanceof ProcWithJenkins23271Patch) {","398","                return procHolderForJoin.join();","399","            } else {","400","                \/\/ Fallback to the internal handling logic","401","                if (!(procHolderForJoin instanceof LocalProc)) {","402","                    \/\/ We consider that the process may be at risk of JENKINS-23271","403","                    LOGGER.log(Level.FINE, \"Process {0} of type {1} is neither {2} nor instance of {3}. \"","404","                            + \"If this process operates with Jenkins agents via remote invocation, you may get into JENKINS-23271\",","405","                            new Object[] {procHolderForJoin, procHolderForJoin.getClass(), LocalProc.class, ProcWithJenkins23271Patch.class});","407","                try {","408","                    final int returnCode = procHolderForJoin.join();","409","                    if (LOGGER.isLoggable(Level.FINER)) {","410","                        LOGGER.log(Level.FINER, \"Process {0} has finished with the return code {1}\", new Object[]{procHolderForJoin, returnCode});","411","                    }","412","                    return returnCode;","413","                } finally {","414","                    if (procHolderForJoin.isAlive()) { \/\/ Should never happen but this forces Proc to not be removed and early GC by escape analysis","415","                        LOGGER.log(Level.WARNING, \"Process {0} has not finished after the join() method completion\", procHolderForJoin);","416","                    }","1005","        public static final class ProcImpl extends Proc implements ProcWithJenkins23271Patch {","1016","                try {","1017","                    process.kill();","1018","                } finally {","1019","                    if (this.isAlive()) { \/\/ Should never happen but this forces Proc to not be removed and early GC by escape analysis","1020","                        LOGGER.log(Level.WARNING, \"Process {0} has not really finished after the kill() method execution\", this);","1021","                    }","1022","                }","1027","                try {","1028","                    final int returnCode = process.join();","1029","                    if (LOGGER.isLoggable(Level.FINER)) {","1030","                        LOGGER.log(Level.FINER, \"Process {0} has finished with the return code {1}\", new Object[]{this, returnCode});","1031","                    }","1032","                    return returnCode;","1033","                } finally {","1034","                    if (this.isAlive()) { \/\/ Should never happen but this forces Proc to not be removed and early GC by escape analysis","1035","                        LOGGER.log(Level.WARNING, \"Process {0} has not really finished after the join() method completion\", this);","1036","                    }","1037","                }"],"delete":["395","            try {","396","                final int returnCode = procHolderForJoin.join();","397","                if (LOGGER.isLoggable(Level.FINER)) {","398","                    LOGGER.log(Level.FINER, \"Process {0} has finished with the return code {1}\", new Object[]{procHolderForJoin, returnCode});","400","                return returnCode;","401","            } finally {","402","                if (procHolderForJoin.isAlive()) { \/\/ Should never happen but this forces Proc to not be removed and early GC by escape analysis","403","                    LOGGER.log(Level.WARNING, \"Process not finished after call to join() completed\");","992","        public static final class ProcImpl extends Proc {","1003","                process.kill();","1008","                return process.join();"]}]}},"f611e2566ec9512661168270c16d0b474c088c1d":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["61","    <code>JENKINS_DEBUG_LEVEL<\/code> misinterpreted by Winstone, causing excessive logging.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-18701\">issue 18701<\/a>)","63","  <li class=bug>"],"delete":[]}]}},"512841a9556bd989c8cf326f41ccedcf0c28b899":{"changes":{"remoting\/src\/main\/java\/hudson\/remoting\/SocketOutputStream.java":"MODIFY"},"diff":{"remoting\/src\/main\/java\/hudson\/remoting\/SocketOutputStream.java":[{"add":["25","    public void write(int b) throws IOException {","26","        out.write(b);","27","    }","28","","29","    public void write(byte[] b) throws IOException {","30","        out.write(b);","31","    }","32","","33","    public void write(byte[] b, int off, int len) throws IOException {","34","        out.write(b, off, len);","35","    }","36",""],"delete":[]}]}},"1a2d82275c078ca3f651d9924a53acd2b6210a93":{"changes":{"core\/src\/main\/java\/hudson\/ExtensionFinder.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/ExtensionFinder.java":[{"add":["480","                    for (Field f : c.getFields()) {","481","                        if (f.getAnnotation(javax.inject.Inject.class) != null || f.getAnnotation(com.google.inject.Inject.class) != null) {","482","                            resolve(f.getType());","483","                        }","484","                    }"],"delete":["284","                \/\/ TODO this recovery is pretty much useless; startup crashes anyway","481","                    c.getFields();"]}]}},"46a6e11616c591222c712512341af410734f3216":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":"MODIFY","core\/pom.xml":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":[{"add":["213","        \/\/ some users specify the -f option in the targets field, so take that into account as well.","214","        \/\/ see ","215","        String[] tokens = Util.tokenize(targets);","216","        for (int i = 0; i<tokens.length-1; i++) {","217","            String a = tokens[i];","218","            if(a.equals(\"-f\") || a.equals(\"-file\") || a.equals(\"-buildfile\"))","219","                return base.child(tokens[i+1]);","220","        }","221","        return base.child(\"build.xml\");"],"delete":["213","        else                    return base.child(\"build.xml\");"]}],"core\/pom.xml":[{"add":["267","      <version>1.1.7-hudson-1<\/version>"],"delete":["267","      <version>1.1.6-hudson-3<\/version>"]}]}},"01fe717f35f60aa92f13e1117e489b3d297e3e70":{"changes":{"core\/src\/test\/java\/hudson\/tasks\/BuildStepCompatibilityLayerTest.java":"ADD","core\/src\/main\/java\/hudson\/tasks\/BuildStepCompatibilityLayer.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/tasks\/BuildStepCompatibilityLayerTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/BuildStepCompatibilityLayer.java":[{"add":["33","import hudson.util.ReflectionUtils;","35","import hudson.Util;","38","import java.lang.reflect.Method;","123","    public boolean perform(Build<?, ?> build, Launcher launcher, BuildListener listener)","124","            throws InterruptedException, IOException {       ","125","        if (build instanceof AbstractBuild && Util.isOverridden(BuildStepCompatibilityLayer.class, this.getClass(),","126","                \"perform\", AbstractBuild.class, Launcher.class, BuildListener.class)) {","127","            return perform((AbstractBuild<?, ?>) build, launcher, listener);","128","        }","129","        throw new AbstractMethodError();"],"delete":["120","    public boolean perform(Build<?,?> build, Launcher launcher, BuildListener listener) throws InterruptedException, IOException {","121","        throw new UnsupportedOperationException();"]}]}},"d8b1111cea8b43ae946788ce9385ac7d1264d738":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Computer\/sidepanel.jelly":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/scriptConsole.jelly":"MODIFY","test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/RemotingDiagnostics.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Computer\/sidepanel.jelly":[{"add":["38","      <j:if test=\"${it.channel!=null}\">","39","        <l:task href=\"${rootURL}\/${it.url}script\" icon=\"icon-terminal icon-md\" permission=\"${app.RUN_SCRIPTS}\" title=\"${%Script Console}\"\/>","40","      <\/j:if>","49","<\/j:jelly>"],"delete":["38","      <l:task href=\"${rootURL}\/${it.url}script\" icon=\"icon-terminal icon-md\" permission=\"${app.RUN_SCRIPTS}\" title=\"${%Script Console}\"\/>","47","<\/j:jelly>"]}],"core\/src\/main\/resources\/lib\/hudson\/scriptConsole.jelly":[{"add":["33","      <h1><img src=\"${imagesURL}\/48x48\/${it.icon}\" width=\"48\" height=\"48\" alt=\"\"\/> ${%Script Console}<\/h1>","35","      <j:choose>","36","        <j:when test=\"${it.channel != null}\">","37","          <p>","38","            ${%description}","39","          <\/p>","40","          <!-- this is where the example goes -->","41","          <d:invokeBody \/>","42","          <p>","43","            ${%description2}","44","          <\/p>","46","          <form action=\"script\" method=\"post\">","47","            <textarea id=\"script\" name=\"script\" class=\"script\">${request.getParameter('script')}<\/textarea>","48","            <div align=\"right\">","49","              <f:submit  value=\"${%Run}\"\/>","50","            <\/div>","51","          <\/form>","52","          <st:adjunct includes=\"org.kohsuke.stapler.codemirror.mode.groovy.groovy\"\/>","53","          <st:adjunct includes=\"org.kohsuke.stapler.codemirror.theme.default\"\/>","54","          <j:if test=\"${output!=null}\">","55","            <h2>${%Result}<\/h2>","56","            <pre><st:out value=\"${output}\"\/><\/pre>","57","          <\/j:if>","58","        <\/j:when>","59","        <j:otherwise>","60","          ${%It is not possible to run scripts when slave is offline.}","61","        <\/j:otherwise>","62","      <\/j:choose>","65","<\/j:jelly>"],"delete":["33","      <h1>${%Script Console}<\/h1>","35","      <p>","36","        ${%description}","37","      <\/p>","38","      <!-- this is where the example goes -->","39","      <d:invokeBody \/>","40","      <p>","41","        ${%description2}","42","      <\/p>","44","      <form action=\"script\" method=\"post\">","45","        <textarea id=\"script\" name=\"script\" class=\"script\">${request.getParameter('script')}<\/textarea>","46","        <div align=\"right\">","47","          <f:submit  value=\"${%Run}\"\/>","48","        <\/div>","49","      <\/form>","50","      <st:adjunct includes=\"org.kohsuke.stapler.codemirror.mode.groovy.groovy\"\/>","51","      <st:adjunct includes=\"org.kohsuke.stapler.codemirror.theme.default\"\/>","52","      <j:if test=\"${output!=null}\">","53","        <h2>${%Result}<\/h2>","54","        <pre><st:out value=\"${output}\"\/><\/pre>","55","      <\/j:if>","58","<\/j:jelly>"]}],"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":[{"add":["25","import static org.hamcrest.MatcherAssert.assertThat;","26","import static org.hamcrest.Matchers.containsString;","27","import static org.hamcrest.Matchers.equalTo;","36","import com.gargoylesoftware.htmlunit.Page;","38","import com.gargoylesoftware.htmlunit.WebResponse;","57","import hudson.slaves.DumbSlave;","435","","436","    @Test","437","    public void runScriptOnOfflineComputer() throws Exception {","438","        DumbSlave slave = j.createSlave();","439","        URL url = new URL(j.getURL(), \"computer\/\" + slave.getNodeName() + \"\/scriptText?script=println(42)\");","440","","441","        WebClient wc = j.createWebClient();","442","        wc.setThrowExceptionOnFailingStatusCode(false);","443","","444","        WebRequestSettings req = new WebRequestSettings(url, HttpMethod.POST);","445","        Page page = wc.getPage(wc.addCrumb(req));","446","        WebResponse rsp = page.getWebResponse();","447","","448","        assertThat(rsp.getContentAsString(), containsString(\"Node is offline\"));","449","        assertThat(rsp.getStatusCode(), equalTo(404));","450","    }"],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["3529","","3530","            if (channel == null) {","3531","                throw HttpResponses.error(HttpURLConnection.HTTP_NOT_FOUND, \"Node is offline\");","3532","            }","3533",""],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/RemotingDiagnostics.java":[{"add":["36","","43","import javax.annotation.Nonnull;","47","","109","    public static String executeGroovy(String script, @Nonnull VirtualChannel channel) throws IOException, InterruptedException {"],"delete":["106","    public static String executeGroovy(String script, VirtualChannel channel) throws IOException, InterruptedException {"]}]}},"37df755be1cd01cb22ba2ad8826da71f1c000f17":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["44","  <li class=bug> Maven mirrors not used when project uses Maven 2.2","45","   (<a href=\"http:\/\/issues.hudson-ci.org\/browse\/HUDSON-8387\">issue 8387<\/a>) "],"delete":[]}]}},"1f405b0e220bb127c9c5fef52d88c7b29fa62f01":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","test\/src\/test\/java\/hudson\/scm\/ScmTest.java":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["178","        FilePath ws = getWorkspace();","179","        if(ws!=null)","180","            getScm().processWorkspaceBeforeDeletion(this, ws,getLastBuiltOn());"],"delete":[]}],"test\/src\/test\/java\/hudson\/scm\/ScmTest.java":[{"add":[],"delete":[]}]}},"46f2f02f9dbea085e67ff70673f38644b14b4f01":{"changes":{"core\/src\/main\/resources\/hudson\/slaves\/Messages.properties":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/resources\/hudson\/slaves\/Messages_ja.properties":"MODIFY","core\/src\/main\/java\/hudson\/slaves\/NodeDescriptor.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/slaves\/Messages.properties":[{"add":["2","# Copyright (c) 2004-2011, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe, Stephen Connolly","39","NodeDescripter.CheckName.Mandatory=Name is mandatory"],"delete":["2","# Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe, Stephen Connolly"]}],"changelog.html":[{"add":["50","  <li class=bug>","51","    Node names can be edited to include slashes and then cannot be removed.","52","    (<a href=\"http:\/\/issues.hudson-ci.org\/browse\/HUDSON-8438\">issue 8437<\/a>)"],"delete":[]}],"core\/src\/main\/resources\/hudson\/slaves\/Messages_ja.properties":[{"add":["2","# Copyright (c) 2004-2011, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe","22","RetentionStrategy.Always.displayName=\\u53ef\\u80fd\\u306a\\u9650\\u308a\\u30aa\\u30f3\\u30e9\\u30a4\\u30f3\\u306e\\u307e\\u307e\\u306b\\u3059\\u308b","23","RetentionStrategy.Demand.displayName=\\u8981\\u6c42\\u6642\\u306b\\u306f\\u30aa\\u30f3\\u30e9\\u30a4\\u30f3\\u306b\\u3057\\u3001\\u5f85\\u6a5f\\u4e2d\\u306b\\u306f\\u30aa\\u30d5\\u30e9\\u30a4\\u30f3\\u306b\\u3059\\u308b","24","RetentionStrategy.Demand.OfflineIdle=\\u30b3\\u30f3\\u30d4\\u30e5\\u30fc\\u30bf\\u304c\\u5f85\\u6a5f\\u4e2d\\u306a\\u306e\\u3067\\u30aa\\u30d5\\u30e9\\u30a4\\u30f3\\u3067\\u3059\\u3002\\u5fc5\\u8981\\u306b\\u306a\\u3063\\u305f\\u3089\\u518d\\u3073\\u8d77\\u52d5\\u3057\\u307e\\u3059\\u3002","25","CommandLauncher.displayName=\\u30de\\u30b9\\u30bf\\u30fc\\u3067\\u30b3\\u30de\\u30f3\\u30c9\\u3092\\u5b9f\\u884c\\u3057\\u3066\\u30b9\\u30ec\\u30fc\\u30d6\\u3092\\u8d77\\u52d5","26","JNLPLauncher.displayName=JNLP\\u7d4c\\u7531\\u3067\\u30b9\\u30ec\\u30fc\\u30d6\\u3092\\u8d77\\u52d5","27","ComputerLauncher.unexpectedError=\\u30b9\\u30ec\\u30fc\\u30d6\\u306e\\u8d77\\u52d5\\u4e2d\\u306b\\u4e88\\u671f\\u3057\\u306a\\u3044\\u30a8\\u30e9\\u30fc\\u304c\\u767a\\u751f\\u3057\\u307e\\u3057\\u305f\\u3002\\u3053\\u308c\\u306f\\u305f\\u3076\\u3093Hudson\\u306e\\u30d0\\u30b0\\u3067\\u3059\\u3002","28","ComputerLauncher.abortedLaunch=\\u30b9\\u30ec\\u30fc\\u30d6\\u306e\\u8d77\\u52d5\\u30d7\\u30ed\\u30bb\\u30b9\\u304c\\u4e2d\\u65ad\\u3057\\u307e\\u3057\\u305f\\u3002","29","CommandLauncher.NoLaunchCommand=\\u8d77\\u52d5\\u30b3\\u30de\\u30f3\\u30c9\\u304c\\u6307\\u5b9a\\u3055\\u308c\\u3066\\u3044\\u307e\\u305b\\u3093\\u3002","30","ConnectionActivityMonitor.OfflineCause=\\u4f55\\u5ea6\\u3082ping\\u304c\\u5931\\u6557\\u3057\\u307e\\u3057\\u305f\\u3002","31","DumbSlave.displayName=\\u30c0\\u30e0\\u30b9\\u30ec\\u30fc\\u30d6","33","OfflineCause.DisconnectedFromCLI=CLI\\u3068\\u306e\\u63a5\\u7d9a\\u304c\\u5207\\u65ad\\u3055\\u308c\\u307e\\u3057\\u305f\\u3002","34","OfflineCause.LaunchFailed=\\u30b9\\u30ec\\u30fc\\u30d6\\u30a8\\u30fc\\u30b8\\u30a7\\u30f3\\u30c8\\u306e\\u8d77\\u52d5\\u306b\\u5931\\u6557\\u3057\\u305f\\u305f\\u3081\\u3001\\u3053\\u306e\\u30ce\\u30fc\\u30c9\\u306f\\u30aa\\u30d5\\u30e9\\u30a4\\u30f3\\u3067\\u3059\\u3002","35","SimpleScheduledRetentionStrategy.FinishedUpTime=\\u30b3\\u30f3\\u30d4\\u30e5\\u30fc\\u30bf\\u306e\\u52d5\\u4f5c\\u53ef\\u80fd\\u6642\\u9593\\u304c\\u7d42\\u4e86\\u3057\\u307e\\u3057\\u305f\\u3002","36","SimpleScheduledRetentionStrategy.displayName=\\u30b9\\u30b1\\u30b8\\u30e5\\u30fc\\u30eb\\u306b\\u5f93\\u3063\\u3066\\u30aa\\u30f3\\u30e9\\u30a4\\u30f3\\u306b\\u3059\\u308b","37","EnvironmentVariablesNodeProperty.displayName=\\u74b0\\u5883\\u5909\\u6570","38","SlaveComputer.DisconnectedBy={0}\\u304c\\u30aa\\u30d5\\u30e9\\u30a4\\u30f3\\u306b\\u3057\\u3066\\u3044\\u307e\\u3059\\u3002{1}","39","NodeDescripter.CheckName.Mandatory=\\u30ce\\u30fc\\u30c9\\u540d\\u306f\\u5fc5\\u9808\\u3067\\u3059\\u3002"],"delete":["2","# Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe","22","RetentionStrategy.Always.displayName=\\u53EF\\u80FD\\u306A\\u9650\\u308A\\u30AA\\u30F3\\u30E9\\u30A4\\u30F3\\u306E\\u307E\\u307E\\u306B\\u3059\\u308B","23","RetentionStrategy.Demand.displayName=\\u8981\\u6C42\\u6642\\u306B\\u306F\\u30AA\\u30F3\\u30E9\\u30A4\\u30F3\\u306B\\u3057\\u3001\\u5F85\\u6A5F\\u4E2D\\u306B\\u306F\\u30AA\\u30D5\\u30E9\\u30A4\\u30F3\\u306B\\u3059\\u308B","24","RetentionStrategy.Demand.OfflineIdle=\\u30B3\\u30F3\\u30D4\\u30E5\\u30FC\\u30BF\\u304C\\u5F85\\u6A5F\\u4E2D\\u306A\\u306E\\u3067\\u30AA\\u30D5\\u30E9\\u30A4\\u30F3\\u3067\\u3059\\u3002\\u5FC5\\u8981\\u306B\\u306A\\u3063\\u305F\\u3089\\u518D\\u3073\\u8D77\\u52D5\\u3057\\u307E\\u3059\\u3002","25","CommandLauncher.displayName=\\u30DE\\u30B9\\u30BF\\u30FC\\u3067\\u30B3\\u30DE\\u30F3\\u30C9\\u3092\\u5B9F\\u884C\\u3057\\u3066\\u30B9\\u30EC\\u30FC\\u30D6\\u3092\\u8D77\\u52D5","26","JNLPLauncher.displayName=JNLP\\u7D4C\\u7531\\u3067\\u30B9\\u30EC\\u30FC\\u30D6\\u3092\\u8D77\\u52D5","27","ComputerLauncher.unexpectedError=\\u30B9\\u30EC\\u30FC\\u30D6\\u306E\\u8D77\\u52D5\\u4E2D\\u306B\\u4E88\\u671F\\u3057\\u306A\\u3044\\u30A8\\u30E9\\u30FC\\u304C\\u767A\\u751F\\u3057\\u307E\\u3057\\u305F\\u3002\\u3053\\u308C\\u306F\\u305F\\u3076\\u3093Hudson\\u306E\\u30D0\\u30B0\\u3067\\u3059\\u3002","28","ComputerLauncher.abortedLaunch=\\u30B9\\u30EC\\u30FC\\u30D6\\u306E\\u8D77\\u52D5\\u30D7\\u30ED\\u30BB\\u30B9\\u304C\\u4E2D\\u65AD\\u3057\\u307E\\u3057\\u305F\\u3002","29","CommandLauncher.NoLaunchCommand=\\u8D77\\u52D5\\u30B3\\u30DE\\u30F3\\u30C9\\u304C\\u6307\\u5B9A\\u3055\\u308C\\u3066\\u3044\\u307E\\u305B\\u3093\\u3002","30","ConnectionActivityMonitor.OfflineCause=\\u4F55\\u5EA6\\u3082ping\\u304C\\u5931\\u6557\\u3057\\u307E\\u3057\\u305F\\u3002","31","DumbSlave.displayName=\\u30C0\\u30E0\\u30B9\\u30EC\\u30FC\\u30D6","33","OfflineCause.DisconnectedFromCLI=CLI\\u3068\\u306E\\u63A5\\u7D9A\\u304C\\u5207\\u65AD\\u3055\\u308C\\u307E\\u3057\\u305F\\u3002","34","OfflineCause.LaunchFailed=\\u30B9\\u30EC\\u30FC\\u30D6\\u30A8\\u30FC\\u30B8\\u30A7\\u30F3\\u30C8\\u306E\\u8D77\\u52D5\\u306B\\u5931\\u6557\\u3057\\u305F\\u305F\\u3081\\u3001\\u3053\\u306E\\u30CE\\u30FC\\u30C9\\u306F\\u30AA\\u30D5\\u30E9\\u30A4\\u30F3\\u3067\\u3059\\u3002","35","SimpleScheduledRetentionStrategy.FinishedUpTime=\\u30B3\\u30F3\\u30D4\\u30E5\\u30FC\\u30BF\\u306E\\u52D5\\u4F5C\\u53EF\\u80FD\\u6642\\u9593\\u304C\\u7D42\\u4E86\\u3057\\u307E\\u3057\\u305F\\u3002","36","SimpleScheduledRetentionStrategy.displayName=\\u30B9\\u30B1\\u30B8\\u30E5\\u30FC\\u30EB\\u306B\\u5F93\\u3063\\u3066\\u30AA\\u30F3\\u30E9\\u30A4\\u30F3\\u306B\\u3059\\u308B","37","EnvironmentVariablesNodeProperty.displayName=\\u74B0\\u5883\\u5909\\u6570","38","SlaveComputer.DisconnectedBy={0}\\u304C\\u30AA\\u30D5\\u30E9\\u30A4\\u30F3\\u306B\\u3057\\u3066\\u3044\\u307E\\u3059\\u3002{1}"]}],"core\/src\/main\/java\/hudson\/slaves\/NodeDescriptor.java":[{"add":["35","import hudson.model.Failure;","99","        String name = Util.fixEmptyAndTrim(value);","100","        if(name==null)","101","            return FormValidation.error(Messages.NodeDescripter_CheckName_Mandatory());","102","        try {","103","            Hudson.checkGoodName(name);","104","        } catch (Failure f) {","105","            return FormValidation.error(f.getMessage());","106","        }","107","        return FormValidation.ok();"],"delete":["98","        if(Util.fixEmptyAndTrim(value)==null)","99","            return FormValidation.error(\"Name is mandatory\");","100","        else","101","            return FormValidation.ok();"]}]}},"6c2142ccb728798e0ad3f92226b7ea5ac20ce900":{"changes":{"core\/src\/main\/resources\/lib\/form\/descriptorRadioList.jelly":"MODIFY","test\/src\/test\/java\/hudson\/ExtensionListTest.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/DescriptorList.java":"MODIFY","core\/src\/main\/java\/hudson\/DescriptorExtensionList.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/descriptorRadioList.jelly":[{"add":["50","\t  <j:forEach var=\"d\" items=\"${descriptors}\">","51","      <f:radioBlock name=\"${varName}\" help=\"${d.helpFile}\" value=\"${d.id}\""],"delete":["50","\t  <j:forEach var=\"d\" items=\"${descriptors}\" varStatus=\"loop\">","51","      <f:radioBlock name=\"${varName}\" help=\"${d.helpFile}\" value=\"${loop.index}\""]}],"test\/src\/test\/java\/hudson\/ExtensionListTest.java":[{"add":["10","import java.util.HashMap;","11","import java.util.List;","12","import java.util.Map;","20","import hudson.model.Describable;","21","import hudson.model.Descriptor;","22","import hudson.util.DescriptorList;","23","import jenkins.model.Jenkins;","24","import net.sf.json.JSONObject;","25","","179","    @Test","180","    public void newInstanceFromRadioList() throws Exception {","181","        \/\/ test for DescriptorList","182","        Map<String, String> CONFIGMAP = new HashMap<>();","183","        CONFIGMAP.put(\"value\", Tai.class.getName());","184","        JSONObject CONFIG = JSONObject.fromObject(CONFIGMAP);","185","","186","        DescriptorList<Fish> LIST = new DescriptorList<Fish>(Fish.class);","187","        Fish FISH = LIST.newInstanceFromRadioList(CONFIG);","188","        assertTrue(FISH instanceof Tai);","189","","190","        \/\/ test for DescriptorExtensionList","191","        Map<String, String> configMap = new HashMap<>();","192","        configMap.put(\"value\", Saba.class.getName());","193","        JSONObject config = JSONObject.fromObject(configMap);","194","","195","        DescriptorExtensionList<Fish, Descriptor<Fish>> list = j.jenkins.<Fish, Descriptor<Fish>>getDescriptorList(Fish.class);","196","        Fish fish = list.newInstanceFromRadioList(config);","197","        assertTrue(fish instanceof Saba);","198","    }","199",""],"delete":["8","import jenkins.model.Jenkins;","9","import hudson.model.Descriptor;","10","import hudson.model.Describable;","11","import hudson.util.DescriptorList;","13","","14","import java.util.List;"]}],"core\/src\/main\/java\/hudson\/util\/DescriptorList.java":[{"add":["160","        String descriptorId = config.getString(\"value\");","161","        Descriptor<T> d = findByName(descriptorId);","162","        return d != null ? d.newInstance(Stapler.getCurrentRequest(),config) : null;"],"delete":["160","        int idx = config.getInt(\"value\");","161","        return get(idx).newInstance(Stapler.getCurrentRequest(),config);"]}],"core\/src\/main\/java\/hudson\/DescriptorExtensionList.java":[{"add":["142","        String descriptorId = config.getString(\"value\");","143","        Descriptor<T> d = findByName(descriptorId);","144","        return d != null ? d.newInstance(Stapler.getCurrentRequest(),config) : null;"],"delete":["142","        int idx = config.getInt(\"value\");","143","        return get(idx).newInstance(Stapler.getCurrentRequest(),config);"]}]}},"c1621a2bd09533f874c4aff9d193c334ee97078d":{"changes":{"core\/src\/test\/java\/hudson\/model\/FingerprintTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Fingerprint.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/model\/FingerprintTest.java":[{"add":["29","","30","import static org.hamcrest.CoreMatchers.equalTo;","31","import static org.hamcrest.CoreMatchers.is;","264","    @Test public void fromString() throws Exception {","265","        \/\/","266","        \/\/ Single","267","        \/\/","268","        \/\/ Numbers","269","        assertThat(RangeSet.fromString(\"1\", true).toString(), equalTo(\"[1,2)\"));","270","        assertThat(RangeSet.fromString(\"1\", false).toString(), equalTo(\"[1,2)\"));","271","        assertThat(RangeSet.fromString(\"+1\", true).toString(), equalTo(\"[1,2)\"));","272","        assertThat(RangeSet.fromString(\"+1\", false).toString(), equalTo(\"[1,2)\"));","273","        \/\/ Zero","274","        assertThat(RangeSet.fromString(\"0\", true).toString(), equalTo(\"[0,1)\"));","275","        assertThat(RangeSet.fromString(\"0\", false).toString(), equalTo(\"[0,1)\"));","276","        assertThat(RangeSet.fromString(\"+0\", true).toString(), equalTo(\"[0,1)\"));","277","        assertThat(RangeSet.fromString(\"+0\", false).toString(), equalTo(\"[0,1)\"));","278","        \/\/ Negative number","279","        assertThat(RangeSet.fromString(\"-1\", true).toString(), equalTo(\"\"));","280","        assertThat(expectIAE(\"-1\", \"Unable to parse '-1', expected string with a range M-N\"), is(true));","281","        \/\/ Exceeded int number","282","        assertThat(RangeSet.fromString(\"2147483648\", true).toString(), equalTo(\"\"));","283","        assertThat(expectIAE(\"2147483648\", \"Unable to parse '2147483648', expected number\"), is(true));","284","        \/\/ Invalid number","285","        assertThat(RangeSet.fromString(\"1a\", true).toString(), equalTo(\"\"));","286","        assertThat(expectIAE(\"1a\", \"Unable to parse '1a', expected number\"), is(true));","287","        assertThat(RangeSet.fromString(\"aa\", true).toString(), equalTo(\"\"));","288","        assertThat(expectIAE(\"aa\", \"Unable to parse 'aa', expected number\"), is(true));","289","        \/\/Empty","290","        assertThat(RangeSet.fromString(\"\", true).toString(), equalTo(\"\"));","291","        assertThat(RangeSet.fromString(\"\", false).toString(), equalTo(\"\"));","292","        \/\/Space","293","        assertThat(RangeSet.fromString(\" \", true).toString(), equalTo(\"\"));","294","        assertThat(expectIAE(\" \", \"Unable to parse ' ', expected number\"), is(true));","295","        \/\/ Comma","296","        assertThat(RangeSet.fromString(\",\", true).toString(), equalTo(\"\"));","297","        assertThat(RangeSet.fromString(\",\", false).toString(), equalTo(\"\"));","298","        \/\/ Hyphen","299","        assertThat(RangeSet.fromString(\"-\", true).toString(), equalTo(\"\"));","300","        assertThat(expectIAE(\"-\", \"Unable to parse '-', expected string with a range M-N\"), is(true));","301","","302","        \/\/","303","        \/\/ Multiple numbers","304","        \/\/","305","        \/\/ Numbers","306","        assertThat(RangeSet.fromString(\"1,2\", true).toString(), equalTo(\"[1,2),[2,3)\"));","307","        assertThat(RangeSet.fromString(\"1,2\", false).toString(), equalTo(\"[1,2),[2,3)\"));","308","        assertThat(RangeSet.fromString(\"1,+2,5\", true).toString(), equalTo(\"[1,2),[2,3),[5,6)\"));","309","        assertThat(RangeSet.fromString(\"1,+2,5\", false).toString(), equalTo(\"[1,2),[2,3),[5,6)\"));","310","        assertThat(RangeSet.fromString(\"1,1\", true).toString(), equalTo(\"[1,2),[1,2)\"));","311","        assertThat(RangeSet.fromString(\"1,1\", false).toString(), equalTo(\"[1,2),[1,2)\"));","312","        \/\/ Zero","313","        assertThat(RangeSet.fromString(\"0,1,2\", true).toString(), equalTo(\"[0,1),[1,2),[2,3)\"));","314","        assertThat(RangeSet.fromString(\"0,1,2\", false).toString(), equalTo(\"[0,1),[1,2),[2,3)\"));","315","        assertThat(RangeSet.fromString(\"1,0,2\", true).toString(), equalTo(\"[1,2),[0,1),[2,3)\"));","316","        assertThat(RangeSet.fromString(\"1,0,2\", false).toString(), equalTo(\"[1,2),[0,1),[2,3)\"));","317","        assertThat(RangeSet.fromString(\"1,2,0\", true).toString(), equalTo(\"[1,2),[2,3),[0,1)\"));","318","        assertThat(RangeSet.fromString(\"1,2,0\", false).toString(), equalTo(\"[1,2),[2,3),[0,1)\"));","319","        \/\/ Negative number","320","        assertThat(RangeSet.fromString(\"-1,2,3\", true).toString(), equalTo(\"[2,3),[3,4)\"));","321","        assertThat(expectIAE(\"-1,2,3\", \"Unable to parse '-1,2,3', expected string with a range M-N\"), is(true));","322","        assertThat(RangeSet.fromString(\"1,-2,3\", true).toString(), equalTo(\"[1,2),[3,4)\"));","323","        assertThat(expectIAE(\"1,-2,3\", \"Unable to parse '1,-2,3', expected string with a range M-N\"), is(true));","324","        assertThat(RangeSet.fromString(\"1,2,-3\", true).toString(), equalTo(\"[1,2),[2,3)\"));","325","        assertThat(expectIAE(\"1,2,-3\", \"Unable to parse '1,2,-3', expected string with a range M-N\"), is(true));","326","        \/\/ Exceeded int number","327","        assertThat(RangeSet.fromString(\"2147483648,2,3\", true).toString(), equalTo(\"[2,3),[3,4)\"));","328","        assertThat(expectIAE(\"2147483648,1,2\", \"Unable to parse '2147483648,1,2', expected number\"), is(true));","329","        assertThat(RangeSet.fromString(\"1,2147483648,3\", true).toString(), equalTo(\"[1,2),[3,4)\"));","330","        assertThat(expectIAE(\"1,2147483648,2\", \"Unable to parse '1,2147483648,2', expected number\"), is(true));","331","        assertThat(RangeSet.fromString(\"1,2,2147483648\", true).toString(), equalTo(\"[1,2),[2,3)\"));","332","        assertThat(expectIAE(\"1,2,2147483648\", \"Unable to parse '1,2,2147483648', expected number\"), is(true));","333","        \/\/ Invalid number","334","        assertThat(RangeSet.fromString(\"1a,2,3\", true).toString(), equalTo(\"[2,3),[3,4)\"));","335","        assertThat(expectIAE(\"1a,1,2\", \"Unable to parse '1a,1,2', expected number\"), is(true));","336","        assertThat(RangeSet.fromString(\"1,2a,3\", true).toString(), equalTo(\"[1,2),[3,4)\"));","337","        assertThat(expectIAE(\"1,2a,2\", \"Unable to parse '1,2a,2', expected number\"), is(true));","338","        assertThat(RangeSet.fromString(\"1,2,3a\", true).toString(), equalTo(\"[1,2),[2,3)\"));","339","        assertThat(expectIAE(\"1,2,3a\", \"Unable to parse '1,2,3a', expected number\"), is(true));","340","        assertThat(RangeSet.fromString(\"aa,2,3\", true).toString(), equalTo(\"[2,3),[3,4)\"));","341","        assertThat(expectIAE(\"aa,1,2\", \"Unable to parse 'aa,1,2', expected number\"), is(true));","342","        assertThat(RangeSet.fromString(\"1,aa,3\", true).toString(), equalTo(\"[1,2),[3,4)\"));","343","        assertThat(expectIAE(\"1,aa,2\", \"Unable to parse '1,aa,2', expected number\"), is(true));","344","        assertThat(RangeSet.fromString(\"1,2,aa\", true).toString(), equalTo(\"[1,2),[2,3)\"));","345","        assertThat(expectIAE(\"1,2,aa\", \"Unable to parse '1,2,aa', expected number\"), is(true));","346","        \/\/Empty","347","        assertThat(RangeSet.fromString(\",1,2\", true).toString(), equalTo(\"\"));","348","        assertThat(expectIAE(\",1,2\", \"Unable to parse ',1,2', expected correct notation M,N or M-N\"), is(true));","349","        assertThat(RangeSet.fromString(\"1,,2\", true).toString(), equalTo(\"\"));","350","        assertThat(expectIAE(\"1,,2\", \"Unable to parse '1,,2', expected correct notation M,N or M-N\"), is(true));","351","        assertThat(RangeSet.fromString(\"1,2,\", true).toString(), equalTo(\"\"));","352","        assertThat(expectIAE(\"1,2,\", \"Unable to parse '1,2,', expected correct notation M,N or M-N\"), is(true));","353","        \/\/ Space","354","        assertThat(RangeSet.fromString(\" ,1,2\", true).toString(), equalTo(\"[1,2),[2,3)\"));","355","        assertThat(expectIAE(\" ,1,2\", \"Unable to parse ' ,1,2', expected number\"), is(true));","356","        assertThat(RangeSet.fromString(\"1, ,2\", true).toString(), equalTo(\"[1,2),[2,3)\"));","357","        assertThat(expectIAE(\"1, ,2\", \"Unable to parse '1, ,2', expected number\"), is(true));","358","        assertThat(RangeSet.fromString(\"1,2, \", true).toString(), equalTo(\"[1,2),[2,3)\"));","359","        assertThat(expectIAE(\"1,2, \", \"Unable to parse '1,2, ', expected number\"), is(true));","360","        \/\/ Comma","361","        assertThat(RangeSet.fromString(\",,1,2\", true).toString(), equalTo(\"\"));","362","        assertThat(expectIAE(\",,1,2\", \"Unable to parse ',,1,2', expected correct notation M,N or M-N\"), is(true));","363","        assertThat(RangeSet.fromString(\"1,,,2\", true).toString(), equalTo(\"\"));","364","        assertThat(expectIAE(\"1,,,2\", \"Unable to parse '1,,,2', expected correct notation M,N or M-N\"), is(true));","365","        assertThat(RangeSet.fromString(\"1,2,,\", true).toString(), equalTo(\"\"));","366","        assertThat(expectIAE(\"1,2,,\", \"Unable to parse '1,2,,', expected correct notation M,N or M-N\"), is(true));","367","        \/\/ Hyphen","368","        assertThat(RangeSet.fromString(\"-,1,2\", true).toString(), equalTo(\"[1,2),[2,3)\"));","369","        assertThat(expectIAE(\"-,1,2\", \"Unable to parse '-,1,2', expected string with a range M-N\"), is(true));","370","        assertThat(RangeSet.fromString(\"1,-,2\", true).toString(), equalTo(\"[1,2),[2,3)\"));","371","        assertThat(expectIAE(\"1,-,2\", \"Unable to parse '1,-,2', expected string with a range M-N\"), is(true));","372","        assertThat(RangeSet.fromString(\"1,2,-\", true).toString(), equalTo(\"[1,2),[2,3)\"));","373","        assertThat(expectIAE(\"1,2,-\", \"Unable to parse '1,2,-', expected string with a range M-N\"), is(true));","374","","375","        \/\/","376","        \/\/ Single range","377","        \/\/","378","        \/\/ Numbers","379","        assertThat(RangeSet.fromString(\"1-2\", true).toString(), equalTo(\"[1,3)\"));","380","        assertThat(RangeSet.fromString(\"1-2\", false).toString(), equalTo(\"[1,3)\"));","381","        assertThat(RangeSet.fromString(\"+1-+2\", true).toString(), equalTo(\"[1,3)\"));","382","        assertThat(RangeSet.fromString(\"+1-+2\", false).toString(), equalTo(\"[1,3)\"));","383","        assertThat(RangeSet.fromString(\"1-1\", true).toString(), equalTo(\"[1,2)\"));","384","        assertThat(RangeSet.fromString(\"1-1\", false).toString(), equalTo(\"[1,2)\"));","385","        assertThat(RangeSet.fromString(\"+1-+1\", true).toString(), equalTo(\"[1,2)\"));","386","        assertThat(RangeSet.fromString(\"+1-+1\", false).toString(), equalTo(\"[1,2)\"));","387","        assertThat(RangeSet.fromString(\"1-4\", true).toString(), equalTo(\"[1,5)\"));","388","        assertThat(RangeSet.fromString(\"1-4\", false).toString(), equalTo(\"[1,5)\"));","389","        assertThat(RangeSet.fromString(\"+1-+4\", true).toString(), equalTo(\"[1,5)\"));","390","        assertThat(RangeSet.fromString(\"+1-+4\", false).toString(), equalTo(\"[1,5)\"));","391","        \/\/Zero","392","        assertThat(RangeSet.fromString(\"0-1\", true).toString(), equalTo(\"[0,2)\"));","393","        assertThat(RangeSet.fromString(\"0-1\", false).toString(), equalTo(\"[0,2)\"));","394","        assertThat(RangeSet.fromString(\"+0-+1\", true).toString(), equalTo(\"[0,2)\"));","395","        assertThat(RangeSet.fromString(\"+0-+1\", false).toString(), equalTo(\"[0,2)\"));","396","        assertThat(RangeSet.fromString(\"0-2\", true).toString(), equalTo(\"[0,3)\"));","397","        assertThat(RangeSet.fromString(\"0-2\", false).toString(), equalTo(\"[0,3)\"));","398","        assertThat(RangeSet.fromString(\"+0-+2\", true).toString(), equalTo(\"[0,3)\"));","399","        assertThat(RangeSet.fromString(\"+0-+2\", false).toString(), equalTo(\"[0,3)\"));","400","        assertThat(RangeSet.fromString(\"0--1\", true).toString(), equalTo(\"\"));","401","        assertThat(expectIAE(\"0--1\", \"Unable to parse '0--1', expected correct notation M,N or M-N\"), is(true));","402","        assertThat(RangeSet.fromString(\"+0--1\", true).toString(), equalTo(\"\"));","403","        assertThat(expectIAE(\"+0--1\", \"Unable to parse '+0--1', expected correct notation M,N or M-N\"), is(true));","404","        assertThat(RangeSet.fromString(\"0--2\", true).toString(), equalTo(\"\"));","405","        assertThat(expectIAE(\"0--2\", \"Unable to parse '0--2', expected correct notation M,N or M-N\"), is(true));","406","        assertThat(RangeSet.fromString(\"+0--2\", true).toString(), equalTo(\"\"));","407","        assertThat(expectIAE(\"+0--2\", \"Unable to parse '+0--2', expected correct notation M,N or M-N\"), is(true));","408","        assertThat(RangeSet.fromString(\"1-0\", true).toString(), equalTo(\"\"));","409","        assertThat(expectIAE(\"1-0\", \"Unable to parse '1-0', expected string with a range M-N where M<N\"), is(true));","410","        assertThat(RangeSet.fromString(\"+1-+0\", true).toString(), equalTo(\"\"));","411","        assertThat(expectIAE(\"+1-+0\", \"Unable to parse '+1-+0', expected string with a range M-N where M<N\"), is(true));","412","        assertThat(RangeSet.fromString(\"2-0\", true).toString(), equalTo(\"\"));","413","        assertThat(expectIAE(\"2-0\", \"Unable to parse '2-0', expected string with a range M-N where M<N\"), is(true));","414","        assertThat(RangeSet.fromString(\"+2-+0\", true).toString(), equalTo(\"\"));","415","        assertThat(expectIAE(\"+2-+0\", \"Unable to parse '+2-+0', expected string with a range M-N where M<N\"), is(true));","416","        assertThat(RangeSet.fromString(\"-1-0\", true).toString(), equalTo(\"\"));","417","        assertThat(expectIAE(\"-1-0\", \"Unable to parse '-1-0', expected correct notation M,N or M-N\"), is(true));","418","        assertThat(RangeSet.fromString(\"-1-+0\", true).toString(), equalTo(\"\"));","419","        assertThat(expectIAE(\"-1-+0\", \"Unable to parse '-1-+0', expected correct notation M,N or M-N\"), is(true));","420","        assertThat(RangeSet.fromString(\"-2-0\", true).toString(), equalTo(\"\"));","421","        assertThat(expectIAE(\"-2-0\", \"Unable to parse '-2-0', expected correct notation M,N or M-N\"), is(true));","422","        assertThat(RangeSet.fromString(\"-2-+0\", true).toString(), equalTo(\"\"));","423","        assertThat(expectIAE(\"-2-+0\", \"Unable to parse '-2-+0', expected correct notation M,N or M-N\"), is(true));","424","        assertThat(RangeSet.fromString(\"0-0\", true).toString(), equalTo(\"[0,1)\"));","425","        assertThat(RangeSet.fromString(\"0-0\", false).toString(), equalTo(\"[0,1)\"));","426","        assertThat(RangeSet.fromString(\"+0-+0\", true).toString(), equalTo(\"[0,1)\"));","427","        assertThat(RangeSet.fromString(\"+0-+0\", false).toString(), equalTo(\"[0,1)\"));","428","        \/\/ Negative number","429","        assertThat(RangeSet.fromString(\"-1-1\", true).toString(), equalTo(\"\"));","430","        assertThat(expectIAE(\"-1-1\", \"Unable to parse '-1-1', expected correct notation M,N or M-N\"), is(true));","431","        assertThat(RangeSet.fromString(\"-1-+1\", true).toString(), equalTo(\"\"));","432","        assertThat(expectIAE(\"-1-+1\", \"Unable to parse '-1-+1', expected correct notation M,N or M-N\"), is(true));","433","        assertThat(RangeSet.fromString(\"-1-2\", true).toString(), equalTo(\"\"));","434","        assertThat(expectIAE(\"-1-2\", \"Unable to parse '-1-2', expected correct notation M,N or M-N\"), is(true));","435","        assertThat(RangeSet.fromString(\"-1-+2\", true).toString(), equalTo(\"\"));","436","        assertThat(expectIAE(\"-1-+2\", \"Unable to parse '-1-+2', expected correct notation M,N or M-N\"), is(true));","437","        assertThat(RangeSet.fromString(\"1--1\", true).toString(), equalTo(\"\"));","438","        assertThat(expectIAE(\"1--1\", \"Unable to parse '1--1', expected correct notation M,N or M-N\"), is(true));","439","        assertThat(RangeSet.fromString(\"+1--1\", true).toString(), equalTo(\"\"));","440","        assertThat(expectIAE(\"+1--1\", \"Unable to parse '+1--1', expected correct notation M,N or M-N\"), is(true));","441","        assertThat(RangeSet.fromString(\"1--2\", true).toString(), equalTo(\"\"));","442","        assertThat(expectIAE(\"1--2\", \"Unable to parse '1--2', expected correct notation M,N or M-N\"), is(true));","443","        assertThat(RangeSet.fromString(\"+1--2\", true).toString(), equalTo(\"\"));","444","        assertThat(expectIAE(\"+1--2\", \"Unable to parse '+1--2', expected correct notation M,N or M-N\"), is(true));","445","        assertThat(RangeSet.fromString(\"-1--1\", true).toString(), equalTo(\"\"));","446","        assertThat(expectIAE(\"-1--1\", \"Unable to parse '-1--1', expected correct notation M,N or M-N\"), is(true));","447","        assertThat(RangeSet.fromString(\"-2--1\", true).toString(), equalTo(\"\"));","448","        assertThat(expectIAE(\"-2--1\", \"Unable to parse '-2--1', expected correct notation M,N or M-N\"), is(true));","449","        \/\/ Exceeded int number","450","        assertThat(RangeSet.fromString(\"0-2147483648\", true).toString(), equalTo(\"\"));","451","        assertThat(expectIAE(\"0-2147483648\", \"Unable to parse '0-2147483648', expected number\"), is(true));","452","        assertThat(RangeSet.fromString(\"2147483648-0\", true).toString(), equalTo(\"\"));","453","        assertThat(expectIAE(\"2147483648-0\", \"Unable to parse '2147483648-0', expected number\"), is(true));","454","        assertThat(RangeSet.fromString(\"2147483648-2147483648\", true).toString(), equalTo(\"\"));","455","        assertThat(expectIAE(\"2147483648-2147483648\", \"Unable to parse '2147483648-2147483648', expected number\"), is(true));","456","        \/\/ Invalid number","457","        assertThat(RangeSet.fromString(\"1-2a\", true).toString(), equalTo(\"\"));","458","        assertThat(expectIAE(\"1-2a\", \"Unable to parse '1-2a', expected number\"), is(true));","459","        assertThat(RangeSet.fromString(\"2a-2\", true).toString(), equalTo(\"\"));","460","        assertThat(expectIAE(\"2a-2\", \"Unable to parse '2a-2', expected number\"), is(true));","461","        assertThat(RangeSet.fromString(\"2a-2a\", true).toString(), equalTo(\"\"));","462","        assertThat(expectIAE(\"2a-2a\", \"Unable to parse '2a-2a', expected number\"), is(true));","463","        assertThat(RangeSet.fromString(\"aa-2\", true).toString(), equalTo(\"\"));","464","        assertThat(expectIAE(\"aa-2\", \"Unable to parse 'aa-2', expected number\"), is(true));","465","        assertThat(RangeSet.fromString(\"1-aa\", true).toString(), equalTo(\"\"));","466","        assertThat(expectIAE(\"1-aa\", \"Unable to parse '1-aa', expected number\"), is(true));","467","        assertThat(RangeSet.fromString(\"aa-aa\", true).toString(), equalTo(\"\"));","468","        assertThat(expectIAE(\"aa-aa\", \"Unable to parse 'aa-aa', expected number\"), is(true));","469","        \/\/ Empty","470","        assertThat(RangeSet.fromString(\"-1\", true).toString(), equalTo(\"\"));","471","        assertThat(expectIAE(\"-1\", \"Unable to parse '-1', expected string with a range M-N\"), is(true));","472","        assertThat(RangeSet.fromString(\"1-\", true).toString(), equalTo(\"\"));","473","        assertThat(expectIAE(\"1-\", \"Unable to parse '1-', expected string with a range M-N\"), is(true));","474","        assertThat(RangeSet.fromString(\"-\", true).toString(), equalTo(\"\"));","475","        assertThat(expectIAE(\"-\", \"Unable to parse '-', expected string with a range M-N\"), is(true));","476","        \/\/ Space","477","        assertThat(RangeSet.fromString(\" -1\", true).toString(), equalTo(\"\"));","478","        assertThat(expectIAE(\" -1\", \"Unable to parse ' -1', expected string with a range M-N\"), is(true));","479","        assertThat(RangeSet.fromString(\"1- \", true).toString(), equalTo(\"\"));","480","        assertThat(expectIAE(\"1- \", \"Unable to parse '1- ', expected string with a range M-N\"), is(true));","481","        assertThat(RangeSet.fromString(\" - \", true).toString(), equalTo(\"\"));","482","        assertThat(expectIAE(\" - \", \"Unable to parse ' - ', expected string with a range M-N\"), is(true));","483","        \/\/ Comma","484","        assertThat(RangeSet.fromString(\",-1\", true).toString(), equalTo(\"\"));","485","        assertThat(expectIAE(\",-1\", \"Unable to parse ',-1', expected string with a range M-N\"), is(true));","486","        assertThat(RangeSet.fromString(\"1-,\", true).toString(), equalTo(\"\"));","487","        assertThat(expectIAE(\"1-,\", \"Unable to parse '1-,', expected string with a range M-N\"), is(true));","488","        assertThat(RangeSet.fromString(\",-,\", true).toString(), equalTo(\"\"));","489","        assertThat(expectIAE(\",-,\", \"Unable to parse ',-,', expected string with a range M-N\"), is(true));","490","        \/\/ Hyphen","491","        assertThat(RangeSet.fromString(\"--1\", true).toString(), equalTo(\"\"));","492","        assertThat(expectIAE(\"--1\", \"Unable to parse '--1', expected correct notation M,N or M-N\"), is(true));","493","        assertThat(RangeSet.fromString(\"1--\", true).toString(), equalTo(\"\"));","494","        assertThat(expectIAE(\"1--\", \"Unable to parse '1--', expected correct notation M,N or M-N\"), is(true));","495","        assertThat(RangeSet.fromString(\"---\", true).toString(), equalTo(\"\"));","496","        assertThat(expectIAE(\"---\", \"Unable to parse '---', expected correct notation M,N or M-N\"), is(true));","497","        \/\/ Inverse range","498","        assertThat(RangeSet.fromString(\"2-1\", true).toString(), equalTo(\"\"));","499","        assertThat(expectIAE(\"2-1\", \"Unable to parse '2-1', expected string with a range M-N where M<N\"), is(true));","500","        assertThat(RangeSet.fromString(\"10-1\", true).toString(), equalTo(\"\"));","501","        assertThat(expectIAE(\"10-1\", \"Unable to parse '10-1', expected string with a range M-N where M<N\"), is(true));","502","        assertThat(RangeSet.fromString(\"-1--2\", true).toString(), equalTo(\"\"));","503","        assertThat(expectIAE(\"-1--2\", \"Unable to parse '-1--2', expected correct notation M,N or M-N\"), is(true));","504","        \/\/ Invalid range","505","        assertThat(RangeSet.fromString(\"1-3-\", true).toString(), equalTo(\"\"));","506","        assertThat(expectIAE(\"1-3-\", \"Unable to parse '1-3-', expected correct notation M,N or M-N\"), is(true));","507","","508","        \/\/","509","        \/\/ Multiple ranges","510","        \/\/","511","        assertThat(RangeSet.fromString(\"1-3,3-5\", true).toString(), equalTo(\"[1,4),[3,6)\"));","512","        assertThat(RangeSet.fromString(\"1-3,4-6\", true).toString(), equalTo(\"[1,4),[4,7)\"));","513","        assertThat(RangeSet.fromString(\"1-3,5-7\", true).toString(), equalTo(\"[1,4),[5,8)\"));","514","        assertThat(RangeSet.fromString(\"1-3,2-3\", true).toString(), equalTo(\"[1,4),[2,4)\"));","515","        assertThat(RangeSet.fromString(\"1-5,2-3\", true).toString(), equalTo(\"[1,6),[2,4)\"));","516","    }","517","    private boolean expectIAE(final String expr, final String msg) {","518","        try {","519","            RangeSet.fromString(expr, false);","520","        } catch (Throwable e) {","521","            if (e instanceof IllegalArgumentException) {","522","                if (e.getMessage().isEmpty()) {","523","                    return msg.isEmpty();","524","                }","525","                else {","526","                    return msg.isEmpty() ? false : e.getMessage().contains(msg);","527","                }","528","            }","529","        }","530","        \/\/ Exception wasn't throws or thrown Exception wasn't an instance of IllegalArgumentException","531","        fail(\"Should never be here\");","532","        return false;","533","    }"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Fingerprint.java":[{"add":["52","import org.apache.commons.lang.StringUtils;","690","","691","            \/\/ Reject malformed ranges like \"1---10\", \"1,,,,3\" etc.","692","            if (list.contains(\"--\") || list.contains(\",,\")) {","693","                if (!skipError) {","694","                    throw new IllegalArgumentException(","695","                            String.format(\"Unable to parse '%s', expected correct notation M,N or M-N\", list));","696","                }","697","                \/\/ ignore malformed notation","698","                return rs;","699","            }","700","","701","            String[] items = Util.tokenize(list,\",\");","702","            if(items.length > 1 && items.length <= StringUtils.countMatches(list, \",\")) {","703","                if (!skipError) {","704","                    throw new IllegalArgumentException(","705","                            String.format(\"Unable to parse '%s', expected correct notation M,N or M-N\", list));","706","                }","707","                \/\/ ignore malformed notation like \",1,2\" or \"1,2,\"","708","                return rs;","709","            }","710","","711","            for (String s : items) {","716","                    if (s.isEmpty()) {","717","                        if (!skipError) {","718","                            throw new IllegalArgumentException(","719","                                    String.format(\"Unable to parse '%s', expected number\", list));                        }","720","                        \/\/ ignore \"\" element","721","                        continue;","722","                    }","723","","725","                        if(StringUtils.countMatches(s, \"-\") > 1) {","726","                            if (!skipError) {","727","                                throw new IllegalArgumentException(String.format(","728","                                        \"Unable to parse '%s', expected correct notation M,N or M-N\", list));","729","                            }","730","                            \/\/ ignore malformed ranges like \"-5-2\" or \"2-5-\"","731","                            continue;","732","                        }","735","                            int left = Integer.parseInt(tokens[0]);","736","                            int right = Integer.parseInt(tokens[1]);","737","                            if(left < 0 || right < 0) {","738","                                if (!skipError) {","739","                                    throw new IllegalArgumentException(","740","                                            String.format(\"Unable to parse '%s', expected number above zero\", list));","741","                                }","742","                                \/\/ ignore a range which starts or ends under zero like \"-5-3\"","743","                                continue;","744","                            }","745","                            if(left > right) {","746","                                if (!skipError) {","747","                                    throw new IllegalArgumentException(String.format(","748","                                            \"Unable to parse '%s', expected string with a range M-N where M<N\", list));","749","                                }","750","                                \/\/ ignore inverse range like \"10-5\"","751","                                continue;","752","                            }","753","                            rs.ranges.add(new Range(left, right+1));","757","                                        String.format(\"Unable to parse '%s', expected string with a range M-N\", list));","760","                            continue;","769","                                String.format(\"Unable to parse '%s', expected number\", list));"],"delete":["689","            for (String s : Util.tokenize(list,\",\")) {","697","                            rs.ranges.add(new Range(Integer.parseInt(tokens[0]), Integer.parseInt(tokens[1]) + 1));","701","                                        String.format(\"Unable to parse %s, expected string with a range M-N\", list));","712","                                String.format(\"Unable to parse %s, expected number\", list));"]}]}},"67ab54db963dc66a08bd56cc500509da7ea5816a":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["46","  <li class=bug> NPE while parsing POMs","47","   (<a href=\"http:\/\/issues.hudson-ci.org\/browse\/HUDSON-8391\">issue 8391<\/a>)   "],"delete":[]}]}},"73bf0e5b4f1c038101e284ee8adfb56b0760addc":{"changes":{"core\/src\/main\/java\/hudson\/model\/Label.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Label.java":[{"add":["337","        for (AbstractProject<?,?> p : Jenkins.getInstance().getAllItems(AbstractProject.class)) {","343",""],"delete":["337","        for (AbstractProject<?,?> p : Jenkins.getInstance().getItems(AbstractProject.class)) {","343","    "]}],"changelog.html":[{"add":[],"delete":["75","    \"projects tied to slave\" shows unrelated maven module jobs","76","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-17451\">issue 17451<\/a>)","77","  <li class='bug'>"]}]}},"922b2c7f2174b6e6c3dec9c83ec8c800b2b58307":{"changes":{"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/configure-entries_fr.properties":"MODIFY"},"diff":{"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/configure-entries_fr.properties":[{"add":["42","Add\\ post-build\\ step=Ajouter une \\u00E9tape post-build"],"delete":["42","Add\\ post-build\\ step=Ajouter une \\u00E9tape pr\\u00E9-build"]}]}},"1d737f32dfdb9b48ae219475a2de2e6e70d54d7f":{"changes":{"core\/src\/main\/resources\/hudson\/cli\/Messages_it.properties":"MODIFY","core\/src\/main\/resources\/hudson\/cli\/Messages_ja.properties":"MODIFY","core\/src\/main\/resources\/hudson\/cli\/Messages_bg.properties":"MODIFY","core\/src\/main\/resources\/hudson\/cli\/Messages_sr.properties":"MODIFY","core\/src\/main\/resources\/hudson\/cli\/Messages_de.properties":"MODIFY","core\/src\/main\/resources\/hudson\/cli\/Messages.properties":"MODIFY","core\/src\/main\/resources\/hudson\/cli\/Messages_pt_BR.properties":"MODIFY","core\/src\/main\/resources\/hudson\/cli\/Messages_zh_TW.properties":"MODIFY","core\/src\/main\/resources\/hudson\/cli\/Messages_es.properties":"MODIFY","core\/src\/main\/resources\/hudson\/cli\/Messages_lt.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/cli\/Messages_it.properties":[{"add":[],"delete":["26","MailCommand.ShortDescription=Legge lo standard input e lo invia come messaggio di posta elettronica."]}],"core\/src\/main\/resources\/hudson\/cli\/Messages_ja.properties":[{"add":[],"delete":["33","MailCommand.ShortDescription=\\","34"," \\u6a19\\u6e96\\u5165\\u529b\\u306e\\u5185\\u5bb9\\u3092\\u30e1\\u30fc\\u30eb\\u3068\\u3057\\u3066\\u9001\\u4fe1\\u3057\\u307e\\u3059\\u3002"]}],"core\/src\/main\/resources\/hudson\/cli\/Messages_bg.properties":[{"add":[],"delete":["72","MailCommand.ShortDescription=\\","73"," \\u0418\\u0437\\u0447\\u0438\\u0442\\u0430\\u043d\\u0435 \\u043d\\u0430 \\u0441\\u0442\\u0430\\u043d\\u0434\\u0430\\u0440\\u0442\\u043d\\u0438\\u044f \\u0432\\u0445\\u043e\\u0434 \\u0438 \\u0438\\u0437\\u043f\\u0440\\u0430\\u0449\\u0430\\u043d\\u0435 \\u043f\\u043e \\u0435-\\u043f\\u043e\\u0449\\u0430."]}],"core\/src\/main\/resources\/hudson\/cli\/Messages_sr.properties":[{"add":[],"delete":["26","MailCommand.ShortDescription=\\u0418\\u0437\\u0447\\u0438\\u0442\\u0430 stdin \\u0438 \\u043F\\u043E\\u0448\\u0430\\u0459\\u0435 \\u0441\\u0430\\u0434\\u0440\\u0436\\u0430\\u0458 \\u043F\\u0440\\u0435\\u043A\\u043E \\u0435-\\u043F\\u043E\\u0448\\u0442\\u0435."]}],"core\/src\/main\/resources\/hudson\/cli\/Messages_de.properties":[{"add":[],"delete":["38","MailCommand.ShortDescription=Liest eine Nachricht von der Standardeingabe (stdin) und versendet sie als E-Mail"]}],"core\/src\/main\/resources\/hudson\/cli\/Messages.properties":[{"add":[],"delete":["46","MailCommand.ShortDescription=\\","47"," Reads stdin and sends that out as an e-mail."]}],"core\/src\/main\/resources\/hudson\/cli\/Messages_pt_BR.properties":[{"add":[],"delete":["48","# Reads stdin and sends that out as an e-mail.","49","MailCommand.ShortDescription=L\\u00ea a stdin e envia como um e-mail."]}],"core\/src\/main\/resources\/hudson\/cli\/Messages_zh_TW.properties":[{"add":[],"delete":["51","MailCommand.ShortDescription=\\","52"," \\u8b80\\u53d6 stdin \\u4e26\\u5c07\\u7d50\\u679c\\u4ee5 e-mail \\u65b9\\u5f0f\\u50b3\\u9001\\u3002"]}],"core\/src\/main\/resources\/hudson\/cli\/Messages_es.properties":[{"add":[],"delete":["35","MailCommand.ShortDescription=Lee de la entrada estndard, y lo enva por email."]}],"core\/src\/main\/resources\/hudson\/cli\/Messages_lt.properties":[{"add":[],"delete":["40","MailCommand.ShortDescription=\\","41"," Skaito stdin ir i\\u0161siun\\u010dia kaip e-pa\\u0161t\\u0105."]}]}},"b2c1a8def4fbae3a2ed998359be5ba2a0d6a4efc":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["251","    <dependency>","252","      <groupId>org.apache.maven<\/groupId>","253","      <artifactId>maven-core<\/artifactId>","254","      <version>2.0.9<\/version>","255","    <\/dependency>"],"delete":[]}]}},"80e9f3f50c3425c9b9b2bfdb58b03a1f1bd10aa3":{"changes":{"core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["306","            if (!ALLOW_NON_EXISTENT_USER_TO_LOGIN)","307","                throw e;","979","    \/**","980","     * Jenkins now refuses to let the user login if he\/she doesn't exist in {@link SecurityRealm},","981","     * which was necessary to make sure users removed from the backend will get removed from the frontend.","982","     * <p>","983","     * Unfortunately this infringed some legitimate use cases of creating Jenkins-local users for","984","     * automation purposes. This escape hatch switch can be enabled to resurrect that behaviour.","985","     *","986","     * JENKINS-22346.","987","     *\/","988","    public static boolean ALLOW_NON_EXISTENT_USER_TO_LOGIN = Boolean.getBoolean(User.class.getName()+\".allowNonExistentUserToLogin\");"],"delete":["306","            throw e;"]}],"changelog.html":[{"add":["81","  <li class=rfe>","82","    Added a switch (<tt>-Dhudson.model.User.allowNonExistentUserToLogin=true<\/tt>) to let users login even when the record is not found in the backend security realm.","83","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-22346\">issue 22346<\/a>)"],"delete":[]}]}},"01db7d36c83674dcf8fdfea9ba4e8df6a6d17a54":{"changes":{"core\/src\/main\/resources\/hudson\/model\/UsageStatistics\/footer.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/UsageStatistics\/footer.jelly":[{"add":["36","        loadScript(\"https:\/\/usage.jenkins.io\/usage-stats.js?${it.statData}\");"],"delete":["36","        loadScript(\"${app.isRootUrlSecure()?'https':'http'}:\/\/usage.jenkins-ci.org\/usage-stats.js?${it.statData}\");"]}]}},"d4c379ed8f7169b1475e54efd648fa6d2b7d3a83":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["65","  <li class='major bug'>","66","    Fixed a regression in 1.421 that broke CentOS installations.","67","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-10354\">issue 10354<\/a>)"],"delete":[]}]}},"4b6da0c3e4dfbb402d86f7a5124ca6e323b2c959":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["103","      <version>5.3<\/version>"],"delete":["103","      <version>5.8<\/version>"]}]}},"87eeedc4d3bcd084e3d866f4d328e7b0900d4ef6":{"changes":{"core\/src\/main\/java\/hudson\/Main.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Main.java":[{"add":["29","import java.io.BufferedReader;","34","import java.io.InputStreamReader;","113","        \/\/ get a crumb to pass the csrf check","114","        String crumbField = null, crumbValue = null;","115","        try {","116","            HttpURLConnection con = open(new URL(home +","117","                    \"crumbIssuer\/api\/xml?xpath=concat(\/\/crumbRequestField,\\\":\\\",\/\/crumb)'\"));","118","            if (auth != null) con.setRequestProperty(\"Authorization\", auth);","119","            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));","120","            String line = in.readLine();","121","            in.close();","122","            String[] components = line.split(\":\");","123","            if (components.length == 2) {","124","                crumbField = components[0];","125","                crumbValue = components[1];","126","            }","127","        } catch (IOException e) {","128","            \/\/ presumably this Hudson doesn't use CSRF protection","129","        }","130","","161","                    if (crumbField != null && crumbValue != null) {","162","                        con.setRequestProperty(crumbField, crumbValue);","163","                    }"],"delete":[]}]}},"0f61ee2ca0187305f197dbddccee4c52d11fbc29":{"changes":{"core\/src\/main\/resources\/hudson\/security\/LDAPSecurityRealm\/config.jelly":"MODIFY","war\/resources\/WEB-INF\/security\/LDAPBindSecurityRealm.groovy":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/security\/LDAPSecurityRealm\/config.jelly":[{"add":["3","            checkUrl=\"'${rootURL}\/securityRealms\/LDAPSecurityRealm\/serverCheck?field=server&amp;server='+escape(this.value)+'&amp;managerDN='+escape(this.form.elements['ldap.managerDN'].value)+'&amp;managerPassword='+escape(this.form.elements['ldap.managerPassword'].value)\"\/>","17","      checkUrl=\"'${rootURL}\/securityRealms\/LDAPSecurityRealm\/serverCheck?field=managerDN&amp;server='+escape(this.form.elements['ldap.server'].value)+'&amp;managerDN='+escape(this.value)+'&amp;managerPassword='+escape(this.form.elements['ldap.managerPassword'].value)\"","22","      checkUrl=\"'${rootURL}\/securityRealms\/LDAPSecurityRealm\/serverCheck?field=password&amp;server='+escape(this.form.elements['ldap.server'].value)+'&amp;managerDN='+escape(this.form.elements['ldap.managerDN'].value)+'&amp;managerPassword='+escape(this.value)\" "],"delete":["3","            checkUrl=\"'${rootURL}\/securityRealms\/LDAPSecurityRealm\/serverCheck?server='+escape(this.value)+'&amp;managerDN='+escape(this.form.elements['ldap.managerDN'].value)+'&amp;managerPassword='+escape(this.form.elements['ldap.managerPassword'].value)\"\/>","17","      checkUrl=\"'${rootURL}\/securityRealms\/LDAPSecurityRealm\/serverCheck?server='+escape(this.form.elements['ldap.server'].value)+'&amp;managerDN='+escape(this.value)+'&amp;managerPassword='+escape(this.form.elements['ldap.managerPassword'].value)\" ","22","      checkUrl=\"'${rootURL}\/securityRealms\/LDAPSecurityRealm\/serverCheck?server='+escape(this.form.elements['ldap.server'].value)+'&amp;managerDN='+escape(this.form.elements['ldap.managerDN'].value)+'&amp;managerPassword='+escape(this.value)\" "]}],"war\/resources\/WEB-INF\/security\/LDAPBindSecurityRealm.groovy":[{"add":["18","  if(instance.managerDN!=null) {","19","    managerDn = instance.managerDN;","20","    managerPassword = instance.getManagerPassword();","21","  }"],"delete":["18","","19","  \/\/ if anonymous bind is not allowed --- but what is the use of anonymous bind?","20","  \/\/ managerDn = \"...\"","21","  \/\/ managerPassword=\"...\""]}]}},"ab421b59d2752e3d6eef143c60f9cdc65f52c990":{"changes":{"core\/src\/main\/java\/hudson\/ExtensionFinder.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/ExtensionFinder.java":[{"add":["180","            } catch (Throwable e) {"],"delete":["180","            } catch (CreationException e) {"]}]}},"ac80ef27ddd8307d3f57d1185868ac8d92df88a1":{"changes":{"test\/src\/test\/java\/hudson\/model\/ApiTest.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/ApiTest.java":[{"add":["31","import org.junit.Ignore;","52","    @Ignore(\"TODO currently serves application\/json\")","53","    @Issue(\"JENKINS-27607\")","54","    @Test public void json() throws Exception {","55","        FreeStyleProject p = j.createFreeStyleProject(\"p\");","56","        JenkinsRule.WebClient wc = j.createWebClient();","57","        assertEquals(\"{\\\"name\\\":\\\"p\\\"}\", wc.goTo(p.getUrl() + \"api\/json?tree=name\", \"application\/json\").getWebResponse().getContentAsString());","58","        assertEquals(\"wrap({\\\"name\\\":\\\"p\\\"})\", wc.goTo(p.getUrl() + \"api\/json?tree=name&jsonp=wrap\", \"application\/javascript\").getWebResponse().getContentAsString());","59","    }","60",""],"delete":[]}]}},"c04e63d9f0c0b1a3b0683e64838c685cdddcd265":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY","core\/src\/main\/java\/hudson\/slaves\/WorkspaceList.java":"ADD","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenBuildProxy2.java":"MODIFY","core\/src\/main\/resources\/lib\/form\/optionalBlock.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractItem\/help-concurrentBuild.html":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/TestResult.java":"MODIFY","core\/src\/main\/java\/hudson\/widgets\/HistoryWidget.java":"MODIFY","test\/src\/test\/java\/hudson\/tasks\/ArtifactArchiverTest.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/junit\/JUnitResultArchiver.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/test\/AggregatedTestResultPublisher.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Executor.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildStep.java":"MODIFY","core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/FreeStyleBuild.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/Fingerprinter.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/RedeployPublisher.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/Maven.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Computer.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Node.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/FreeStyleProject.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/CheckPoint.java":"ADD","core\/src\/main\/java\/hudson\/matrix\/MatrixRun.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/FormFieldValidator.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/JavadocArchiver.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Job\/configure.jelly":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildStepMonitor.java":"ADD","test\/src\/test\/java\/hudson\/util\/ProcessTreeKillerTest.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildStepCompatibilityLayer.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenBuild.java":"MODIFY","concurrent-build-branch-note.txt":"ADD","core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/SequentialExecutionQueue.java":"ADD","core\/src\/main\/java\/hudson\/model\/Build.java":"MODIFY","core\/src\/main\/java\/hudson\/scm\/SCM.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/Builder.java":"MODIFY","core\/src\/main\/java\/hudson\/matrix\/MatrixConfiguration.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/MailSender.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/RunnerStack.java":"ADD","core\/src\/main\/java\/hudson\/tasks\/ArtifactArchiver.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractItem\/configure-common.jelly":"MODIFY","core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/Mailer.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenRedeployer.java":"MODIFY","test\/src\/test\/java\/hudson\/tasks\/junit\/CaseResultTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/java\/hudson\/FileSystemProvisioner.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/JobProperty.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/CommandInterpreter.java":"MODIFY","core\/src\/main\/resources\/lib\/form\/checkbox.jelly":"MODIFY","test\/src\/test\/java\/hudson\/model\/AbstractProjectTest.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/FileParameterValue.java":"MODIFY","test\/src\/test\/java\/hudson\/tasks\/LogRotatorTest.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/InterceptingProxy.java":"ADD","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModule.java":"MODIFY","core\/src\/main\/java\/hudson\/triggers\/SCMTrigger.java":"MODIFY","core\/src\/main\/resources\/hudson\/widgets\/HistoryWidget\/entry.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":[{"add":["151","        FilePath buildFilePath = buildFilePath(build.getModuleRoot(), buildFile, targets);","160","            FilePath buildFilePath2 = buildFilePath(build.getWorkspace(), buildFile, targets);"],"delete":["128","        AbstractProject proj = build.getProject();","129","","130","        ","154","        FilePath buildFilePath = buildFilePath(proj.getModuleRoot(), buildFile, targets);","163","            FilePath buildFilePath2 = buildFilePath(proj.getWorkspace(), buildFile, targets);"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["440","                        FilePath pom = getModuleRoot().child(rootPOM);","441","                        FilePath parentLoc = getWorkspace().child(rootPOM);","450","                            margs.add(\"-Dmaven.repo.local=\"+getWorkspace().child(\".repository\"));","532","                poms = getModuleRoot().act(new PomParser(listener, mvn, project));"],"delete":["440","                        FilePath pom = project.getModuleRoot().child(rootPOM);","441","                        FilePath parentLoc = project.getWorkspace().child(rootPOM);","450","                            margs.add(\"-Dmaven.repo.local=\"+project.getWorkspace().child(\".repository\"));","532","                poms = project.getModuleRoot().act(new PomParser(listener, mvn, project));"]}],"core\/src\/main\/java\/hudson\/slaves\/WorkspaceList.java":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenBuildProxy2.java":[{"add":["32","public interface MavenBuildProxy2 extends MavenBuildProxy {"],"delete":["32","interface MavenBuildProxy2 extends MavenBuildProxy {"]}],"core\/src\/main\/resources\/lib\/form\/optionalBlock.jelly":[{"add":["28","    <st:attribute name=\"name\">","35","    <st:attribute name=\"title\">","38","    <st:attribute name=\"field\">","39","      Used for databinding. TBD. Either this or @name\/@title combo is required.","40","    <\/st:attribute>","41","    <st:attribute name=\"checked\">","52","  <j:if test=\"${attrs.help==null}\">","53","    <!-- infer the help page from the current descriptor and field if possible -->","54","    <j:set target=\"${attrs}\" property=\"help\"","55","           value=\"${descriptor.getHelpFile(attrs.field)}\" \/>","56","  <\/j:if>","60","      <f:checkbox name=\"${attrs.name}\" onclick=\"javascript:updateOptionalBlock(this,true)\"","61","                  negative=\"${attrs.negative}\" checked=\"${attrs.checked}\" field=\"${attrs.field}\" \/>","67","        <a href=\"#\" class=\"help-button\" helpURL=\"${rootURL}${attrs.help}\"><img src=\"${imagesURL}\/16x16\/help.gif\" alt=\"Help for feature: ${title}\" \/><\/a>"],"delete":["28","    <st:attribute name=\"name\" use=\"required\">","35","    <st:attribute name=\"title\" use=\"required\">","38","    <st:attribute name=\"checked\" use=\"required\">","52","      <f:checkbox name=\"${name}\" onclick=\"javascript:updateOptionalBlock(this,true)\"","53","                  negative=\"${attrs.negative}\" checked=\"${checked}\" \/>","59","        <a href=\"#\" class=\"help-button\" helpURL=\"${rootURL}${help}\"><img src=\"${imagesURL}\/16x16\/help.gif\" alt=\"Help for feature: ${title}\" \/><\/a>"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractItem\/help-concurrentBuild.html":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/TestResult.java":[{"add":["110","            if(buildTime-3000\/*error margin*\/ <= reportFile.lastModified()) {"],"delete":["110","            if(buildTime-1000\/*error margin*\/ <= reportFile.lastModified()) {"]}],"core\/src\/main\/java\/hudson\/widgets\/HistoryWidget.java":[{"add":["50","     * The given data model of records. Newer ones first.","71","     * First transient build record. Everything >= this will be discarded when AJAX call is made.","72","     *\/","73","    private String firstTransientBuildKey;","74","","75","    \/**","97","    public String getFirstTransientBuildKey() {","98","        return firstTransientBuildKey;","99","    }","100","","101","    private Iterable<T> updateFirstTransientBuildKey(Iterable<T> source) {","102","        String key=null;","103","        for (T t : source)","104","            if(adapter.isBuilding(t))","105","                key = adapter.getKey(t);","106","        firstTransientBuildKey = key;","107","        return source;","108","    }","109","","121","                return updateFirstTransientBuildKey(lst);","127","                trimmed = itr.hasNext(); \/\/ if we don't have enough items in the base list, setting this to false will optimize the next getRenderList() invocation.","128","                return updateFirstTransientBuildKey(lst);","131","            return updateFirstTransientBuildKey(baseList);","157","        String nn=null; \/\/ we'll compute next n here","158","","159","        \/\/ list up all builds >=n.","161","            if(adapter.compare(t,n)>=0) {","163","                if(adapter.isBuilding(t))","164","                    nn = adapter.getKey(t); \/\/ the next fetch should start from youngest build in progress","165","            } else","169","        if (nn==null) {","170","            if (items.isEmpty()) {","171","                \/\/ nothing to report back. next fetch should retry the same 'n'","172","                nn=n;","173","            } else {","174","                \/\/ every record fetched this time is frozen. next fetch should start from the next build","175","                nn=adapter.getNextKey(adapter.getKey(items.get(0)));","176","            }","179","        baseList = items;","180","","181","        rsp.setHeader(\"n\",nn);","182","        firstTransientBuildKey = nn; \/\/ all builds >= nn should be marked transient"],"delete":["50","     * The given data model of records.","103","                return lst;","109","                trimmed = itr.hasNext();","110","                return lst;","113","            return baseList;","140","            if(adapter.compare(t,n)>=0)","142","            else","146","        baseList = items;","147","        if(!items.isEmpty()) {","148","            T b = items.get(0);","149","            n = adapter.getKey(b);","150","            if(!adapter.isBuilding(b))","151","                n = adapter.getNextKey(n);","154","        rsp.setHeader(\"n\",n);"]}],"test\/src\/test\/java\/hudson\/tasks\/ArtifactArchiverTest.java":[{"add":["129","                FilePath dir = build.getWorkspace().child(\"dir\");","152","            build.getWorkspace().child(\"f\").write(\"content\", \"UTF-8\");"],"delete":["129","                FilePath dir = build.getProject().getWorkspace().child(\"dir\");","152","            build.getProject().getWorkspace().child(\"f\").write(\"content\", \"UTF-8\");"]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/JUnitResultArchiver.java":[{"add":["39","import hudson.model.CheckPoint;","44","import hudson.tasks.BuildStepMonitor;","83","            TestResult result = build.getWorkspace().act(new FileCallable<TestResult>() {","100","            CHECKPOINT.block();","120","        CHECKPOINT.report();","132","    \/**","133","     * This class does explicit checkpointing.","134","     *\/","135","    public BuildStepMonitor getRequiredMonitorService() {","136","        return BuildStepMonitor.NONE;","137","    }","138","","152","    \/**","153","     * Test result tracks the diff from the previous run, hence the checkpoint.","154","     *\/","155","    private static final CheckPoint CHECKPOINT = new CheckPoint(\"JUnit result archiving\");","173","            return FilePath.validateFileMask(project.getSomeWorkspace(),value);"],"delete":["81","            TestResult result = build.getProject().getWorkspace().act(new FileCallable<TestResult>() {","116","","159","            return FilePath.validateFileMask(project.getWorkspace(),value);"]}],"core\/src\/main\/java\/hudson\/tasks\/test\/AggregatedTestResultPublisher.java":[{"add":["42","import hudson.tasks.BuildStepMonitor;","80","    public BuildStepMonitor getRequiredMonitorService() {","81","        return BuildStepMonitor.NONE;","82","    }","83",""],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":[{"add":["124","    public BuildStepMonitor getRequiredMonitorService() {","125","        return BuildStepMonitor.NONE;","126","    }","127","    "],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Executor.java":[{"add":["27","import hudson.FilePath;","29","import hudson.util.InterceptingProxy;","41","import java.lang.reflect.Method;","109","","110","                final String threadName = getName();","120","                        setName(threadName+\" : executing \"+executable.toString());","130","                    setName(threadName);","174","     * If {@linkplain #getCurrentExecutable() current executable} is {@link AbstractBuild},","175","     * return the workspace that this executor is using, or null if the build hasn't gotten","176","     * to that point yet.","177","     *\/","178","    public FilePath getCurrentWorkspace() {","179","        Executable e = executable;","180","        if(e==null) return null;","181","        if (e instanceof AbstractBuild) {","182","            AbstractBuild ab = (AbstractBuild) e;","183","            return ab.getWorkspace();","184","        }","185","        return null;","186","    }","187","","188","    \/**","365","     * Creates a proxy object that executes the callee in the context that impersonates","366","     * this executor. Useful to export an object to a remote channel. ","367","     *\/","368","    public <T> T newImpersonatingProxy(Class<T> type, T core) {","369","        return new InterceptingProxy() {","370","            protected Object call(Object o, Method m, Object[] args) throws Throwable {","371","                final Executor old = IMPERSONATION.get();","372","                IMPERSONATION.set(Executor.this);","373","                try {","374","                    return m.invoke(o,args);","375","                } finally {","376","                    IMPERSONATION.set(old);","377","                }","378","            }","379","        }.wrap(type,core);","380","    }","381","","382","    \/**","387","        if (t instanceof Executor) return (Executor) t;","388","        return IMPERSONATION.get();","391","    \/**","392","     * Mechanism to allow threads (in particular the channel request handling threads) to","393","     * run on behalf of {@link Executor}.","394","     *\/","395","    private static final ThreadLocal<Executor> IMPERSONATION = new ThreadLocal<Executor>();","396",""],"delete":["347","        return t instanceof Executor ? (Executor)t : null;"]}],"core\/src\/main\/java\/hudson\/tasks\/BuildStep.java":[{"add":["37","import hudson.model.CheckPoint;","38","import hudson.model.Run;","40","import javax.management.monitor.Monitor;","126","","127","    \/**","128","     * Declares the scope of the synchronization monitor this {@link BuildStep} expects from outside.","129","     *","130","     * <p>","131","     * This method is introduced for preserving compatibility with plugins written for earlier versions of Hudson,","132","     * which never run multiple builds of the same job in parallel. Such plugins often assume that the outcome","133","     * of the previous build is completely available, which is no longer true when we do concurrent builds.","134","     *","135","     * <p>","136","     * To minimize the necessary code change for such plugins, {@link BuildStep} implementations can request","137","     * Hudson to externally perform synchronization before executing them. This behavior is as follows:","138","     *","139","     * <dl>","140","     * <dt>{@link BuildStepMonitor#BUILD}","141","     * <dd>","142","     * This {@link BuildStep} is only executed after the previous build is fully","143","     * completed (thus fully restoring the earlier semantics of one build at a time.)","144","     *","145","     * <dt>{@link BuildStepMonitor#STEP}","146","     * <dd>","147","     * This {@link BuildStep} is only executed after the same step in the previous build is completed.","148","     * For build steps that use a weaker assumption and onl rely on the output from the same build step of","149","     * the early builds, this improves the concurrency.","150","     *","151","     * <dt>{@link BuildStepMonitor#NONE}","152","     * <dd>","153","     * No external synchronization is performed on this build step. This is the most efficient, and thus","154","     * <b>the recommended value for newer plugins<\/b>. Wherever necessary, you can directly use {@link CheckPoint}s","155","     * to perform necessary synchronizations.","156","     * <\/dl>","157","     *","158","     * <h2>Migrating Older Implementation<\/h2>","159","     * <p>","160","     * If you are migrating {@link BuildStep} implementations written for earlier versions of Hudson,","161","     * here's what you can do:","162","     *","163","     * <ul>","164","     * <li>","165","     * Just return {@link BuildStepMonitor#BUILD} to demand the backward compatible behavior from Hudson,","166","     * and make no other changes to the code. This will prevent users from reaping the benefits of concurrent","167","     * builds, but at least your plugin will work correctly, and therefore this is a good easy first step.","168","     * <li>","169","     * If your build step doesn't use anything from a previous build (for example, if you don't even call","170","     * {@link Run#getPreviousBuild()}), then you can return {@link BuildStepMonitor#NONE} without making further","171","     * code changes and you are done with migration.","172","     * <li>","173","     * If your build step only depends on {@link Action}s that you added in the previous build by yourself,","174","     * then you only need {@link BuildStepMonitor#STEP} scope synchronization. Return it from this method","175","     * ,and you are done with migration without any further code changes.","176","     * <li>","177","     * If your build step makes more complex assumptions, return {@link BuildStepMonitor#NONE} and use","178","     * {@link CheckPoint}s directly in your code. The general idea is to call {@link CheckPoint#block()} before","179","     * you try to access the state from the previous build.","180","     * <\/ul>","181","     *","182","     * <h2>Note to caller<\/h2>","183","     * <p>","184","     * For plugins written against earlier versions of Hudson, calling this method results in","185","     * {@link AbstractMethodError}. ","186","     *","187","     * @since 1.XXX","188","     *\/","189","    BuildStepMonitor getRequiredMonitorService();","190",""],"delete":[]}],"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":[{"add":[],"delete":["474","    @Override","475","    public FilePath getWorkspace() {","476","        Node node = getLastBuiltOn();","477","        if(node==null)  node = getParent();","478","        return node.getWorkspaceFor(this);","479","    }","480",""]}],"core\/src\/main\/java\/hudson\/model\/FreeStyleBuild.java":[{"add":["25","import hudson.FilePath;","26","import hudson.slaves.WorkspaceList;","27","","42","","43","    @Override","44","    public void run() {","45","        run(new RunnerImpl());","46","    }","47","","48","    protected class RunnerImpl extends Build.RunnerImpl {","49","        @Override","50","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) {","51","            String customWorkspace = getProject().getCustomWorkspace();","52","            if (customWorkspace != null)","53","                return n.createPath(customWorkspace);","54","            return super.decideWorkspace(n,wsl);","55","        }","56","    }"],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/Fingerprinter.java":[{"add":["103","            if(recordBuildArtifacts) {","104","                ArtifactArchiver aa = build.getProject().getPublishersList().get(ArtifactArchiver.class);","125","    public BuildStepMonitor getRequiredMonitorService() {","126","        return BuildStepMonitor.NONE;","127","    }","128","","153","        FilePath ws = build.getWorkspace();","213","            return FilePath.validateFileMask(project.getSomeWorkspace(),value);"],"delete":["103","            if(recordBuildArtifacts && build instanceof Build) {","104","                ArtifactArchiver aa = ((Build<?,?>)build).getProject().getPublishersList().get(ArtifactArchiver.class);","147","        AbstractProject p = build.getProject();","150","        FilePath ws = p.getWorkspace();","210","            return FilePath.validateFileMask(project.getWorkspace(),value);"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/RedeployPublisher.java":[{"add":["35","import hudson.tasks.BuildStepMonitor;","120","    public BuildStepMonitor getRequiredMonitorService() {","121","        return BuildStepMonitor.NONE;","122","    }","123","    "],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/Maven.java":[{"add":["207","                String execName = build.getWorkspace().act(new DecideDefaultMavenCommand(normalizedTarget));","244","                int r = launcher.launch().cmds(args).envs(env).stdout(listener).pwd(build.getModuleRoot()).join();"],"delete":["181","        AbstractProject proj = build.getProject();","182","","209","                String execName = proj.getWorkspace().act(new DecideDefaultMavenCommand(normalizedTarget));","246","                int r = launcher.launch().cmds(args).envs(env).stdout(listener).pwd(proj.getModuleRoot()).join();"]}],"core\/src\/main\/java\/hudson\/model\/Computer.java":[{"add":["27","import hudson.FilePath;","39","import hudson.slaves.WorkspaceList;","62","import java.util.Set;","63","import java.util.HashSet;","64","import java.util.Collections;","129","    private final WorkspaceList workspaceList = new WorkspaceList();","130","","144","     * Gets the object that coordinates the workspace allocation on this computer.","145","     *\/","146","    public WorkspaceList getWorkspaceList() {","147","        return workspaceList;","148","    }","149","","150","    \/**"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Node.java":[{"add":["175","    \/\/ TODO: should this be modified now that getWorkspace is moved from AbstractProject to AbstractBuild?"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/FreeStyleProject.java":[{"add":[],"delete":["76","    @Override","77","    public FilePath getWorkspace() {","78","        Node node = getLastBuiltOn();","79","        if(node==null)  node = getParent();","80","        if(customWorkspace!=null)","81","            return node.createPath(customWorkspace);","82","        return node.getWorkspaceFor(this);","83","    }","84",""]}],"core\/src\/main\/java\/hudson\/model\/CheckPoint.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/matrix\/MatrixRun.java":[{"add":["25","import hudson.FilePath;","26","import hudson.slaves.WorkspaceList;","27","import static hudson.matrix.MatrixConfiguration.useShortWorkspaceName;","29","import hudson.model.Node;","30","import org.kohsuke.stapler.Ancestor;","31","import org.kohsuke.stapler.Stapler;","32","import org.kohsuke.stapler.StaplerRequest;","37","import java.util.List;","38","import java.util.Map;","123","","124","    @Override","125","    public void run() {","126","        run(new RunnerImpl());","127","    }","128","","129","    protected class RunnerImpl extends Build.RunnerImpl {","130","        @Override","131","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) {","132","            Node node = getBuiltOn();","133","            FilePath ws = node.getWorkspaceFor(getParent().getParent());","134","            if(useShortWorkspaceName)","135","                return wsl.allocate(ws.child(getParent().getDigestName()));","136","            else","137","                return wsl.allocate(ws.child(getParent().getCombination().toString('\/','\/')));","138","        }","139","    }"],"delete":["29","import java.util.Map;","30","import java.util.HashMap;","31","import java.util.List;","33","","34","import org.kohsuke.stapler.StaplerRequest;","35","import org.kohsuke.stapler.Stapler;","36","import org.kohsuke.stapler.Ancestor;"]}],"core\/src\/main\/java\/hudson\/util\/FormFieldValidator.java":[{"add":["391","            return p.getSomeWorkspace();","483","            return p.getSomeWorkspace();"],"delete":["391","            return p.getWorkspace();","483","            return p.getWorkspace();"]}],"core\/src\/main\/java\/hudson\/tasks\/JavadocArchiver.java":[{"add":["88","        FilePath javadoc = build.getWorkspace().child(javadocDir);","119","    public BuildStepMonitor getRequiredMonitorService() {","120","        return BuildStepMonitor.NONE;","121","    }","122","    ","211","            FilePath ws = project.getSomeWorkspace();"],"delete":["88","        FilePath javadoc = build.getParent().getWorkspace().child(javadocDir);","207","            FilePath ws = project.getWorkspace();"]}],"core\/src\/main\/resources\/hudson\/model\/Job\/configure.jelly":[{"add":["32","        <j:set var=\"descriptor\" value=\"${it.descriptor}\" \/>","33","        <j:set var=\"instance\" value=\"${it}\" \/>","34","","56","          <j:scope>","57","            <j:set var=\"descriptor\" value=\"${d}\" \/>","58","            <j:set var=\"instance\" value=\"${instances[d]}\" \/>","60","            <f:rowSet name=\"jobProperty${loop.index}\">","61","              <st:include from=\"${d}\" page=\"${d.configPage}\" optional=\"true\"\/>","62","            <\/f:rowSet>","63","          <\/j:scope>"],"delete":["53","          <j:set var=\"descriptor\" value=\"${d}\" \/>","54","          <j:set var=\"instance\" value=\"${instances[d]}\" \/>","56","          <f:rowSet name=\"jobProperty${loop.index}\">","57","            <st:include from=\"${d}\" page=\"${d.configPage}\" optional=\"true\"\/>","58","          <\/f:rowSet>"]}],"core\/src\/main\/java\/hudson\/tasks\/BuildStepMonitor.java":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/util\/ProcessTreeKillerTest.java":[{"add":["3","import hudson.model.FreeStyleBuild;\r","27","        FreeStyleBuild b = project.getLastBuild();\r","28","        b.doStop(\r","35","\t\tb.getWorkspace().deleteRecursive();\r"],"delete":["26","\t\tproject.getLastBuild().doStop(\r","33","\t\tproject.getWorkspace().deleteRecursive();\r"]}],"core\/src\/main\/java\/hudson\/tasks\/BuildStepCompatibilityLayer.java":[{"add":["31","import hudson.model.Run;","32","import hudson.model.CheckPoint;"],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenBuild.java":[{"add":["28","import hudson.slaves.WorkspaceList;","40","import hudson.model.Node;","41","import hudson.model.Executor;","469","            \/\/ when called from remote, methods need to be executed in the proper Executor's context.","470","            return Channel.current().export(MavenBuildProxy2.class,","471","                Executor.currentExecutor().newImpersonatingProxy(MavenBuildProxy2.class,this));","478","        @Override","479","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) {","480","            return wsl.allocate(getParentBuild().getModuleRoot().child(getProject().getRelativePath()));","481","        }","482","","508","                margs.add(\"-Dmaven.repo.local=\"+getWorkspace().child(\".repository\").getRemote());","509","            margs.add(\"-f\",getModuleRoot().child(\"pom.xml\").getRemote());","520","                    reporters.toArray(new MavenReporter[reporters.size()]), margs.toList(), systemProps));"],"delete":["466","            return Channel.current().export(MavenBuildProxy2.class,this);","468","","469","","500","                margs.add(\"-Dmaven.repo.local=\"+mms.getWorkspace().child(\".repository\").getRemote());","501","            margs.add(\"-f\",getProject().getModuleRoot().child(\"pom.xml\").getRemote());","512","                    reporters.toArray(new MavenReporter[0]), margs.toList(), systemProps));"]}],"concurrent-build-branch-note.txt":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":[{"add":["29","import hudson.FilePath;","30","import hudson.slaves.WorkspaceList;","46","import hudson.tasks.BuildStepMonitor;","89","     * The file path on the node that performed a build. Kept as a string since {@link FilePath} is not serializable into XML.","90","     * @since 1.XXX","91","     *\/","92","    private String workspace;","93","","94","    \/**","186","     * Gets the directory where this build is being built.","187","     *","188","     * <p>","189","     * Note to implementors: to control where the workspace is created, override","190","     * {@link AbstractRunner#decideWorkspace(Node,WorkspaceList)}.","191","     *","192","     * @return","193","     *      null if the workspace is on a slave that's not connected. Note that once the build is completed,","194","     *      the workspace may be used to build something else, so the value returned from this method may","195","     *      no longer show a workspace as it was used for this build.","196","     * @since 1.XXX","197","     *\/","198","    public final FilePath getWorkspace() {","199","        if(workspace==null) return null;","200","        Node n = getBuiltOn();","201","        if(n==null) return null;","202","        return n.createPath(workspace);","203","    }","204","","205","    \/**","206","     * Returns the root directory of the checked-out module.","207","     * <p>","208","     * This is usually where <tt>pom.xml<\/tt>, <tt>build.xml<\/tt>","209","     * and so on exists.","210","     *\/","211","    public final FilePath getModuleRoot() {","212","        FilePath ws = getWorkspace();","213","        if(ws==null)    return null;","214","        return getParent().getScm().getModuleRoot(ws);","215","    }","216","","217","    \/**","218","     * Returns the root directories of all checked-out modules.","219","     * <p>","220","     * Some SCMs support checking out multiple modules into the same workspace.","221","     * In these cases, the returned array will have a length greater than one.","222","     * @return The roots of all modules checked out from the SCM.","223","     *\/","224","    public FilePath[] getModuleRoots() {","225","        FilePath ws = getWorkspace();","226","        if(ws==null)    return null;","227","        return getParent().getScm().getModuleRoots(ws);","228","    }","229","","230","    \/**","245","            if(p !=null && isBuilding()) {","246","                Result pr = p.getResult();","247","                if(pr!=null && pr.isWorseThan(Result.UNSTABLE)) {","248","                    \/\/ we are still building, so this is just the current latest information,","249","                    \/\/ but we seems to be failing so far, so inherit culprits from the previous build.","250","                    \/\/ isBuilding() check is to avoid recursion when loading data from old Hudson, which doesn't record","251","                    \/\/ this information","252","                    r.addAll(p.getCulprits());","253","                }","296","    protected abstract class AbstractRunner extends Runner {","310","        \/**","311","         * Allocates the workspace from {@link WorkspaceList}.","312","         *","313","         * @param n","314","         *      Passed in for the convenience. The node where the build is running.","315","         * @param wsl","316","         *      Passed in for the convenience. The returned path must be registered to this object.","317","         *\/","318","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) {","319","            \/\/ TODO: this cast is indicative of abstraction problem","320","            return wsl.allocate(n.getWorkspaceFor((TopLevelItem)getProject()));","321","        }","322","","333","            final FilePath ws = decideWorkspace(node,Computer.currentComputer().getWorkspaceList());","335","            try {","336","                workspace = ws.getRemote();","337","                node.getFileSystemProvisioner().prepareWorkspace(AbstractBuild.this,ws,listener);","339","                checkout(listener);","341","                if(!preBuild(listener,project.getProperties()))","342","                    return Result.FAILURE;","344","                Result result = doRun(listener);","346","                \/\/ kill run-away processes that are left","347","                \/\/ use multiple environment variables so that people can escape this massacre by overriding an environment","348","                \/\/ variable for some processes","349","                launcher.kill(getCharacteristicEnvVars());","351","                \/\/ this is ugly, but for historical reason, if non-null value is returned","352","                \/\/ it should become the final result.","353","                if(result==null)    result = getResult();","354","                if(result==null)    result = Result.SUCCESS;","356","                if(result.isBetterOrEqualTo(Result.UNSTABLE))","357","                    createSymLink(listener,\"lastSuccessful\");","359","                if(result.isBetterOrEqualTo(Result.SUCCESS))","360","                    createSymLink(listener,\"lastStable\");","361","","362","                return result;","363","            } finally {","364","                Computer.currentComputer().getWorkspaceList().release(ws);","365","            }","435","                CheckPoint.CULPRITS_DETERMINED.report();","456","                    perform(bs,listener);","460","        \/**","461","         * Calls a build step.","462","         *\/","463","        protected final boolean perform(BuildStep bs, BuildListener listener) throws InterruptedException, IOException {","464","            BuildStepMonitor mon;","465","            try {","466","                mon = bs.getRequiredMonitorService();","467","            } catch (AbstractMethodError e) {","468","                mon = BuildStepMonitor.BUILD;","469","            }","470","            return mon.perform(bs, AbstractBuild.this, launcher, listener);","471","        }","472","","538","        env.put(\"WORKSPACE\", getWorkspace().getRemote());"],"delete":["191","            if(p !=null && isBuilding() && p.getResult().isWorseThan(Result.UNSTABLE)) {","192","                \/\/ we are still building, so this is just the current latest information,","193","                \/\/ but we seems to be failing so far, so inherit culprits from the previous build.","194","                \/\/ isBuilding() check is to avoid recursion when loading data from old Hudson, which doesn't record","195","                \/\/ this information","196","                r.addAll(p.getCulprits());","239","    protected abstract class AbstractRunner implements Runner {","263","            node.getFileSystemProvisioner().prepareWorkspace(AbstractBuild.this,project.getWorkspace(),listener);","265","            checkout(listener);","267","            if(!preBuild(listener,project.getProperties()))","268","                return Result.FAILURE;","270","            Result result = doRun(listener);","272","            \/\/ kill run-away processes that are left","273","            \/\/ use multiple environment variables so that people can escape this massacre by overriding an environment","274","            \/\/ variable for some processes","275","            launcher.kill(getCharacteristicEnvVars());","277","            \/\/ this is ugly, but for historical reason, if non-null value is returned","278","            \/\/ it should become the final result.","279","            if(result==null)    result = getResult();","280","            if(result==null)    result = Result.SUCCESS;","282","            if(result.isBetterOrEqualTo(Result.UNSTABLE))","283","                createSymLink(listener,\"lastSuccessful\");","285","            if(result.isBetterOrEqualTo(Result.SUCCESS))","286","                createSymLink(listener,\"lastStable\");","288","            return result;","378","                    bs.perform(AbstractBuild.this, launcher, listener);","447","        env.put(\"WORKSPACE\", getProject().getWorkspace().getRemote());"]}],"core\/src\/main\/java\/hudson\/util\/SequentialExecutionQueue.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Build.java":[{"add":["156","                if(!perform(bs,listener))"],"delete":["31","import hudson.triggers.SCMTrigger;","39","import java.util.concurrent.locks.ReentrantLock;","51","     * If the build required a lock, remember it so that we can release it.","52","     *\/","53","    private transient ReentrantLock buildLock;","54","","55","    \/**","73","    @Override","74","    protected void onStartBuilding() {","75","        super.onStartBuilding();","76","        SCMTrigger t = (SCMTrigger)project.getTriggers().get(Hudson.getInstance().getDescriptorByType(SCMTrigger.DescriptorImpl.class));","77","        if(t!=null) {","78","            \/\/ acquire the lock","79","            buildLock = t.getLock();","80","            synchronized(buildLock) {","81","                try {","82","                    if(buildLock.isLocked()) {","83","                        long time = System.currentTimeMillis();","84","                        LOGGER.info(\"Waiting for the polling of \"+getParent()+\" to complete\");","85","                        buildLock.lockInterruptibly();","86","                        LOGGER.info(\"Polling completed. Waited \"+(System.currentTimeMillis()-time)+\"ms\");","87","                    } else","88","                        buildLock.lockInterruptibly();","89","                } catch (InterruptedException e) {","90","                    \/\/ handle the interrupt later","91","                    Thread.currentThread().interrupt();","92","                }","93","            }","94","        }","95","    }","96","","97","    @Override","98","    protected void onEndBuilding() {","99","        super.onEndBuilding();","100","        if(buildLock!=null)","101","            buildLock.unlock();","102","    }","103","","194","                if(!bs.perform(Build.this, launcher, listener))"]}],"core\/src\/main\/java\/hudson\/scm\/SCM.java":[{"add":["129","     * This flag also affects the mutual exclusion control between builds and polling.","130","     * If this methods returns false, polling will continu asynchronously even","131","     * when a build is in progress, but otherwise the polling activity is blocked","132","     * if a build is currently using a workspace.","133","     *","134","     * <p>","199","     *      Abstraction of the machine where the polling will take place. If SCM declares","200","     *      that {@linkplain #requiresWorkspaceForPolling() the polling doesn't require a workspace}, this parameter is null.","202","     *      The workspace directory that contains baseline files. If SCM declares","203","     *      that {@linkplain #requiresWorkspaceForPolling() the polling doesn't require a workspace}, this parameter is null.","350","\/\/","351","\/\/ convenience methods","352","\/\/","353",""],"delete":["193","     *      Abstraction of the machine where the polling will take place.","195","     *      The workspace directory that contains baseline files."]}],"core\/src\/main\/java\/hudson\/tasks\/Builder.java":[{"add":["65","    \/**","66","     * Returns {@link BuildStepMonitor#NONE} by default, as {@link Builder}s normally don't depend","67","     * on its previous result.","68","     *\/","69","    public BuildStepMonitor getRequiredMonitorService() {","70","        return BuildStepMonitor.NONE;","71","    }","72",""],"delete":[]}],"core\/src\/main\/java\/hudson\/matrix\/MatrixConfiguration.java":[{"add":["250","","251","    \/*package*\/ String getDigestName() {","252","        return digestName;","253","    }","254",""],"delete":["25","import hudson.FilePath;","37","import hudson.model.Node;","143","    @Override","144","    public FilePath getWorkspace() {","145","        Node node = getLastBuiltOn();","146","        if(node==null)  node = Hudson.getInstance();","147","        FilePath ws = node.getWorkspaceFor(getParent());","148","        if(ws==null)    return null;","149","        if(useShortWorkspaceName)","150","            return ws.child(digestName);","151","        else","152","            return ws.child(getCombination().toString('\/','\/'));","153","    }","154","","264","    "]}],"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["78","import java.util.Set;","79","import java.util.HashSet;","127","","134","     * Pointer to the next younger build in progress. This data structure is lazily updated,","135","     * so it may point to the build that's already completed. This pointer is set to 'this'","136","     * if the computation determines that everything earlier than this build is already completed.","137","     *\/","138","    private volatile transient RunT previousBuildInProgress;","139","","140","    \/**","201","    \/**","202","     * If the build is in progress, remember {@link Runner} that's running it.","203","     * This field is not persisted.","204","     *\/","205","    private volatile transient Runner runner;","206","","242","        this.previousBuildInProgress = _this(); \/\/ loaded builds are always completed","259","     * Obtains 'this' in a more type safe signature.","260","     *\/","261","    @SuppressWarnings({\"unchecked\"})","262","    private RunT _this() {","263","        return (RunT)this;","264","    }","265","","266","    \/**","559","     * Obtains the next younger build in progress. It uses a skip-pointer so that we can compute this without","560","     * O(n) computation time. This method also fixes up the skip list as we go, in a way that's concurrency safe.","561","     *","562","     * <p>","563","     * We basically follow the existing skip list, and wherever we find a non-optimal pointer, we remember them","564","     * in 'fixUp' and update them later.","565","     *\/","566","    public final RunT getPreviousBuildInProgress() {","567","        if(previousBuildInProgress==this)   return null;    \/\/ the most common case","568","","569","        List<RunT> fixUp = new ArrayList<RunT>();","570","        RunT r = _this(); \/\/ 'r' is the source of the pointer (so that we can add it to fix up if we find that the target of the pointer is inefficient.)","571","        RunT answer;","572","        while (true) {","573","            RunT n = r.previousBuildInProgress;","574","            if (n==null) {\/\/ no field computed yet.","575","                n=r.getPreviousBuild();","576","                fixUp.add(r);","577","            }","578","            if (r==n || n==null) {","579","                \/\/ this indicates that we know there's no build in progress beyond this point","580","                answer = null;","581","                break;","582","            }","583","            if (n.isBuilding()) {","584","                \/\/ we now know 'n' is the target we wanted","585","                answer = n;","586","                break;","587","            }","588","","589","            fixUp.add(r);   \/\/ r contains the stale 'previousBuildInProgress' back pointer","590","            r = n;","591","        }","592","","593","        \/\/ fix up so that the next look up will run faster","594","        for (RunT f : fixUp)","595","            f.previousBuildInProgress = answer==null ? f : answer;","596","        return answer;","597","    }","598","","599","    \/**","944","","945","    \/**","946","     * @see CheckPoint#report()","947","     *\/","948","    \/*package*\/ static void reportCheckpoint(CheckPoint id) {","949","        RunnerStack.INSTANCE.peek().checkpoints.report(id);","950","    }","951","","952","    \/**","953","     * @see CheckPoint#block()","954","     *\/","955","    \/*package*\/ static void waitForCheckpoint(CheckPoint id) throws InterruptedException {","956","        while(true) {","957","            Run b = RunnerStack.INSTANCE.peek().getBuild().getPreviousBuildInProgress();","958","            if(b==null)     return; \/\/ no pending earlier build","959","            Run.Runner runner = b.runner;","960","            if(runner==null) {","961","                \/\/ polled at the wrong moment. try again.","962","                Thread.sleep(0);","963","                continue;","964","            }","965","            if(runner.checkpoints.waitForCheckPoint(id))","966","                return; \/\/ confirmed that the previous build reached the check point","967","","968","            \/\/ the previous build finished without ever reaching the check point. try again.","969","        }","970","    }","971","","972","    protected abstract class Runner {","973","        \/**","974","         * Keeps track of the check points attained by a build, and abstracts away the synchronization needed to ","975","         * maintain this data structure.","976","         *\/","977","        private final class CheckpointSet {","978","            \/**","979","             * Stages of the builds that this runner has completed. This is used for concurrent {@link Runner}s to","980","             * coordinate and serialize their executions where necessary.","981","             *\/","982","            private final Set<CheckPoint> checkpoints = new HashSet<CheckPoint>();","983","","984","            private boolean allDone;","985","","986","            protected synchronized void report(CheckPoint identifier) {","987","                checkpoints.add(identifier);","988","                notifyAll();","989","            }","990","","991","            protected synchronized boolean waitForCheckPoint(CheckPoint identifier) throws InterruptedException {","992","                final Thread t = Thread.currentThread();","993","                final String oldName = t.getName();","994","                t.setName(oldName+\" : waiting for \"+identifier+\" on \"+getFullDisplayName());","995","                try {","996","                    while(!allDone && !checkpoints.contains(identifier))","997","                        wait();","998","                    return checkpoints.contains(identifier);","999","                } finally {","1000","                    t.setName(oldName);","1001","                }","1002","            }","1003","","1004","            \/**","1005","             * Notifies that the build is fully completed and all the checkpoint locks be released.","1006","             *\/","1007","            private synchronized void allDone() {","1008","                allDone = true;","1009","                notifyAll();","1010","            }","1011","        }","1012","","1013","        private final CheckpointSet checkpoints = new CheckpointSet();","1014","","1021","        public abstract Result run( BuildListener listener ) throws Exception, RunnerAbortedException;","1033","        public abstract void post( BuildListener listener ) throws Exception;","1045","        public abstract void cleanUp(BuildListener listener) throws Exception;","1046","","1047","        protected final RunT getBuild() {","1048","            return _this();","1049","        }","1066","        runner = job;","1092","                    CheckPoint.MAIN_COMPLETED.report();","1189","        RunnerStack.INSTANCE.push(runner);","1196","        \/\/ signal that we've finished building.","1197","        if (runner!=null) {","1198","            \/\/ MavenBuilds may be created without their corresponding runners.","1199","            state = State.COMPLETED;","1200","            runner.checkpoints.allDone();","1201","        } else {","1202","            state = State.COMPLETED;","1203","        }","1204","        runner = null;","1205","        RunnerStack.INSTANCE.pop();","1611","        public void doDynamic(StaplerResponse rsp) throws IOException {"],"delete":["878","    protected static interface Runner {","885","        Result run( BuildListener listener ) throws Exception, RunnerAbortedException;","897","        void post( BuildListener listener ) throws Exception;","909","        void cleanUp(BuildListener listener) throws Exception;","1053","        state = State.COMPLETED;","1459","        public void doDynamic(StaplerRequest req, StaplerResponse rsp) throws IOException {"]}],"core\/src\/main\/java\/hudson\/tasks\/MailSender.java":[{"add":["105","        } finally {","106","            CHECKPOINT.report();","116","     *","117","     * <p>","118","     * And since we are consulting the earlier result, we need to wait for the previous build","119","     * to pass the check point.","121","    private Result findPreviousBuildResult(AbstractBuild<?,?> b) throws InterruptedException {","122","        CHECKPOINT.block();","237","                FilePath ws = build.getWorkspace();","368","","369","    \/**","370","     * Sometimes the outcome of the previous build affects the e-mail we send, hence this checkpoint.","371","     *\/","372","    private static final CheckPoint CHECKPOINT = new CheckPoint(\"mail sent\");"],"delete":["113","     *","116","    private Result findPreviousBuildResult(AbstractBuild<?,?> b) {","231","                FilePath ws = build.getProject().getWorkspace();"]}],"core\/src\/main\/java\/hudson\/model\/RunnerStack.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/ArtifactArchiver.java":[{"add":["98","            FilePath ws = build.getWorkspace();","149","    public BuildStepMonitor getRequiredMonitorService() {","150","        return BuildStepMonitor.NONE;","151","    }","152","    ","174","            return FilePath.validateFileMask(project.getSomeWorkspace(),value);"],"delete":["87","        AbstractProject<?,?> p = build.getProject();","88","","100","            FilePath ws = p.getWorkspace();","126","","173","            return FilePath.validateFileMask(project.getWorkspace(),value);"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractItem\/configure-common.jelly":[{"add":["29","  <j:if test=\"${app.CONCURRENT_BUILD}\">","30","    <f:optionalBlock field=\"concurrentBuild\" title=\"${%Execute concurrent builds if necessary (beta)}\" \/>","31","  <\/j:if>","41","          <f:option selected=\"${inst.name==it.JDK.name}\" value=\"${inst.name}\">${inst.name}<\/f:option>"],"delete":["38","          <f:option selected=\"${inst.name==it.JDK.name}\">${inst.name}<\/f:option>"]}],"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["787","     * Short for {@code getParent().child(rel)}. Useful for getting other files in the same directory. ","788","     *\/","789","    public FilePath sibling(String rel) {","790","        return getParent().child(rel);","791","    }","792","","793","    \/**","794","     * Returns a {@link FilePath} by adding the given suffix to this path name.","795","     *\/","796","    public FilePath withSuffix(String suffix) {","797","        return new FilePath(channel,remote+suffix);","798","    }","799","","800","    \/**"],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/Mailer.java":[{"add":["121","     * This class does explicit check pointing.","122","     *\/","123","    public BuildStepMonitor getRequiredMonitorService() {","124","        return BuildStepMonitor.NONE;","125","    }","126","","127","    \/**"],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenRedeployer.java":[{"add":["31","import hudson.tasks.BuildStepMonitor;","65","    public BuildStepMonitor getRequiredMonitorService() {","66","        return BuildStepMonitor.NONE;","67","    }","68",""],"delete":[]}],"test\/src\/test\/java\/hudson\/tasks\/junit\/CaseResultTest.java":[{"add":["67","                build.getWorkspace().child(\"junit.xml\").copyFrom("],"delete":["67","                build.getProject().getWorkspace().child(\"junit.xml\").copyFrom("]}],"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["3382","    \/**","3383","     * Tentative switch to activate the concurrent build behavior.","3384","     * When we merge this back to the trunk, this allows us to keep","3385","     * this feature hidden for a while until we iron out the kinks.","3386","     * @see AbstractProject#isConcurrentBuild()","3387","     *\/","3388","    public static boolean CONCURRENT_BUILD = true;","3389",""],"delete":[]}],"core\/src\/main\/java\/hudson\/FileSystemProvisioner.java":[{"add":["33","import hudson.model.Executor;","42","import java.io.Closeable;"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/JobProperty.java":[{"add":["31","import hudson.tasks.BuildStepMonitor;","137","    \/**","138","     * Returns {@link BuildStepMonitor#NONE} by default, as {@link JobProperty}s normally don't depend","139","     * on its previous result.","140","     *\/","141","    public BuildStepMonitor getRequiredMonitorService() {","142","        return BuildStepMonitor.NONE;","143","    }","144",""],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/CommandInterpreter.java":[{"add":["61","        FilePath ws = build.getWorkspace();"],"delete":["61","        AbstractProject proj = build.getProject();","62","        FilePath ws = proj.getWorkspace();"]}],"core\/src\/main\/resources\/lib\/form\/checkbox.jelly":[{"add":["38","    <st:attribute name=\"negative\" \/>"],"delete":[]}],"test\/src\/test\/java\/hudson\/model\/AbstractProjectTest.java":[{"add":["46","        FreeStyleBuild b = project.scheduleBuild2(0).get();","49","                b.getWorkspace().exists());","60","                b.getWorkspace().exists());","71","        FreeStyleBuild b = project.scheduleBuild2(0).get();","73","        assertTrue(\"Workspace should exist by now\",b.getWorkspace().exists());","107","","108","    \/**","109","     * Tests the &lt;optionalBlock @field> round trip behavior by using {@link AbstractProject#concurrentBuild}","110","     *\/","111","    public void testOptionalBlockDataBindingRoundtrip() throws Exception {","112","        FreeStyleProject p = createFreeStyleProject();","113","        for( boolean b : new boolean[]{true,false}) {","114","            p.setConcurrentBuild(b);","115","            submit(new WebClient().getPage(p,\"configure\").getFormByName(\"config\"));","116","            assertEquals(b,p.isConcurrentBuild());","117","        }","118","    }"],"delete":["46","        project.scheduleBuild2(0).get();","49","                project.getWorkspace().exists());","60","                project.getWorkspace().exists());","71","        project.scheduleBuild2(0).get();","73","        assertTrue(\"Workspace should exist by now\",","74","                project.getWorkspace().exists());"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":[{"add":[],"delete":["325","    \/**","326","     * Gets the workspace of this job.","327","     *\/","328","    public FilePath getWorkspace() {","329","        Node node = getLastBuiltOn();","330","        if(node==null)  node = Hudson.getInstance();","331","        return node.getWorkspaceFor(this);","332","    }","333",""]}],"core\/src\/main\/java\/hudson\/model\/FileParameterValue.java":[{"add":["68","                build.getWorkspace().child(location).copyFrom(file);"],"delete":["68","                build.getProject().getWorkspace().child(location).copyFrom(file);"]}],"test\/src\/test\/java\/hudson\/tasks\/LogRotatorTest.java":[{"add":["89","","90","        public BuildStepMonitor getRequiredMonitorService() {","91","            return BuildStepMonitor.NONE;","92","        }","93",""],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/InterceptingProxy.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["30","import hudson.slaves.WorkspaceList;","38","import hudson.model.Queue.Executable;","182","    private boolean concurrentBuild;","183","","232","     * Does this project perform concurrent builds?","233","     * @since 1.XXX","234","     *\/","235","    public boolean isConcurrentBuild() {","236","        return Hudson.CONCURRENT_BUILD && concurrentBuild;","237","    }","238","","239","    public void setConcurrentBuild(boolean b) throws IOException {","240","        concurrentBuild = b;","241","        save();","242","    }","243","","244","    \/**","299","     * @deprecated as of 1.XXX","300","     *      To support concurrent builds of the same project, this method is moved to {@link AbstractBuild}.","301","     *      For backward compatibility, this method returns the right {@link AbstractBuild#getWorkspace()} if called","302","     *      from {@link Executor}, and otherwise the workspace of the last build.","303","     *","304","     *      <p>","305","     *      If your are calling this method during a build from an executor, swtich it to {@link AbstractBuild#getWorkspace()}.","306","     *      If you are calling this method to serve a file from the workspace, doing a form validation, etc., then","307","     *      use {@link #getSomeWorkspace()}","309","    public final FilePath getWorkspace() {","310","        Executor e = Executor.currentExecutor();","311","        if(e!=null) {","312","            Executable exe = e.getCurrentExecutable();","313","            if (exe instanceof AbstractBuild) {","314","                AbstractBuild b = (AbstractBuild) exe;","315","                if(b.getProject()==this)","316","                    return b.getWorkspace();","317","            }","318","        }","319","        R lb = getLastBuild();","320","        if(lb!=null)    return lb.getWorkspace();","321","        return null;","322","    }","323","","324","    \/**","325","     * Gets a workspace for some build of this project.","326","     *","327","     * <p>","328","     * This is useful for obtaining a workspace for the purpose of form field validation, where exactly","329","     * which build the workspace belonged is less important. The implementation makes a cursory effort","330","     * to find some workspace.","331","     *","332","     * @return","333","     *      null if there's no available workspace.","334","     * @since 1.XXX","335","     *\/","336","    public final FilePath getSomeWorkspace() {","337","        int cnt=0;","338","        for (R b = getLastBuild(); cnt<5 && b!=null; b=b.getPreviousBuild()) {","339","            FilePath ws = b.getWorkspace();","340","            if (ws!=null)   return ws;","341","        }","342","        return null;","343","    }","350","     *","351","     * @deprecated as of 1.XXX","352","     *      See {@link #getWorkspace()} for a migration strategy.","366","     *","367","     * @deprecated as of 1.XXX","368","     *      See {@link #getWorkspace()} for a migration strategy.","813","        return isBuilding() && !isConcurrentBuild();","852","     *","853","     * @deprecated as of 1.XXX","854","     *      Projects no longer have a fixed workspace, ands builds will find an available workspace via","855","     *      {@link WorkspaceList} for each build (furthermore, that happens after a build is started.)","856","     *      So a {@link Resource} representation for a workspace at the project level no longer makes sense.","857","     *","858","     *      <p>","859","     *      If you need to lock a workspace while you do some computation, see the source code of","860","     *      {@link #pollSCMChanges(TaskListener)} for how to obtain a lock of a workspace through {@link WorkspaceList}.","895","            FilePath workspace = build.getWorkspace();","924","            if(scm.requiresWorkspaceForPolling()) {","925","                \/\/ lock the workspace of the last build","926","                FilePath ws=null;","927","                R lb = getLastBuild();","928","                if (lb!=null)   ws = lb.getWorkspace();","930","                if (ws==null || !ws.exists()) {","931","                    \/\/ workspace offline. build now, or nothing will ever be built","932","                    Label label = getAssignedLabel();","933","                    if (label != null && label.isSelfLabel()) {","934","                        \/\/ if the build is fixed on a node, then attempting a build will do us","935","                        \/\/ no good. We should just wait for the slave to come back.","936","                        listener.getLogger().println(Messages.AbstractProject_NoWorkspace());","937","                        return false;","938","                    }","939","                    if (ws == null)","940","                        listener.getLogger().println(Messages.AbstractProject_WorkspaceOffline());","941","                    else","942","                        listener.getLogger().println(Messages.AbstractProject_NoWorkspace());","943","                    listener.getLogger().println(Messages.AbstractProject_NewBuildForWorkspace());","944","                    return true;","945","                } else {","946","                    WorkspaceList l = lb.getBuiltOn().toComputer().getWorkspaceList();","947","                    l.acquire(ws);","948","                    try {","949","                        LOGGER.fine(\"Polling SCM changes of \" + getName());","950","                        return scm.pollChanges(this, ws.createLauncher(listener), ws, listener);","951","                    } finally {","952","                        l.release(ws);","953","                    }","954","                }","955","            } else {","956","                \/\/ polling without workspace","957","                LOGGER.fine(\"Polling SCM changes of \" + getName());","958","                return scm.pollChanges(this, null, null, listener);","959","            }","1276","        setConcurrentBuild(req.getSubmittedForm().has(\"concurrentBuild\"));","1277","","1319","        FilePath ws = getSomeWorkspace();"],"delete":["283","    public abstract FilePath getWorkspace();","747","        return isBuilding();","803","        resourceLists.add(new ResourceList().w(getWorkspaceResource()));","820","        \/\/ Acquire lock for SCMTrigger so poll won't run while we checkout\/update","821","        SCMTrigger scmt = getTrigger(SCMTrigger.class);","822","        boolean locked = false;","824","            if (scmt!=null) {","825","                scmt.getLock().lockInterruptibly();","826","                locked = true;","827","            }","828","","829","            FilePath workspace = getWorkspace();","831","","837","        } finally {","838","            if (locked)","839","                scmt.getLock().unlock();","862","            FilePath workspace = getWorkspace();","863","            if (scm.requiresWorkspaceForPolling() && (workspace == null || !workspace.exists())) {","864","                \/\/ workspace offline. build now, or nothing will ever be built","865","                Label label = getAssignedLabel();","866","                if (label != null && label.isSelfLabel()) {","867","                    \/\/ if the build is fixed on a node, then attempting a build will do us","868","                    \/\/ no good. We should just wait for the slave to come back.","869","                    listener.getLogger().println(Messages.AbstractProject_NoWorkspace());","870","                    return false;","871","                }","872","                if (workspace == null)","873","                    listener.getLogger().println(Messages.AbstractProject_WorkspaceOffline());","874","                else","875","                    listener.getLogger().println(Messages.AbstractProject_NoWorkspace());","876","                listener.getLogger().println(Messages.AbstractProject_NewBuildForWorkspace());","877","                return true;","878","            }","880","            Launcher launcher = workspace != null ? workspace.createLauncher(listener) : null;","881","            LOGGER.fine(\"Polling SCM changes of \" + getName());","882","            return scm.pollChanges(this, launcher, workspace, listener);","1240","        FilePath ws = getWorkspace();"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModule.java":[{"add":["218","     * from the workspace of a {@link MavenModuleSet}."],"delete":["218","     * from {@link MavenModuleSet#getWorkspace()}.","259","    @Override","260","    public FilePath getWorkspace() {","261","        return getParent().getModuleRoot().child(relativePath);","262","    }","263",""]}],"core\/src\/main\/java\/hudson\/triggers\/SCMTrigger.java":[{"add":["38","import hudson.util.SequentialExecutionQueue;","68","        if(Hudson.getInstance().isQuietingDown())","73","        LOGGER.fine(\"Scheduling a polling for \"+job);","83","            d.queue.execute(new Runner());","107","         * <p>","108","         * This executor implementation has a semantics suitable for polling. Namely, no two threads will try to poll the same project","109","         * at once, and multiple polling requests to the same job will be combined into one. Note that because executor isn't aware","110","         * of a potential workspace lock between a build and a polling, we may end up using executor threads unwisely --- they","111","         * may block.","113","        private transient final SequentialExecutionQueue queue = new SequentialExecutionQueue(Executors.newSingleThreadExecutor());","137","            return queue.getExecutors();","145","            return queue.isStarving(STARVATION_THRESHOLD);","160","            return Util.filter(queue.getInProgress(),Runner.class);","167","            List<SCMedItem> r = new ArrayList<SCMedItem>();","168","            for (Runner i : getRunners())","169","                r.add(i.getTarget());","170","            return r;","209","            queue.setExecutors(","210","                    (maximumThreads==0 ? Executors.newCachedThreadPool() : Executors.newFixedThreadPool(maximumThreads)));","337","                startTime = System.currentTimeMillis();","338","                if(runPolling()) {","339","                    String name = \" #\"+job.asProject().getNextBuildNumber();","340","                    if(job.scheduleBuild(new SCMTriggerCause())) {","341","                        LOGGER.info(\"SCM changes detected in \"+ job.getName()+\". Triggering \"+name);","342","                    } else {","343","                        LOGGER.info(\"SCM changes detected in \"+ job.getName()+\". Job is already in the queue\");","350","","351","        private SCMedItem job() {","352","            return job;","353","        }","354","","355","        \/\/ as per the requirement of SequentialExecutionQueue, value equality is necessary","356","        public boolean equals(Object that) {","357","            return job()==((Runner)that).job();","358","        }","359","","360","        @Override","361","        public int hashCode() {","362","            return job.hashCode();","363","        }"],"delete":["43","import java.io.ObjectStreamException;","45","import java.util.Arrays;","46","import java.util.Collections;","48","import java.util.HashSet;","50","import java.util.Set;","54","import java.util.concurrent.ThreadPoolExecutor;","55","import java.util.concurrent.locks.ReentrantLock;","68","    \/**","69","     * If we'd like to run another polling run, this is set to true.","70","     *","71","     * <p>","72","     * To avoid submitting more than one polling jobs (which could flood the queue),","73","     * we first use the boolean flag.","74","     *","75","     * @guardedBy this","76","     *\/","77","    private transient volatile boolean pollingScheduled;","78","","79","    \/**","80","     * This lock is used to control the mutual exclusion of the SCM activity,","81","     * so that the build and polling don't happen at the same time.","82","     *\/","83","    private transient ReentrantLock lock;","84","","88","        lock = new ReentrantLock();","89","    }","90","","91","    public ReentrantLock getLock() {","92","        return lock;","93","    }","94","","95","    protected Object readResolve() throws ObjectStreamException {","96","        lock = new ReentrantLock();","97","        return super.readResolve();","101","        if(pollingScheduled || Hudson.getInstance().isQuietingDown())","103","        pollingScheduled = true;","104","        LOGGER.fine(\"Scheduling a polling for \"+job);","117","            d.getExecutor().submit(new Runner());","142","        transient volatile ThreadPoolExecutor executor;","151","         * Jobs that are being polled. The value is useful for trouble-shooting.","152","         *\/","153","        final transient Set<Runner> items = Collections.synchronizedSet(new HashSet<Runner>());","154","","155","        \/**","163","            \/*","164","             * Need to resize the thread pool here in case there is no existing configuration file for SCMTrigger as","165","             * setPollingThreadCount() is not called in this case","166","             *\/","175","            return executor;","183","            for( Runnable r : executor.getQueue() ) {","184","                if (r instanceof Runner) {\/\/ this should be always true, but let's be defensive.","185","                    Runner rr = (Runner) r;","186","                    if(rr.isStarving())","187","                        return true;","188","                }","189","            }","190","            return false;","205","            synchronized (items) {","206","                return Arrays.asList(items.toArray(new Runner[items.size()]));","207","            }","214","            synchronized (items) {","215","                List<SCMedItem> r = new ArrayList<SCMedItem>();","216","                for (Runner i : items)","217","                    r.add(i.getTarget());","218","                return r;","219","            }","258","            \/\/ swap to a new one, and shut down the old one gradually","259","            ThreadPoolExecutor newExec = (ThreadPoolExecutor)","260","                    (maximumThreads==0 ? Executors.newCachedThreadPool() : Executors.newFixedThreadPool(maximumThreads));","261","            ExecutorService old = executor;","262","            executor = newExec;","263","            if(old!=null)","264","                old.shutdown();","328","         * When was this object submitted to {@link DescriptorImpl#getExecutor()}?","329","         *","330","         * <p>","331","         * This field is used to check if the queue is clogged.","332","         *\/","333","        public final long submissionTime = System.currentTimeMillis();","334","","335","        \/**","363","        \/**","364","         * Returns true if too much time is spent since this item is put into the queue.","365","         *","366","         * <p>","367","         * This property makes sense only when called before the task actually starts,","368","         * as the {@link #run()} method may take a long time to execute.","369","         *\/","370","        public boolean isStarving() {","371","            return System.currentTimeMillis()-submissionTime > STARVATION_THRESHOLD;","372","        }","373","","410","                while(pollingScheduled) {","411","                    getLock().lockInterruptibly();","412","                    boolean foundChanges=false;","413","                    try {","414","                        if(pollingScheduled) {","415","                            pollingScheduled = false;","416","                            startTime = System.currentTimeMillis();","417","                            getDescriptor().items.add(this);","418","                            try {","419","                                foundChanges = runPolling();","420","                            } finally {","421","                                getDescriptor().items.remove(this);","422","                            }","423","                        }","424","                    } finally {","425","                        getLock().unlock();","426","                    }","427","                    ","428","                    if(foundChanges) {","429","                        String name = \" #\"+job.asProject().getNextBuildNumber();","430","                        if(job.scheduleBuild(new SCMTriggerCause())) {","431","                            LOGGER.info(\"SCM changes detected in \"+ job.getName()+\". Triggering \"+name);","432","                        } else {","433","                            LOGGER.info(\"SCM changes detected in \"+ job.getName()+\". Job is already in the queue\");","434","                        }","437","            } catch (InterruptedException e) {","438","                LOGGER.info(\"Aborted\");"]}],"core\/src\/main\/resources\/hudson\/widgets\/HistoryWidget\/entry.jelly":[{"add":["29","  <j:set var=\"transitive\" value=\"${it.adapter.compare(build,it.firstTransientBuildKey) ge 0 ? 'transitive' : null}\" \/>","30","  <tr class=\"build-row ${transitive}\">","64","    <tr class=\"${transitive}\">"],"delete":["29","  <tr class=\"build-row ${build.building ? 'transitive' : null}\">","63","    <tr class=\"${build.building ? 'transitive' : null}\">"]}]}},"a41fb84e7fc3bec99bfec371acd6de876e3d55e6":{"changes":{"core\/src\/main\/resources\/hudson\/util\/JenkinsReloadFailed\/index.groovy":"ADD","core\/src\/main\/resources\/hudson\/util\/JenkinsReloadFailed\/index.properties":"ADD","core\/src\/main\/java\/hudson\/util\/JenkinsReloadFailed.java":"ADD","changelog.html":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/util\/JenkinsReloadFailed\/index.groovy":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/util\/JenkinsReloadFailed\/index.properties":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/JenkinsReloadFailed.java":[{"add":[],"delete":[]}],"changelog.html":[{"add":["58","    If reload fails, don't let the partially loaded state running, or risk the user overwriting the configs they have.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-11204\">issue 11204<\/a>)","60","  <li class=rfe>"],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["174","import hudson.util.JenkinsReloadFailed;","2825","        new Thread(\"Jenkins config reload thread\") {","2831","                } catch (Exception e) {","2832","                    LOGGER.log(SEVERE,\"Failed to reload Jenkins config\",e);","2833","                    WebApp.get(servletContext).setApp(new JenkinsReloadFailed(e));"],"delete":["120","import hudson.init.InitReactorListener;","183","import hudson.util.Service;","209","import org.jvnet.hudson.reactor.Milestone;","211","import org.jvnet.hudson.reactor.ReactorListener;","278","import java.util.concurrent.Executors;","2829","        new Thread(\"Hudson config reload thread\") {","2835","                } catch (IOException e) {","2836","                    LOGGER.log(SEVERE,\"Failed to reload Hudson config\",e);","2837","                } catch (ReactorException e) {","2838","                    LOGGER.log(SEVERE,\"Failed to reload Hudson config\",e);","2839","                } catch (InterruptedException e) {","2840","                    LOGGER.log(SEVERE,\"Failed to reload Hudson config\",e);"]}]}},"a2ff61010e1ee2c1521c94ad26cfe5252bf7aaef":{"changes":{"core\/src\/main\/java\/hudson\/cli\/CLIAction.java":"MODIFY","test\/src\/test\/java\/hudson\/cli\/CLIActionTest.java":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/cli\/CLIAction.java":[{"add":["33","import hudson.model.UnprotectedRootAction;","50","public class CLIAction implements UnprotectedRootAction {"],"delete":["42","import hudson.model.RootAction;","50","public class CLIAction implements RootAction {"]}],"test\/src\/test\/java\/hudson\/cli\/CLIActionTest.java":[{"add":[],"delete":[]}]}},"1c578ab5542bd20904c4a5e4ebcc80b42af31bbb":{"changes":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":"MODIFY"},"diff":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":[{"add":["371","    \/\/ note that execScript cannot return value","372","    (this.execScript || eval)(script);","503","    var proxy = eval(e.getAttribute(\"proxy\"));","719","            var readOnly = eval(e.getAttribute(\"script-readOnly\")) || false;"],"delete":["371","    return (this.execScript || eval)(script);","502","    var proxy = geval(e.getAttribute(\"proxy\"));","718","            var readOnly = geval(e.getAttribute(\"script-readOnly\")) || false;"]}]}},"374a104f6c32993e3076621e2530747f3d418f60":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["101","      <version>5.8<\/version>"],"delete":["101","      <version>5.7<\/version>"]}]}},"de275c23ae98339c4b0120cac239a89d08d8975d":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Node\/help-labelString.html":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Node\/help-labelString.html":[{"add":["2","  Use spaces between each label. For instance 'regression java6' will assign a","3","  node the labels 'regression' and 'java6'."],"delete":[]}]}},"5a32eca331bf1d5652ab908c356f0ed64de82c6f":{"changes":{"core\/src\/main\/java\/hudson\/slaves\/RetentionStrategy.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/slaves\/RetentionStrategy.java":[{"add":["31","import java.util.Collections;","32","import java.util.HashMap;","193","        ","196","                final HashMap<Computer, Integer> availableComputers = new HashMap<Computer, Integer>();","197","                for (Computer o : Jenkins.getInstance().getComputers()) {","198","                    if ((o.isOnline() || o.isConnecting()) && o.isPartiallyIdle()) {","199","                        final int idleExecutors = o.countIdle();","200","                        availableComputers.put(o, idleExecutors);","201","                    }","202","                }","203","                ","204","                boolean needComputer = false;","205","                long demandMilliseconds = 0;","206","                for (Queue.BuildableItem item : Queue.getInstance().getBuildableItems()) {","207","                    boolean needExecutor = true;","208","                    for (Computer o : Collections.unmodifiableSet(availableComputers.keySet())) {","209","                        if (o.getNode().canTake(item) == null) {","210","                            needExecutor = false;","211","                            final int availableExecutors = availableComputers.remove(o);","212","                            if (availableExecutors > 1) {","213","                                availableComputers.put(o, availableExecutors - 1);","214","                            }","215","                            break;","216","                        }","217","                    }","218","                    ","219","                    if (needExecutor) {","220","                        demandMilliseconds = System.currentTimeMillis() - item.buildableStartMilliseconds;","221","                        needComputer = demandMilliseconds > inDemandDelay * 1000 * 60 \/*MINS->MILLIS*\/ && c.isLaunchSupported();","222","                        break;","223","                    }","224","                }","225","","226","                if (needComputer) {"],"delete":["191","","194","                final long demandMilliseconds = System.currentTimeMillis() - c.getDemandStartMilliseconds();","195","                if (demandMilliseconds > inDemandDelay * 1000 * 60 \/*MINS->MILLIS*\/ && c.isLaunchSupported()) {"]}]}},"564c232fbcfa25f45eb528aebd6c532967171763":{"changes":{"core\/src\/main\/java\/hudson\/maven\/MavenModule.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/maven\/MavenModule.java":[{"add":["30","import java.util.HashSet;","229","            \/\/ if we just pick up the project actions from the last build,","230","            \/\/ and if the last build failed very early, then the reports that","231","            \/\/ kick in later (like test results) won't be displayed.","232","            \/\/ so pick up last successful build, too.","233","            Set<Class> added = new HashSet<Class>();","234","            addTransientActionsFromBuild(getLastBuild(),added);","235","            addTransientActionsFromBuild(getLastSuccessfulBuild(),added);","236","","245","    private void addTransientActionsFromBuild(MavenBuild build, Set<Class> added) {","246","        if(build==null)    return;","247","        List<MavenReporter> list = build.projectActionReporters;","248","        if(list==null)   return;","249","","250","        for (MavenReporter step : list) {","251","            if(!added.add(step.getClass()))     continue;   \/\/ already added","252","            Action a = step.getProjectAction(this);","253","            if(a!=null)","254","                transientActions.add(a);","255","        }","256","    }","257",""],"delete":["228","            MavenBuild lb = getLastBuild();","229","            if(lb==null)    return;","230","            ","231","            List<MavenReporter> list = lb.projectActionReporters;","232","            if(list!=null)","233","                for (MavenReporter step : list) {","234","                    Action a = step.getProjectAction(this);","235","                    if(a!=null)","236","                        transientActions.add(a);","237","                }"]}]}},"541641100b4a9570d72d263a12edbc1e06c987a2":{"changes":{"core\/src\/main\/java\/jenkins\/install\/InstallUtil.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/install\/InstallUtil.java":[{"add":[],"delete":["90","        InstallState current = Jenkins.getInstance().getInstallState();","91","        if (!current.equals(prior)) {","92","            if (Main.isDevelopmentMode) LOGGER.warning(\"Transitioning state from: \" + prior + \", but current is: \" + current);","93","        }"]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["955","        if (installState == null || installState.name() == null) {","956","            return InstallState.UNKNOWN;","957","        }"],"delete":[]}]}},"a01ebae1a4783566e42d74c4edaaf1dc3ed8a43e":{"changes":{"core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["1518","            return getClass().getName() + ':' + task + ':' + id;"],"delete":["1518","            return getClass().getName() + ':' + task + ':' + getWhy();"]}]}},"08a1fc39d5231f319e64776889d6a66aac94f26d":{"changes":{"core\/pom.xml":"MODIFY","test\/src\/test\/groovy\/hudson\/cli\/BuildCommandTest.groovy":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["190","      <version>2.0.23<\/version>"],"delete":["190","      <version>2.0.21<\/version>"]}],"test\/src\/test\/groovy\/hudson\/cli\/BuildCommandTest.groovy":[{"add":["177","","178","    @Test void correctlyParseMapValuesContainingEqualsSign() {","179","","180","        def project = j.createFreeStyleProject(\"the-project\");","181","        project.addProperty(new ParametersDefinitionProperty([","182","                new StringParameterDefinition(\"expr\", null)","183","        ]));","184","","185","        def invoker = new CLICommandInvoker(j, new BuildCommand());","186","        def result = invoker.invokeWithArgs(\"the-project\", \"-p\", \"expr=a=b\", \"-s\");","187","","188","        assertEquals(\"Command is expected to succeed\", 0, result.returnCode());","189","        assertEquals(\"a=b\", project.getBuildByNumber(1).getBuildVariables().get(\"expr\"));","190","    }"],"delete":[]}]}},"4cad0b1f29386de28fb53539ba02541a8fdf0dc8":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/junit\/TestObject.java":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/junit\/MetaTabulatedResult\/body.jelly":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/junit\/TestResult.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/junit\/CaseResult.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/junit\/TabulatedResult.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/junit\/PackageResult.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/junit\/TestObject.java":[{"add":["49","     * Replaces URL-unsafe characters.","52","        \/\/ 3 replace calls is still 2-3x faster than a regex replaceAll","53","        return s.replace('\/','_').replace('\\\\', '_').replace(':','_');"],"delete":["49","     * Replaces URL-unasfe characters.","52","        return s.replace('\/','_').replace(':','_');"]}],"core\/src\/main\/resources\/hudson\/tasks\/junit\/MetaTabulatedResult\/body.jelly":[{"add":["40","            <td class=\"pane\"><a href=\"${p.safeName}\/\">${p.name}<\/a><\/td>","55","<\/j:jelly>"],"delete":["40","            <td class=\"pane\"><a href=\"${p.name}\/\">${p.name}<\/a><\/td>","55","<\/j:jelly>"]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/TestResult.java":[{"add":["210","    @Override","211","    public String getName() {","212","        return \"\";","213","    }","214","","258","                String pkg = cr.getPackageName(), spkg = safe(pkg);","259","                PackageResult pr = byPackage(spkg);","261","                    byPackages.put(spkg,pr=new PackageResult(this,pkg));"],"delete":["253","                String pkg = cr.getPackageName();","254","                PackageResult pr = byPackage(pkg);","256","                    byPackages.put(pkg,pr=new PackageResult(this,pkg));"]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/CaseResult.java":[{"add":["260","        StringBuilder buf = new StringBuilder();","264","            buf.insert(0,classResult.getSafeName());","269","                buf.insert(0,pkg.getSafeName());"],"delete":["260","        StringBuffer buf = new StringBuffer();","264","            buf.insert(0,classResult.getName());","269","                buf.insert(0,pkg.getName());"]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/TabulatedResult.java":[{"add":["43","    \/**","44","     * Gets the name of this object.","45","     *\/","46","    public abstract String getName();","47","","48","    \/**","49","     * Gets the version of {@link #getName()} that's URL-safe.","50","     *\/","51","    public String getSafeName() {","52","        return safe(getName());","53","    }"],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/PackageResult.java":[{"add":["102","        String n = r.getSimpleName(), sn = safe(n);","103","        ClassResult c = classes.get(sn);","105","            classes.put(sn,c=new ClassResult(this,n));"],"delete":["102","        String n = r.getSimpleName();","103","        ClassResult c = classes.get(n);","105","            classes.put(n,c=new ClassResult(this,n));"]}]}},"899f5aa41769c6b6265c95bd63517b35e760f1fa":{"changes":{"core\/src\/test\/java\/hudson\/util\/SecretRewriterTest.groovy":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/util\/SecretRewriterTest.groovy":[{"add":["54","        assert after.replaceAll(\"\\r\\n\", \"\\n\").trim()==f.text.replaceAll(\"\\r\\n\", \"\\n\").trim()"],"delete":["54","        assert after.trim()==f.text.trim()"]}]}},"77da4bcba2b8fcc75736078fd5df822a7b82385c":{"changes":{"core\/src\/main\/java\/hudson\/model\/Project.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Project.java":[{"add":["201","    protected synchronized void updateTransientActions() {"],"delete":["201","    protected void updateTransientActions() {"]}]}},"92cb872a6c63f541edb7fe2b951d7d35b5548976":{"changes":{"core\/src\/main\/resources\/hudson\/PluginManager\/_table.js":"MODIFY","core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message_bg.properties":"MODIFY","core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message.properties":"MODIFY","core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message_pl.properties":"MODIFY","war\/src\/main\/webapp\/css\/style.css":"MODIFY","core\/src\/main\/resources\/hudson\/PluginManager\/installed.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/Messages.properties":"MODIFY","core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message_de.properties":"MODIFY","core\/src\/test\/java\/hudson\/PluginWrapperTest.java":"MODIFY","core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message_it.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/PluginManager\/_table.js":[{"add":["232","                    var enabled = false;","233","                    if (depPluginTR) {","234","                        var depPluginMetadata = depPluginTR.jenkinsPluginMetadata;","235","                        enabled = depPluginMetadata.enableInput.checked;","236","                    }","237","                    if (enabled) {","360","            if (enableInput) {","361","                \/\/ Toggling of the enable\/disable checkbox requires a check and possible","362","                \/\/ change of visibility on the same checkbox on other plugins.","363","                Element.observe(enableInput, 'click', function() {","364","                    setEnableWidgetStates();","365","                });","366","            }","389","            if (enableTD) {","390","                Element.observe(enableTD, 'mouseenter', function() {","391","                    showInfoTimeout = setTimeout(function() {","392","                        showInfoTimeout = undefined;","393","                        infoDiv.update('');","394","                        if (populateEnableDisableInfo(pluginTR, infoDiv)) {","395","                            addDependencyInfoRow(pluginTR, infoTR);","396","                        }","397","                    }, 1000);","398","                });","399","                Element.observe(enableTD, 'mouseleave', function() {","400","                    clearShowInfoTimeout();","401","                    removeDependencyInfoRow(pluginTR);","402","                });","403","            }","406","            if (uninstallTD) {","407","                Element.observe(uninstallTD, 'mouseenter', function() {","408","                    showInfoTimeout = setTimeout(function() {","409","                        showInfoTimeout = undefined;","410","                        infoDiv.update('');","411","                        if (populateUninstallInfo(pluginTR, infoDiv)) {","412","                            addDependencyInfoRow(pluginTR, infoTR);","413","                        }","414","                    }, 1000);","415","                });","416","                Element.observe(uninstallTD, 'mouseleave', function() {","417","                    clearShowInfoTimeout();","418","                    removeDependencyInfoRow(pluginTR);","419","                });","420","            }"],"delete":["232","                    var depPluginMetadata = depPluginTR.jenkinsPluginMetadata;","233","                    if (depPluginMetadata.enableInput.checked) {","356","            ","357","            \/\/ Toggling of the enable\/disable checkbox requires a check and possible","358","            \/\/ change of visibility on the same checkbox on other plugins.","359","            Element.observe(enableInput, 'click', function() {","360","                setEnableWidgetStates();","361","            });","384","            Element.observe(enableTD, 'mouseenter', function() {","385","                showInfoTimeout = setTimeout(function() {","386","                    showInfoTimeout = undefined;","387","                    infoDiv.update('');","388","                    if (populateEnableDisableInfo(pluginTR, infoDiv)) {","389","                        addDependencyInfoRow(pluginTR, infoTR);","390","                    }","391","                }, 1000);","392","            });","393","            Element.observe(enableTD, 'mouseleave', function() {","394","                clearShowInfoTimeout();","395","                removeDependencyInfoRow(pluginTR);","396","            });","399","            Element.observe(uninstallTD, 'mouseenter', function() {","400","                showInfoTimeout = setTimeout(function() {","401","                    showInfoTimeout = undefined;","402","                    infoDiv.update('');","403","                    if (populateUninstallInfo(pluginTR, infoDiv)) {","404","                        addDependencyInfoRow(pluginTR, infoTR);","405","                    }","406","                }, 1000);","407","            });","408","            Element.observe(uninstallTD, 'mouseleave', function() {","409","                clearShowInfoTimeout();","410","                removeDependencyInfoRow(pluginTR);","411","            });"]}],"core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message_bg.properties":[{"add":["25","DirectlyDependentPlugins.title=\\","26"," \\u0418\\u043c\\u0430 \\u0433\\u0440\\u0435\\u0448\\u043a\\u0438 \\u0432 \\u0437\\u0430\\u0432\\u0438\\u0441\\u0438\\u043c\\u043e\\u0441\\u0442\\u0438\\u0442\\u0435 \\u043d\\u0430 \\u043d\\u044f\\u043a\\u043e\\u0438 \\u043f\\u0440\\u0438\\u0441\\u0442\\u0430\\u0432\\u043a\\u0438:"],"delete":["25","Dependency\\ errors=\\","26"," \\u0418\\u043c\\u0430 \\u0433\\u0440\\u0435\\u0448\\u043a\\u0438 \\u0432 \\u0437\\u0430\\u0432\\u0438\\u0441\\u0438\\u043c\\u043e\\u0441\\u0442\\u0438\\u0442\\u0435 \\u043d\\u0430 \\u043d\\u044f\\u043a\\u043e\\u0438 \\u043f\\u0440\\u0438\\u0441\\u0442\\u0430\\u0432\\u043a\\u0438"]}],"core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message.properties":[{"add":["21","blurbOriginal=Some plugins could not be loaded due to unsatisfied dependencies. Fix these issues and restart Jenkins to re-enable these plugins.","22","blurbDerived=Some of the above failures also result in additional indirectly dependent plugins not being able to load.","23","DirectlyDependentPlugins.title=Dependency errors:","24","IndirectlyDependentPlugins.title=Indirectly dependent plugins:"],"delete":["21","blurbOriginal=Some plugins could not be loaded due to unsatisfied dependencies. Fix these issues and restart Jenkins to restore the functionality provided by these plugins.","22","blurbDerived=These plugins failed to load because of one or more of the errors above. Fix those and these plugins will load again."]}],"core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message_pl.properties":[{"add":["22","DirectlyDependentPlugins.title=Wyst\\u0105pi\\u0142y b\\u0142\\u0119dy podczas \\u0142adowania niekt\\u00F3rych wtyczek"],"delete":["22","Dependency\\ errors=Wyst\\u0105pi\\u0142y b\\u0142\\u0119dy podczas \\u0142adowania niekt\\u00F3rych wtyczek"]}],"war\/src\/main\/webapp\/css\/style.css":[{"add":["84","dt > .plugin_version {","85","  font-weight: normal;","86","}","87",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/PluginManager\/installed.jelly":[{"add":["49","             data-disabled-dependencies=\"${%It has one or more unsatisfied dependencies}\""],"delete":["49","             data-disabled-dependencies=\"${%It has one or more disabled dependencies}\" "]}],"core\/src\/main\/resources\/hudson\/Messages.properties":[{"add":["77","PluginWrapper.missing=Plugin is missing: {0} ({1})","78","PluginWrapper.failed_to_load_plugin=Failed to load: {0} ({1})","79","PluginWrapper.failed_to_load_dependency=Failed to load: {0} ({1})","80","PluginWrapper.disabledAndObsolete=Update required: {0} ({1}) to {2} or higher","81","PluginWrapper.disabled=Required plugin is disabled: {0}","82","PluginWrapper.obsolete=Update required: {0} ({1}) to be updated to {2} or higher","83","PluginWrapper.obsoleteCore=Jenkins ({1}) or higher required","84","PluginWrapper.obsoleteJava=Java ({1}) or higher required"],"delete":["77","PluginWrapper.missing={0} version {1} is missing. To fix, install version {1} or later.","78","PluginWrapper.failed_to_load_plugin={0} version {1} failed to load.","79","PluginWrapper.failed_to_load_dependency={0} version {1} failed to load. Fix this plugin first.","80","PluginWrapper.disabledAndObsolete={0} version {1} is disabled and older than required. To fix, install version {2} or later and enable it.","81","PluginWrapper.disabled={0} is disabled. To fix, enable it.","82","PluginWrapper.obsolete={0} version {1} is older than required. To fix, install version {2} or later.","83","PluginWrapper.obsoleteCore=You must update Jenkins from version {0} to version {1} or later to run this plugin.","84","PluginWrapper.obsoleteJava=You must update Java from version {0} to version {1} or later to run this plugin."]}],"core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message.jelly":[{"add":["7","    <p><strong>${%DirectlyDependentPlugins.title}<\/strong><\/p>","11","          <dt>${plugin.longName} <span class=\"plugin_version\">(${plugin.version})<\/span><\/dt>","20","      <p><strong>${%IndirectlyDependentPlugins.title}<\/strong><\/p>","24","            <dt>${plugin.displayName} <span class=\"plugin_version\">(${plugin.version})<\/span><\/dt>"],"delete":["6","    <p><strong>${%Dependency errors}:<\/strong><\/p>","11","          <dt>${plugin.longName} version ${plugin.version}<\/dt>","19","      <p><strong>${%Downstream dependency errors}:<\/strong><\/p>","24","            <dt>${plugin.displayName} version ${plugin.version}<\/dt>"]}],"core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message_de.properties":[{"add":["23","DirectlyDependentPlugins.title=Beim Laden einiger Plugins sind Fehler aufgetreten:"],"delete":["23","Dependency\\ errors=Beim Laden einiger Plugins sind Fehler aufgetreten."]}],"core\/src\/test\/java\/hudson\/PluginWrapperTest.java":[{"add":["55","            assertContains(ex, \"Failed to load: fake (42)\", \"Jenkins (3.0) or higher required\");","66","            assertContains(ex, \"Failed to load: dependee (42)\", \"Plugin is missing: dependency (42)\");","78","            assertContains(ex, \"Failed to load: dependee (42)\", \"Update required: dependency (3) to be updated to 5 or higher\");","90","            assertContains(ex, \"Failed to load: dependee (42)\", \"Failed to load: dependency (5)\");"],"delete":["55","            assertContains(ex, \"fake version 42 failed to load\", \"update Jenkins from version 2.0 to version 3.0\");","66","            assertContains(ex, \"dependee version 42 failed to load\", \"dependency version 42 is missing. To fix, install version 42 or later\");","78","            assertContains(ex, \"dependee version 42 failed to load\", \"dependency version 3 is older than required. To fix, install version 5 or later\");","90","            assertContains(ex, \"dependee version 42 failed to load\", \"dependency version 5 failed to load. Fix this plugin first\");"]}],"core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message_it.properties":[{"add":["22","DirectlyDependentPlugins.title=Si sono verificati degli errori relativi alle dipendenze durante il caricamento di alcuni plugin:"],"delete":["22","Dependency\\ errors=Si sono verificati degli errori relativi alle dipendenze durante il caricamento di alcuni plugin"]}]}},"8d3eb20e5d82cf3528849301493ec5b2ddf9dd87":{"changes":{"core\/src\/main\/java\/hudson\/model\/queue\/WorkUnit.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/queue\/WorkUnitContext.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/queue\/WorkUnit.java":[{"add":["73","        if (e != null) {","74","            context.future.addExecutor(e);","75","        }"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/queue\/WorkUnitContext.java":[{"add":["90","     * Called within the queue maintenance process to create a {@link WorkUnit} for the given {@link SubTask}"],"delete":["90","     * Called by the executor that executes a member {@link SubTask} that belongs to this task","91","     * to create its {@link WorkUnit}.","94","        Executor executor = Executor.currentExecutor();","95","        if (executor != null) { \/\/ TODO is it legal for this to be called by a non-executor thread?","96","            future.addExecutor(executor);","97","        }"]}]}},"5d002924628ab4a7734e93ae23607c8770f3d890":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Computer\/sidepanel_nl.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Computer\/sidepanel_nl.properties":[{"add":["26","Load\\ Statistics=Belastings statistieken"],"delete":["26","Load\\ Statistics=Belasting statistieken"]}]}},"09ffabb5ddb2f0d36300b017a14800396b28dac8":{"changes":{"remoting\/src\/main\/java\/hudson\/remoting\/PipeWindow.java":"MODIFY"},"diff":{"remoting\/src\/main\/java\/hudson\/remoting\/PipeWindow.java":[{"add":["117","            if (LOGGER.isLoggable(FINER))","118","                LOGGER.finer(String.format(\"increase(%d,%d)->%d\",oid,delta,delta+available));","154","            if (LOGGER.isLoggable(FINER))","155","                LOGGER.finer(String.format(\"decrease(%d,%d)->%d\",oid,delta,available-delta));"],"delete":["26","import java.util.logging.Level;","118","            if (LOGGER.isLoggable(INFO))","119","                LOGGER.info(String.format(\"increase(%d,%d)->%d\",oid,delta,delta+available));","155","            if (LOGGER.isLoggable(INFO))","156","                LOGGER.info(String.format(\"decrease(%d,%d)->%d\",oid,delta,available-delta));"]}]}},"8b41031750465f710bef219114b885134faf68ea":{"changes":{"core\/src\/main\/java\/hudson\/Proc.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Proc.java":[{"add":["204","                \/\/ the javadoc is unclear about what getErrorStream() returns when ProcessBuilder.redirectErrorStream(true),","205","                \/\/","206","                \/\/ according to the source code, Sun JREs still still returns a distinct reader end of a pipe that needs to be closed.","207","                \/\/ but apparently at least on some IBM JDK5, returned input and error streams are the same.","208","                \/\/ so try to close them smartly"],"delete":["204","                \/\/ On IBM JDK5, returned input and error streams might be the same. ","205","                \/\/ So, in this case, closing one isn't a good idea since it will close both.","207","                    \/\/ while this is not discussed in javadoc, even with ProcessBuilder.redirectErrorStream(true),","208","                    \/\/ Process.getErrorStream() still returns a distinct reader end of a pipe that needs to be closed.","209","                    \/\/ this is according to the source code of HotSpot JVM"]}],"changelog.html":[{"add":["60","  <li class='major bug'>","61","    On IBM JDKs, Jenkins incorrectly ended up closing stdout to read from forked processes.","62","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-8420\">issue 8420<\/a>)"],"delete":[]}]}},"4795671b5e8f4172c2a64e4d88d809d24394b6aa":{"changes":{"maven-plugin\/pom.xml":"MODIFY"},"diff":{"maven-plugin\/pom.xml":[{"add":["37","  <url>http:\/\/wiki.hudson-ci.org\/display\/HUDSON\/Building+a+maven2+project<\/url>","38","    "],"delete":["37",""]}]}},"898f1f76a37e1c69cf38df718a5d3899544ebb44":{"changes":{"core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/jenkins\/ClassLoaderReflectionToolkit.java":"MODIFY","core\/src\/main\/java\/hudson\/PluginManager.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":[{"add":["569","                        Class<?> c = ClassLoaderReflectionToolkit._findLoadedClass(pw.classLoader, name);","571","                        return ClassLoaderReflectionToolkit._findClass(pw.classLoader, name);","572","                    } catch (ClassNotFoundException e) {","597","                        Enumeration<URL> urls = ClassLoaderReflectionToolkit._findResources(pw.classLoader, name);","619","                        URL url = ClassLoaderReflectionToolkit._findResource(pw.classLoader, name);"],"delete":["58","import java.lang.reflect.InvocationTargetException;","74","    private final ClassLoaderReflectionToolkit clt = new ClassLoaderReflectionToolkit();","571","                        Class c = clt.findLoadedClass(pw.classLoader,name);","573","                        return clt.findClass(pw.classLoader,name);","574","                    } catch (InvocationTargetException e) {","598","                try {","600","                        Enumeration<URL> urls = clt.findResources(pw.classLoader, name);","604","                } catch (InvocationTargetException e) {","605","                    throw new Error(e);","606","                }","624","                try {","626","                        URL url = clt.findResource(pw.classLoader,name);","629","                } catch (InvocationTargetException e) {","630","                    throw new Error(e);","631","                }"]}],"changelog.html":[{"add":["61","  <li class=bug>","62","    Random class loading error mostly known to affect static analysis plugins.","63","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-12124\">issue 12124<\/a>)"],"delete":[]}],"core\/src\/main\/java\/jenkins\/ClassLoaderReflectionToolkit.java":[{"add":["2","import java.io.IOException;","7","import javax.annotation.CheckForNull;","8","import javax.annotation.Nonnull;","11"," * Reflective access to various {@link ClassLoader} methods which are otherwise {@code protected}.","13","@SuppressWarnings({\"unchecked\", \"rawtypes\"})","16","    private static final Method FIND_CLASS, FIND_LOADED_CLASS, FIND_RESOURCE, FIND_RESOURCES, GET_CLASS_LOADING_LOCK;","17","","18","    static {","31","        Method gCLL = null;","32","        try {","33","            gCLL = ClassLoader.class.getDeclaredMethod(\"getClassLoadingLock\", String.class);","34","            gCLL.setAccessible(true);","35","        } catch (NoSuchMethodException x) {","36","            \/\/ OK, Java 6","37","        }","38","        GET_CLASS_LOADING_LOCK = gCLL;","41","    private static <T extends Exception> Object invoke(Method method, Class<T> exception, Object obj, Object... args) throws T {","42","        try {","43","            return method.invoke(obj, args);","44","        } catch (IllegalAccessException x) {","45","            throw new AssertionError(x);","46","        } catch (InvocationTargetException x) {","47","            Throwable x2 = x.getCause();","48","            if (x2 instanceof RuntimeException) {","49","                throw (RuntimeException) x2;","50","            } else if (x2 instanceof Error) {","51","                throw (Error) x2;","52","            } else if (exception.isInstance(x2)) {","53","                throw exception.cast(x2);","54","            } else {","55","                throw new AssertionError(x2);","56","            }","57","        }","58","    }","59","","60","    private static Object getClassLoadingLock(ClassLoader cl, String name) {","61","        if (GET_CLASS_LOADING_LOCK != null) {","62","            return invoke(GET_CLASS_LOADING_LOCK, RuntimeException.class, cl, name);","63","        } else {","64","            \/\/ Java 6 expects you to always synchronize on this.","65","            return cl;","66","        }","67","    }","68","","69","    \/**","70","     * Calls {@link ClassLoader#findLoadedClass} while holding {@link ClassLoader#getClassLoadingLock}.","71","     * @since 1.553","72","     *\/","73","    public static @CheckForNull Class<?> _findLoadedClass(ClassLoader cl, String name) {","74","        synchronized (getClassLoadingLock(cl, name)) {","75","            return (Class) invoke(FIND_LOADED_CLASS, RuntimeException.class, cl, name);","76","        }","77","    }","78","","79","    \/**","80","     * Calls {@link ClassLoader#findClass} while holding {@link ClassLoader#getClassLoadingLock}.","81","     * @since 1.553","82","     *\/","83","    public static @Nonnull Class<?> _findClass(ClassLoader cl, String name) throws ClassNotFoundException {","84","        synchronized (getClassLoadingLock(cl, name)) {","85","            return (Class) invoke(FIND_CLASS, ClassNotFoundException.class, cl, name);","86","        }","87","    }","88","","89","    \/**","90","     * Calls {@link ClassLoader#findResource}.","91","     * @since 1.553","92","     *\/","93","    public static @CheckForNull URL _findResource(ClassLoader cl, String name) {","94","        return (URL) invoke(FIND_RESOURCE, RuntimeException.class, cl, name);","95","    }","96","","97","    \/**","98","     * Calls {@link ClassLoader#findResources}.","99","     * @since 1.553","100","     *\/","101","    public static @Nonnull Enumeration<URL> _findResources(ClassLoader cl, String name) throws IOException {","102","        return (Enumeration<URL>) invoke(FIND_RESOURCES, IOException.class, cl, name);","103","    }","104","","105","    \/** @deprecated unsafe *\/","106","    @Deprecated public ClassLoaderReflectionToolkit() {}","107","","108","    \/** @deprecated unsafe *\/","109","    @Deprecated","118","    \/** @deprecated unsafe *\/","119","    @Deprecated","128","    \/** @deprecated unsafe *\/","129","    @Deprecated","138","    \/** @deprecated unsafe *\/","139","    @Deprecated"],"delete":["8"," * Reflection access to various {@link ClassLoader} methods.","9"," *","10"," * @author Kohsuke Kawaguchi","13","    \/**","14","     * ClassLoader.findClass(String) for a call that bypasses access modifier.","15","     *\/","16","    private final Method FIND_CLASS, FIND_LOADED_CLASS, FIND_RESOURCE, FIND_RESOURCES;","18","    public ClassLoaderReflectionToolkit() {","65","\/\/    private void check(InvocationTargetException e) {","66","\/\/        Throwable t = e.getTargetException();","67","\/\/        if (t instanceof Error)","68","\/\/            throw (Error)t;","69","\/\/        if (t instanceof RuntimeException)","70","\/\/            throw (RuntimeException)t;","71","\/\/    }"]}],"core\/src\/main\/java\/hudson\/PluginManager.java":[{"add":["962","                        Class<?> c = ClassLoaderReflectionToolkit._findLoadedClass(p.classLoader, name);","965","                        return ClassLoaderReflectionToolkit._findClass(p.classLoader, name);","966","                    } catch (ClassNotFoundException e) {","987","                        URL url = ClassLoaderReflectionToolkit._findResource(p.classLoader, name);","1006","                        resources.addAll(Collections.list(ClassLoaderReflectionToolkit._findResources(p.classLoader, name)));"],"delete":["84","import java.lang.reflect.InvocationTargetException;","943","        private ClassLoaderReflectionToolkit clt = new ClassLoaderReflectionToolkit();","944","","965","                        Class c = clt.findLoadedClass(p.classLoader,name);","968","                        return clt.findClass(p.classLoader,name);","969","                    } catch (InvocationTargetException e) {","989","                try {","991","                        URL url = clt.findResource(p.classLoader,name);","995","                } catch (InvocationTargetException e) {","996","                    throw new Error(e);","997","                }","1012","                try {","1014","                        resources.addAll(Collections.list(clt.findResources(p.classLoader, name)));","1016","                } catch (InvocationTargetException e) {","1017","                    throw new Error(e);","1018","                }"]}]}},"088c08485f568cc42e8ec0a9593299d98a19970d":{"changes":{"changelog.html":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/SurefireArchiver.java":"MODIFY"},"diff":{"changelog.html":[{"add":["63","  <li class=bug>","64","    Maven2 builds with non-standard test plugins failed.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16928\">issue 16928<\/a>)"],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/SurefireArchiver.java":[{"add":["95","            XmlPlexusConfiguration c = (XmlPlexusConfiguration) mojo.configuration.getChild(\"testFailureIgnore\",false);"],"delete":["95","            XmlPlexusConfiguration c = (XmlPlexusConfiguration) mojo.configuration.getChild(\"testFailureIgnore\");"]}]}},"6f44ff7dee22e277cdfb94494c1b23e0c676ebbf":{"changes":{"\/dev\/null":"DELETE","core\/src\/main\/java\/hudson\/model\/Computer.java":"MODIFY","test\/src\/test\/java\/hudson\/slaves\/CloudTest.java":"ADD"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Computer.java":[{"add":["31","import hudson.slaves.Cloud;","1736","    \/\/ This permission was historically scoped to this class albeit declared in Cloud. While deserializing, Jenkins loads","1737","    \/\/ the scope class to make sure the permission is initialized and registered. since Cloud class is used rather seldom,","1738","    \/\/ it might appear the permission does not exist. Referencing the permission from here to make sure it gets loaded.","1739","    private static final @Deprecated Permission CLOUD_PROVISION = Cloud.PROVISION;","1740",""],"delete":[]}],"test\/src\/test\/java\/hudson\/slaves\/CloudTest.java":[{"add":[],"delete":[]}]}},"7a948d399585d201c4132597aed5723a495acf69":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["182","        <version>3.1<\/version>"],"delete":["182","        <version>3.0<\/version>"]}]}},"d8c12c026474dfa54ef3610f1d69feb50029692a":{"changes":{"core\/src\/test\/java\/hudson\/model\/AbstractItemTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractItem.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractItem\/configure-common.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/configure-entries.jelly":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/model\/AbstractItemTest.java":[{"add":["65","    ","66","    @Test","67","    public void testGetDisplayNameOrNull() throws Exception {","68","        final String projectName = \"projectName\";","69","        final String displayName = \"displayName\";","70","        StubAbstractItem i = new StubAbstractItem();","71","        i.doSetName(projectName);","72","        Assert.assertEquals(projectName, i.getName());","73","        Assert.assertNull(i.getDisplayNameOrNull());","74","        ","75","        i.setDisplayName(displayName);","76","        Assert.assertEquals(displayName, i.getDisplayNameOrNull());","77","    }","78","","79","    @Test","80","    public void testSetDisplayNameOrNull() throws Exception {","81","        final String projectName = \"projectName\";","82","        final String displayName = \"displayName\";","83","        StubAbstractItem i = new StubAbstractItem();","84","        i.doSetName(projectName);","85","        Assert.assertNull(i.getDisplayNameOrNull());","86","","87","        i.setDisplayNameOrNull(displayName);","88","        Assert.assertEquals(displayName, i.getDisplayNameOrNull());","89","        Assert.assertEquals(displayName, i.getDisplayName());","90","    }"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":[{"add":["120","    \/**","121","     * @return The display name of this object, or if it is not set, the name","122","     * of the object.","123","     *\/","132","    @Exported","133","    \/**","134","     * This is intended to be used by the Job configuration pages where","135","     * we want to return null if the display name is not set.","136","     * @return The display name of this object or null if the display name is not","137","     * set","138","     *\/","139","    public String getDisplayNameOrNull() {","140","        return displayName;","141","    }","142","    ","143","    \/**","144","     * This method exists so that the Job configuration pages can use ","145","     * getDisplayNameOrNull so that nothing is shown in the display name text","146","     * box if the display name is not set.","147","     * @param displayName","148","     * @throws IOException","149","     *\/","150","    public void setDisplayNameOrNull(String displayName) throws IOException {","151","        setDisplayName(displayName);","152","    }","153","    "],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractItem\/configure-common.jelly":[{"add":["67","         <f:textbox name=\"displayName\" value=\"${it.displayNameOrNull}\" "],"delete":["67","         <f:textbox name=\"displayName\" value=\"${it.displayName}\" "]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/configure-entries.jelly":[{"add":["41","         <f:textbox name=\"displayName\" value=\"${it.displayNameOrNull}\" "],"delete":["41","         <f:textbox name=\"displayName\" value=\"${it.displayName}\" "]}]}},"7dbcd02cf71eabf92e58522968230d564d9b99e5":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["117","      <version>build-217-jenkins-11<\/version>"],"delete":["117","      <version>build217-jenkins-10<\/version>"]}]}},"dff8e806b9466652a351dd7fb7f742b6698140db":{"changes":{"test\/src\/test\/java\/hudson\/model\/UsageStatisticsTest.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/UsageStatisticsTest.java":[{"add":["107","            if (p.getSplitWhen().isOlderThan(Jenkins.getVersion())) {","108","                detached.add(p.getShortName());","109","            }"],"delete":["107","            detached.add(p.getShortName());"]}]}},"922cfb857f0a6db62a1ff0805d6262f5e80f86b9":{"changes":{"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/WarExploder.java":"MODIFY"},"diff":{"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/WarExploder.java":[{"add":["7","import java.io.IOException;","71","            if(!explodeDir.exists())    \/\/ this is supposed to be impossible, but I'm investigating HUDSON-2605","72","                throw new IOException(\"Failed to explode \"+war);"],"delete":[]}]}},"8f97fcfc31f10b33f2a7cf42fde4cb92446e7cc3":{"changes":{"debian\/hudson.init":"MODIFY"},"diff":{"debian\/hudson.init":[{"add":["4","#","5","### BEGIN INIT INFO","6","# Provides:          hudson","7","# Required-Start:    $remote_fs $syslog $network","8","# Required-Stop:     $remote_fs $syslog $network","9","# Default-Start:     2 3 4 5","10","# Default-Stop:      0 1 6","11","# Short-Description: Start hudson at boot time","12","# Description:       Controls the hudson continuous integration engine.","13","### END INIT INFO"],"delete":[]}]}},"9ab15ecf9ed86046f063fa3ee8fb3d864f9a9cfc":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Cause\/UpstreamCause\/description.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Cause\/UserCause\/description.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Cause\/description.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Cause\/UpstreamCause\/description.jelly":[{"add":["25","    <span>${it.upstreamUrl!=null ? \"%started_by_project(it.upstreamProject,it.upstreamBuild.toString(),it.upstreamUrl,rootURL)\" : it.shortDescription}<\/span>"],"delete":["25","    <p>${it.upstreamUrl!=null ? \"%started_by_project(it.upstreamProject,it.upstreamBuild.toString(),it.upstreamUrl,rootURL)\" : it.shortDescription}<\/p>"]}],"core\/src\/main\/resources\/hudson\/model\/Cause\/UserCause\/description.jelly":[{"add":["24","    <span>${%started_by_user(it.userName,rootURL)}<\/span>"],"delete":["24","    <p>${%started_by_user(it.userName,rootURL)}<\/p>"]}],"core\/src\/main\/resources\/hudson\/model\/Cause\/description.jelly":[{"add":["24","    <span>${it.shortDescription}<\/span>"],"delete":["24","    <p>${it.shortDescription}<\/p>"]}]}},"0c2b72f73d20956ca9f055681e0c7716b0fd58f0":{"changes":{"opensuse\/SPECS\/jenkins.spec":"MODIFY","changelog.html":"MODIFY","rpm\/SPECS\/jenkins.spec":"MODIFY"},"diff":{"opensuse\/SPECS\/jenkins.spec":[{"add":["133","%config(noreplace) \/etc\/zypp\/repos.d\/jenkins.repo"],"delete":["133","\/etc\/zypp\/repos.d\/jenkins.repo"]}],"changelog.html":[{"add":["60","  <li class=bug>","61","    Avoid overwriting the repository definitions.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-11229\">issue 11229<\/a>)"],"delete":[]}],"rpm\/SPECS\/jenkins.spec":[{"add":["138","%config(noreplace) \/etc\/yum.repos.d\/jenkins.repo"],"delete":["138","\/etc\/yum.repos.d\/jenkins.repo"]}]}},"606d84c5b6a376dca545dbee32598ad17cfb2ec1":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/BuildAuthorizationToken.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["1788","        BuildAuthorizationToken.checkPermission((Job) this, authToken, req, rsp);"],"delete":["1788","        BuildAuthorizationToken.checkPermission(this, authToken, req, rsp);"]}],"changelog.html":[{"add":["61","    <code>NoSuchMethodError: hudson.model.BuildAuthorizationToken.checkPermission(\u2026)<\/code> from Build Token Root plugin since 1.556.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-22382\">issue 22382<\/a>)","63","  <li class=bug>"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/BuildAuthorizationToken.java":[{"add":["64","    @Deprecated public static void checkPermission(AbstractProject<?,?> project, BuildAuthorizationToken token, StaplerRequest req, StaplerResponse rsp) throws IOException {","65","        Job<?,?> j = project;","66","        checkPermission(j, token, req, rsp);","67","    }","68",""],"delete":[]}]}},"e2ec9eb3c23a6b4f63c338e634d647486a136f7b":{"changes":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":"MODIFY","war\/src\/main\/webapp\/css\/style.css":"MODIFY","core\/src\/main\/resources\/lib\/layout\/layout.jelly":"MODIFY"},"diff":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":[{"add":["2009","    var pageHead = $('page-head');","2012","    var sidePanelContent = $(sidePanel).getElementsBySelector('#side-panel-content')[0];","2014","    var mainPanelContent = $(mainPanel).getElementsBySelector('#main-panel-content')[0];","2015","    var pageFooter = $('footer-container');","2017","    function applyFixedGridLayout() {","2024","            return true; \/\/ It's a fixedGridLayout","2030","            return false; \/\/ It's not a fixedGridLayout","2034","    function applyFixedGridHeights() {","2035","        var windowHeight = document.viewport.getDimensions().height;","2036","        var headHeight = Element.getHeight(pageHead);","2037","        var footerHeight = Element.getHeight(pageFooter);","2038","        var sidePanelHeight = Element.getHeight(sidePanel);","2039","        var mainPanelHeight = Element.getHeight(mainPanel);","2040","        var minPageBodyHeight = (windowHeight - headHeight - footerHeight);","2041","","2042","        minPageBodyHeight = Math.max(minPageBodyHeight, sidePanelHeight);","2043","        minPageBodyHeight = Math.max(minPageBodyHeight, mainPanelHeight);","2044","","2045","        $(pageBody).setStyle({'min-height': minPageBodyHeight + 'px'});","2046","        $(sidePanel).setStyle({'min-height': minPageBodyHeight + 'px'});","2047","        $(mainPanel).setStyle({'min-height': minPageBodyHeight + 'px'});","2048","    }","2049","","2050","    var doPanelLayouts = function() {","2051","        \/\/ remove all style","2052","        pageBody.removeAttribute('style');","2053","        sidePanel.removeAttribute('style');","2054","        mainPanel.removeAttribute('style');","2055","        if (applyFixedGridLayout()) {","2056","            applyFixedGridHeights();","2057","        }","2058","    }","2059","","2060","    Event.observe(window, 'resize', doPanelLayouts);","2061","    elementResizeTracker.onResize(sidePanelContent, doPanelLayouts);","2062","    elementResizeTracker.onResize(mainPanelContent, doPanelLayouts);","2063","","2064","    doPanelLayouts();","2065","    fireBuildHistoryChanged();","2077","function ElementResizeTracker() {","2078","    this.trackedElements = [];","2079","","2080","    if(isRunAsTest) {","2081","        return;","2082","    }","2083","","2084","    var thisTracker = this;","2085","    function checkForResize() {","2086","        for (var i = 0; i < thisTracker.trackedElements.length; i++) {","2087","            var element = thisTracker.trackedElements[i];","2088","            var currDims = Element.getDimensions(element);","2089","            var lastDims = element.lastDimensions;","2090","            if (currDims.width !== lastDims.width || currDims.height !== lastDims.height) {","2091","                Event.fire(element, 'jenkins:resize');","2092","            }","2093","            element.lastDimensions = currDims;","2094","        }","2095","        setTimeout(checkForResize, 200);","2096","    }","2097","    checkForResize();","2098","}","2099","ElementResizeTracker.prototype.addElement = function(element) {","2100","    for (var i = 0; i < this.trackedElements.length; i++) {","2101","        if (this.trackedElements[i] === element) {","2102","            \/\/ we're already tracking it so no need to add it.","2103","            return;","2104","        }","2105","    }","2106","    this.trackedElements.push(element);","2107","}","2108","ElementResizeTracker.prototype.onResize = function(element, handler) {","2109","    element.lastDimensions = Element.getDimensions(element);","2110","    Event.observe(element, 'jenkins:resize', handler);","2111","    this.addElement(element);","2112","}","2113","var elementResizeTracker = new ElementResizeTracker();","2114",""],"delete":["1933","    onPanelResize(function() {","1934","        checkAllRowCellOverflows();","1935","    });","2007","function onPanelResize(handler) {","2008","    Event.observe(window, 'jenkins:panelResized', handler);","2009","}","2010","function firePanelResized() {","2011","    Event.fire(window, 'jenkins:panelResized');","2012","}","2013","","2023","    function doPanelResize() {","2036","","2037","        firePanelResized();","2039","    doPanelResize();","2041","    Event.observe(window, 'resize', function() {","2042","        doPanelResize();","2043","    });"]}],"war\/src\/main\/webapp\/css\/style.css":[{"add":["76","#side-panel {","77","  z-index: 1;","78","}","79","#main-panel {","80","  z-index: 0;","81","}","82","","84","  margin: 0px;","88",".fixedGridLayout #side-panel, .fixedGridLayout #main-panel {","89","  position: absolute;","90","}","91","","99","  padding-left: 370px;","101","  width: 100%"],"delete":["77","  margin: 0px 0px 40px 0px;","83","  position: fixed;","89","  margin-left: 370px;","114","  position: absolute;","115","  bottom: 0;"]}],"core\/src\/main\/resources\/lib\/layout\/layout.jelly":[{"add":["158","    <div id=\"page-head\">","159","      <div id=\"header\">","160","        <div class=\"logo\">","161","          <a id=\"jenkins-home-link\" href=\"${rootURL}\/\">","162","            <img id=\"jenkins-head-icon\" src=\"${imagesURL}\/headshot.png\" alt=\"title\" \/>","163","            <img id=\"jenkins-name-icon\" src=\"${imagesURL}\/title.png\" alt=\"title\" width=\"139\" height=\"34\" \/>","164","          <\/a>","165","        <\/div>","166","        <div class=\"login\">","167","          <!-- login field -->","168","          <j:if test=\"${app.useSecurity}\">","169","            <st:nbsp\/>","170","            <j:choose>","171","              <j:when test=\"${!h.isAnonymous()}\">","172","                <j:invokeStatic var=\"user\" className=\"hudson.model.User\" method=\"current\" \/>","173","                <j:choose>","174","                  <j:when test=\"${user.fullName == null || user.fullName.trim().isEmpty()}\">","175","                    <j:set var=\"userName\" value=\"${user.id}\"\/>","176","                  <\/j:when>","177","                  <j:otherwise>","178","                    <j:set var=\"userName\" value=\"${user.fullName}\"\/>","179","                  <\/j:otherwise>","180","                <\/j:choose>","181","                <span style=\"white-space:nowrap\">","182","                  <a href=\"${rootURL}\/user\/${user.id}\" class=\"model-link inside inverse\"><b>${userName}<\/b><\/a>","183","                  <j:if test=\"${app.securityRealm.canLogOut()}\">","184","                    |","185","                    <a href=\"${rootURL}\/logout\"><b>${%logout}<\/b><\/a>","186","                  <\/j:if>","187","                <\/span>","188","              <\/j:when>","189","              <j:otherwise>","190","                <st:include it=\"${app.securityRealm}\" page=\"loginLink.jelly\" \/>","191","              <\/j:otherwise>","192","            <\/j:choose>","193","          <\/j:if>","194","        <\/div>","195","        <div class=\"searchbox hidden-xs\">","196","          <!-- search box -->","197","          <j:set var=\"searchURL\" value=\"${h.searchURL}\"\/>","198","          <form action=\"${searchURL}\" method=\"get\" style=\"position:relative;\" class=\"no-json\" name=\"search\">","199","            <!-- this div determines the minimum width -->","200","            <div id=\"search-box-minWidth\"\/>","201","            <!-- this div is used to calculate the width of the text box -->","202","            <div id=\"search-box-sizer\"\/>","203","            <div id=\"searchform\">","204","              <input name=\"q\" placeholder=\"${%search}\" id=\"search-box\" class=\"has-default-text\" value=\"${request.getParameter('q')}\" \/>","205","              <st:nbsp \/>","206","              <a href=\"${%searchBox.url}\"><l:icon class=\"icon-help icon-sm\" \/><\/a>","207","              <div id=\"search-box-completion\" \/>","208","              <script>createSearchBox(\"${searchURL}\");<\/script>","209","            <\/div>","210","          <\/form>","211","        <\/div>","213","      <div id=\"breadcrumbBar\">","214","        <l:breadcrumbBar>","215","          <j:set var=\"mode\" value=\"breadcrumbs\" \/>","216","          <d:invokeBody\/>","217","        <\/l:breadcrumbBar>"],"delete":["158","    <div id=\"header\">","159","      <div class=\"logo\">","160","        <a id=\"jenkins-home-link\" href=\"${rootURL}\/\">","161","          <img id=\"jenkins-head-icon\" src=\"${imagesURL}\/headshot.png\" alt=\"title\" \/>","162","          <img id=\"jenkins-name-icon\" src=\"${imagesURL}\/title.png\" alt=\"title\" width=\"139\" height=\"34\" \/>","163","        <\/a>","165","      <div class=\"login\">","166","        <!-- login field -->","167","        <j:if test=\"${app.useSecurity}\">","168","          <st:nbsp\/>","169","          <j:choose>","170","            <j:when test=\"${!h.isAnonymous()}\">","171","              <j:invokeStatic var=\"user\" className=\"hudson.model.User\" method=\"current\" \/>","172","              <j:choose>","173","                <j:when test=\"${user.fullName == null || user.fullName.trim().isEmpty()}\">","174","                  <j:set var=\"userName\" value=\"${user.id}\"\/>","175","                <\/j:when>","176","                <j:otherwise>","177","                  <j:set var=\"userName\" value=\"${user.fullName}\"\/>","178","                <\/j:otherwise>","179","              <\/j:choose>","180","              <span style=\"white-space:nowrap\">","181","                <a href=\"${rootURL}\/user\/${user.id}\" class=\"model-link inside inverse\"><b>${userName}<\/b><\/a>","182","                <j:if test=\"${app.securityRealm.canLogOut()}\">","183","                  |","184","                  <a href=\"${rootURL}\/logout\"><b>${%logout}<\/b><\/a>","185","                <\/j:if>","186","              <\/span>","187","            <\/j:when>","188","            <j:otherwise>","189","              <st:include it=\"${app.securityRealm}\" page=\"loginLink.jelly\" \/>","190","            <\/j:otherwise>","191","          <\/j:choose>","192","        <\/j:if>","194","      <div class=\"searchbox hidden-xs\">","195","        <!-- search box -->","196","        <j:set var=\"searchURL\" value=\"${h.searchURL}\"\/>","197","        <form action=\"${searchURL}\" method=\"get\" style=\"position:relative;\" class=\"no-json\" name=\"search\">","198","          <!-- this div determines the minimum width -->","199","          <div id=\"search-box-minWidth\"\/>","200","          <!-- this div is used to calculate the width of the text box -->","201","          <div id=\"search-box-sizer\"\/>","202","          <div id=\"searchform\">","203","            <input name=\"q\" placeholder=\"${%search}\" id=\"search-box\" class=\"has-default-text\" value=\"${request.getParameter('q')}\" \/>","204","            <st:nbsp \/>","205","            <a href=\"${%searchBox.url}\"><l:icon class=\"icon-help icon-sm\" \/><\/a>","206","            <div id=\"search-box-completion\" \/>","207","            <script>createSearchBox(\"${searchURL}\");<\/script>","208","          <\/div>","209","        <\/form>","210","      <\/div>","211","    <\/div>","212","    <div id=\"breadcrumbBar\">","213","      <l:breadcrumbBar>","214","        <j:set var=\"mode\" value=\"breadcrumbs\" \/>","215","        <d:invokeBody\/>","216","      <\/l:breadcrumbBar>"]}]}},"f37dcabfb87788dd6ee46966d33b7d27b57cb49e":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/DirectoryBrowserSupport.java":"MODIFY"},"diff":{"changelog.html":[{"add":["66","  <li class='rfe'>","67","    Sort workspace file list based on request locale.","68","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-12139\">issue 12139<\/a>)"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/DirectoryBrowserSupport.java":[{"add":["45","import java.text.Collator;","51","import java.util.Locale;","231","                glob = new ChildPathBuilder(req.getLocale());","396","        private Collator collator;","397","","398","        public FileComparator(Locale locale) {","399","            this.collator = Collator.getInstance(locale);","400","        }","401","","407","            return this.collator.compare(lhs.getName(), rhs.getName());","442","        private Locale locale;","443","","444","        public ChildPathBuilder(Locale locale) {","445","            this.locale = locale;","446","        }","447","","453","                Arrays.sort(files,new FileComparator(this.locale));"],"delete":["229","                glob = new ChildPathBuilder();","399","            return lhs.getName().compareTo(rhs.getName());","439","                Arrays.sort(files,new FileComparator());"]}]}},"f9583b89c47833b86c1d3b88c0515d0adfd69192":{"changes":{"core\/src\/main\/java\/hudson\/logging\/LogRecorder.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/logging\/LogRecorder.java":[{"add":["89","        private transient \/* almost final*\/ Logger logger;","121","            if (logger == null) {","122","                logger = Logger.getLogger(name);","123","            }","124","            return logger;"],"delete":["120","            return Logger.getLogger(name);"]}],"changelog.html":[{"add":["57","  <li class=bug>","58","    Log recorders do not work reliably.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15226\">issue 15226<\/a>)"],"delete":[]}]}},"e9aeaf11b7171aed80381e8f66c5fb7056960141":{"changes":{"core\/src\/main\/resources\/lib\/form\/textarea\/textarea.js":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/textarea\/textarea.js":[{"add":["1","        \/\/ensure, that textarea is visible, when obtaining its height, see JENKINS-25455","2","        function getTextareaHeight() {","3","            var p = e.parentNode.parentNode; \/\/first parent is CodeMirror div, second is actual element which needs to be visible","4","            var display = p.style.display; ","5","            p.style.display = \"\";","6","            var h = e.clientHeight;","7","            p.style.display = display;","8","            return h;","9","        }","10","        ","11","        var h = e.clientHeight || getTextareaHeight();","31","        }","32","\t\t","33","        \/\/refresh CM when there are some layout updates","34","        function refreshCM() {","35","            codemirror.refresh();","36","        }","37","        layoutUpdateCallback.add(refreshCM);"],"delete":["1","        var h = e.clientHeight;","21","\t}"]}]}},"500cefddbca6135cbeab922b9998070f2db5daa5":{"changes":{"core\/src\/main\/java\/jenkins\/util\/ResourceBundleUtil.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/util\/ResourceBundleUtil.java":[{"add":["116","            logger.finer(e.getMessage());"],"delete":["116","            logger.warning(e.getMessage());"]}]}},"5f413e5c419837f283dabbf5e0a211633d99c3f3":{"changes":{"core\/src\/main\/resources\/hudson\/PluginManager\/installed.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/PluginManager\/installed.jelly":[{"add":["117","                  <j:choose>","118","                      <j:when test=\"${p.hasMandatoryDependents() or p.hasMandatoryDependents()}\">","119","                            <j:set var=\"uninstallPossible\" value=\"true\"\/>","120","                      <\/j:when>","121","                      <j:otherwise>","122","                          <j:set var=\"uninstallPossible\" value=\"false\"\/>","123","                      <\/j:otherwise>","124","                  <\/j:choose>","125","                  <td class=\"center pane uninstall\" data=\"${uninstallPossible}\">"],"delete":["117","                  <td class=\"center pane uninstall\">"]}]}},"bcdae275d049639cfd6d4892fe03d61e5a59d466":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["80","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25473\">issue 25473<\/a>)"],"delete":["80","    (<a href=\"https:\/\/github.com\/jenkinsci\/jenkins\/pull\/1439\">pull request 1439<\/a>)  "]}]}},"aad955d5158ea7b0556a315da4c92807d8817c5e":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/MailAddressResolver.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/MailAddressResolver.java":[{"add":["90","        String extractedAddress = extractAddressFromId(u.getFullName());","94","        if(u.getFullName().contains(\"@\"))","96","            return u.getFullName();"],"delete":["90","        String extractedAddress = extractAddressFromId(u.getId());","94","        if(u.getId().contains(\"@\"))","96","            return u.getId();"]}],"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["105","    private User(String id, String fullName) {","107","        this.fullName = fullName;","258","     * Gets the {@link User} object by its id or full name.","266","    public static User get(String idOrFullName, boolean create) {","267","        if(idOrFullName==null)","269","        String id = idOrFullName.replace('\\\\', '_').replace('\/', '_').replace('<','_');","274","                u = new User(id, idOrFullName);","282","     * Gets the {@link User} object by its id or full name.","284","    public static User get(String idOrFullName) {","285","        return get(idOrFullName,true);","371","    public @Override String toString() {"],"delete":["42","import org.kohsuke.stapler.Stapler;","106","    private User(String id) {","108","        this.fullName = id;   \/\/ fullName defaults to name","259","     * Gets the {@link User} object by its id.","267","    public static User get(String id, boolean create) {","268","        if(id==null)","270","        id = id.replace('\\\\', '_').replace('\/', '_').replace('<','_');","275","                u = new User(id);","283","     * Gets the {@link User} object by its id.","285","    public static User get(String id) {","286","        return get(id,true);","372","    public String toString() {"]}]}},"8a2d2de2a346fa79c16cceadf38e90b1dc06ee36":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["136","      <version>1.8<\/version>"],"delete":["136","      <version>1.7<\/version>"]}]}},"a21402b5f8fd3af237d242b4a1b43329976b4158":{"changes":{"core\/src\/main\/resources\/hudson\/PluginManager\/table.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/PluginManager\/_table.js":"MODIFY","core\/src\/main\/resources\/hudson\/PluginManager\/index.jelly":"MODIFY","test\/src\/test\/java\/hudson\/model\/UpdateSiteTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateSite.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/PluginManager\/table.jelly":[{"add":["94","                             data-compat-warning=\"${!p.isCompatible(cache)}\" \/>"],"delete":["94","                             data-compat-warning=\"${!p.isCompatibleWithInstalledVersion()}\" \/>"]}],"core\/src\/main\/resources\/hudson\/PluginManager\/_table.js":[{"add":["4","        if(candidate.type === \"checkbox\") {","5","            candidate.checked = candidate.dataset.compatWarning === 'false';"],"delete":["4","        if(candidate.type === \"checkbox\" && candidate.dataset.compatWarning === 'false') {","5","            candidate.checked = true;"]}],"core\/src\/main\/resources\/hudson\/PluginManager\/index.jelly":[{"add":["31","      ${%Select}: <a href=\"javascript:toggleCheckboxes(true);\">${%All}<\/a>,","32","                  <a href=\"javascript:checkPluginsWithoutWarnings();\">${%Compatible}<\/a>,","33","                  <a href=\"javascript:toggleCheckboxes(false);\">${%None}<\/a><br\/>"],"delete":["31","      ${%Select}: <a href=\"javascript:checkPluginsWithoutWarnings();\">${%All}<\/a>, <a href=\"javascript:toggleCheckboxes(false);\">${%None}<\/a><br\/>"]}],"test\/src\/test\/java\/hudson\/model\/UpdateSiteTest.java":[{"add":["153","    @Issue(\"JENKINS-56477\")","154","    @Test","155","    public void isPluginUpdateCompatible() throws Exception {","156","        UpdateSite site = getUpdateSite(\"\/plugins\/minJavaVersion-update-center.json\");","157","        final UpdateSite.Plugin tasksPlugin = site.getPlugin(\"tasks\");","158","        assertNotNull(tasksPlugin);","159","        assertFalse(tasksPlugin.isNeededDependenciesForNewerJava());","160","        assertFalse(tasksPlugin.isForNewerJava());","161","        assertTrue(tasksPlugin.isCompatible());","162","    }","163","","166","        UpdateSite site = getUpdateSite(\"\/plugins\/minJavaVersion-update-center.json\");","191","","192","","193","    private UpdateSite getUpdateSite(String path) throws Exception {","194","        URL url = new URL(baseUrl, path);","195","        UpdateSite site = new UpdateSite(UpdateCenter.ID_DEFAULT, url.toString());","196","        assertEquals(FormValidation.ok(), site.updateDirectly(false).get());","197","        return site;","198","    }"],"delete":["47","import org.eclipse.jetty.server.HttpConnection;","58","import org.jvnet.hudson.test.recipes.LocalData;","157","        \/\/ TODO: factor out the sites init","158","        PersistedList<UpdateSite> sites = j.jenkins.getUpdateCenter().getSites();","159","        sites.clear();","160","        URL url = new URL(baseUrl, \"\/plugins\/minJavaVersion-update-center.json\");","161","        UpdateSite site = new UpdateSite(UpdateCenter.ID_DEFAULT, url.toString());","162","        sites.add(site);","163","        assertEquals(FormValidation.ok(), site.updateDirectly(false).get());","164","        \/\/ END TODO"]}],"core\/src\/main\/java\/hudson\/model\/UpdateSite.java":[{"add":["1046","         * Returns true if the plugin and its dependencies are fully compatible with the current installation","1047","         * This is set to restricted for now, since it is only being used by Jenkins UI at the moment.","1048","         *","1049","         * @since TODO","1050","         *\/","1051","        @Restricted(NoExternalUse.class)","1052","        public boolean isCompatible() {","1053","            return isCompatible(new PluginManager.MetadataCache());","1054","        }","1055","","1056","        @Restricted(NoExternalUse.class) \/\/ table.jelly","1057","        public boolean isCompatible(PluginManager.MetadataCache cache) {","1058","            return isCompatibleWithInstalledVersion() && !isForNewerHudson() &&  !isForNewerJava() &&","1059","                    isNeededDependenciesCompatibleWithInstalledVersion(cache) &&","1060","                    !isNeededDependenciesForNewerJenkins(cache) && !isNeededDependenciesForNewerJava();","1061","        }","1062","","1063","        \/**"],"delete":[]}]}},"79ffdb42d433a352a49cf7802973ad502538ba65":{"changes":{"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/SingleFileSCM.java":"MODIFY"},"diff":{"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/SingleFileSCM.java":[{"add":["12","import java.io.UnsupportedEncodingException;","31","    public SingleFileSCM(String path, String contents) throws UnsupportedEncodingException {","33","        this.contents = contents.getBytes(\"UTF-8\");"],"delete":["12","import java.nio.charset.Charset;","31","    public SingleFileSCM(String path, String contents) {","33","        this.contents = contents.getBytes(Charset.forName(\"UTF-8\"));"]}]}},"067987b3da6b86b8014488381f8de8772e856dae":{"changes":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Computer.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["2491","        \/**","2492","         * Returns \"\" to match with {@link Hudson#getNodeName()}.","2493","         *\/","2494","        public String getName() {","2495","            return \"\";","2496","        }","2497",""],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Computer.java":[{"add":["157","     * Returns {@link Node#getNodeName() the name of the node}."],"delete":["35","import org.kohsuke.stapler.framework.io.*;","158","     * Returns the name of the node."]}]}},"2c0d1a1fdb6484c2dbbd23443e7a351ec9d860f1":{"changes":{"core\/src\/main\/java\/hudson\/PluginManagerStaplerOverride.java":"MODIFY","core\/src\/main\/java\/hudson\/PluginManager.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/PluginManagerStaplerOverride.java":[{"add":["16"," * @since 1.627"],"delete":["16"," * @since 1.626"]}],"core\/src\/main\/java\/hudson\/PluginManager.java":[{"add":["221","     * @since 1.627"],"delete":["221","     * @since 1.626"]}]}},"4a3978c34ea41fed3f583b0a82de0ca126d2b51b":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["170","        <version>3.10.1-20170926.021703-2<\/version>"],"delete":["170","        <version>3.10<\/version>"]}]}},"af7c4bece24216fe47f10e83e3488ffdbb5f1565":{"changes":{"core\/src\/main\/java\/jenkins\/security\/UpdateSiteWarningsMonitor.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateSite.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/security\/UpdateSiteWarningsMonitor.java":[{"add":["84","        if (!Jenkins.get().getUpdateCenter().isSiteDataReady()) {","85","            return false;","86","        }"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":[{"add":["119","import jenkins.util.Timer;","210","    \/** @see #isSiteDataReady *\/","211","    private transient volatile boolean siteDataLoading;","212","","546","     * Whether it is <em>probably<\/em> safe to call all {@link UpdateSite#getData} without blocking.","547","     * @return true if all data is <em>currently<\/em> ready (or absent);","548","     *         false if some is not ready now (but it will be loaded in the background)","549","     *\/","550","    @Restricted(NoExternalUse.class)","551","    public boolean isSiteDataReady() {","552","        if (sites.stream().anyMatch(UpdateSite::hasUnparsedData)) {","553","            if (!siteDataLoading) {","554","                siteDataLoading = true;","555","                Timer.get().submit(() -> {","556","                    sites.forEach(UpdateSite::getData);","557","                    siteDataLoading = false;","558","                });","559","            }","560","            return false;","561","        } else {","562","            return true;","563","        }","564","    }","565","","566","    \/**","954","        siteDataLoading = false;","1089","        @Override","1091","            if (!Jenkins.get().getUpdateCenter().isSiteDataReady()) {","1092","                \/\/ Do not display monitor during this page load, but possibly later.","1093","                return false;","1094","            }"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/UpdateSite.java":[{"add":["318","     * Whether {@link #getData} might be blocking.","319","     *\/","320","    boolean hasUnparsedData() {","321","        return data == null && getDataFile().exists();","322","    }","323","","324","    \/**","330","            long start = System.nanoTime();","332","                JSONObject o = JSONObject.fromObject(df.read());","333","                LOGGER.info(() -> String.format(\"Loaded and parsed %s in %.01fs\", df, (System.nanoTime() - start) \/ 1_000_000_000.0));","334","                return o;"],"delete":["324","                return JSONObject.fromObject(df.read());"]}]}},"548d9969ccc52e1097d08598cd98f46f38201750":{"changes":{"core\/src\/main\/java\/hudson\/model\/DirectoryBrowserSupport.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/DirectoryBrowserSupport.java":[{"add":["353","            rsp.serveFile(req, baseFile.open(), lastModified, -1, length, \"plain.txt\");","369","                rsp.serveFile(req, baseFile.open(), lastModified, -1, length, baseFile.getName());"],"delete":["348","        InputStream in = baseFile.open();","354","            rsp.serveFile(req, in, lastModified, -1, length, \"plain.txt\");","370","                rsp.serveFile(req, in, lastModified, -1, length, baseFile.getName());"]}]}},"a39a56f4825e40c4a548e862d8d19676c9c45f47":{"changes":{"Jenkinsfile":"MODIFY"},"diff":{"Jenkinsfile":[{"add":["14","properties([[$class: 'jenkins.model.BuildDiscarderProperty', strategy: [$class: 'LogRotator',","15","                                                                        numToKeepStr: '50',","16","                                                                        artifactNumToKeepStr: '20']]])"],"delete":["14","properties([[$class: 'BuildDiscarderProperty', strategy: [$class: 'LogRotator',","15","                                                          numToKeepStr: '50',","16","                                                          artifactNumToKeepStr: '20']]])"]}]}},"dbf5efa6ae60c30d00afca61d3fd24f56f2c860c":{"changes":{"core\/src\/main\/java\/jenkins\/slaves\/JnlpSlaveAgentProtocol4.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/slaves\/JnlpSlaveAgentProtocol4.java":[{"add":["104","            throw new KeyStoreException(\"JENKINS-41987: no X509Certificate found; perhaps instance-identity module is missing or too old\");","108","            throw new KeyStoreException(\"JENKINS-41987: no RSAPrivateKey found; perhaps instance-identity module is missing or too old\");"],"delete":["104","            throw new KeyStoreException(\"no X509Certificate found; perhaps instance-identity is missing or too old\");","108","            throw new KeyStoreException(\"no RSAPrivateKey found; perhaps instance-identity is missing or too old\");"]}]}},"cc7e93390436048063af0d1af0152b2e88d429e9":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["127","                <resolveArtifact groupId=\"org.jvnet.hudson.winstone\" artifactId=\"winstone\" version=\"0.9.10-hudson-16\" type=\"jar\" tofile=\"${basedir}\/target\/generated-resources\/winstone.jar\" \/>"],"delete":["127","                <resolveArtifact groupId=\"org.jvnet.hudson.winstone\" artifactId=\"winstone\" version=\"0.9.10-hudson-15\" type=\"jar\" tofile=\"${basedir}\/target\/generated-resources\/winstone.jar\" \/>"]}]}},"e9f0995f4d87e41a048185d29d98515ba33bcef4":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["531","      <groupId>org.kohsuke<\/groupId>","533","      <version>0.8<\/version>"],"delete":["531","      <groupId>org.jvnet.libzfs<\/groupId>","533","      <version>0.5<\/version>"]}]}},"58545a5a7384bc8e2b7c88b441cb43c4b2d79abb":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/junit\/CaseResult.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/junit\/CaseResult.java":[{"add":["47","            time = time.replace(\",\",\"\");"],"delete":["46","        time = time.replace(\",\",\"\");"]}]}},"91ad59214234e7724d586f64f8fb6db35104857b":{"changes":{"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_zh_TW.properties":"MODIFY","core\/src\/main\/java\/jenkins\/model\/CauseOfInterruption.java":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary.groovy":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_pl.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_sr.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_ja.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_zh_TW.properties":[{"add":["24","userNotFound=\\u7531\\u4f7f\\u7528\\u8005 {0} \\u4e2d\\u6b62"],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/CauseOfInterruption.java":[{"add":["35","import javax.annotation.Nonnull;","77","        ","78","        @Nonnull","81","        public UserInterruption(@Nonnull User user) {","85","        public UserInterruption(@Nonnull String userId) {","89","        \/**","90","         * Gets ID of the user, who interrupted the build.","91","         * @return User ID","92","         * @since TODO","93","         *\/","94","        @Nonnull","95","        public String getUserId() {","96","            return user;","97","        }","98","        ","99","        \/**","100","         * Gets user, who caused the interruption.","101","         * @return User instance if it can be located.","102","         *         Result of {@link User#getUnknown()} otherwise","103","         *\/","104","        @Nonnull","106","            final User userInstance = getUserOrNull();","107","            return userInstance != null ? userInstance : User.getUnknown();","108","        }","109","        ","110","        \/**","111","         * Gets user, who caused the interruption.","112","         * @return User or {@code null} if it has not been found","113","         * @since TODO","114","         *\/","115","        @CheckForNull","116","        public User getUserOrNull() {"],"delete":["78","        public UserInterruption(User user) {","82","        public UserInterruption(String userId) {","86","        @CheckForNull"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary.groovy":[{"add":["3","def user = my.userOrNull","4","if (user != null) {","5","  raw(_(\"blurb\", user.fullName, rootURL+'\/'+user.url))","6","} else {","7","  raw(_(\"userNotFound\", my.userId))","8","}"],"delete":["3","raw(_(\"blurb\",my.user.fullName, rootURL+'\/'+my.user.url))"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_pl.properties":[{"add":["0","blurb=Przerwane przez u\\u017cytkownika <a href=\"{1}\">{0}<\/a>","1","userNotFound=Przerwane przez u\\u017cytkownika {0}"],"delete":["0","blurb=Przerwane przez u\\u017Cytkownika <a href=\"{1}\">{0}<\/a>"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary.properties":[{"add":["0","blurb=Aborted by user <a href=\"{1}\">{0}<\/a>","1","userNotFound=Aborted by user {0}"],"delete":["0","blurb=Aborted by user <a href=\"{1}\">{0}<\/a>"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_sr.properties":[{"add":["2","blurb=\\u041e\\u0442\\u043a\\u0430\\u0437\\u0430\\u043d\\u043e \\u043a\\u043e\\u0440\\u0438\\u0441\\u043d\\u0438\\u043a\\u043e\\u043c <a href=\"{1}\">{0}<\/a>","3","userNotFound=\\u041e\\u0442\\u043a\\u0430\\u0437\\u0430\\u043d\\u043e \\u043a\\u043e\\u0440\\u0438\\u0441\\u043d\\u0438\\u043a\\u043e\\u043c {0}"],"delete":["2","blurb=\\u041E\\u0442\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E \\u043A\\u043E\\u0440\\u0438\\u0441\\u043D\\u0438\\u043A\\u043E\\u043C <a href=\"{1}\">{0}<\/a>"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_ja.properties":[{"add":["0","blurb=\\u30e6\\u30fc\\u30b6\\u30fc <a href=\"{1}\">{0}<\/a> \\u306b\\u3088\\u308a\\u4e2d\\u65ad","1","userNotFound=\\u30e6\\u30fc\\u30b6\\u30fc {0} \\u306b\\u3088\\u308a\\u4e2d\\u65ad"],"delete":["0","blurb=\\u30e6\\u30fc\\u30b6\\u30fc <a href=\"{1}\">{0}<\/a> \\u306b\\u3088\\u308a\\u4e2d\\u65ad"]}]}},"8befd4267bac95bb78808c3a36ba3b7aa749997e":{"changes":{"war\/resources\/help\/security\/ldap\/groupSearchBase.html":"MODIFY"},"diff":{"war\/resources\/help\/security\/ldap\/groupSearchBase.html":[{"add":["3","    <p\/>","4","    This field determines the query to be run to identify the organizational unit that","5","    contains groups. The query is almost always <tt>\"ou=groups\"<\/tt> so try that first,","6","    though this field may be left blank to search from the root DN.","7","<\/div>"],"delete":["3","    <p>","4","    This field determines the query to be run to identify the organizational unit that contains groups. The query is","5","    almost always <tt>\"ou=groups\"<\/tt>, so in most cases you should leave this field empty and let this default kick in.","6","","7","<\/div>"]}]}},"d814a6ff7f2e99c9ada722d17c33ca87b0bbea65":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["44","    <stapler.version>1.218<\/stapler.version>"],"delete":["44","    <stapler.version>1.217<\/stapler.version>"]}],"changelog.html":[{"add":["66","  <li class='major bug'>","67","    404s from Javadoc and HTML Publisher plugins.","68","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-19168\">issue 19168<\/a>)"],"delete":[]}]}},"b2a1d808b05948de98e08b95a4c1e41479c02622":{"changes":{"core\/src\/main\/java\/hudson\/security\/GlobalMatrixAuthorizationStrategy.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/GlobalMatrixAuthorizationStrategy.java":[{"add":["82","        for(; p!=null; p=p.impliedBy) {","83","            Set<String> set = grantedPermissions.get(p);","84","            if(set!=null && set.contains(sid))","85","                return true;","86","        }","87","        return false;"],"delete":["82","        Set<String> set = grantedPermissions.get(p);","83","        return set!=null && set.contains(sid);"]}]}},"7c9c82e048c206910abab876cd24c490fe6f6d75":{"changes":{"core\/src\/main\/resources\/hudson\/security\/table.css":"MODIFY","core\/src\/main\/resources\/hudson\/security\/GlobalMatrixAuthorizationStrategy\/config.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/security\/table.css":[{"add":["0",".global-matrix-authorization-strategy-table {\r","6",".global-matrix-authorization-strategy-table TH {\r","10",".global-matrix-authorization-strategy-table TD.blank {\r","15",".global-matrix-authorization-strategy-table .caption-row TH {\r","19",".global-matrix-authorization-strategy-table TD {\r","23",".global-matrix-authorization-strategy-table TD.left-most {\r","28",".global-matrix-authorization-strategy-table TD.stop {\r"],"delete":["0","#global-matrix-authorization-strategy-table {\r","6","#global-matrix-authorization-strategy-table TH {\r","10","#global-matrix-authorization-strategy-table TD.blank {\r","15","#global-matrix-authorization-strategy-table .caption-row TH {\r","19","#global-matrix-authorization-strategy-table TD {\r","23","#global-matrix-authorization-strategy-table TD.left-most {\r","28","#global-matrix-authorization-strategy-table TD.stop {\r"]}],"core\/src\/main\/resources\/hudson\/security\/GlobalMatrixAuthorizationStrategy\/config.jelly":[{"add":["26","    <j:set var=\"strategyid\" value=\"${descriptor.jsonSafeClassName}\" \/>","27","    <table id=\"${strategyid}\" class=\"center-align global-matrix-authorization-strategy-table\" name=\"data\" width=\"100%\">","115","        \"#${strategyid} TD.stop A\" : function(e) {"],"delete":["26","    <table id=\"global-matrix-authorization-strategy-table\" class=\"center-align\" name=\"data\" width=\"100%\">","114","        \"#global-matrix-authorization-strategy-table TD.stop A\" : function(e) {"]}]}},"88eb5ee3e694d95f1c7da44bfce181c4590a47ad":{"changes":{"core\/src\/main\/resources\/jenkins\/security\/whitelisted-classes.txt":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/security\/whitelisted-classes.txt":[{"add":["94","java.util.Optional"],"delete":[]}]}},"80f7a7ea6103de1a342ab49f6592121672c99690":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":"MODIFY","core\/src\/test\/java\/hudson\/util\/ArgumentListBuilderTest.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/ArgumentListBuilder.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":[{"add":["189","        if(!launcher.isUnix())","190","            args = args.toWindowsCommand();"],"delete":["189","        if(!launcher.isUnix()) {","190","            \/\/ on Windows, executing batch file can't return the correct error code,","191","            \/\/ so we need to wrap it into cmd.exe.","192","            \/\/ double %% is needed because we want ERRORLEVEL to be expanded after","193","            \/\/ batch file executed, not before. This alone shows how broken Windows is...","194","            args.add(\"&&\",\"exit\",\"%%ERRORLEVEL%%\");","195","","196","            \/\/ on Windows, proper double quote handling requires extra surrounding quote.","197","            \/\/ so we need to convert the entire argument list once into a string,","198","            \/\/ then build the new list so that by the time JVM invokes CreateProcess win32 API,","199","            \/\/ it puts additional double-quote. See issue #1007","200","            \/\/ the 'addQuoted' is necessary because Process implementation for Windows (at least in Sun JVM)","201","            \/\/ is too clever to avoid putting a quote around it if the argument begins with \"","202","            \/\/ see \"cmd \/?\" for more about how cmd.exe handles quotation.","203","            args = new ArgumentListBuilder().add(\"cmd.exe\",\"\/C\").addQuoted(args.toStringWithQuote());","204","        }"]}],"core\/src\/test\/java\/hudson\/util\/ArgumentListBuilderTest.java":[{"add":["3"," * Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi","106","","107","    @Test","108","    public void testToWindowsCommand() {","109","        ArgumentListBuilder builder = new ArgumentListBuilder(","110","                \"ant.bat\", \"-Dfoo1=abc\",  \/\/ nothing special, no quotes","111","                \"-Dfoo2=foo bar\", \"-Dfoo3=\/u*r\", \"-Dfoo4=\/us?\",  \/\/ add quotes, no other escaping","112","                \"-Dfoo5=foo;bar^baz\", \"-Dfoo6=<xml>&here;<\/xml>\", \/\/ add quotes and ^ escaping","113","                \"-Dfoo7=foo|bar\\\"baz\", \/\/ add quotes, ^| for | and \"\" for \"","114","                \"-Dfoo8=% %QED% %comspec% %-%(%.%\", \/\/ add quotes, and extra quotes for %Q and %c","115","                \"-Dfoo9=%'''%%@%\"); \/\/ no quotes as none of the % are followed by a letter","116","        assertArrayEquals(new String[] { \"cmd.exe\", \"\/C\",","117","                \"\\\"ant.bat -Dfoo1=abc \\\"-Dfoo2=foo bar\\\"\"","118","                + \" \\\"-Dfoo3=\/u*r\\\" \\\"-Dfoo4=\/us?\\\" \\\"-Dfoo5=foo;bar^^baz\\\"\"","119","                + \" \\\"-Dfoo6=^<xml^>^&here;^<\/xml^>\\\" \\\"-Dfoo7=foo^|bar\\\"\\\"baz\\\"\"","120","                + \" \\\"-Dfoo8=% %\\\"Q\\\"ED% %\\\"c\\\"omspec% %-%(%.%\\\"\"","121","                + \" -Dfoo9=%'''%%@% && exit %%ERRORLEVEL%%\\\"\" },","122","                builder.toWindowsCommand().toCommandArray());","123","    }"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi"]}],"core\/src\/main\/java\/hudson\/util\/ArgumentListBuilder.java":[{"add":["183","    \/**","184","     * Just adds quotes around args containing spaces, but no other special characters,","185","     * so this method should generally be used only for informational\/logging purposes.","186","     *\/","201","     * Wrap command in a CMD.EXE call so we can return the exit code (ERRORLEVEL).","202","     * This method takes care of escaping special characters in the command, which","203","     * is needed since the command is now passed as a string to the CMD.EXE shell.","204","     * This is done as follows:","205","     * Wrap arguments in double quotes if they contain any of:","206","     *   space *?;^&<>|\" or % followed by a letter.","207","     * <br\/> These characters are also prepended with a ^ character: ^&<>|","208","     * <br\/> A \" is prepended with another \" character.","209","     * <br\/> A % followed by a letter has that letter wrapped in double quotes,","210","     * to avoid possible variable expansion.  ie, %foo% becomes \"%\"f\"oo%\".","211","     * The second % does not need special handling because it is not followed","212","     * by a letter. <br\/>","213","     * Example: \"-Dfoo=*abc?def;ghi^^jkl^&mno^<pqr^>stu^|vwx\"\"yz%\"e\"nd\"","214","     * @return","215","     *\/","216","    public ArgumentListBuilder toWindowsCommand() {","217","        StringBuilder quotedArgs = new StringBuilder();","218","        boolean quoted, percent;","219","        for (String arg : args) {","220","            quoted = percent = false;","221","            for (int i = 0; i < arg.length(); i++) {","222","                char c = arg.charAt(i);","223","                if (!quoted && (c == ' ' || c == '*' || c == '?' || c == ';')) {","224","                    quoted = startQuoting(quotedArgs, arg, i);","225","                }","226","                else if (c == '^' || c == '&' || c == '<' || c == '>' || c == '|') {","227","                    if (!quoted) quoted = startQuoting(quotedArgs, arg, i);","228","                    quotedArgs.append('^');","229","                }","230","                else if (c == '\"') {","231","                    if (!quoted) quoted = startQuoting(quotedArgs, arg, i);","232","                    quotedArgs.append('\"');","233","                }","234","                else if (percent && ((c >= 'A' && c <= 'Z') || (c >= 'a' && c <= 'z'))) {","235","                    if (!quoted) quoted = startQuoting(quotedArgs, arg, i);","236","                    quotedArgs.append('\"').append(c);","237","                    c = '\"';","238","                }","239","                percent = (c == '%');","240","                if (quoted) quotedArgs.append(c);","241","            }","242","            if (quoted) quotedArgs.append('\"'); else quotedArgs.append(arg);","243","            quotedArgs.append(' ');","244","        }","245","        \/\/ (comment copied from old code in hudson.tasks.Ant)","246","        \/\/ on Windows, executing batch file can't return the correct error code,","247","        \/\/ so we need to wrap it into cmd.exe.","248","        \/\/ double %% is needed because we want ERRORLEVEL to be expanded after","249","        \/\/ batch file executed, not before. This alone shows how broken Windows is...","250","        quotedArgs.append(\"&& exit %%ERRORLEVEL%%\");","251","        return new ArgumentListBuilder().add(\"cmd.exe\", \"\/C\").addQuoted(quotedArgs.toString());","252","    }","253","","254","    private static boolean startQuoting(StringBuilder buf, String arg, int atIndex) {","255","        buf.append('\"').append(arg.substring(0, atIndex));","256","        return true;","257","    }","258","","259","    \/**"],"delete":[]}]}},"c0be89f6821023c7f69b0610e656cefae555665b":{"changes":{"core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":[{"add":["671","        if(skipChangeLog) {","672","            listener.getLogger().println(\"Skipping changelog computation\");","673","            return createEmptyChangeLog(changelogFile,listener, \"changelog\");","674","        }","1418","","1419","    \/**","1420","     * True to avoid computing the changelog. Useful with ancient versions of CVS that doesn't support","1421","     * the -d option in the log command. See #1346.","1422","     *\/","1423","    public static boolean skipChangeLog = Boolean.getBoolean(CVSSCM.class.getName()+\".skipChangeLog\");"],"delete":[]}]}},"c91584ff21e221201416b04a48331b253077a3d3":{"changes":{"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_cs.properties":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_cs.properties":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_de.properties":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_he.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_is.properties":"ADD","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_de.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_bg.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_lv.properties":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_lv.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Job\/index_ja.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_de.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Job\/index.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Job\/index_ru.properties":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_es.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_da.properties":"ADD","changelog.html":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_sv_SE.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_hu.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ca.properties":"ADD","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_da.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_pt_BR.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_sv_SE.properties":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index.jelly":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_fr.properties":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_pt_BR.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_sk.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Job\/index_es.properties":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_fi.properties":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_es.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_pl.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_nl.properties":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_ja.properties":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_ru.properties":"MODIFY","core\/src\/main\/java\/hudson\/matrix\/MatrixConfiguration.java":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_ja.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ro.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_tr.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_nb_NO.properties":"ADD","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_fr.properties":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_fi.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ko.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ru.properties":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_da.properties":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_pl.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_it.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_zh_CN.properties":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_nb_NO.properties":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_ru.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_fi.properties":"ADD","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index.jelly":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_zh_CN.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_fr.properties":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_it.properties":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_zh_CN.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled.jelly":"ADD","core\/src\/main\/resources\/hudson\/model\/Job\/index_nl.properties":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_nl.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Job\/index_tr.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ja.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_es.properties":"ADD","\/dev\/null":"DELETE","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_zh_TW.properties":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_hu.properties":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModule.java":"MODIFY","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_pl.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/main.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_cs.properties":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_uk.properties":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_it.properties":"MODIFY"},"diff":{"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_cs.properties":[{"add":["22","Latest\\ Test\\ Result=Posledn\\u00ed v\\u00fdsledky test\\u016f","23","Recent\\ Changes=Posledn\\u00ed zm\\u011bny"],"delete":["22","Disable\\ Project=Deaktivovat projekt","23","Latest\\ Test\\ Result=Posledn\\u00ED v\\u00FDsledky test\\u016F","24","Recent\\ Changes=Posledn\\u00ED zm\\u011Bny"]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_cs.properties":[{"add":[],"delete":["22","Disable\\ Project=Vypnout projekt"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_de.properties":[{"add":["23","Recent\\ Changes=Letzte \\u00c4nderungen"],"delete":["23","Recent\\ Changes=Letzte nderungen","26","Enable=Aktivieren","27","This\\ project\\ is\\ currently\\ disabled=Dieses Projekt ist momentan deaktiviert.","28","Disable\\ Project=Projekt deaktivieren"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_he.properties":[{"add":["22","Recent\\ Changes=\\u05e9\\u05d9\\u05e0\\u05d5\\u05d9\\u05d9\\u05dd \\u05d0\\u05d7\\u05e8\\u05d5\\u05e0\\u05d9\\u05dd","23","Workspace=\\u05de\\u05e9\\u05d8\\u05d7 \\u05e2\\u05d1\\u05d5\\u05d3\\u05d4"],"delete":["22","Disable\\ Project=\\u05E0\\u05E2\\u05DC \\u05E4\\u05E8\\u05D5\\u05D9\\u05E7\\u05D8 \\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05E9","23","Recent\\ Changes=\\u05E9\\u05D9\\u05E0\\u05D5\\u05D9\\u05D9\\u05DD \\u05D0\\u05D7\\u05E8\\u05D5\\u05E0\\u05D9\\u05DD","24","Workspace=\\u05DE\\u05E9\\u05D8\\u05D7 \\u05E2\\u05D1\\u05D5\\u05D3\\u05D4"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_is.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_de.properties":[{"add":[],"delete":["24","Enable=Aktivieren","25","This\\ project\\ is\\ currently\\ disabled=Dieses Projekt ist momentan deaktiviert.","26","Disable\\ Project=Projekt deaktivieren"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_bg.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_lv.properties":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_lv.properties":[{"add":["22","Last\\ Successful\\ Artifacts=P\\u0113d\\u0113jie veiksm\\u012bgie artefakti"],"delete":["22","Disable\\ Project=Atsl\\u0113gt projektu","23","Last\\ Successful\\ Artifacts=P\\u0113d\\u0113jie veiksm\\u012Bgie artefakti"]}],"core\/src\/main\/resources\/hudson\/model\/Job\/index_ja.properties":[{"add":[],"delete":["22","This\\ project\\ is\\ currently\\ disabled=\\u73fe\\u5728\\u3001\\u3053\\u306e\\u30d7\\u30ed\\u30b8\\u30a7\\u30af\\u30c8\\u306f\\u7121\\u52b9\\u3067\\u3059\\u3002","23","Enable=\\u6709\\u52b9\\u5316","24","Disable\\ Project=\\u30d7\\u30ed\\u30b8\\u30a7\\u30af\\u30c8\\u306e\\u7121\\u52b9\\u5316"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_de.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Job\/index.jelly":[{"add":[],"delete":["35","      <j:if test=\"${it.parent == app}\">","36","          <j:choose>","37","              <j:when test=\"${it.disabled}\">","38","                <div class=\"warning\">","39","                  <form method=\"post\" action=\"enable\">","40","                    ${%This project is currently disabled}","41","                    <l:hasPermission permission=\"${it.CONFIGURE}\">","42","                      <f:submit value=\"${%Enable}\" \/>","43","                    <\/l:hasPermission>","44","                  <\/form>","45","                <\/div>","46","                <\/j:when>","47","                <j:otherwise>","48","                 <div align=\"right\">","49","                  <form method=\"post\" action=\"disable\">","50","                    <l:hasPermission permission=\"${it.CONFIGURE}\">","51","                      <f:submit value=\"${%Disable Project}\" \/>","52","                    <\/l:hasPermission>","53","                  <\/form>","54","                  <\/div>","55","               <\/j:otherwise>","56","          <\/j:choose>","57","      <\/j:if>","58",""]}],"core\/src\/main\/resources\/hudson\/model\/Job\/index_ru.properties":[{"add":[],"delete":["23","Disable\\ Project=\\u0412\\u044B\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442","24","Enable=\\u0412\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C","29","This\\ project\\ is\\ currently\\ disabled=\\u042d\\u0442\\u043e\\u0442 \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442 \\u0432\\u0440\\u0435\\u043c\\u0435\\u043d\\u043d\\u043e \\u0432\\u044b\\u043a\\u043b\\u044e\\u0447\\u0435\\u043d"]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_es.properties":[{"add":["23","Latest\\ Test\\ Result=\\u00daltimo resultado de test"],"delete":["23","Disable\\ Project=Desactivar el proyecto","24","This\\ project\\ is\\ currently\\ disabled=Este proyecto est desactivado","25","Enable=Activar","26","Latest\\ Test\\ Result=ltimo resultado de test"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_da.properties":[{"add":[],"delete":[]}],"changelog.html":[{"add":["57","  <li class=bug>","58","    Enable\/disable GUI for jobs either did not appear, or threw exceptions, for jobs inside folders","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-14325\">issue 14325<\/a>)"],"delete":["57","  <li class=>"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_sv_SE.properties":[{"add":["24","Recent\\ Changes=Senaste F\\u00f6r\\u00e4ndringar"],"delete":["22","Disable\\ Project=Inaktivera projekt","25","Recent\\ Changes=Senaste F\\u00F6r\\u00E4ndringar"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_hu.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ca.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_da.properties":[{"add":[],"delete":["22","This\\ project\\ is\\ currently\\ disabled=Dette projekt er for nuv\\u00e6rende sl\\u00e5et fra","23","Enable=Sl\\u00e5 til"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_pt_BR.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_sv_SE.properties":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index.jelly":[{"add":["33","      <st:include page=\"makeDisabled.jelly\" \/>"],"delete":["33","      <j:choose>","34","      <j:when test=\"${it.disabled}\">","35","        <div class=\"warning\">","36","          <form method=\"post\" action=\"enable\">","37","            ${%This project is currently disabled}","38","            <l:hasPermission permission=\"${it.CONFIGURE}\">","39","              <f:submit value=\"${%Enable}\" \/>","40","            <\/l:hasPermission>","41","          <\/form>","42","        <\/div>","43","      <\/j:when>","44","      <j:otherwise>","45","           <div align=\"right\">","46","            <form method=\"post\" action=\"disable\">","47","              <l:hasPermission permission=\"${it.CONFIGURE}\">","48","                <f:submit value=\"${%Disable Project}\" \/>","49","              <\/l:hasPermission>","50","            <\/form>","51","            <\/div>","52","      <\/j:otherwise>","53","      <\/j:choose>"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_fr.properties":[{"add":["22","This\\ project\\ is\\ currently\\ disabled=Ce projet est actuellement d\\u00e9sactiv\\u00e9","24","Recent\\ Changes=Changements r\\u00e9cents","25","Latest\\ Test\\ Result=Derniers r\\u00e9sultats des tests","26","Last\\ Successful\\ Artifacts=Derniers artefacts construits avec succ\\u00e8s"],"delete":["22","This\\ project\\ is\\ currently\\ disabled=Ce projet est actuellement d\\u00E9sactiv\\u00E9","24","Recent\\ Changes=Changements rcents","25","Latest\\ Test\\ Result=Derniers rsultats des tests","26","Disable\\ Project=D\\u00E9sactiver le projet","27","Enable=Activer","28","Last\\ Successful\\ Artifacts=Derniers artefacts construits avec succs"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_pt_BR.properties":[{"add":[],"delete":["25","Disable\\ Project=Desabilitar o Projeto"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_sk.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Job\/index_es.properties":[{"add":[],"delete":["22","This\\ project\\ is\\ currently\\ disabled=Este projecto est desactivado actualmente","23","Enable=Activar","24","Disable\\ Project=Desactivar el Proyecto"]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_fi.properties":[{"add":[],"delete":["22","Disable\\ Project=Poista k\\u00E4yt\\u00F6st\\u00E4"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_es.properties":[{"add":["24","Latest\\ Test\\ Result=\\u00daltimos resultados de tests","25","Last\\ Successful\\ Artifacts=\\u00daltimo artefacto correcto"],"delete":["24","Latest\\ Test\\ Result=ltimos resultados de tests","25","Last\\ Successful\\ Artifacts=ltimo artefacto correcto","26","Enable=Activar","27","This\\ project\\ is\\ currently\\ disabled=Este proyecto est desactivado","28","Disable\\ Project=Desactivar este proyecto"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_pl.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_nl.properties":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_ja.properties":[{"add":[],"delete":["26","This\\ project\\ is\\ currently\\ disabled=\\u73fe\\u5728\\u3001\\u3053\\u306e\\u30d7\\u30ed\\u30b8\\u30a7\\u30af\\u30c8\\u306f\\u7121\\u52b9\\u3067\\u3059\\u3002","27","Enable=\\u6709\\u52b9\\u5316","28","Disable\\ Project=\\u30d7\\u30ed\\u30b8\\u30a7\\u30af\\u30c8\\u306e\\u7121\\u52b9\\u5316","29",""]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_ru.properties":[{"add":[],"delete":["22","Disable\\ Project=\\u041E\\u0442\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442","23","Enable=\\u0412\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C","25","This\\ project\\ is\\ currently\\ disabled=\\u042D\\u0442\\u043E\\u0442 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442 \\u0441\\u0435\\u0439\\u0447\\u0430\\u0441 \\u043E\\u0442\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D."]}],"core\/src\/main\/java\/hudson\/matrix\/MatrixConfiguration.java":[{"add":["346","","347","    @Override","348","    public boolean supportsMakeDisabled() {","349","        return false;","350","    }","351",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_ja.properties":[{"add":[],"delete":["23","This\\ project\\ is\\ currently\\ disabled=\\u73fe\\u5728\\u3001\\u3053\\u306e\\u30d7\\u30ed\\u30b8\\u30a7\\u30af\\u30c8\\u306f\\u7121\\u52b9\\u3067\\u3059\\u3002","24","Enable=\\u6709\\u52b9\\u5316","25","Disable\\ Project=\\u30d7\\u30ed\\u30b8\\u30a7\\u30af\\u30c8\\u306e\\u7121\\u52b9\\u5316"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ro.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_tr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_nb_NO.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_fr.properties":[{"add":["22","Latest\\ Test\\ Result=Derniers r\\u00e9sultats de test"],"delete":["22","Disable\\ Project=D\\u00E9sactiver le projet","23","Enable=Activer","24","Latest\\ Test\\ Result=Derniers r\\u00E9sultats de test","26","This\\ project\\ is\\ currently\\ disabled=Ce projet est d\\u00E9sactiv\\u00E9"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_fi.properties":[{"add":["23","Recent\\ Changes=Viimeisimm\\u00e4t muutokset","24","Workspace=Ty\\u00f6tila"],"delete":["22","Disable\\ Project=Ota projekti pois k\\u00E4yt\\u00F6st\\u00E4","24","Recent\\ Changes=Viimeisimm\\u00E4t muutokset","25","Workspace=Ty\\u00F6tila"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ko.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ru.properties":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_da.properties":[{"add":[],"delete":["23","Disable\\ Project=Deaktiver projekt","24","Enable=Sl\\u00e5 til","27","This\\ project\\ is\\ currently\\ disabled=Dette projekt er for nuv\\u00e6rende sl\\u00e5et fra"]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_pl.properties":[{"add":[],"delete":["22","Disable\\ Project=Wy\\u0142\\u0105cz projekt","23","Enable=Aktywuj","25","This\\ project\\ is\\ currently\\ disabled=Projekt jest nieaktywny"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_it.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_zh_CN.properties":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_nb_NO.properties":[{"add":["25","Workspace=Arbeidsomr\\u00e5de"],"delete":["22","Disable\\ Project=Deaktiver prosjekt","26","Workspace=Arbeidsomr\\u00E5de"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_ru.properties":[{"add":["24","Last\\ Successful\\ Artifacts=\\u0410\\u0440\\u0442\\u0435\\u0444\\u0430\\u043a\\u0442\\u044b \\u043f\\u043e\\u0441\\u043b\\u0435\\u0434\\u043d\\u0435\\u0439 \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e\\u0439 \\u0441\\u0431\\u043e\\u0440\\u043a\\u0438"],"delete":["22","This\\ project\\ is\\ currently\\ disabled=\\u042D\\u0442\\u043E\\u0442 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442 \\u043E\\u0442\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D","25","Disable\\ Project=\\u0417\\u0430\\u043F\\u0440\\u0435\\u0442\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442","26","Enable=\\u0412\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C","27","Last\\ Successful\\ Artifacts=\\u0410\\u0440\\u0442\\u0435\\u0444\\u0430\\u043A\\u0442\\u044B \\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0435\\u0439 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E\\u0439 \\u0441\\u0431\\u043E\\u0440\\u043A\\u0438"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_fi.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index.jelly":[{"add":["35","      <st:include page=\"makeDisabled.jelly\" \/>"],"delete":["35","      <j:choose>","36","          <j:when test=\"${it.disabled}\">","37","            <div class=\"warning\">","38","              <form method=\"post\" action=\"enable\">","39","                ${%This project is currently disabled}","40","                <l:hasPermission permission=\"${it.CONFIGURE}\">","41","                  <f:submit value=\"${%Enable}\" \/>","42","                <\/l:hasPermission>","43","              <\/form>","44","            <\/div>","45","          <\/j:when>","46","          <j:otherwise>","47","              <div align=\"right\">","48","               <form method=\"post\" action=\"disable\">","49","                 <l:hasPermission permission=\"${it.CONFIGURE}\">","50","                   <f:submit value=\"${%Disable Project}\" \/>","51","                 <\/l:hasPermission>","52","               <\/form>","53","               <\/div>","54","             <\/j:otherwise>","55","      <\/j:choose>"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_zh_CN.properties":[{"add":["22","Last\\ Successful\\ Artifacts=\\u6700\\u7ec8\\u6210\\u529f\\u6784\\u5efa","23","Latest\\ Test\\ Result=\\u6700\\u65b0\\u6d4b\\u8bd5\\u7ed3\\u679c","24","Recent\\ Changes=\\u6700\\u65b0\\u4fee\\u6539","25","Workspace=\\u5de5\\u4f5c\\u533a"],"delete":["22","Disable\\ Project=\\u7981\\u7528\\u9879\\u76EE","23","Enable=\\u542F\\u7528\\u9879\\u76EE","24","Last\\ Successful\\ Artifacts=\\u6700\\u7EC8\\u6210\\u529F\\u6784\\u5EFA","25","Latest\\ Test\\ Result=\\u6700\\u65B0\\u6D4B\\u8BD5\\u7ED3\\u679C","26","Recent\\ Changes=\\u6700\\u65B0\\u4FEE\\u6539","27","This\\ project\\ is\\ currently\\ disabled=\\u5F53\\u524D\\u9879\\u76EE\\u5DF2\\u88AB\\u7981\\u7528","28","Workspace=\\u5DE5\\u4F5C\\u533A"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_fr.properties":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_it.properties":[{"add":[],"delete":["22","Disable\\ Project=Disabilita progetto"]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_zh_CN.properties":[{"add":["22","Project=\\u9879\\u76ee"],"delete":["22","Disable\\ Project=\\u7981\\u7528\\u9879\\u76EE","23","Project=\\u9879\\u76EE"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Job\/index_nl.properties":[{"add":[],"delete":["23","Disable\\ Project=Deactiveer project","24","Enable=Activeren","29","This\\ project\\ is\\ currently\\ disabled=Dit project is gedeactiveerd"]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_nl.properties":[{"add":[],"delete":["29","Disable\\ Project=Blokkeer project"]}],"core\/src\/main\/resources\/hudson\/model\/Job\/index_tr.properties":[{"add":[],"delete":["23","Disable\\ Project=Projeyi devre d\\u0131\\u015F\\u0131 b\\u0131rak","28","This\\ project\\ is\\ currently\\ disabled=Bu proje \\u015fimdilik devre d\\u0131\\u015f\\u0131"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_ja.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_es.properties":[{"add":[],"delete":[]}],"\/dev\/null":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_zh_TW.properties":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_hu.properties":[{"add":["22","Last\\ Successful\\ Artifacts=Utols\\u00f3 Sikeres Artifact-ek","23","Recent\\ Changes=\\u00daj V\\u00e1ltoz\\u00e1sok","24","Workspace=Munkater\\u00fclet"],"delete":["22","Disable\\ Project=Projekt letilt\\u00E1sa","23","Last\\ Successful\\ Artifacts=Utols\\u00F3 Sikeres Artifact-ek","24","Recent\\ Changes=\\u00DAj V\\u00E1ltoz\\u00E1sok","25","Workspace=Munkater\\u00FClet"]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["622","    \/**","623","     * Specifies whether this project may be disabled by the user.","624","     * By default, it can, but specialized project types contained in another","625","     * (such as Maven modules or matrix configurations) should return false.","626","     * @return true if the GUI should allow {@link #doDisable} and the like","627","     * @since 1.475","628","     *\/","629","    public boolean supportsMakeDisabled() {","630","        return true;","631","    }","632",""],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModule.java":[{"add":["169","    public boolean supportsMakeDisabled() {","170","        return false;","171","    }","172","","173","    @Override"],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_pl.properties":[{"add":["22","Last\\ Successful\\ Artifacts=Ostatnie pomy\\u015blne artefakty","23","Latest\\ Test\\ Result=Ostatnie rezultaty test\\u00f3w"],"delete":["22","Disable\\ Project=Wy\\u0142\\u0105cz projekt","23","Last\\ Successful\\ Artifacts=Ostatnie pomy\\u015Blne artefakty","24","Latest\\ Test\\ Result=Ostatnie rezultaty test\\u00F3w"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/main.jelly":[{"add":["29","  <j:if test=\"${it.supportsMakeDisabled()}\">","30","    <st:include page=\"makeDisabled.jelly\" \/>","31","  <\/j:if>","32",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/makeDisabled_cs.properties":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/index_uk.properties":[{"add":["22","Last\\ Successful\\ Artifacts=\\u0410\\u0440\\u0442\\u0435\\u0444\\u0430\\u043a\\u0442\\u0438 \\u043e\\u0441\\u0442\\u0430\\u043d\\u043d\\u044c\\u043e\\u0457 \\u0443\\u0441\\u043f\\u0456\\u0448\\u043d\\u043e\\u0457 \\u043f\\u043e\\u0431\\u0443\\u0434\\u043e\\u0432\\u0438","23","Latest\\ Test\\ Result=\\u041e\\u0441\\u0442\\u0430\\u043d\\u043d\\u0456 \\u0420\\u0435\\u0437\\u0443\\u043b\\u044c\\u0442\\u0430\\u0442\\u0438 \\u0422\\u0435\\u0441\\u0442\\u0456\\u0432","24","Recent\\ Changes=\\u041e\\u0441\\u0442\\u0430\\u043d\\u043d\\u0456 \\u0417\\u043c\\u0456\\u043d\\u0438","25","Workspace=\\u0420\\u043e\\u0431\\u043e\\u0447\\u0456 \\u0444\\u0430\\u0439\\u043b\\u0438"],"delete":["22","Disable\\ Project=\\u0412\\u0438\\u043C\\u043A\\u043D\\u0443\\u0442\\u0438 \\u041F\\u0440\\u043E\\u0435\\u043A\\u0442","23","Last\\ Successful\\ Artifacts=\\u0410\\u0440\\u0442\\u0435\\u0444\\u0430\\u043A\\u0442\\u0438 \\u043E\\u0441\\u0442\\u0430\\u043D\\u043D\\u044C\\u043E\\u0457 \\u0443\\u0441\\u043F\\u0456\\u0448\\u043D\\u043E\\u0457 \\u043F\\u043E\\u0431\\u0443\\u0434\\u043E\\u0432\\u0438","24","Latest\\ Test\\ Result=\\u041E\\u0441\\u0442\\u0430\\u043D\\u043D\\u0456 \\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u0438 \\u0422\\u0435\\u0441\\u0442\\u0456\\u0432","25","Recent\\ Changes=\\u041E\\u0441\\u0442\\u0430\\u043D\\u043D\\u0456 \\u0417\\u043C\\u0456\\u043D\\u0438","26","Workspace=\\u0420\\u043E\\u0431\\u043E\\u0447\\u0456 \\u0444\\u0430\\u0439\\u043B\\u0438"]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixProject\/index_it.properties":[{"add":[],"delete":["22","Disable\\ Project=Disabilita Progetto"]}]}},"b7c25bdf45bea2b1ccd027817dd24d754b4ae0fb":{"changes":{"core\/src\/main\/java\/hudson\/tools\/JDKInstaller.java":"MODIFY","test\/src\/test\/java\/hudson\/tools\/JDKInstallerTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tools\/JDKInstaller.java":[{"add":["217","            return f.isDirectory() && f.getName().matches(\"j(2s)?dk.*\");","219","    }","231","    @SuppressWarnings(\"unchecked\") \/\/ dom4j doesn't do generics, apparently... should probably switch to XOM"],"delete":["217","            return f.isDirectory() && f.getName().startsWith(\"jdk\");","219","    };"]}],"test\/src\/test\/java\/hudson\/tools\/JDKInstallerTest.java":[{"add":["10","import org.jvnet.hudson.test.Bug;","37","    public void testAutoInstallation6u13() throws Exception {","38","        doTestAutoInstallation(\"jdk-6u13-oth-JPR@CDS-CDS_Developer\", \"1.6.0_13-b03\");","39","    }","40","    @Bug(3989)","41","    public void testAutoInstallation142_17() throws Exception {","42","        doTestAutoInstallation(\"j2sdk-1.4.2_17-oth-JPR@CDS-CDS_Developer\", \"1.4.2_17-b06\");","43","    }","44","","45","    private void doTestAutoInstallation(String id, String fullversion) throws Exception {","51","        JDKInstaller installer = new JDKInstaller(id, true);","62","        @SuppressWarnings(\"deprecation\") String log = b.getLog();","63","        System.out.println(log);","65","        assertTrue(log.contains(fullversion));","66","        assertTrue(log.contains(tmp.getAbsolutePath()));","68",""],"delete":["36","    public void testAutoInstallation() throws Exception {","42","        JDKInstaller installer = new JDKInstaller(\"jdk-6u13-oth-JPR@CDS-CDS_Developer\", true);","53","        System.out.println(b.getLog());","55","        assertTrue(b.getLog().contains(\"1.6.0_13-b03\"));","56","        assertTrue(b.getLog().contains(tmp.getAbsolutePath()));"]}]}},"3b4ac78ca63abe83c4b22eab4debc764dc67a707":{"changes":{"core\/src\/test\/java\/hudson\/PluginWrapperTest.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/PluginWrapperTest.java":[{"add":["7","import java.util.Locale;","12","import org.junit.After;","27","    private Locale loc;","28","    ","32","        loc = Locale.getDefault();","33","        Locale.setDefault(new Locale(\"en\", \"GB\"));","36","    @After","37","    public void after() {","38","        Locale.setDefault(loc);","39","    }","40","    "],"delete":[]}]}},"c7991585bcc2d640f2befd56104224320f5ed0fa":{"changes":{"core\/src\/main\/java\/hudson\/cli\/CLICommand.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/cli\/CLICommand.java":[{"add":["217","        sc.setAuthentication(getTransportAuthentication());"],"delete":[]}]}},"63c2f6c5d7d154a3a0f58c54f04f9b1a25ea5385":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["498","      <version>1.24<\/version>"],"delete":["498","      <version>1.22<\/version>"]}]}},"d3152b90a24ae8f2b4aa2d224b6dab7277d88b02":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["57","  <li class=bug>","58","      <code>NullPointerException<\/code> from <code>UnlabeldLoadStatistics<\/code> <i>[sic]<\/i>","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-14330\">issue 14330<\/a>)"],"delete":["57","  <li class=>"]}]}},"327f7780133b2e6083f49686e43298af83b0dea6":{"changes":{"core\/src\/main\/java\/hudson\/diagnosis\/OldDataMonitor.java":"MODIFY","test\/src\/test\/java\/hudson\/diagnosis\/OldDataMonitorTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/diagnosis\/OldDataMonitor.java":[{"add":["357","            Job parent = ((Run) s).getParent();","358","            if (Jenkins.getInstance().getItemByFullName(parent.getFullName()) == parent) {","359","                return new RunSaveableReference((Run) s);","360","            }","362","        return new SimpleSaveableReference(s);"],"delete":["357","            return new RunSaveableReference((Run) s);","358","        } else {","359","            return new SimpleSaveableReference(s);"]}],"test\/src\/test\/java\/hudson\/diagnosis\/OldDataMonitorTest.java":[{"add":["43","import hudson.model.ItemGroup;","44","import hudson.model.Job;","45","import hudson.model.Run;","51","import static org.mockito.Mockito.*;","52","","63","import javax.annotation.Nonnull;","64","","158","    @Issue(\"JENKINS-26718\")","159","    @Test public void unlocatableRun() throws Exception {","160","        OldDataMonitor odm = OldDataMonitor.get(r.jenkins);","161","        FreeStyleProject p = mock(FreeStyleProject.class);","162","        when(p.getParent()).thenReturn(Jenkins.getInstance());","163","        when(p.getFullName()).thenReturn(\"notfound\");","164","        FreeStyleBuild build = new FreeStyleBuild(p);","165","        odm.report(build, (String) null);","166","","167","        assertEquals(Collections.singleton(build), odm.getData().keySet());","168","        odm.doDiscard(null, null);","169","        assertEquals(Collections.emptySet(), odm.getData().keySet());","170","","171","    }","172",""],"delete":[]}]}},"e1737855727975759b893bd34b87a2a326db7cea":{"changes":{"core\/src\/main\/resources\/hudson\/model\/RunParameterDefinition\/config.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/RunParameterDefinition\/config.jelly":[{"add":["33","            <f:option selected=\"${instance.project==project}\">${project.displayName}<\/f:option>"],"delete":["33","            <f:option selected=\"${it.project==project}\">${project.displayName}<\/f:option>"]}]}},"d869df004b478533dc3a839d4c82451dfc32f87a":{"changes":{"core\/src\/main\/java\/hudson\/matrix\/MatrixBuild.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/matrix\/MatrixBuild.java":[{"add":["53","import org.kohsuke.stapler.export.Exported;","129","    @Exported"],"delete":[]}]}},"a6a3d5e1660735edc18d331500f7ce9850fbc724":{"changes":{"core\/src\/main\/java\/hudson\/model\/ListView.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/Fingerprint.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/listeners\/ItemListener.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ListView.java":[{"add":["31","import hudson.security.ACL;","434","        @Override public void onLocationChanged(final Item item, final String oldFullName, final String newFullName) {","435","            ACL.impersonate(ACL.SYSTEM, new Runnable() {","436","                @Override public void run() {","437","                    locationChanged(item, oldFullName, newFullName);","438","                }","439","            });","440","        }","441","        private void locationChanged(Item item, String oldFullName, String newFullName) {","479","        @Override public void onDeleted(final Item item) {","480","            ACL.impersonate(ACL.SYSTEM, new Runnable() {","481","                @Override public void run() {","482","                    deleted(item);","483","                }","484","            });","485","        }","486","        private void deleted(Item item) {"],"delete":["433","        @Override public void onLocationChanged(Item item, String oldFullName, String newFullName) {","471","        @Override public void onDeleted(Item item) {"]}],"changelog.html":[{"add":["58","    Some plugins broken since 1.584 if they expected certain events to be fired under a specific user ID.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25400\">issue 25400<\/a>)","60","  <li class=bug>"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Fingerprint.java":[{"add":["41","import hudson.security.ACL;","732","        public void onLocationChanged(final Item item, final String oldName, final String newName) {","733","            ACL.impersonate(ACL.SYSTEM, new Runnable() {","734","                @Override public void run() {","735","                    locationChanged(item, oldName, newName);","736","                }","737","            });","738","        }","739","        private void locationChanged(Item item, String oldName, String newName) {"],"delete":["731","        public void onLocationChanged(Item item, String oldName, String newName) {"]}],"core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":[{"add":["408","            public void onLocationChanged(final Item item, final String oldFullName, final String newFullName) {","409","                ACL.impersonate(ACL.SYSTEM, new Runnable() {","410","                    @Override public void run() {","411","                        locationChanged(item, oldFullName, newFullName);","412","                    }","413","                });","414","            }","415","            private void locationChanged(Item item, String oldFullName, String newFullName) {"],"delete":["408","            public void onLocationChanged(Item item, String oldFullName, String newFullName) {"]}],"core\/src\/main\/java\/hudson\/model\/listeners\/ItemListener.java":[{"add":["33","import java.util.List;","36","import jenkins.security.NotReallyRoleSensitiveCallable;","162","    private static void forAll(final \/* java.util.function.Consumer<ItemListener> *\/Function<ItemListener,Void> consumer) {","163","        for (ItemListener l : all()) {","164","            try {","165","                consumer.apply(l);","166","            } catch (RuntimeException x) {","167","                LOGGER.log(Level.WARNING, \"failed to send event to listener of \" + l.getClass(), x);","178","        });","187","        });","196","        });","206","        });","232","            });","239","        });","241","            for (final Item child : ACL.impersonate(ACL.SYSTEM, new NotReallyRoleSensitiveCallable<List<Item>,RuntimeException>() {","242","                @Override public List<Item> call() {","243","                    return Items.getAllItems((ItemGroup) rootItem, Item.class);","244","                }","245","            })) {","255","                });"],"delete":["160","    private static void forAll(final \/* java.util.function.Consumer<ItemListener> *\/Function<ItemListener,Void> consumer, boolean asSystem) {","161","        Runnable r = new Runnable() {","162","            @Override public void run() {","163","                for (ItemListener l : all()) {","164","                    try {","165","                        consumer.apply(l);","166","                    } catch (RuntimeException x) {","167","                        LOGGER.log(Level.WARNING, \"failed to send event to listener of \" + l.getClass(), x);","168","                    }","169","                }","171","        };","172","        if (asSystem) {","173","            ACL.impersonate(ACL.SYSTEM, r);","174","        } else {","175","            r.run();","185","        }, true);","194","        }, true);","203","        }, true);","213","        }, true);","223","        ACL.impersonate(ACL.SYSTEM, new Runnable() {","224","            @Override public void run() {","225","                doFireLocationChange(rootItem, oldFullName);","226","            }","227","        });","228","    }","229","    private static void doFireLocationChange(final Item rootItem, final String oldFullName) {","246","            }, false);","253","        }, false);","255","            for (final Item child : Items.getAllItems((ItemGroup) rootItem, Item.class)) {","265","                }, false);"]}]}},"cffe9df0176b0ff895554ce7f2ea4d2f20062351":{"changes":{"core\/src\/main\/java\/hudson\/diagnosis\/ReverseProxySetupMonitor.java":"MODIFY","test\/src\/test\/java\/hudson\/diagnosis\/ReverseProxySetupMonitorTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY","core\/src\/test\/java\/jenkins\/model\/JenkinsGetRootUrlTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/diagnosis\/ReverseProxySetupMonitor.java":[{"add":["26","import hudson.Util;","34","import java.util.logging.Level;","35","import java.util.logging.Logger;","36","import jenkins.model.Jenkins;","37","import org.kohsuke.stapler.Stapler;","52","","53","    private static final Logger LOGGER = Logger.getLogger(ReverseProxySetupMonitor.class.getName());","54","","62","        String referer = Stapler.getCurrentRequest().getReferer();","63","        Jenkins j = Jenkins.getInstance();","64","        assert j != null;","65","        \/\/ May need to send an absolute URL, since handling of HttpRedirect with a relative URL does not currently honor X-Forwarded-Proto\/Port at all.","66","        String redirect = j.getRootUrl() + \"administrativeMonitor\/\" + id + \"\/testForReverseProxySetup\/\" + Util.rawEncode(referer) + \"\/\";","67","        LOGGER.log(Level.FINE, \"coming from {0} and redirecting to {1}\", new Object[] {referer, redirect});","68","        return new HttpRedirect(redirect);","72","        Jenkins j = Jenkins.getInstance();","73","        assert j != null;","74","        String inferred = j.getRootUrlFromRequest() + \"manage\";","75","        \/\/ TODO this could also verify that j.getRootUrl() has been properly configured, and send a different message if not","76","        if (rest.equals(inferred)) {","79","            LOGGER.log(Level.WARNING, \"{0} vs. {1}\", new Object[] {inferred, rest});","80","            throw HttpResponses.errorWithoutStack(404, inferred + \" vs. \" + rest);"],"delete":["54","        return new HttpRedirect(\"testForReverseProxySetup\/a%2Fb\/\");","58","        if (rest.equals(\"a\/b\")) {","61","            throw HttpResponses.errorWithoutStack(404, \"expected a\/b but got \" + rest);"]}],"test\/src\/test\/java\/hudson\/diagnosis\/ReverseProxySetupMonitorTest.java":[{"add":["26","import com.gargoylesoftware.htmlunit.WebRequestSettings;","27","import java.net.URL;","37","        WebRequestSettings wrs = new WebRequestSettings(new URL(r.getURL(), r.jenkins.getAdministrativeMonitor(ReverseProxySetupMonitor.class.getName()).getUrl() + \"\/test\"));","38","        wrs.setAdditionalHeader(\"Referer\", r.getURL() + \"manage\");","39","        r.createWebClient().getPage(wrs);"],"delete":["35","        r.createWebClient().goTo(r.jenkins.getAdministrativeMonitor(ReverseProxySetupMonitor.class.getName()).getUrl() + \"\/test\", null);"]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["1836","     * Gets the absolute URL of Jenkins, such as {@code http:\/\/localhost\/jenkins\/}.","1840","     * fall back to {@link #getRootUrlFromRequest}.","1844","     * @return null if this parameter is not configured by the user and the calling thread is not in an HTTP request; otherwise the returned URL will always have the trailing {@code \/}","1848","    public @Nullable String getRootUrl() {","1871","     * Gets the absolute URL of Hudson top page, such as {@code http:\/\/localhost\/hudson\/}.","1880","     * <p>Please note that this will not work in all cases if Jenkins is running behind a","1881","     * reverse proxy which has not been fully configured.","1882","     * Specifically the {@code Host} and {@code X-Forwarded-Proto} headers must be set.","1883","     * <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Running+Jenkins+behind+Apache\">Running Jenkins behind Apache<\/a>","1884","     * shows some examples of configuration.","1887","    public @Nonnull String getRootUrlFromRequest() {","1889","        if (req == null) {","1890","            throw new IllegalStateException(\"cannot call getRootUrlFromRequest from outside a request handling thread\");","1891","        }","1900","        int forwardedPort = req.getIntHeader(\"X-Forwarded-Port\");","1901","        int port = forwardedPort == -1 ? req.getServerPort() : forwardedPort;","1902","        if (port != (\"https\".equals(scheme) ? 443 : 80)) {","1903","            buf.append(':').append(port);","1904","        }"],"delete":["1836","     * Gets the absolute URL of Jenkins,","1837","     * such as \"http:\/\/localhost\/jenkins\/\".","1841","     * fall back to {@link StaplerRequest#getRootPath()}.","1845","     * @return","1846","     *      This method returns null if this parameter is not configured by the user.","1847","     *      The caller must gracefully deal with this situation.","1848","     *      The returned URL will always have the trailing '\/'.","1850","     * @see Descriptor#getCheckUrl(String)","1851","     * @see #getRootUrlFromRequest()","1854","    public String getRootUrl() {","1877","     * Gets the absolute URL of Hudson top page, such as \"http:\/\/localhost\/hudson\/\".","1886","     * Please note that this will not work in all cases if Jenkins is running behind a","1887","     * reverse proxy (e.g. when user has switched off ProxyPreserveHost, which is","1888","     * default setup or the actual url uses https) and you should use getRootUrl if","1889","     * you want to be sure you reflect user setup.","1890","     * See https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Running+Jenkins+behind+Apache","1891","     *","1894","    public String getRootUrlFromRequest() {","1904","        if(req.getServerPort()!=80)","1905","            buf.append(':').append(req.getServerPort());"]}],"core\/src\/test\/java\/jenkins\/model\/JenkinsGetRootUrlTest.java":[{"add":["39","import static org.mockito.Matchers.anyString;","41","import org.mockito.invocation.InvocationOnMock;","42","import org.mockito.stubbing.Answer;","112","","116","","117","        accessing(\"http:\/\/ci:8080\/jenkins\/\");","118","        rootUrlFromRequestIs(\"http:\/\/ci:8080\/jenkins\/\");","119","","121","        accessing(\"https:\/\/ci\/jenkins\/\");","124","","125","        accessing(\"http:\/\/ci\/jenkins\/\");","128","","129","        \/\/ ServletRequest.getServerPort is not always meaningful.","130","        \/\/ http:\/\/tomcat.apache.org\/tomcat-5.5-doc\/config\/http.html#Proxy_Support or","131","        \/\/ http:\/\/wiki.eclipse.org\/Jetty\/Howto\/Configure_mod_proxy#Configuring_mod_proxy_as_a_Reverse_Proxy.5D","132","        \/\/ can be used to ensure that it is hardcoded or that X-Forwarded-Port is interpreted.","133","        \/\/ But this is not something that can be configured purely from the reverse proxy; the container must be modified too.","134","        \/\/ And the standard bundled Jetty in Jenkins does not work that way;","135","        \/\/ it will return 80 even when Jenkins is fronted by Apache with SSL.","136","        accessing(\"http:\/\/ci\/jenkins\/\"); \/\/ as if the container is not aware of the forwarded port","137","        withHeader(\"X-Forwarded-Port\", \"443\"); \/\/ but we tell it","138","        withHeader(\"X-Forwarded-Proto\", \"https\");","139","        rootUrlFromRequestIs(\"https:\/\/ci\/jenkins\/\");","157","    private void withHeader(String name, final String value) {","169","        when(req.getServerPort()).thenReturn(url.getPort() == -1 ? (\"https\".equals(url.getProtocol()) ? 443 : 80) : url.getPort());","171","        when(req.getIntHeader(anyString())).thenAnswer(new Answer<Integer>() {","172","            @Override public Integer answer(InvocationOnMock invocation) throws Throwable {","173","                String name = (String) invocation.getArguments()[0];","174","                String value = ((StaplerRequest) invocation.getMock()).getHeader(name);","175","                return value != null ? Integer.parseInt(value) : -1;","176","            }","177","        });"],"delete":["109","        ","113","        ","115","        accessing(\"http:\/\/ci\/jenkins\/\");","118","        ","119","        accessing(\"https:\/\/ci\/jenkins\/\");","139","    private void withHeader(String name, String value) {","151","        when(req.getServerPort()).thenReturn(url.getPort() == -1 ? 80 : url.getPort());"]}]}},"0e37effa72e480536a88c28888c80e823d838056":{"changes":{"core\/src\/test\/java\/hudson\/console\/UrlAnnotatorTest.java":"ADD"},"diff":{"core\/src\/test\/java\/hudson\/console\/UrlAnnotatorTest.java":[{"add":[],"delete":[]}]}},"4cd3e338c0e89ee8192d29b5da66e7f3a23d5134":{"changes":{"core\/src\/main\/java\/hudson\/util\/FormValidation.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/DOSToUnixPathHelper.java":"ADD","core\/src\/main\/java\/hudson\/util\/FormFieldValidator.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/FormValidation.java":[{"add":["335","        final FormValidation[] result = {null};","337","        try {","338","            DOSToUnixPathHelper.iteratePath(exe, new DOSToUnixPathHelper.Helper() {","339","                @Override","340","                public void ok() {","341","                    result[0] = FormValidation.ok();","344","                @Override","345","                public void checkExecutable(File fexe) {","346","                    result[0] = exeValidator.validate(fexe);","347","                }","349","                @Override","350","                public void error(String string) {","351","                    result[0] = FormValidation.error(string);","352","                }","354","                @Override","355","                public void validate(File fexe) {","356","                    result[0] = exeValidator.validate(fexe);","357","                }","358","            });","359","            return result[0];","360","        } catch (Exception e) {","361","            return FormValidation.error(e, \"Unexpected error\");"],"delete":["336","        exe = fixEmpty(exe);","337","        if(exe==null)","338","            return ok();","339","","340","        if(exe.indexOf(File.separatorChar)>=0) {","341","            \/\/ this is full path","342","            File f = new File(exe);","343","            if(f.exists())  return exeValidator.validate(f);","344","","345","            File fexe = new File(exe+\".exe\");","346","            if(fexe.exists())   return exeValidator.validate(fexe);","347","","348","            return error(\"There's no such file: \"+exe);","349","        }","350","","351","        \/\/ look in PATH","352","        String path = EnvVars.masterEnvVars.get(\"PATH\");","353","        String tokenizedPath;","354","        String delimiter = null;","355","        if(path!=null) {","356","            StringBuilder tokenizedPathBuilder = new StringBuilder();","357","            for (String _dir : Util.tokenize(path.replace(\"\\\\\", \"\\\\\\\\\"),File.pathSeparator)) {","358","                if (delimiter == null) {","359","                  delimiter = \", \";","360","                }","361","                else {","362","                  tokenizedPathBuilder.append(delimiter);","365","                tokenizedPathBuilder.append(_dir.replace('\\\\', '\/'));","367","                File dir = new File(_dir);","369","                File f = new File(dir,exe);","370","                if(f.exists())  return exeValidator.validate(f);","371","","372","                File fexe = new File(dir,exe+\".exe\");","373","                if(fexe.exists())   return exeValidator.validate(fexe);","374","            }","375","            tokenizedPathBuilder.append('.');","376","","377","            tokenizedPath = tokenizedPathBuilder.toString();","378","        } else {","379","            tokenizedPath = \"unavailable.\";","381","","382","        \/\/ didn't find it","383","        return error(\"There's no such executable \"+exe+\" in PATH: \"+tokenizedPath);"]}],"core\/src\/main\/java\/hudson\/util\/DOSToUnixPathHelper.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/FormFieldValidator.java":[{"add":["31","import hudson.security.Permission;","32","import jenkins.model.Jenkins;","33","import org.acegisecurity.AccessDeniedException;","34","import org.kohsuke.stapler.Stapler;","35","import org.kohsuke.stapler.StaplerRequest;","36","import org.kohsuke.stapler.StaplerResponse;","38","import javax.servlet.ServletException;","48","import static hudson.Util.fixEmpty;","517","            FormFieldValidator.Executable self = this;","518","            Exception exceptions[] = {null};","519","            DOSToUnixPathHelper.iteratePath(exe, new DOSToUnixPathHelper.Helper() {","520","                @Override","521","                public void ok() {","522","                    try {","523","                        self.ok();","524","                    } catch (Exception e) {","525","                        exceptions[0] = e;","529","                @Override","530","                public void checkExecutable(File fexe) {","531","                    try {","532","                        self.checkExecutable(fexe);","533","                    } catch (Exception e) {","534","                        exceptions[0] = e;","535","                    }","536","                }","537","","538","                @Override","539","                public void error(String string) {","540","                    try {","541","                        self.error(string);","542","                    } catch (Exception e) {","543","                        exceptions[0] = e;","544","                    }","545","                }","546","","547","                @Override","548","                public void validate(File fexe) {","549","                    try {","550","                        self.checkExecutable(fexe);","551","                    } catch (IOException ioe) {","552","                        exceptions[0] = ioe;","553","                    } catch (ServletException se) {","554","                        exceptions[0] = se;","555","                    }","556","                }","557","            });","558","            Exception e = exceptions[0];","559","            if (e != null) {","560","                if (e instanceof IOException)","561","                    throw (IOException)e;","562","                if (e instanceof ServletException)","563","                    throw (ServletException)e;"],"delete":["25","import static hudson.Util.fixEmpty;","26","import hudson.EnvVars;","31","import jenkins.model.Jenkins;","33","import hudson.security.Permission;","45","import javax.servlet.ServletException;","46","","47","import org.kohsuke.stapler.StaplerRequest;","48","import org.kohsuke.stapler.StaplerResponse;","49","import org.acegisecurity.AccessDeniedException;","50","import org.kohsuke.stapler.Stapler;","519","            if(exe==null) {","520","                ok(); \/\/ nothing entered yet","521","                return;","522","            }","523","","524","            if(exe.indexOf(File.separatorChar)>=0) {","525","                \/\/ this is full path","526","                File f = new File(exe);","527","                if(f.exists()) {","528","                    checkExecutable(f);","529","                    return;","530","                }","531","","532","                File fexe = new File(exe+\".exe\");","533","                if(fexe.exists()) {","534","                    checkExecutable(fexe);","535","                    return;","536","                }","537","","538","                error(\"There's no such file: \"+exe);","539","            } else {","540","                \/\/ look in PATH","541","                String path = EnvVars.masterEnvVars.get(\"PATH\");","542","                String tokenizedPath;","543","                String delimiter = null;","544","                if(path!=null) {","545","                    StringBuilder tokenizedPathBuilder = new StringBuilder();","546","                    for (String _dir : Util.tokenize(path.replace(\"\\\\\", \"\\\\\\\\\"),File.pathSeparator)) {","547","                        if (delimiter == null) {","548","                          delimiter = \", \";","549","                        }","550","                        else {","551","                          tokenizedPathBuilder.append(delimiter);","552","                        }","553","","554","                        tokenizedPathBuilder.append(_dir.replace('\\\\', '\/'));","555","                        ","556","                        File dir = new File(_dir);","557","","558","                        File f = new File(dir,exe);","559","                        if(f.exists()) {","560","                            checkExecutable(f);","561","                            return;","562","                        }","563","","564","                        File fexe = new File(dir,exe+\".exe\");","565","                        if(fexe.exists()) {","566","                            checkExecutable(fexe);","567","                            return;","568","                        }","570","                    tokenizedPathBuilder.append('.');","571","                    tokenizedPath = tokenizedPathBuilder.toString();","572","                }","573","                else {","574","                  tokenizedPath = \"unavailable.\";","577","                \/\/ didn't find it","578","                error(\"There's no such executable \"+exe+\" in PATH: \"+tokenizedPath);"]}]}},"a6e01f77c6d3d72f7ac9e99ce061ce04dbf4b515":{"changes":{"core\/src\/main\/java\/jenkins\/model\/lazy\/AbstractLazyLoadRunMap.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/RunMap.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/lazy\/AbstractLazyLoadRunMap.java":[{"add":["36","import java.util.List;","48","import org.apache.commons.collections.keyvalue.DefaultMapEntry;","49","import org.kohsuke.accmod.Restricted;","50","import org.kohsuke.accmod.restrictions.NoExternalUse;","225","        String[] kids = dir.list();","226","        if (kids == null) {","228","            kids = EMPTY_STRING_ARRAY;","230","        List<String> buildDirs = new ArrayList<String>();","231","        FilenameFilter buildDirFilter = createDirectoryFilter();","232","        SortedIntList list = new SortedIntList(kids.length \/ 2);","233","        for (String s : kids) {","234","            if (buildDirFilter.accept(dir, s)) {","235","                buildDirs.add(s);","236","            } else {","237","                try {","238","                    list.add(Integer.parseInt(s));","239","                } catch (NumberFormatException e) {","240","                    \/\/ this isn't a shortcut","241","                }","244","        Collections.sort(buildDirs);","245","        idOnDisk = new SortedList<String>(buildDirs);"],"delete":["28","import org.apache.commons.collections.keyvalue.DefaultMapEntry;","29","import org.kohsuke.accmod.Restricted;","30","import org.kohsuke.accmod.restrictions.NoExternalUse;","31","","38","import java.util.Arrays;","226","        String[] buildDirs = dir.list(createDirectoryFilter());","227","        if (buildDirs==null) {","229","            buildDirs=EMPTY_STRING_ARRAY;","231","        \/\/ wrap into ArrayList to enable mutation","232","        Arrays.sort(buildDirs);","233","        idOnDisk = new SortedList<String>(new ArrayList<String>(Arrays.asList(buildDirs)));","234","","235","        \/\/ TODO: should we check that shortcuts is a symlink?","236","        String[] shortcuts = dir.list();","237","        if (shortcuts==null)    shortcuts=EMPTY_STRING_ARRAY;","238","        SortedIntList list = new SortedIntList(shortcuts.length\/2);","239","        for (String s : shortcuts) {","240","            try {","241","                list.add(Integer.parseInt(s));","242","            } catch (NumberFormatException e) {","243","                \/\/ this isn't a shortcut"]}],"changelog.html":[{"add":["64","    Minimizing disk I\/O while loading the <em>names<\/em> of build records during Jenkins startup.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-21078\">issue 21078<\/a>)","66","  <li class=bug>"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/RunMap.java":[{"add":["196","            @Override public boolean accept(File dir, String name) {","197","                if (name.startsWith(\"0000\")) {","198","                    \/\/ JENKINS-1461 sometimes create bogus data directories with impossible dates, such as year 0, April 31st,","199","                    \/\/ or August 0th. Date object doesn't roundtrip those, so we eventually fail to load this data.","200","                    \/\/ Don't even bother trying.","204","                    if (formatter.format(formatter.parse(name)).equals(name)) {","206","                    }","210","                LOGGER.log(FINE, \"Skipping {0} in {1}\", new Object[] {name, dir});"],"delete":["196","            public boolean accept(File dir, String name) {","197","                \/\/ JENKINS-1461 sometimes create bogus data directories with impossible dates, such as year 0, April 31st,","198","                \/\/ or August 0th. Date object doesn't roundtrip those, so we eventually fail to load this data.","199","                \/\/ Don't even bother trying.","200","                if (!isCorrectDate(name)) {","201","                    LOGGER.log(FINE, \"Skipping {0}\", new File(dir,name));","204","                return !name.startsWith(\"0000\") && new File(dir,name).isDirectory();","205","            }","206","","207","            private boolean isCorrectDate(String name) {","209","                    if(formatter.format(formatter.parse(name)).equals(name))"]}]}},"7e4ebd562ac913b52fc6c3506c6c910e76870963":{"changes":{"core\/src\/main\/java\/hudson\/model\/Node.java":"MODIFY","test\/src\/test\/java\/hudson\/model\/QueueTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Node.java":[{"add":["392","                            \/\/ TODO Why is the next operator a '||' instead of a '&&'?"],"delete":[]}],"test\/src\/test\/java\/hudson\/model\/QueueTest.java":[{"add":["69","import hudson.slaves.OfflineCause;","134","import static org.hamcrest.Matchers.everyItem;","135","import static org.hamcrest.Matchers.hasProperty;","137","import static org.hamcrest.Matchers.not;","564","        public Computer getOwner() {","565","            return exec == null ? null : exec.getOwner();","566","        }","1146","    public void flyweightsRunOnMasterIfPossible() throws Exception {","1147","        r.createOnlineSlave();","1148","        r.jenkins.setNumExecutors(0);","1149","        List<TestFlyweightTask> tasks = new ArrayList<>();","1150","        Queue q = r.jenkins.getQueue();","1151","","1152","        for (int i = 0; i < 100; i++) {","1153","            TestFlyweightTask task = new TestFlyweightTask(new AtomicInteger(i), null);","1154","            tasks.add(task);","1155","            q.schedule2(task, 0);","1156","        }","1157","","1158","        q.maintain();","1159","        r.waitUntilNoActivityUpTo(10000);","1160","        Assert.assertThat(tasks, everyItem(hasProperty(\"owner\", equalTo(Jenkins.get().toComputer()))));","1161","    }","1162","","1163","    @Test","1164","    public void flyweightsRunOnAgentIfNecessary() throws Exception {","1165","        r.createOnlineSlave();","1166","        r.jenkins.setNumExecutors(0);","1167","        r.jenkins.toComputer().setTemporarilyOffline(true, new OfflineCause.UserCause(null, null));","1168","        List<TestFlyweightTask> tasks = new ArrayList<>();","1169","        Queue q = r.jenkins.getQueue();","1170","","1171","        for (int i = 0; i < 10; i++) {","1172","            TestFlyweightTask task = new TestFlyweightTask(new AtomicInteger(i), null);","1173","            tasks.add(task);","1174","            q.schedule2(task, 0);","1175","        }","1176","","1177","        q.maintain();","1178","        r.waitUntilNoActivityUpTo(10000);","1179","        Assert.assertThat(tasks, everyItem(hasProperty(\"owner\", not(equalTo(Jenkins.get().toComputer())))));","1180","    }","1181","","1182","    @Test"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["1726","            Computer masterComputer = h.toComputer();","1728","                \/\/ the flyweight task is bound to the master","1730","                    return createFlyWeightTaskRunnable(p, masterComputer);","1736","            if (lbl == null && h.canTake(p) == null && masterComputer.isOnline() && masterComputer.isAcceptingTasks()) {","1737","                \/\/ The flyweight task is not tied to a specific label, so execute on master if possible.","1738","                \/\/ This will ensure that actual agent disconnects do not impact flyweight tasks randomly assigned to them.","1739","                return createFlyWeightTaskRunnable(p, masterComputer);","1740","            }","1742","            Map<Node, Integer> hashSource = new HashMap<>(h.getNodes().size());"],"delete":["1728","                    return createFlyWeightTaskRunnable(p, h.toComputer());","1734","            Map<Node, Integer> hashSource = new HashMap<>(h.getNodes().size());","1736","            \/\/ Even if master is configured with zero executors, we may need to run a flyweight task like MatrixProject on it.","1737","            hashSource.put(h, Math.max(h.getNumExecutors() * 100, 1));"]}]}},"0ede2a1957a436addf712096e8c9c6555043ce18":{"changes":{"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":"MODIFY","core\/src\/main\/java\/hudson\/scm\/SCM.java":"MODIFY","core\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/DescribableList.java":"MODIFY","core\/src\/main\/java\/hudson\/maven\/MavenModule.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Project.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/RobustReflectionConverter.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":[{"add":["5","import hudson.XmlFile;","7","import hudson.model.Action;","23","import hudson.tasks.BuildStepDescriptor;","28","import hudson.triggers.Trigger;","30","import hudson.util.DescribableList;","31","import net.sf.json.JSONObject;","42","import java.util.HashMap;","49","import java.util.Set;","59","public class MatrixProject extends AbstractProject<MatrixProject,MatrixBuild> implements TopLevelItem, SCMedItem, ItemGroup<MatrixConfiguration>, DescribableList.Owner {","70","    private DescribableList<Builder,Descriptor<Builder>> builders =","71","            new DescribableList<Builder,Descriptor<Builder>>(this);","76","    private DescribableList<Publisher,Descriptor<Publisher>> publishers =","77","            new DescribableList<Publisher,Descriptor<Publisher>>(this);","82","    private DescribableList<BuildWrapper,Descriptor<BuildWrapper>> buildWrappers =","83","            new DescribableList<BuildWrapper,Descriptor<BuildWrapper>>(this);","153","        builders.setOwner(this);","154","        publishers.setOwner(this);","155","        buildWrappers.setOwner(this);","361","        return builders.toList();","365","        return publishers.toMap();","366","    }","367","","368","    public DescribableList<Publisher,Descriptor<Publisher>> getPublishersList() {","369","        return publishers;","373","        return buildWrappers.toMap();","400","        publishers.buildDependencyGraph(this,graph);","401","        builders.buildDependencyGraph(this,graph);","402","        buildWrappers.buildDependencyGraph(this,graph);","441","        JSONObject json = StructuredForm.get(req);","443","        buildWrappers.rebuild(req, json, BuildWrappers.getFor(this), \"wrapper\");","444","        builders.rebuildHetero(req, json, BuildStep.BUILDERS, \"builder\");","445","        publishers.rebuild(req, json, BuildStepDescriptor.filter(BuildStep.PUBLISHERS,this.getClass()), \"publisher\");"],"delete":["4","import hudson.XmlFile;","6","import hudson.triggers.Trigger;","22","import hudson.model.Action;","28","import hudson.tasks.BuildStepDescriptor;","45","import java.util.Set;","46","import java.util.Vector;","47","import java.util.HashMap;","58","public class MatrixProject extends AbstractProject<MatrixProject,MatrixBuild> implements TopLevelItem, SCMedItem, ItemGroup<MatrixConfiguration> {","69","    private volatile List<Builder> builders = new Vector<Builder>();","74","    private volatile List<Publisher> publishers = new Vector<Publisher>();","79","    private volatile List<BuildWrapper> buildWrappers = new Vector<BuildWrapper>();","149","","355","        return Collections.unmodifiableList(builders);","359","        return Descriptor.toMap(publishers);","363","        return Descriptor.toMap(buildWrappers);","390","        graph.addDependencyDeclarers(this,publishers);","429","        buildWrappers = buildDescribable(req, BuildWrappers.getFor(this), \"wrapper\");","430","        builders = Descriptor.newInstancesFromHeteroList(req,","431","                StructuredForm.get(req), \"builder\", BuildStep.BUILDERS);","433","        publishers = buildDescribable(req, BuildStepDescriptor.filter(BuildStep.PUBLISHERS,this.getClass()), \"publisher\");"]}],"core\/src\/main\/java\/hudson\/scm\/SCM.java":[{"add":["33"," * <p>","34"," * If you are interested in writing a subclass in a plugin,","35"," * also take a look at <a href=\"http:\/\/hudson.gotdns.com\/wiki\/display\/HUDSON\/Writing+an+SCM+plugin\">","36"," * \"Writing an SCM plugin\"<\/a> wiki article.","37"," *"],"delete":[]}],"core\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":[{"add":["243","    @Override","244","    public DescribableList<Publisher, Descriptor<Publisher>> getPublishersList() {","245","        return publishers;","246","    }","247","","344","        reporters.setOwner(this);","347","        publishers.setOwner(this);","350","        buildWrappers.setOwner(this);"],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/DescribableList.java":[{"add":["11","import hudson.tasks.Builder;","22","import java.util.Collections;","28"," * <p>","29"," * This class allows multiple instances of the same descriptor. Some clients","30"," * use this semantics, while other clients use it as \"up to one instance per","31"," * one descriptor\" model.","32"," *","33"," * Some of the methods defined in this class only makes sense in the latter model,","34"," * such as {@link #remove(Descriptor)}.","35"," *","89","     * Returns the snapshot view of instances as list.","90","     *\/","91","    public List<T> toList() {","92","        return data.getView();","93","    }","94","","95","    \/**","131","     * Rebuilds the list by creating a fresh instances from the submitted form.","132","     *","133","     * <p>","134","     * This version works with the the &lt;f:hetero-list> UI tag, where the user","135","     * is allowed to create multiple instances of the same descriptor. Order is also","136","     * significant.","137","     *\/","138","    public void rebuildHetero(StaplerRequest req, JSONObject formData, Collection<Descriptor<T>> descriptors, String key) throws FormException {","139","        data.replaceBy(Descriptor.newInstancesFromHeteroList(req,formData,key,descriptors));","140","    }","141","","142","    \/**"],"delete":[]}],"core\/src\/main\/java\/hudson\/maven\/MavenModule.java":[{"add":["22","import hudson.tasks.Publisher;","223","    public DescribableList<Publisher,Descriptor<Publisher>> getPublishersList() {","224","        \/\/ TODO","225","        return new DescribableList<Publisher,Descriptor<Publisher>>(this);","226","    }","227",""],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Project.java":[{"add":["3","import hudson.Util;","6","import hudson.tasks.BuildStepDescriptor;","13","import hudson.util.DescribableList;","14","import net.sf.json.JSONObject;","31","    extends AbstractProject<P,B> implements SCMedItem, DescribableList.Owner {","36","    private DescribableList<Builder,Descriptor<Builder>> builders =","37","            new DescribableList<Builder,Descriptor<Builder>>(this);","42","    private DescribableList<Publisher,Descriptor<Publisher>> publishers =","43","            new DescribableList<Publisher,Descriptor<Publisher>>(this);","48","    private DescribableList<BuildWrapper,Descriptor<BuildWrapper>> buildWrappers =","49","            new DescribableList<BuildWrapper,Descriptor<BuildWrapper>>(this);","63","            buildWrappers = new DescribableList<BuildWrapper, Descriptor<BuildWrapper>>(this);","64","        builders.setOwner(this);","65","        publishers.setOwner(this);","66","        buildWrappers.setOwner(this);","74","        return builders.toList();","78","        return publishers.toMap();","79","    }","80","","81","    public DescribableList<Publisher,Descriptor<Publisher>> getPublishersList() {","82","        return publishers;","86","        return buildWrappers.toMap();","105","        publishers.add(buildStep);","112","        publishers.remove(descriptor);","124","        publishers.buildDependencyGraph(this,graph);","125","        builders.buildDependencyGraph(this,graph);","126","        buildWrappers.buildDependencyGraph(this,graph);","152","        JSONObject json = StructuredForm.get(req);","154","        buildWrappers.rebuild(req,json, BuildWrappers.getFor(this), \"wrapper\");","155","        builders.rebuildHetero(req,json, BuildStep.BUILDERS, \"builder\");","156","        publishers.rebuild(req, json, BuildStepDescriptor.filter(BuildStep.PUBLISHERS, this.getClass()), \"publisher\");"],"delete":["2","import hudson.CopyOnWrite;","3","import hudson.Util;","12","import hudson.tasks.BuildStepDescriptor;","23","import java.util.Vector;","24","import java.util.Collections;","32","    extends AbstractProject<P,B> implements SCMedItem {","37","    @CopyOnWrite","38","    private volatile List<Builder> builders = new Vector<Builder>();","43","    @CopyOnWrite","44","    private volatile List<Publisher> publishers = new Vector<Publisher>();","49","    @CopyOnWrite","50","    private volatile List<BuildWrapper> buildWrappers = new Vector<BuildWrapper>();","64","            buildWrappers = new Vector<BuildWrapper>();","72","        return Collections.unmodifiableList(builders);","76","        return Descriptor.toMap(publishers);","80","        return Descriptor.toMap(buildWrappers);","99","        addToList(buildStep,publishers);","106","        removeFromList(descriptor, publishers);","118","        graph.addDependencyDeclarers(this,publishers);","119","        graph.addDependencyDeclarers(this,builders);","120","        graph.addDependencyDeclarers(this,buildWrappers);","147","        buildWrappers = buildDescribable(req, BuildWrappers.getFor(this), \"wrapper\");","148","        builders = Descriptor.newInstancesFromHeteroList(req,","149","                StructuredForm.get(req), \"builder\", BuildStep.BUILDERS);","150","        publishers = buildDescribable(req, BuildStepDescriptor.filter(BuildStep.PUBLISHERS, this.getClass()), \"publisher\");"]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["20","import hudson.tasks.Publisher;","26","import hudson.util.DescribableList;","284","    \/**","285","     * Returns the live list of all {@link Publisher}s configured for this project.","286","     *","287","     * <p>","288","     * This method couldn't be called <tt>getPublishers()<\/tt> because existing methods","289","     * in sub-classes return different inconsistent types.","290","     *\/","291","    public abstract DescribableList<Publisher,Descriptor<Publisher>> getPublishersList();","292","","325","        for (AbstractProject<?,?> p : Hudson.getInstance().getAllItems(AbstractProject.class)) {","329","                DescribableList<Publisher,Descriptor<Publisher>> pl = p.getPublishersList();","330","                BuildTrigger trigger = (BuildTrigger) pl.get(BuildTrigger.DESCRIPTOR);","340","                    pl.remove(BuildTrigger.DESCRIPTOR);","342","                    BuildTrigger existing = (BuildTrigger)pl.get(BuildTrigger.DESCRIPTOR);","345","                    pl.add(new BuildTrigger(newChildProjects,","1013","        List<AbstractProject> projects = Hudson.getInstance().getItems(AbstractProject.class);"],"delete":["314","        for (Project p : Hudson.getInstance().getProjects()) {","318","                BuildTrigger trigger = (BuildTrigger) p.getPublisher(BuildTrigger.DESCRIPTOR);","328","                    p.removePublisher(BuildTrigger.DESCRIPTOR);","330","                    BuildTrigger existing = (BuildTrigger)p.getPublisher(BuildTrigger.DESCRIPTOR);","333","                    p.addPublisher(new BuildTrigger(newChildProjects,","1001","        List<AbstractProject> projects = Hudson.getInstance().getAllItems(AbstractProject.class);"]}],"core\/src\/main\/java\/hudson\/util\/RobustReflectionConverter.java":[{"add":["299","        Class fieldType = reflectionProvider.getFieldType(result, fieldName, definedInCls);","301","            Class specifiedType = mapper.realClass(classAttribute);","302","            if(fieldType.isAssignableFrom(specifiedType))","303","                \/\/ make sure that the specified type in XML is compatible with the field type.","304","                \/\/ this allows the code to evolve in more flexible way.","305","                return specifiedType;","306","        }","307","        if (!validField) {","315","            return mapper.defaultImplementationOf(fieldType);"],"delete":["300","            return mapper.realClass(classAttribute);","301","        } else if (!validField) {","309","            return mapper.defaultImplementationOf(reflectionProvider.getFieldType(result, fieldName, definedInCls));"]}]}},"e66c207311c509bfb2223a7110c88937a3dbc6e8":{"changes":{"core\/src\/main\/java\/jenkins\/model\/PeepholePermalink.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/PeepholePermalink.java":[{"add":["20","import java.util.stream.Stream;","147","            try (Stream<String> lines = Files.lines(storage.toPath(), StandardCharsets.UTF_8)) {","148","                lines.forEach(line -> {"],"delete":["146","            try {","147","                Files.lines(storage.toPath(), StandardCharsets.UTF_8).forEach(line -> {"]}]}},"7dbdd4729c30d82136a0fef83e1f6efb3cab2324":{"changes":{"core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/User\/configure.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["5","import hudson.StructuredForm;","15","import net.sf.json.JSONObject;","16","","361","            JSONObject json = StructuredForm.get(req);","362","","364","            int i=0;","366","                UserProperty p = d.newInstance(req, json.getJSONObject(\"userProperty\"+(i++)));"],"delete":["360","                UserProperty p = d.newInstance(req, null);"]}],"core\/src\/main\/resources\/hudson\/model\/User\/configure.jelly":[{"add":["24","            ","25","            <f:rowSet name=\"userProperty${loop.index}\">","26","              <st:include from=\"${d}\" page=\"${d.configPage}\"\/>","27","            <\/f:rowSet>"],"delete":["24","            <st:include from=\"${d}\" page=\"${d.configPage}\"\/>"]}]}},"3c01366e0bc5c3e8de23eb7337e8c3e4dbd7843c":{"changes":{"core\/src\/main\/resources\/lib\/layout\/confirmationLink.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/sidepanel.jelly":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/resources\/lib\/layout\/task.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/views\/BuildButtonColumn\/column.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/layout\/confirmationLink.jelly":[{"add":["40","    <j:set var=\"id\" value=\"${h.generateId()}\"\/>","41","    <a href=\"#\" onclick=\"confirmPOST_${id}(${post ?: 'false'}, '${attrs.href}', '${h.jsStringEscape(message)}')\"><d:invokeBody\/><\/a>","43","        function confirmPOST_${id}(post, href, message) {"],"delete":["40","    <a href=\"#\" onclick=\"confirmPOST(${post ?: 'false'}, '${attrs.href}', '${h.jsStringEscape(message)}')\"><d:invokeBody\/><\/a>","42","        function confirmPOST(post, href, message) {"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/sidepanel.jelly":[{"add":["47","          <j:set var=\"id\" value=\"${h.generateId()}\"\/>","49","                  onclick=\"${it.parameterized?null:'return build_' + id + '(this)'}\" post=\"${!it.parameterized}\" permission=\"${it.BUILD}\"\/>","51","            function build_${id}(a) {"],"delete":["48","                  onclick=\"${it.parameterized?null:'return build(this)'}\" post=\"${!it.parameterized}\" permission=\"${it.BUILD}\"\/>","50","            function build(a) {"]}],"changelog.html":[{"add":["58","    \u201CBuild Now\u201D link did not work for multijobs.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16974\">issue 16974<\/a>)","60","  <li class=bug>"],"delete":[]}],"core\/src\/main\/resources\/lib\/layout\/task.jelly":[{"add":["117","          <j:set var=\"id\" value=\"${h.generateId()}\"\/>","120","                  function postRequest_${id}(a) {","135","              <a href=\"${href}\" onclick=\"${attrs.onclick ?: (post ? 'postRequest_' + id + '(this)' : null)}\">","156","              <a href=\"${href}\" onclick=\"${attrs.onclick ?: (post ? 'postRequest_' + id + '(this)' : null)}\">"],"delete":["119","                  function postRequest(a) {","134","              <a href=\"${href}\" onclick=\"${attrs.onclick ?: (post ? 'postRequest(this)' : null)}\">","155","              <a href=\"${href}\" onclick=\"${attrs.onclick ?: (post ? 'postRequest(this)' : null)}\">"]}],"core\/src\/main\/resources\/hudson\/views\/BuildButtonColumn\/column.jelly":[{"add":["28","              <j:set var=\"id\" value=\"${h.generateId()}\"\/>","39","                               onclick=\"return build_${id}(this)\"","45","                function build_${id}(img) {"],"delete":["38","                               onclick=\"return build(this)\"","44","                function build(img) {"]}]}},"2f3e1fff214b2d9fd4d87622ed2b5be4cdabb5cb":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/summary.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/summary.jelly":[{"add":["73","                    <l:icon src=\"${icon.startsWith('\/') ? resURL+icon : imagesURL+'\/48x48\/'+icon}\"","74","                            alt=\"\" style=\"width: 48px; height: 48px; margin-right:1em;\" \/>","86","                          alt=\"\" style=\"width: 48px; height: 48px; margin-right:1em;\" \/>"],"delete":["73","                    <l:icon width=\"24\" height=\"24\" style=\"margin: 2px;\" alt=\"\" src=\"${icon}\"\/>","85","                          alt=\"\" width=\"48\" height=\"48\" style=\"margin-right:1em\" \/>"]}]}},"f4364e4ef4ebc7de26dd93d9de62643b138edd7c":{"changes":{"\/dev\/null":"DELETE","test\/src\/test\/java\/jenkins\/install\/LoadDetachedPluginsTest.java":"MODIFY","war\/pom.xml":"MODIFY"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}],"test\/src\/test\/java\/jenkins\/install\/LoadDetachedPluginsTest.java":[{"add":[],"delete":["29","import hudson.Plugin;","89","    @Issue(\"JENKINS-48604\")","90","    @Test","91","    @LocalData","92","    public void upgradeFromJenkins2WithNewerDependency() {","93","        VersionNumber since = new VersionNumber(\"2.0\");","94","        rr.then(r -> {","95","            List<DetachedPlugin> detachedPlugins = DetachedPluginsUtil.getDetachedPlugins(since);","96","            assertThat(\"Plugins have been detached since the pre-upgrade version\",","97","                    detachedPlugins.size(), greaterThan(1));","98","            assertThat(\"Plugins detached between the pre-upgrade version and the current version should be installed\",","99","                    getInstalledDetachedPlugins(r, detachedPlugins).size(), equalTo(detachedPlugins.size()));","100","            Plugin scriptSecurity = r.jenkins.getPlugin(\"script-security\");","101","            assertThat(\"Script-security should be installed\", scriptSecurity, notNullValue());","102","            assertThat(\"Dependencies of detached plugins should not be downgraded\",","103","                    scriptSecurity.getWrapper().getVersionNumber(), equalTo(new VersionNumber(\"1.34\")));","104","            assertNoFailedPlugins(r);","105","        });","106","    }","107","","108","    @Test","109","    @LocalData","110","    public void upgradeFromJenkins2WithOlderDependency() {","111","        VersionNumber since = new VersionNumber(\"2.0\");","112","        rr.then(r -> {","113","            List<DetachedPlugin> detachedPlugins = DetachedPluginsUtil.getDetachedPlugins(since);","114","            assertThat(\"Plugins have been detached since the pre-upgrade version\",","115","                    detachedPlugins.size(), greaterThan(1));","116","            assertThat(\"Plugins detached between the pre-upgrade version and the current version should be installed\",","117","                    getInstalledDetachedPlugins(r, detachedPlugins).size(), equalTo(detachedPlugins.size()));","118","            Plugin scriptSecurity = r.jenkins.getPlugin(\"script-security\");","119","            assertThat(\"Script-security should be installed\", scriptSecurity, notNullValue());","120","            assertThat(\"Dependencies of detached plugins should be upgraded to the required version\",","121","                    scriptSecurity.getWrapper().getVersionNumber(), equalTo(new VersionNumber(\"1.56\")));","122","            assertNoFailedPlugins(r);","123","        });","124","    }","125","","126","    @Issue(\"JENKINS-48899\")","127","    @Test","128","    @LocalData","129","    public void upgradeFromJenkins2WithNewerPlugin() {","130","        \/\/ @LocalData has command-launcher 1.2 installed, which should not be downgraded to the detached version: 1.0.","131","        VersionNumber since = new VersionNumber(\"2.0\");","132","        rr.then(r -> {","133","            List<DetachedPlugin> detachedPlugins = DetachedPluginsUtil.getDetachedPlugins(since);","134","            assertThat(\"Plugins have been detached since the pre-upgrade version\",","135","                    detachedPlugins.size(), greaterThan(1));","136","            assertThat(\"Plugins detached between the pre-upgrade version and the current version should be installed\",","137","                    getInstalledDetachedPlugins(r, detachedPlugins).size(), equalTo(detachedPlugins.size()));","138","            Plugin commandLauncher = r.jenkins.getPlugin(\"command-launcher\");","139","            assertThat(\"Installed detached plugins should not be overwritten by older versions\",","140","                    commandLauncher.getWrapper().getVersionNumber(), equalTo(new VersionNumber(\"1.2\")));","141","            assertNoFailedPlugins(r);","142","        });","143","    }","144",""]}],"war\/pom.xml":[{"add":["407","                  <version>1.2<\/version>"],"delete":["407","                  <version>1.0<\/version>"]}]}},"2e6e619935a3d29e1c656dddea76698f03a14d10":{"changes":{"war\/src\/main\/js\/pluginSetupWizardGui.js":"MODIFY"},"diff":{"war\/src\/main\/js\/pluginSetupWizardGui.js":[{"add":["205","\t\treturn getJenkinsVersionFull().replace(\/(\\d[.][\\d.]+).*\/,'$1');"],"delete":["205","\t\treturn getJenkinsVersionFull().replace(\/(\\d[.]\\d).*\/,'$1');"]}]}},"8a0e1612748a9d77f912155964f37c5fe1a394d7":{"changes":{"core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["922","                \/\/ if we were running elsewhere, we would have done this build ten times.","923","                return elapsed > d*10;"],"delete":["922","                \/\/ if we were running elsewhere, we would have done this build twice.","923","                return elapsed > d*2;"]}]}},"cc0113dafdd1e1c0048d9230eb91ab2b15fe0588":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["335","        relPath = StringUtils.trimToEmpty( relPath );","336","        if (StringUtils.isEmpty( relPath )) {","337","            LOGGER.config(\"No need to normalize an empty path.\");","339","            if(FilenameUtils.indexOfLastSeparator( relPath ) == -1) {","340","                LOGGER.config(\"No need to normalize \"+relPath);","341","            } else {","342","                String tmp = FilenameUtils.normalize( relPath );","343","                if(tmp == null) {","344","                    LOGGER.config(\"Path \" + relPath + \" can not be normalized (parent dir is unknown). Keeping as is.\");","345","                } else {","346","                    LOGGER.config(\"Normalized path \" + relPath + \" to \"+tmp);","347","                    relPath = tmp;","348","                }","349","                relPath = FilenameUtils.separatorsToUnix( relPath );","350","            }","352","        LOGGER.fine(\"Returning path \" + relPath);"],"delete":["335","        \/\/ JENKINS-8525 FilenameUtils.normalize for ..\/foo returns null","336","        if (StringUtils.isEmpty(relPath) || StringUtils.startsWith( relPath, \"..\/\" )) {","337","            LOGGER.config(\"No need to normalize \" + (StringUtils.isEmpty(relPath) ? \"an empty path\" : relPath));","339","            String tmp = FilenameUtils.normalize( relPath );","340","            LOGGER.config(\"Normalized path \" + relPath + \" to \"+tmp);","341","            relPath = tmp;"]}]}},"2a0ac4f0989407a20e277444a7737e9c5f7ea78a":{"changes":{"core\/src\/main\/resources\/hudson\/model\/BuildTimelineWidget\/control.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/BuildTimelineWidget\/control.jelly":[{"add":["43","    var interval = 24*60*60*1000;","45","    function getData(eventSource1, current, min, max) {","46","        if (current < min) {","47","            return;","48","        }","49","","50","        if (!eventSource1.loaded[current]) {","51","          eventSource1.loaded[current] = true;","52","          new Ajax.Request(\"timeline\/data\/\",{","53","              method:\"POST\",","54","              parameters: {min: current*interval, max:(current+1)*interval},","55","              onSuccess: function(t) {","56","                if (t.status != 0) {","57","                  try {","58","                    eventSource1.loadJSON(eval('('+t.responseText+')'),'.');","59","                    getData(eventSource1, current-1, min, max);","60","                  } catch (e) {","61","                    alert(e);","62","                  }","63","                }","64","              }","65","          });","66","        }","67","    }","68","","76","          var min = Math.floor(band.getMinVisibleDate().getTime()\/interval);","77","          var max = Math.ceil(band.getMaxVisibleDate().getTime()\/interval);","78","          getData(eventSource1, max, min, max);"],"delete":["48","        var interval = 24*60*60*1000;","52","          var min = Math.floor(band.getMinDate().getTime()\/interval);","53","          var max = Math.ceil(band.getMaxDate().getTime()\/interval);","54","          for (var i=min; i<=max; i++) {","55","            if (!this.loaded[i]) {","56","              this.loaded[i] = true;","57","              new Ajax.Request(\"timeline\/data\/\",{","58","                  method:\"POST\",","59","                  parameters: {min: i*interval, max:(i+1)*interval},","60","                  onSuccess: function(t) {","61","                    if (t.status != 0) {","62","                      try {","63","                        eventSource1.loadJSON(eval('('+t.responseText+')'),'.');","64","                      } catch (e) {","65","                        alert(e);","66","                      }","67","                    }","68","                  }","69","              });","70","            }","71","          }"]}]}},"604fc96bacf3c8f6275673a8b0ade2bc9717fce5":{"changes":{"core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["2424","            return entry.getFullDisplayName()+\" (\"+entry.getBuildStatusSummary().message+\")\";"],"delete":["2424","            return entry.getDisplayName()+\" (\"+entry.getBuildStatusSummary().message+\")\";"]}]}},"749ea54f936952b0eafd2db5592a4221a4aafb92":{"changes":{"core\/src\/main\/java\/hudson\/slaves\/ComputerLauncher.java":"MODIFY","core\/src\/test\/java\/hudson\/slaves\/ComputerLauncherTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/slaves\/ComputerLauncher.java":[{"add":["33","import java.util.regex.Matcher;","34","import java.util.regex.Pattern;","35","import org.apache.tools.ant.util.DeweyDecimal;","178","        Pattern p = Pattern.compile(\"(?i)(?:java|openjdk) version \\\"([0-9.]+).*\\\"\");","180","            Matcher m = p.matcher(line);","181","            if (m.matches()) {","182","                final String versionStr = m.group(1);","185","                    if (new DeweyDecimal(versionStr).isLessThan(new DeweyDecimal(\"1.5\"))) {","189","                } catch (NumberFormatException x) {"],"delete":["33","import java.text.NumberFormat;","34","import java.text.ParseException;","35","import java.util.Locale;","179","            line = line.toLowerCase();","180","            if (line.startsWith(\"java version \\\"\")","181","                    || line.startsWith(\"openjdk version \\\"\")) {","182","                final String versionStr = line.substring(","183","                        line.indexOf('\\\"') + 1, line.lastIndexOf('\\\"'));","185","","186","                \/\/ parse as a number and we should be OK as all we care about is up through the first dot.","188","                    final Number version =","189","                            NumberFormat.getNumberInstance(Locale.US).parse(versionStr);","190","                    if(version.doubleValue() < 1.5) {","194","                } catch(final ParseException e) {"]}],"core\/src\/test\/java\/hudson\/slaves\/ComputerLauncherTest.java":[{"add":["59","    @Test public void jdk10() throws IOException { \/\/ predicted","60","        assertChecked(\"java version \\\"1.10.0_02\\\"\\nJava(TM) SE Runtime Environment (build 1.10.0_02-b01)\\nJava HotSpot(TM) Server VM (build 23.1-b03, mixed mode)\\n\", \"1.10\");","61","    }","62",""],"delete":[]}]}},"bc9db0fd0a71f03484a9612149b5a4de2ff28cce":{"changes":{"core\/src\/main\/java\/hudson\/Functions.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["1004","            return Stapler.getCurrentRequest().getContextPath()+urlName;","1007","            return Stapler.getCurrentRequest().getContextPath()+'\/'+itUrl+urlName;","1076","        if (href.length() <= 1) return href.equals(\".\") && url.endsWith(\"\/\");","1079","        if (url.endsWith(\"\/\")) url = url.substring(0, url.length() - 1);","1080","        if (href.endsWith(\"\/\")) href = href.substring(0, href.length() - 1);","1082","        return url.endsWith(href));"],"delete":["1004","            return Stapler.getCurrentRequest().getContextPath()+urlName+'\/';","1007","            return Stapler.getCurrentRequest().getContextPath()+'\/'+itUrl+urlName+'\/';","1079","        return (href.length()>1 && url.endsWith(href))","1080","            || (href.equals(\".\") && url.endsWith(\".\"));"]}]}},"1a399a1c9efb4702d1bd1ada0824487e78365eab":{"changes":{"core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":"MODIFY","core\/src\/main\/resources\/jenkins\/split-plugin-cycles.txt":"ADD","core\/src\/main\/resources\/jenkins\/split-plugins.txt":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":[{"add":["25","import com.google.common.collect.ImmutableList;","26","import com.google.common.collect.ImmutableSet;","65","import java.nio.charset.StandardCharsets;","269","            if (BREAK_CYCLES.contains(pluginName + ' ' + detached.shortName)) {","411","    \/** Record of which plugins which removed from core and when. *\/","412","    private static final List<DetachedPlugin> DETACHED_LIST;","415","    private static final Set<String> BREAK_CYCLES;","416","","417","    static {","418","        List<DetachedPlugin> detached = new ArrayList<>();","419","        try (InputStream is = ClassicPluginStrategy.class.getResourceAsStream(\"\/jenkins\/split-plugins.txt\")) {","420","            for (String line : org.apache.commons.io.IOUtils.readLines(is, StandardCharsets.UTF_8)) {","421","                String[] pieces = line.split(\" \");","422","                detached.add(new DetachedPlugin(pieces[0], pieces[1] + \".*\", pieces[2]));","423","            }","424","        } catch (IOException x) {","425","            throw new ExceptionInInitializerError(x);","426","        }","427","        DETACHED_LIST = ImmutableList.copyOf(detached);","428","        try (InputStream is = ClassicPluginStrategy.class.getResourceAsStream(\"\/jenkins\/split-plugin-cycles.txt\")) {","429","            BREAK_CYCLES = ImmutableSet.copyOf(org.apache.commons.io.IOUtils.readLines(is, StandardCharsets.UTF_8));","430","        } catch (IOException x) {","431","            throw new ExceptionInInitializerError(x);","432","        }","433","    }"],"delete":["60","import java.io.FileInputStream;","63","import java.lang.reflect.Field;","67","import java.util.Collection;","73","import java.util.Vector;","270","            if (BREAK_CYCLES.contains(pluginName + '\/' + detached.shortName)) {","412","    private static final List<DetachedPlugin> DETACHED_LIST = Collections.unmodifiableList(Arrays.asList(","413","            new DetachedPlugin(\"maven-plugin\", \"1.296\", \"1.296\"),","414","            new DetachedPlugin(\"subversion\", \"1.310\", \"1.0\"),","415","            new DetachedPlugin(\"cvs\", \"1.340\", \"0.1\"),","416","            new DetachedPlugin(\"ant\", \"1.430.*\", \"1.0\"),","417","            new DetachedPlugin(\"javadoc\", \"1.430.*\", \"1.0\"),","418","            new DetachedPlugin(\"external-monitor-job\", \"1.467.*\", \"1.0\"),","419","            new DetachedPlugin(\"ldap\", \"1.467.*\", \"1.0\"),","420","            new DetachedPlugin(\"pam-auth\", \"1.467.*\", \"1.0\"),","421","            new DetachedPlugin(\"mailer\", \"1.493.*\", \"1.2\"),","422","            new DetachedPlugin(\"matrix-auth\", \"1.535.*\", \"1.0.2\"),","423","            new DetachedPlugin(\"windows-slaves\", \"1.547.*\", \"1.0\"),","424","            new DetachedPlugin(\"antisamy-markup-formatter\", \"1.553.*\", \"1.0\"),","425","            new DetachedPlugin(\"matrix-project\", \"1.561.*\", \"1.0\"),","426","            new DetachedPlugin(\"junit\", \"1.577.*\", \"1.0\"),","427","            new DetachedPlugin(\"bouncycastle-api\", \"2.16.*\", \"2.16.0\"),","428","            new DetachedPlugin(\"command-launcher\", \"2.86.*\", \"1.0\")","429","    ));","432","    private static final Set<String> BREAK_CYCLES = new HashSet<String>(Arrays.asList(","433","            \"script-security\/matrix-auth\",","434","            \"script-security\/windows-slaves\",","435","            \"script-security\/antisamy-markup-formatter\",","436","            \"script-security\/matrix-project\",","437","            \"script-security\/bouncycastle-api\",","438","            \"script-security\/command-launcher\",","439","            \"credentials\/matrix-auth\",","440","            \"credentials\/windows-slaves\"","441","    ));"]}],"core\/src\/main\/resources\/jenkins\/split-plugin-cycles.txt":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/split-plugins.txt":[{"add":[],"delete":[]}]}},"ba9136a89abb5636435a59b89ef477c40ca8bd2e":{"changes":{"core\/src\/main\/resources\/hudson\/security\/GlobalMatrixAuthorizationStrategy\/help-user-group.html":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/security\/GlobalMatrixAuthorizationStrategy\/help-user-group.html":[{"add":["7","","8","  <p>","9","  A special group \"authenticated\" is also available, which represents all","10","  authenticated (logged in) users."],"delete":[]}]}},"4577cf6ae14fffd701fb10fa674690b305fd8b06":{"changes":{"core\/src\/main\/java\/jenkins\/model\/item_category\/ItemCategory.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/item_category\/ItemCategory.java":[{"add":["32","import org.kohsuke.accmod.Restricted;","33","import org.kohsuke.accmod.restrictions.NoExternalUse;","42","    \/**","43","     * This field indicates how much non-default categories are required in","44","     * order to start showing them in Jenkins.","45","     * This field is restricted for the internal use only, because all other changes would cause binary compatibility issues.","46","     * See <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-36593\">JENKINS-36593<\/a> for more info.","47","     *\/","48","    @Restricted(NoExternalUse.class)"],"delete":[]}]}},"155f850203ca69a6601acbddafa726a43a2f2244":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["619","        <node.download.classifier>\/win-x64<\/node.download.classifier>"],"delete":["619","        <node.download.classifier>\/x64<\/node.download.classifier>"]}]}},"801f37d5a11554fb97bf9c8edbd9f3e5bd21a47f":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Messages.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Messages.properties":[{"add":["55","  Jenkins checked out for performing builds. If you don\\u2019t want a user to access \\","56","  files in the workspace (e.g. source code checked out from SCM or intermediate build \\","57","  results) through the workspace browser, you can revoke this permission."],"delete":["55","  Jenkins checked out for performing builds. If you don\\u2019t want an user to access \\","56","  the source code, you can do so by revoking this permission."]}]}},"aa8f5955cd478d4a473f49126dad1a0efecc0e2a":{"changes":{"war\/src\/main\/webapp\/scripts\/yui\/button\/button-debug.js":"MODIFY","changelog.html":"MODIFY","war\/src\/main\/webapp\/scripts\/yui\/button\/button-min.js":"MODIFY"},"diff":{"war\/src\/main\/webapp\/scripts\/yui\/button\/button-debug.js":[{"add":["3733","","3734","                    if (UA.ie < 9) {","3735","                        oYUISubmitButton.get(\"element\").fireEvent(\"onclick\");","3736","                    } else {","3737","                        oEvent = document.createEvent(\"HTMLEvents\");","3738","                        oEvent.initEvent(\"click\", true, true);","3739","                        oYUISubmitButton.get(\"element\").dispatchEvent(oEvent);","3740","                    }"],"delete":["3733","\t\t\t\t","3734","\t\t\t\t\toYUISubmitButton.get(\"element\").fireEvent(\"onclick\");"]}],"changelog.html":[{"add":["66","  <li class=bug>","67","    Fix form submission via the Enter key for Internet Explorer version 9.","68","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-22373\">issue 22373<\/a>)"],"delete":[]}],"war\/src\/main\/webapp\/scripts\/yui\/button\/button-min.js":[{"add":["1"," Copyright (c) 2011, Yahoo! Inc. All rights reserved.","2"," Code licensed under the BSD License:","3"," http:\/\/developer.yahoo.com\/yui\/license.html","4"," version: 2.9.0","5"," *\/","6","(function(){var g=YAHOO.util.Dom,m=YAHOO.util.Event,i=YAHOO.lang,l=YAHOO.env.ua,b=YAHOO.widget.Overlay,j=YAHOO.widget.Menu,d={},k=null,e=null,c=null;function f(o,n,r,p){var s,q;if(i.isString(o)&&i.isString(n)){if(l.ie&&(l.ie<9)){q='<input type=\"'+o+'\" name=\"'+n+'\"';if(p){q+=\" checked\"}q+=\">\";s=document.createElement(q);s.value=r}else{s=document.createElement(\"input\");s.name=n;s.type=o;s.value=r;if(p){s.checked=true}}}return s}function h(o,v){var n=o.nodeName.toUpperCase(),s=(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME),t=this,u,p,q;function w(x){if(!(x in v)){u=o.getAttributeNode(x);if(u&&(\"value\" in u)){YAHOO.log('Setting attribute \"'+x+'\" using source element\\'s attribute value of \"'+u.value+'\"',\"info\",t.toString());v[x]=u.value}}}function r(){w(\"type\");if(v.type==\"button\"){v.type=\"push\"}if(!(\"disabled\" in v)){v.disabled=o.disabled}w(\"name\");w(\"value\");w(\"title\")}switch(n){case\"A\":v.type=\"link\";w(\"href\");w(\"target\");break;case\"INPUT\":r();if(!(\"checked\" in v)){v.checked=o.checked}break;case\"BUTTON\":r();p=o.parentNode.parentNode;if(g.hasClass(p,s+\"-checked\")){v.checked=true}if(g.hasClass(p,s+\"-disabled\")){v.disabled=true}o.removeAttribute(\"value\");o.setAttribute(\"type\",\"button\");break}o.removeAttribute(\"id\");o.removeAttribute(\"name\");if(!(\"tabindex\" in v)){v.tabindex=o.tabIndex}if(!(\"label\" in v)){q=n==\"INPUT\"?o.value:o.innerHTML;if(q&&q.length>0){v.label=q}}}function a(p){var o=p.attributes,n=o.srcelement,r=n.nodeName.toUpperCase(),q=this;if(r==this.NODE_NAME){p.element=n;p.id=n.id;g.getElementsBy(function(s){switch(s.nodeName.toUpperCase()){case\"BUTTON\":case\"A\":case\"INPUT\":h.call(q,s,o);break}},\"*\",n)}else{switch(r){case\"BUTTON\":case\"A\":case\"INPUT\":h.call(this,n,o);break}}}YAHOO.widget.Button=function(r,o){if(!b&&YAHOO.widget.Overlay){b=YAHOO.widget.Overlay}if(!j&&YAHOO.widget.Menu){j=YAHOO.widget.Menu}var q=YAHOO.widget.Button.superclass.constructor,p,n;if(arguments.length==1&&!i.isString(r)&&!r.nodeName){if(!r.id){r.id=g.generateId();YAHOO.log('No value specified for the button\\'s \"id\" attribute. Setting button id to \"'+r.id+'\".',\"info\",this.toString())}YAHOO.log(\"No source HTML element.  Building the button using the set of configuration attributes.\",\"info\",this.toString());q.call(this,(this.createButtonElement(r.type)),r)}else{p={element:null,attributes:(o||{})};if(i.isString(r)){n=g.get(r);if(n){if(!p.attributes.id){p.attributes.id=r}YAHOO.log(\"Building the button using an existing HTML element as a source element.\",\"info\",this.toString());p.attributes.srcelement=n;a.call(this,p);if(!p.element){YAHOO.log(\"Source element could not be used as is.  Creating a new HTML element for the button.\",\"info\",this.toString());p.element=this.createButtonElement(p.attributes.type)}q.call(this,p.element,p.attributes)}}else{if(r.nodeName){if(!p.attributes.id){if(r.id){p.attributes.id=r.id}else{p.attributes.id=g.generateId();YAHOO.log('No value specified for the button\\'s \"id\" attribute. Setting button id to \"'+p.attributes.id+'\".',\"info\",this.toString())}}YAHOO.log(\"Building the button using an existing HTML element as a source element.\",\"info\",this.toString());p.attributes.srcelement=r;a.call(this,p);if(!p.element){YAHOO.log(\"Source element could not be used as is.  Creating a new HTML element for the button.\",\"info\",this.toString());p.element=this.createButtonElement(p.attributes.type)}q.call(this,p.element,p.attributes)}}}};YAHOO.extend(YAHOO.widget.Button,YAHOO.util.Element,{_button:null,_menu:null,_hiddenFields:null,_onclickAttributeValue:null,_activationKeyPressed:false,_activationButtonPressed:false,_hasKeyEventHandlers:false,_hasMouseEventHandlers:false,_nOptionRegionX:0,CLASS_NAME_PREFIX:\"yui-\",NODE_NAME:\"SPAN\",CHECK_ACTIVATION_KEYS:[32],ACTIVATION_KEYS:[13,32],OPTION_AREA_WIDTH:20,CSS_CLASS_NAME:\"button\",_setType:function(n){if(n==\"split\"){this.on(\"option\",this._onOption)}},_setLabel:function(o){this._button.innerHTML=o;var p,n=l.gecko;if(n&&n<1.9&&g.inDocument(this.get(\"element\"))){p=(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME);this.removeClass(p);i.later(0,this,this.addClass,p)}},_setTabIndex:function(n){this._button.tabIndex=n},_setTitle:function(n){if(this.get(\"type\")!=\"link\"){this._button.title=n}},_setDisabled:function(n){if(this.get(\"type\")!=\"link\"){if(n){if(this._menu){this._menu.hide()}if(this.hasFocus()){this.blur()}this._button.setAttribute(\"disabled\",\"disabled\");this.addStateCSSClasses(\"disabled\");this.removeStateCSSClasses(\"hover\");this.removeStateCSSClasses(\"active\");this.removeStateCSSClasses(\"focus\")}else{this._button.removeAttribute(\"disabled\");this.removeStateCSSClasses(\"disabled\")}}},_setHref:function(n){if(this.get(\"type\")==\"link\"){this._button.href=n}},_setTarget:function(n){if(this.get(\"type\")==\"link\"){this._button.setAttribute(\"target\",n)}},_setChecked:function(n){var o=this.get(\"type\");if(o==\"checkbox\"||o==\"radio\"){if(n){this.addStateCSSClasses(\"checked\")}else{this.removeStateCSSClasses(\"checked\")}}},_setMenu:function(u){var p=this.get(\"lazyloadmenu\"),r=this.get(\"element\"),n,w=false,x,o,q;function v(){x.render(r.parentNode);this.removeListener(\"appendTo\",v)}function t(){x.cfg.queueProperty(\"container\",r.parentNode);this.removeListener(\"appendTo\",t)}function s(){var y;if(x){g.addClass(x.element,this.get(\"menuclassname\"));g.addClass(x.element,this.CLASS_NAME_PREFIX+this.get(\"type\")+\"-button-menu\");x.showEvent.subscribe(this._onMenuShow,null,this);x.hideEvent.subscribe(this._onMenuHide,null,this);x.renderEvent.subscribe(this._onMenuRender,null,this);if(j&&x instanceof j){if(p){y=this.get(\"container\");if(y){x.cfg.queueProperty(\"container\",y)}else{this.on(\"appendTo\",t)}}x.cfg.queueProperty(\"clicktohide\",false);x.keyDownEvent.subscribe(this._onMenuKeyDown,this,true);x.subscribe(\"click\",this._onMenuClick,this,true);this.on(\"selectedMenuItemChange\",this._onSelectedMenuItemChange);q=x.srcElement;if(q&&q.nodeName.toUpperCase()==\"SELECT\"){q.style.display=\"none\";q.parentNode.removeChild(q)}}else{if(b&&x instanceof b){if(!k){k=new YAHOO.widget.OverlayManager()}k.register(x)}}this._menu=x;if(!w&&!p){if(g.inDocument(r)){x.render(r.parentNode)","7","}else{this.on(\"appendTo\",v)}}}}if(b){if(j){n=j.prototype.CSS_CLASS_NAME}if(u&&j&&(u instanceof j)){x=u;w=true;s.call(this)}else{if(b&&u&&(u instanceof b)){x=u;w=true;x.cfg.queueProperty(\"visible\",false);s.call(this)}else{if(j&&i.isArray(u)){x=new j(g.generateId(),{lazyload:p,itemdata:u});this._menu=x;this.on(\"appendTo\",s)}else{if(i.isString(u)){o=g.get(u);if(o){if(j&&g.hasClass(o,n)||o.nodeName.toUpperCase()==\"SELECT\"){x=new j(u,{lazyload:p});s.call(this)}else{if(b){x=new b(u,{visible:false});s.call(this)}}}}else{if(u&&u.nodeName){if(j&&g.hasClass(u,n)||u.nodeName.toUpperCase()==\"SELECT\"){x=new j(u,{lazyload:p});s.call(this)}else{if(b){if(!u.id){g.generateId(u)}x=new b(u,{visible:false});s.call(this)}}}}}}}}},_setOnClick:function(n){if(this._onclickAttributeValue&&(this._onclickAttributeValue!=n)){this.removeListener(\"click\",this._onclickAttributeValue.fn);this._onclickAttributeValue=null}if(!this._onclickAttributeValue&&i.isObject(n)&&i.isFunction(n.fn)){this.on(\"click\",n.fn,n.obj,n.scope);this._onclickAttributeValue=n}},_isActivationKey:function(n){var s=this.get(\"type\"),o=(s==\"checkbox\"||s==\"radio\")?this.CHECK_ACTIVATION_KEYS:this.ACTIVATION_KEYS,q=o.length,r=false,p;if(q>0){p=q-1;do{if(n==o[p]){r=true;break}}while(p--)}return r},_isSplitButtonOptionKey:function(p){var o=(m.getCharCode(p)==40);var n=function(q){m.preventDefault(q);this.removeListener(\"keypress\",n)};if(o){if(l.opera){this.on(\"keypress\",n)}m.preventDefault(p)}return o},_addListenersToForm:function(){var t=this.getForm(),s=YAHOO.widget.Button.onFormKeyPress,r,n,q,p,o;if(t){m.on(t,\"reset\",this._onFormReset,null,this);m.on(t,\"submit\",this._onFormSubmit,null,this);n=this.get(\"srcelement\");if(this.get(\"type\")==\"submit\"||(n&&n.type==\"submit\")){q=m.getListeners(t,\"keypress\");r=false;if(q){p=q.length;if(p>0){o=p-1;do{if(q[o].fn==s){r=true;break}}while(o--)}}if(!r){m.on(t,\"keypress\",s)}}}},_showMenu:function(r){if(YAHOO.widget.MenuManager){YAHOO.widget.MenuManager.hideVisible()}if(k){k.hideAll()}var n=this._menu,q=this.get(\"menualignment\"),p=this.get(\"focusmenu\"),o;if(this._renderedMenu){n.cfg.setProperty(\"context\",[this.get(\"element\"),q[0],q[1]]);n.cfg.setProperty(\"preventcontextoverlap\",true);n.cfg.setProperty(\"constraintoviewport\",true)}else{n.cfg.queueProperty(\"context\",[this.get(\"element\"),q[0],q[1]]);n.cfg.queueProperty(\"preventcontextoverlap\",true);n.cfg.queueProperty(\"constraintoviewport\",true)}this.focus();if(j&&n&&(n instanceof j)){o=n.focus;n.focus=function(){};if(this._renderedMenu){n.cfg.setProperty(\"minscrollheight\",this.get(\"menuminscrollheight\"));n.cfg.setProperty(\"maxheight\",this.get(\"menumaxheight\"))}else{n.cfg.queueProperty(\"minscrollheight\",this.get(\"menuminscrollheight\"));n.cfg.queueProperty(\"maxheight\",this.get(\"menumaxheight\"))}n.show();n.focus=o;n.align();if(r.type==\"mousedown\"){m.stopPropagation(r)}if(p){n.focus()}}else{if(b&&n&&(n instanceof b)){if(!this._renderedMenu){n.render(this.get(\"element\").parentNode)}n.show();n.align()}}},_hideMenu:function(){var n=this._menu;if(n){n.hide()}},_onMouseOver:function(o){var q=this.get(\"type\"),n,p;if(q===\"split\"){n=this.get(\"element\");p=(g.getX(n)+(n.offsetWidth-this.OPTION_AREA_WIDTH));this._nOptionRegionX=p}if(!this._hasMouseEventHandlers){if(q===\"split\"){this.on(\"mousemove\",this._onMouseMove)}this.on(\"mouseout\",this._onMouseOut);this._hasMouseEventHandlers=true}this.addStateCSSClasses(\"hover\");if(q===\"split\"&&(m.getPageX(o)>p)){this.addStateCSSClasses(\"hoveroption\")}if(this._activationButtonPressed){this.addStateCSSClasses(\"active\")}if(this._bOptionPressed){this.addStateCSSClasses(\"activeoption\")}if(this.isActive()||this._bOptionPressed){m.removeListener(document,\"mouseup\",this._onDocumentMouseUp)}},_onMouseMove:function(n){var o=this._nOptionRegionX;if(o){if(m.getPageX(n)>o){this.addStateCSSClasses(\"hoveroption\")}else{this.removeStateCSSClasses(\"hoveroption\")}}},_onMouseOut:function(n){var o=this.get(\"type\");this.removeStateCSSClasses(\"hover\");if(o!=\"menu\"){this.removeStateCSSClasses(\"active\")}if(this.isActive()||this._bOptionPressed){m.on(document,\"mouseup\",this._onDocumentMouseUp,null,this)}if(o===\"split\"&&(m.getPageX(n)>this._nOptionRegionX)){this.removeStateCSSClasses(\"hoveroption\")}},_onDocumentMouseUp:function(p){this._activationButtonPressed=false;this._bOptionPressed=false;var q=this.get(\"type\"),n,o;if(q==\"menu\"||q==\"split\"){n=m.getTarget(p);o=this._menu.element;if(n!=o&&!g.isAncestor(o,n)){this.removeStateCSSClasses((q==\"menu\"?\"active\":\"activeoption\"));this._hideMenu()}}m.removeListener(document,\"mouseup\",this._onDocumentMouseUp)},_onMouseDown:function(p){var q,o=true;function n(){this._hideMenu();this.removeListener(\"mouseup\",n)}if((p.which||p.button)==1){if(!this.hasFocus()){i.later(0,this,this.focus)}q=this.get(\"type\");if(q==\"split\"){if(m.getPageX(p)>this._nOptionRegionX){this.fireEvent(\"option\",p);o=false}else{this.addStateCSSClasses(\"active\");this._activationButtonPressed=true}}else{if(q==\"menu\"){if(this.isActive()){this._hideMenu();this._activationButtonPressed=false}else{this._showMenu(p);this._activationButtonPressed=true}}else{this.addStateCSSClasses(\"active\");this._activationButtonPressed=true}}if(q==\"split\"||q==\"menu\"){this._hideMenuTimer=i.later(250,this,this.on,[\"mouseup\",n])}}return o},_onMouseUp:function(p){this.inMouseDown=false;var q=this.get(\"type\"),n=this._hideMenuTimer,o=true;if(n){n.cancel()}if(q==\"checkbox\"||q==\"radio\"){if((p.which||p.button)!=1){return}this.set(\"checked\",!(this.get(\"checked\")))}this._activationButtonPressed=false;if(q!=\"menu\"){this.removeStateCSSClasses(\"active\")}if(q==\"split\"&&m.getPageX(p)>this._nOptionRegionX){o=false}return o},_onFocus:function(o){var n;this.addStateCSSClasses(\"focus\");if(this._activationKeyPressed){this.addStateCSSClasses(\"active\")}c=this;if(!this._hasKeyEventHandlers){n=this._button;m.on(n,\"blur\",this._onBlur,null,this);m.on(n,\"keydown\",this._onKeyDown,null,this);m.on(n,\"keyup\",this._onKeyUp,null,this);this._hasKeyEventHandlers=true}this.fireEvent(\"focus\",o)},_onBlur:function(n){this.removeStateCSSClasses(\"focus\");if(this.get(\"type\")!=\"menu\"){this.removeStateCSSClasses(\"active\")","8","}if(this._activationKeyPressed){m.on(document,\"keyup\",this._onDocumentKeyUp,null,this)}c=null;this.fireEvent(\"blur\",n)},_onDocumentKeyUp:function(n){if(this._isActivationKey(m.getCharCode(n))){this._activationKeyPressed=false;m.removeListener(document,\"keyup\",this._onDocumentKeyUp)}},_onKeyDown:function(o){var n=this._menu;if(this.get(\"type\")==\"split\"&&this._isSplitButtonOptionKey(o)){this.fireEvent(\"option\",o)}else{if(this._isActivationKey(m.getCharCode(o))){if(this.get(\"type\")==\"menu\"){this._showMenu(o)}else{this._activationKeyPressed=true;this.addStateCSSClasses(\"active\")}}}if(n&&n.cfg.getProperty(\"visible\")&&m.getCharCode(o)==27){n.hide();this.focus()}},_onKeyUp:function(n){var o;if(this._isActivationKey(m.getCharCode(n))){o=this.get(\"type\");if(o==\"checkbox\"||o==\"radio\"){this.set(\"checked\",!(this.get(\"checked\")))}this._activationKeyPressed=false;if(this.get(\"type\")!=\"menu\"){this.removeStateCSSClasses(\"active\")}}},_onClick:function(p){var r=this.get(\"type\"),q,n,o;switch(r){case\"submit\":if(p.returnValue!==false){this.submitForm()}break;case\"reset\":q=this.getForm();if(q){q.reset()}break;case\"split\":if(this._nOptionRegionX>0&&(m.getPageX(p)>this._nOptionRegionX)){o=false}else{this._hideMenu();n=this.get(\"srcelement\");if(n&&n.type==\"submit\"&&p.returnValue!==false){this.submitForm()}}break}return o},_onDblClick:function(o){var n=true;if(this.get(\"type\")==\"split\"&&m.getPageX(o)>this._nOptionRegionX){n=false}return n},_onAppendTo:function(n){i.later(0,this,this._addListenersToForm)},_onFormReset:function(o){var p=this.get(\"type\"),n=this._menu;if(p==\"checkbox\"||p==\"radio\"){this.resetValue(\"checked\")}if(j&&n&&(n instanceof j)){this.resetValue(\"selectedMenuItem\")}},_onFormSubmit:function(n){this.createHiddenFields()},_onDocumentMouseDown:function(r){var o=m.getTarget(r),q=this.get(\"element\"),p=this._menu.element;function n(t){var v,s,u;if(!t){return true}for(v=0,s=t.length;v<s;v++){u=t[v].element;if(o==u||g.isAncestor(u,o)){return true}if(t[v]&&t[v].getSubmenus){if(n(t[v].getSubmenus())){return true}}}return false}if(o!=q&&!g.isAncestor(q,o)&&o!=p&&!g.isAncestor(p,o)){if(this._menu&&this._menu.getSubmenus){if(!n(this._menu.getSubmenus())){return}}this._hideMenu();if(l.ie&&(l.ie<9)&&o.focus){o.setActive()}m.removeListener(document,\"mousedown\",this._onDocumentMouseDown)}},_onOption:function(n){if(this.hasClass(this.CLASS_NAME_PREFIX+\"split-button-activeoption\")){this._hideMenu();this._bOptionPressed=false}else{this._showMenu(n);this._bOptionPressed=true}},_onMenuShow:function(n){m.on(document,\"mousedown\",this._onDocumentMouseDown,null,this);var o=(this.get(\"type\")==\"split\")?\"activeoption\":\"active\";this.addStateCSSClasses(o)},_onMenuHide:function(n){var o=(this.get(\"type\")==\"split\")?\"activeoption\":\"active\";this.removeStateCSSClasses(o);if(this.get(\"type\")==\"split\"){this._bOptionPressed=false}},_onMenuKeyDown:function(p,o){var n=o[0];if(m.getCharCode(n)==27){this.focus();if(this.get(\"type\")==\"split\"){this._bOptionPressed=false}}},_onMenuRender:function(p){var s=this.get(\"element\"),o=s.parentNode,n=this._menu,r=n.element,q=n.srcElement,t;if(o!=r.parentNode){o.appendChild(r)}this._renderedMenu=true;if(q&&q.nodeName.toLowerCase()===\"select\"&&q.value){t=n.getItem(q.selectedIndex);this.set(\"selectedMenuItem\",t,true);this._onSelectedMenuItemChange({newValue:t})}},_onMenuClick:function(o,n){var q=n[1],p;if(q){this.set(\"selectedMenuItem\",q);p=this.get(\"srcelement\");if(p&&p.type==\"submit\"){this.submitForm()}this._hideMenu()}},_onSelectedMenuItemChange:function(o){var p=o.prevValue,q=o.newValue,n=this.CLASS_NAME_PREFIX;if(p){g.removeClass(p.element,(n+\"button-selectedmenuitem\"))}if(q){g.addClass(q.element,(n+\"button-selectedmenuitem\"))}},_onLabelClick:function(n){this.focus();var o=this.get(\"type\");if(o==\"radio\"||o==\"checkbox\"){this.set(\"checked\",(!this.get(\"checked\")))}},createButtonElement:function(n){var p=this.NODE_NAME,o=document.createElement(p);o.innerHTML=\"<\"+p+' class=\"first-child\">'+(n==\"link\"?\"<a><\/a>\":'<button type=\"button\"><\/button>')+\"<\/\"+p+\">\";return o},addStateCSSClasses:function(o){var p=this.get(\"type\"),n=this.CLASS_NAME_PREFIX;if(i.isString(o)){if(o!=\"activeoption\"&&o!=\"hoveroption\"){this.addClass(n+this.CSS_CLASS_NAME+(\"-\"+o))}this.addClass(n+p+(\"-button-\"+o))}},removeStateCSSClasses:function(o){var p=this.get(\"type\"),n=this.CLASS_NAME_PREFIX;if(i.isString(o)){this.removeClass(n+this.CSS_CLASS_NAME+(\"-\"+o));this.removeClass(n+p+(\"-button-\"+o))}},createHiddenFields:function(){this.removeHiddenFields();var v=this.getForm(),z,o,s,x,y,t,u,n,r,w,p,q=false;if(v&&!this.get(\"disabled\")){o=this.get(\"type\");s=(o==\"checkbox\"||o==\"radio\");if((s&&this.get(\"checked\"))||(e==this)){YAHOO.log(\"Creating hidden field.\",\"info\",this.toString());z=f((s?o:\"hidden\"),this.get(\"name\"),this.get(\"value\"),this.get(\"checked\"));if(z){if(s){z.style.display=\"none\"}v.appendChild(z)}}x=this._menu;if(j&&x&&(x instanceof j)){YAHOO.log(\"Creating hidden field for menu.\",\"info\",this.toString());y=this.get(\"selectedMenuItem\");p=x.srcElement;q=(p&&p.nodeName.toUpperCase()==\"SELECT\");if(y){u=(y.value===null||y.value===\"\")?y.cfg.getProperty(\"text\"):y.value;t=this.get(\"name\");if(q){w=p.name}else{if(t){w=(t+\"_options\")}}if(u&&w){n=f(\"hidden\",w,u);v.appendChild(n)}}else{if(q){n=v.appendChild(p)}}}if(z&&n){this._hiddenFields=[z,n]}else{if(!z&&n){this._hiddenFields=n}else{if(z&&!n){this._hiddenFields=z}}}r=this._hiddenFields}return r},removeHiddenFields:function(){var q=this._hiddenFields,o,p;function n(r){if(g.inDocument(r)){r.parentNode.removeChild(r)}}if(q){if(i.isArray(q)){o=q.length;if(o>0){p=o-1;do{n(q[p])}while(p--)}}else{n(q)}this._hiddenFields=null}},submitForm:function(){var q=this.getForm(),p=this.get(\"srcelement\"),o=false,n;if(q){if(this.get(\"type\")==\"submit\"||(p&&p.type==\"submit\")){e=this}if(l.ie&&(l.ie<9)){o=q.fireEvent(\"onsubmit\")}else{n=document.createEvent(\"HTMLEvents\");n.initEvent(\"submit\",true,true);o=q.dispatchEvent(n)}if((l.ie||l.webkit)&&o){q.submit()}}return o},init:function(p,D){var v=D.type==\"link\"?\"a\":\"button\",A=D.srcelement,s=p.getElementsByTagName(v)[0],u;","9","if(!s){u=p.getElementsByTagName(\"input\")[0];if(u){s=document.createElement(\"button\");s.setAttribute(\"type\",\"button\");u.parentNode.replaceChild(s,u)}}this._button=s;YAHOO.widget.Button.superclass.init.call(this,p,D);var t=this.get(\"id\"),z=t+\"-button\";s.id=z;var x,q;var E=function(F){return(F.htmlFor===t)};var C=function(){q.setAttribute((l.ie?\"htmlFor\":\"for\"),z)};if(A&&this.get(\"type\")!=\"link\"){x=g.getElementsBy(E,\"label\");if(i.isArray(x)&&x.length>0){q=x[0]}}d[t]=this;var B=this.CLASS_NAME_PREFIX;this.addClass(B+this.CSS_CLASS_NAME);this.addClass(B+this.get(\"type\")+\"-button\");m.on(this._button,\"focus\",this._onFocus,null,this);this.on(\"mouseover\",this._onMouseOver);this.on(\"mousedown\",this._onMouseDown);this.on(\"mouseup\",this._onMouseUp);this.on(\"click\",this._onClick);var r=this.get(\"onclick\");this.set(\"onclick\",null);this.set(\"onclick\",r);this.on(\"dblclick\",this._onDblClick);var o;if(q){if(this.get(\"replaceLabel\")){this.set(\"label\",q.innerHTML);o=q.parentNode;o.removeChild(q)}else{this.on(\"appendTo\",C);m.on(q,\"click\",this._onLabelClick,null,this);this._label=q}}this.on(\"appendTo\",this._onAppendTo);var n=this.get(\"container\"),y=this.get(\"element\"),w=g.inDocument(y);if(n){if(A&&A!=y){o=A.parentNode;if(o){o.removeChild(A)}}if(i.isString(n)){m.onContentReady(n,this.appendTo,n,this)}else{this.on(\"init\",function(){i.later(0,this,this.appendTo,n)})}}else{if(!w&&A&&A!=y){o=A.parentNode;if(o){this.fireEvent(\"beforeAppendTo\",{type:\"beforeAppendTo\",target:o});o.replaceChild(y,A);this.fireEvent(\"appendTo\",{type:\"appendTo\",target:o})}}else{if(this.get(\"type\")!=\"link\"&&w&&A&&A==y){this._addListenersToForm()}}}YAHOO.log(\"Initialization completed.\",\"info\",this.toString());this.fireEvent(\"init\",{type:\"init\",target:this})},initAttributes:function(o){var n=o||{};YAHOO.widget.Button.superclass.initAttributes.call(this,n);this.setAttributeConfig(\"type\",{value:(n.type||\"push\"),validator:i.isString,writeOnce:true,method:this._setType});this.setAttributeConfig(\"label\",{value:n.label,validator:i.isString,method:this._setLabel});this.setAttributeConfig(\"value\",{value:n.value});this.setAttributeConfig(\"name\",{value:n.name,validator:i.isString});this.setAttributeConfig(\"tabindex\",{value:n.tabindex,validator:i.isNumber,method:this._setTabIndex});this.configureAttribute(\"title\",{value:n.title,validator:i.isString,method:this._setTitle});this.setAttributeConfig(\"disabled\",{value:(n.disabled||false),validator:i.isBoolean,method:this._setDisabled});this.setAttributeConfig(\"href\",{value:n.href,validator:i.isString,method:this._setHref});this.setAttributeConfig(\"target\",{value:n.target,validator:i.isString,method:this._setTarget});this.setAttributeConfig(\"checked\",{value:(n.checked||false),validator:i.isBoolean,method:this._setChecked});this.setAttributeConfig(\"container\",{value:n.container,writeOnce:true});this.setAttributeConfig(\"srcelement\",{value:n.srcelement,writeOnce:true});this.setAttributeConfig(\"menu\",{value:null,method:this._setMenu,writeOnce:true});this.setAttributeConfig(\"lazyloadmenu\",{value:(n.lazyloadmenu===false?false:true),validator:i.isBoolean,writeOnce:true});this.setAttributeConfig(\"menuclassname\",{value:(n.menuclassname||(this.CLASS_NAME_PREFIX+\"button-menu\")),validator:i.isString,method:this._setMenuClassName,writeOnce:true});this.setAttributeConfig(\"menuminscrollheight\",{value:(n.menuminscrollheight||90),validator:i.isNumber});this.setAttributeConfig(\"menumaxheight\",{value:(n.menumaxheight||0),validator:i.isNumber});this.setAttributeConfig(\"menualignment\",{value:(n.menualignment||[\"tl\",\"bl\"]),validator:i.isArray});this.setAttributeConfig(\"selectedMenuItem\",{value:null});this.setAttributeConfig(\"onclick\",{value:n.onclick,method:this._setOnClick});this.setAttributeConfig(\"focusmenu\",{value:(n.focusmenu===false?false:true),validator:i.isBoolean});this.setAttributeConfig(\"replaceLabel\",{value:false,validator:i.isBoolean,writeOnce:true})},focus:function(){if(!this.get(\"disabled\")){try{this._button.focus()}catch(n){}}},blur:function(){if(!this.get(\"disabled\")){try{this._button.blur()}catch(n){}}},hasFocus:function(){return(c==this)},isActive:function(){return this.hasClass(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME+\"-active\")},getMenu:function(){return this._menu},getForm:function(){var n=this._button,o;if(n){o=n.form}return o},getHiddenFields:function(){return this._hiddenFields},destroy:function(){YAHOO.log(\"Destroying ...\",\"info\",this.toString());var p=this.get(\"element\"),n=this._menu,t=this._label,o,s;if(n){YAHOO.log(\"Destroying menu.\",\"info\",this.toString());if(k&&k.find(n)){k.remove(n)}n.destroy()}YAHOO.log(\"Removing DOM event listeners.\",\"info\",this.toString());m.purgeElement(p);m.purgeElement(this._button);m.removeListener(document,\"mouseup\",this._onDocumentMouseUp);m.removeListener(document,\"keyup\",this._onDocumentKeyUp);m.removeListener(document,\"mousedown\",this._onDocumentMouseDown);if(t){m.removeListener(t,\"click\",this._onLabelClick);o=t.parentNode;o.removeChild(t)}var q=this.getForm();if(q){m.removeListener(q,\"reset\",this._onFormReset);m.removeListener(q,\"submit\",this._onFormSubmit)}YAHOO.log(\"Removing CustomEvent listeners.\",\"info\",this.toString());this.unsubscribeAll();o=p.parentNode;if(o){o.removeChild(p)}YAHOO.log(\"Removing from document.\",\"info\",this.toString());delete d[this.get(\"id\")];var r=(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME);s=g.getElementsByClassName(r,this.NODE_NAME,q);if(i.isArray(s)&&s.length===0){m.removeListener(q,\"keypress\",YAHOO.widget.Button.onFormKeyPress)}YAHOO.log(\"Destroyed.\",\"info\",this.toString())},fireEvent:function(o,n){var p=arguments[0];if(this.DOM_EVENTS[p]&&this.get(\"disabled\")){return false}return YAHOO.widget.Button.superclass.fireEvent.apply(this,arguments)},toString:function(){return(\"Button \"+this.get(\"id\"))}});YAHOO.widget.Button.onFormKeyPress=function(r){var p=m.getTarget(r),s=m.getCharCode(r),q=p.nodeName&&p.nodeName.toUpperCase(),n=p.type,t=false,v,x,o,w;function u(A){var z,y;switch(A.nodeName.toUpperCase()){case\"INPUT\":case\"BUTTON\":if(A.type==\"submit\"&&!A.disabled){if(!t&&!o){o=A}}break;","10","default:z=A.id;if(z){v=d[z];if(v){t=true;if(!v.get(\"disabled\")){y=v.get(\"srcelement\");if(!x&&(v.get(\"type\")==\"submit\"||(y&&y.type==\"submit\"))){x=v}}}}break}}if(s==13&&((q==\"INPUT\"&&(n==\"text\"||n==\"password\"||n==\"checkbox\"||n==\"radio\"||n==\"file\"))||q==\"SELECT\")){g.getElementsBy(u,\"*\",this);if(o){o.focus()}else{if(!o&&x){m.preventDefault(r);if(l.ie){if(l.ie<9){x.get(\"element\").fireEvent(\"onclick\")}else{w=document.createEvent(\"HTMLEvents\");w.initEvent(\"click\",true,true);x.get(\"element\").dispatchEvent(w)}}else{w=document.createEvent(\"HTMLEvents\");w.initEvent(\"click\",true,true);if(l.gecko<1.9){x.fireEvent(\"click\",w)}else{x.get(\"element\").dispatchEvent(w)}}}}}};YAHOO.widget.Button.addHiddenFieldsToForm=function(n){var r=YAHOO.widget.Button.prototype,t=g.getElementsByClassName((r.CLASS_NAME_PREFIX+r.CSS_CLASS_NAME),\"*\",n),q=t.length,s,o,p;if(q>0){YAHOO.log(\"Form contains \"+q+\" YUI buttons.\",\"info\",this.toString());for(p=0;p<q;p++){o=t[p].id;if(o){s=d[o];if(s){s.createHiddenFields()}}}}};YAHOO.widget.Button.getButton=function(n){return d[n]}})();(function(){var c=YAHOO.util.Dom,b=YAHOO.util.Event,d=YAHOO.lang,a=YAHOO.widget.Button,e={};YAHOO.widget.ButtonGroup=function(j,h){var i=YAHOO.widget.ButtonGroup.superclass.constructor,k,g,f;if(arguments.length==1&&!d.isString(j)&&!j.nodeName){if(!j.id){f=c.generateId();j.id=f;YAHOO.log('No value specified for the button group\\'s \"id\" attribute. Setting button group id to \"'+f+'\".',\"info\")}this.logger=new YAHOO.widget.LogWriter(\"ButtonGroup \"+f);this.logger.log(\"No source HTML element.  Building the button group using the set of configuration attributes.\");i.call(this,(this._createGroupElement()),j)}else{if(d.isString(j)){g=c.get(j);if(g){if(g.nodeName.toUpperCase()==this.NODE_NAME){this.logger=new YAHOO.widget.LogWriter(\"ButtonGroup \"+j);i.call(this,g,h)}}}else{k=j.nodeName.toUpperCase();if(k&&k==this.NODE_NAME){if(!j.id){j.id=c.generateId();YAHOO.log('No value specified for the button group\\'s \"id\" attribute. Setting button group id to \"'+j.id+'\".',\"warn\")}this.logger=new YAHOO.widget.LogWriter(\"ButtonGroup \"+j.id);i.call(this,j,h)}}}};YAHOO.extend(YAHOO.widget.ButtonGroup,YAHOO.util.Element,{_buttons:null,NODE_NAME:\"DIV\",CLASS_NAME_PREFIX:\"yui-\",CSS_CLASS_NAME:\"buttongroup\",_createGroupElement:function(){var f=document.createElement(this.NODE_NAME);return f},_setDisabled:function(g){var h=this.getCount(),f;if(h>0){f=h-1;do{this._buttons[f].set(\"disabled\",g)}while(f--)}},_onKeyDown:function(k){var g=b.getTarget(k),i=b.getCharCode(k),h=g.parentNode.parentNode.id,j=e[h],f=-1;if(i==37||i==38){f=(j.index===0)?(this._buttons.length-1):(j.index-1)}else{if(i==39||i==40){f=(j.index===(this._buttons.length-1))?0:(j.index+1)}}if(f>-1){this.check(f);this.getButton(f).focus()}},_onAppendTo:function(h){var j=this._buttons,g=j.length,f;for(f=0;f<g;f++){j[f].appendTo(this.get(\"element\"))}},_onButtonCheckedChange:function(g,f){var i=g.newValue,h=this.get(\"checkedButton\");if(i&&h!=f){if(h){h.set(\"checked\",false,true)}this.set(\"checkedButton\",f);this.set(\"value\",f.get(\"value\"))}else{if(h&&!h.set(\"checked\")){h.set(\"checked\",true,true)}}},init:function(i,h){this._buttons=[];YAHOO.widget.ButtonGroup.superclass.init.call(this,i,h);this.addClass(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME);var k=(YAHOO.widget.Button.prototype.CLASS_NAME_PREFIX+\"radio-button\"),j=this.getElementsByClassName(k);this.logger.log(\"Searching for child nodes with the class name \"+k+\" to add to the button group.\");if(j.length>0){this.logger.log(\"Found \"+j.length+\" child nodes with the class name \"+k+\"  Attempting to add to button group.\");this.addButtons(j)}this.logger.log('Searching for child nodes with the type of  \"radio\" to add to the button group.');function f(l){return(l.type==\"radio\")}j=c.getElementsBy(f,\"input\",this.get(\"element\"));if(j.length>0){this.logger.log(\"Found \"+j.length+' child nodes with the type of \"radio.\"  Attempting to add to button group.');this.addButtons(j)}this.on(\"keydown\",this._onKeyDown);this.on(\"appendTo\",this._onAppendTo);var g=this.get(\"container\");if(g){if(d.isString(g)){b.onContentReady(g,function(){this.appendTo(g)},null,this)}else{this.appendTo(g)}}this.logger.log(\"Initialization completed.\")},initAttributes:function(g){var f=g||{};YAHOO.widget.ButtonGroup.superclass.initAttributes.call(this,f);this.setAttributeConfig(\"name\",{value:f.name,validator:d.isString});this.setAttributeConfig(\"disabled\",{value:(f.disabled||false),validator:d.isBoolean,method:this._setDisabled});this.setAttributeConfig(\"value\",{value:f.value});this.setAttributeConfig(\"container\",{value:f.container,writeOnce:true});this.setAttributeConfig(\"checkedButton\",{value:null})},addButton:function(j){var l,k,g,f,h,i;if(j instanceof a&&j.get(\"type\")==\"radio\"){l=j}else{if(!d.isString(j)&&!j.nodeName){j.type=\"radio\";l=new a(j)}else{l=new a(j,{type:\"radio\"})}}if(l){f=this._buttons.length;h=l.get(\"name\");i=this.get(\"name\");l.index=f;this._buttons[f]=l;e[l.get(\"id\")]=l;if(h!=i){l.set(\"name\",i)}if(this.get(\"disabled\")){l.set(\"disabled\",true)}if(l.get(\"checked\")){this.set(\"checkedButton\",l)}k=l.get(\"element\");g=this.get(\"element\");if(k.parentNode!=g){g.appendChild(k)}l.on(\"checkedChange\",this._onButtonCheckedChange,l,this);this.logger.log(\"Button \"+l.get(\"id\")+\" added.\")}return l},addButtons:function(g){var h,j,k,f;if(d.isArray(g)){h=g.length;k=[];if(h>0){for(f=0;f<h;f++){j=this.addButton(g[f]);if(j){k[k.length]=j}}}}return k},removeButton:function(h){var j=this.getButton(h),g,f;if(j){this.logger.log(\"Removing button \"+j.get(\"id\")+\".\");this._buttons.splice(h,1);delete e[j.get(\"id\")];j.removeListener(\"checkedChange\",this._onButtonCheckedChange);j.destroy();g=this._buttons.length;if(g>0){f=this._buttons.length-1;do{this._buttons[f].index=f}while(f--)}this.logger.log(\"Button \"+j.get(\"id\")+\" removed.\")}},getButton:function(f){return this._buttons[f]},getButtons:function(){return this._buttons},getCount:function(){return this._buttons.length},focus:function(h){var j,g,f;if(d.isNumber(h)){j=this._buttons[h];if(j){j.focus()}}else{g=this.getCount();for(f=0;","11","f<g;f++){j=this._buttons[f];if(!j.get(\"disabled\")){j.focus();break}}}},check:function(f){var g=this.getButton(f);if(g){g.set(\"checked\",true)}},destroy:function(){this.logger.log(\"Destroying...\");var j=this._buttons.length,h=this.get(\"element\"),f=h.parentNode,g;if(j>0){g=this._buttons.length-1;do{this._buttons[g].destroy()}while(g--)}this.logger.log(\"Removing DOM event handlers.\");b.purgeElement(h);this.logger.log(\"Removing from document.\");f.removeChild(h)},toString:function(){return(\"ButtonGroup \"+this.get(\"id\"))}})})();YAHOO.register(\"button\",YAHOO.widget.Button,{version:\"2.9.0\",build:\"2800\"});"],"delete":["1","Copyright (c) 2011, Yahoo! Inc. All rights reserved.","2","Code licensed under the BSD License:","3","http:\/\/developer.yahoo.com\/yui\/license.html","4","version: 2.9.0","5","*\/","6","(function(){var G=YAHOO.util.Dom,M=YAHOO.util.Event,I=YAHOO.lang,L=YAHOO.env.ua,B=YAHOO.widget.Overlay,J=YAHOO.widget.Menu,D={},K=null,E=null,C=null;function F(O,N,R,P){var S,Q;if(I.isString(O)&&I.isString(N)){if(L.ie&&(L.ie<9)){Q='<input type=\"'+O+'\" name=\"'+N+'\"';if(P){Q+=\" checked\";}Q+=\">\";S=document.createElement(Q);S.value=R;}else{S=document.createElement(\"input\");S.name=N;S.type=O;S.value=R;if(P){S.checked=true;}}}return S;}function H(O,V){var N=O.nodeName.toUpperCase(),S=(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME),T=this,U,P,Q;function W(X){if(!(X in V)){U=O.getAttributeNode(X);if(U&&(\"value\" in U)){V[X]=U.value;}}}function R(){W(\"type\");if(V.type==\"button\"){V.type=\"push\";}if(!(\"disabled\" in V)){V.disabled=O.disabled;}W(\"name\");W(\"value\");W(\"title\");}switch(N){case\"A\":V.type=\"link\";W(\"href\");W(\"target\");break;case\"INPUT\":R();if(!(\"checked\" in V)){V.checked=O.checked;}break;case\"BUTTON\":R();P=O.parentNode.parentNode;if(G.hasClass(P,S+\"-checked\")){V.checked=true;}if(G.hasClass(P,S+\"-disabled\")){V.disabled=true;}O.removeAttribute(\"value\");O.setAttribute(\"type\",\"button\");break;}O.removeAttribute(\"id\");O.removeAttribute(\"name\");if(!(\"tabindex\" in V)){V.tabindex=O.tabIndex;}if(!(\"label\" in V)){Q=N==\"INPUT\"?O.value:O.innerHTML;if(Q&&Q.length>0){V.label=Q;}}}function A(P){var O=P.attributes,N=O.srcelement,R=N.nodeName.toUpperCase(),Q=this;if(R==this.NODE_NAME){P.element=N;P.id=N.id;G.getElementsBy(function(S){switch(S.nodeName.toUpperCase()){case\"BUTTON\":case\"A\":case\"INPUT\":H.call(Q,S,O);break;}},\"*\",N);}else{switch(R){case\"BUTTON\":case\"A\":case\"INPUT\":H.call(this,N,O);break;}}}YAHOO.widget.Button=function(R,O){if(!B&&YAHOO.widget.Overlay){B=YAHOO.widget.Overlay;}if(!J&&YAHOO.widget.Menu){J=YAHOO.widget.Menu;}var Q=YAHOO.widget.Button.superclass.constructor,P,N;if(arguments.length==1&&!I.isString(R)&&!R.nodeName){if(!R.id){R.id=G.generateId();}Q.call(this,(this.createButtonElement(R.type)),R);}else{P={element:null,attributes:(O||{})};if(I.isString(R)){N=G.get(R);if(N){if(!P.attributes.id){P.attributes.id=R;}P.attributes.srcelement=N;A.call(this,P);if(!P.element){P.element=this.createButtonElement(P.attributes.type);}Q.call(this,P.element,P.attributes);}}else{if(R.nodeName){if(!P.attributes.id){if(R.id){P.attributes.id=R.id;}else{P.attributes.id=G.generateId();}}P.attributes.srcelement=R;A.call(this,P);if(!P.element){P.element=this.createButtonElement(P.attributes.type);}Q.call(this,P.element,P.attributes);}}}};YAHOO.extend(YAHOO.widget.Button,YAHOO.util.Element,{_button:null,_menu:null,_hiddenFields:null,_onclickAttributeValue:null,_activationKeyPressed:false,_activationButtonPressed:false,_hasKeyEventHandlers:false,_hasMouseEventHandlers:false,_nOptionRegionX:0,CLASS_NAME_PREFIX:\"yui-\",NODE_NAME:\"SPAN\",CHECK_ACTIVATION_KEYS:[32],ACTIVATION_KEYS:[13,32],OPTION_AREA_WIDTH:20,CSS_CLASS_NAME:\"button\",_setType:function(N){if(N==\"split\"){this.on(\"option\",this._onOption);}},_setLabel:function(O){this._button.innerHTML=O;var P,N=L.gecko;if(N&&N<1.9&&G.inDocument(this.get(\"element\"))){P=(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME);this.removeClass(P);I.later(0,this,this.addClass,P);}},_setTabIndex:function(N){this._button.tabIndex=N;},_setTitle:function(N){if(this.get(\"type\")!=\"link\"){this._button.title=N;}},_setDisabled:function(N){if(this.get(\"type\")!=\"link\"){if(N){if(this._menu){this._menu.hide();}if(this.hasFocus()){this.blur();}this._button.setAttribute(\"disabled\",\"disabled\");this.addStateCSSClasses(\"disabled\");this.removeStateCSSClasses(\"hover\");this.removeStateCSSClasses(\"active\");this.removeStateCSSClasses(\"focus\");}else{this._button.removeAttribute(\"disabled\");this.removeStateCSSClasses(\"disabled\");}}},_setHref:function(N){if(this.get(\"type\")==\"link\"){this._button.href=N;}},_setTarget:function(N){if(this.get(\"type\")==\"link\"){this._button.setAttribute(\"target\",N);}},_setChecked:function(N){var O=this.get(\"type\");if(O==\"checkbox\"||O==\"radio\"){if(N){this.addStateCSSClasses(\"checked\");}else{this.removeStateCSSClasses(\"checked\");}}},_setMenu:function(U){var P=this.get(\"lazyloadmenu\"),R=this.get(\"element\"),N,W=false,X,O,Q;function V(){X.render(R.parentNode);this.removeListener(\"appendTo\",V);}function T(){X.cfg.queueProperty(\"container\",R.parentNode);this.removeListener(\"appendTo\",T);}function S(){var Y;if(X){G.addClass(X.element,this.get(\"menuclassname\"));G.addClass(X.element,this.CLASS_NAME_PREFIX+this.get(\"type\")+\"-button-menu\");X.showEvent.subscribe(this._onMenuShow,null,this);X.hideEvent.subscribe(this._onMenuHide,null,this);X.renderEvent.subscribe(this._onMenuRender,null,this);if(J&&X instanceof J){if(P){Y=this.get(\"container\");if(Y){X.cfg.queueProperty(\"container\",Y);}else{this.on(\"appendTo\",T);}}X.cfg.queueProperty(\"clicktohide\",false);X.keyDownEvent.subscribe(this._onMenuKeyDown,this,true);X.subscribe(\"click\",this._onMenuClick,this,true);this.on(\"selectedMenuItemChange\",this._onSelectedMenuItemChange);Q=X.srcElement;if(Q&&Q.nodeName.toUpperCase()==\"SELECT\"){Q.style.display=\"none\";Q.parentNode.removeChild(Q);}}else{if(B&&X instanceof B){if(!K){K=new YAHOO.widget.OverlayManager();}K.register(X);}}this._menu=X;if(!W&&!P){if(G.inDocument(R)){X.render(R.parentNode);}else{this.on(\"appendTo\",V);}}}}if(B){if(J){N=J.prototype.CSS_CLASS_NAME;}if(U&&J&&(U instanceof J)){X=U;W=true;S.call(this);}else{if(B&&U&&(U instanceof B)){X=U;W=true;X.cfg.queueProperty(\"visible\",false);S.call(this);}else{if(J&&I.isArray(U)){X=new J(G.generateId(),{lazyload:P,itemdata:U});this._menu=X;this.on(\"appendTo\",S);}else{if(I.isString(U)){O=G.get(U);if(O){if(J&&G.hasClass(O,N)||O.nodeName.toUpperCase()==\"SELECT\"){X=new J(U,{lazyload:P});S.call(this);}else{if(B){X=new B(U,{visible:false});S.call(this);}}}}else{if(U&&U.nodeName){if(J&&G.hasClass(U,N)||U.nodeName.toUpperCase()==\"SELECT\"){X=new J(U,{lazyload:P});S.call(this);}else{if(B){if(!U.id){G.generateId(U);}X=new B(U,{visible:false});S.call(this);}}}}}}}}},_setOnClick:function(N){if(this._onclickAttributeValue&&(this._onclickAttributeValue!=N)){this.removeListener(\"click\",this._onclickAttributeValue.fn);","7","this._onclickAttributeValue=null;}if(!this._onclickAttributeValue&&I.isObject(N)&&I.isFunction(N.fn)){this.on(\"click\",N.fn,N.obj,N.scope);this._onclickAttributeValue=N;}},_isActivationKey:function(N){var S=this.get(\"type\"),O=(S==\"checkbox\"||S==\"radio\")?this.CHECK_ACTIVATION_KEYS:this.ACTIVATION_KEYS,Q=O.length,R=false,P;if(Q>0){P=Q-1;do{if(N==O[P]){R=true;break;}}while(P--);}return R;},_isSplitButtonOptionKey:function(P){var O=(M.getCharCode(P)==40);var N=function(Q){M.preventDefault(Q);this.removeListener(\"keypress\",N);};if(O){if(L.opera){this.on(\"keypress\",N);}M.preventDefault(P);}return O;},_addListenersToForm:function(){var T=this.getForm(),S=YAHOO.widget.Button.onFormKeyPress,R,N,Q,P,O;if(T){M.on(T,\"reset\",this._onFormReset,null,this);M.on(T,\"submit\",this._onFormSubmit,null,this);N=this.get(\"srcelement\");if(this.get(\"type\")==\"submit\"||(N&&N.type==\"submit\")){Q=M.getListeners(T,\"keypress\");R=false;if(Q){P=Q.length;if(P>0){O=P-1;do{if(Q[O].fn==S){R=true;break;}}while(O--);}}if(!R){M.on(T,\"keypress\",S);}}}},_showMenu:function(R){if(YAHOO.widget.MenuManager){YAHOO.widget.MenuManager.hideVisible();}if(K){K.hideAll();}var N=this._menu,Q=this.get(\"menualignment\"),P=this.get(\"focusmenu\"),O;if(this._renderedMenu){N.cfg.setProperty(\"context\",[this.get(\"element\"),Q[0],Q[1]]);N.cfg.setProperty(\"preventcontextoverlap\",true);N.cfg.setProperty(\"constraintoviewport\",true);}else{N.cfg.queueProperty(\"context\",[this.get(\"element\"),Q[0],Q[1]]);N.cfg.queueProperty(\"preventcontextoverlap\",true);N.cfg.queueProperty(\"constraintoviewport\",true);}this.focus();if(J&&N&&(N instanceof J)){O=N.focus;N.focus=function(){};if(this._renderedMenu){N.cfg.setProperty(\"minscrollheight\",this.get(\"menuminscrollheight\"));N.cfg.setProperty(\"maxheight\",this.get(\"menumaxheight\"));}else{N.cfg.queueProperty(\"minscrollheight\",this.get(\"menuminscrollheight\"));N.cfg.queueProperty(\"maxheight\",this.get(\"menumaxheight\"));}N.show();N.focus=O;N.align();if(R.type==\"mousedown\"){M.stopPropagation(R);}if(P){N.focus();}}else{if(B&&N&&(N instanceof B)){if(!this._renderedMenu){N.render(this.get(\"element\").parentNode);}N.show();N.align();}}},_hideMenu:function(){var N=this._menu;if(N){N.hide();}},_onMouseOver:function(O){var Q=this.get(\"type\"),N,P;if(Q===\"split\"){N=this.get(\"element\");P=(G.getX(N)+(N.offsetWidth-this.OPTION_AREA_WIDTH));this._nOptionRegionX=P;}if(!this._hasMouseEventHandlers){if(Q===\"split\"){this.on(\"mousemove\",this._onMouseMove);}this.on(\"mouseout\",this._onMouseOut);this._hasMouseEventHandlers=true;}this.addStateCSSClasses(\"hover\");if(Q===\"split\"&&(M.getPageX(O)>P)){this.addStateCSSClasses(\"hoveroption\");}if(this._activationButtonPressed){this.addStateCSSClasses(\"active\");}if(this._bOptionPressed){this.addStateCSSClasses(\"activeoption\");}if(this.isActive()||this._bOptionPressed){M.removeListener(document,\"mouseup\",this._onDocumentMouseUp);}},_onMouseMove:function(N){var O=this._nOptionRegionX;if(O){if(M.getPageX(N)>O){this.addStateCSSClasses(\"hoveroption\");}else{this.removeStateCSSClasses(\"hoveroption\");}}},_onMouseOut:function(N){var O=this.get(\"type\");this.removeStateCSSClasses(\"hover\");if(O!=\"menu\"){this.removeStateCSSClasses(\"active\");}if(this.isActive()||this._bOptionPressed){M.on(document,\"mouseup\",this._onDocumentMouseUp,null,this);}if(O===\"split\"&&(M.getPageX(N)>this._nOptionRegionX)){this.removeStateCSSClasses(\"hoveroption\");}},_onDocumentMouseUp:function(P){this._activationButtonPressed=false;this._bOptionPressed=false;var Q=this.get(\"type\"),N,O;if(Q==\"menu\"||Q==\"split\"){N=M.getTarget(P);O=this._menu.element;if(N!=O&&!G.isAncestor(O,N)){this.removeStateCSSClasses((Q==\"menu\"?\"active\":\"activeoption\"));this._hideMenu();}}M.removeListener(document,\"mouseup\",this._onDocumentMouseUp);},_onMouseDown:function(P){var Q,O=true;function N(){this._hideMenu();this.removeListener(\"mouseup\",N);}if((P.which||P.button)==1){if(!this.hasFocus()){I.later(0,this,this.focus);}Q=this.get(\"type\");if(Q==\"split\"){if(M.getPageX(P)>this._nOptionRegionX){this.fireEvent(\"option\",P);O=false;}else{this.addStateCSSClasses(\"active\");this._activationButtonPressed=true;}}else{if(Q==\"menu\"){if(this.isActive()){this._hideMenu();this._activationButtonPressed=false;}else{this._showMenu(P);this._activationButtonPressed=true;}}else{this.addStateCSSClasses(\"active\");this._activationButtonPressed=true;}}if(Q==\"split\"||Q==\"menu\"){this._hideMenuTimer=I.later(250,this,this.on,[\"mouseup\",N]);}}return O;},_onMouseUp:function(P){this.inMouseDown=false;var Q=this.get(\"type\"),N=this._hideMenuTimer,O=true;if(N){N.cancel();}if(Q==\"checkbox\"||Q==\"radio\"){if((P.which||P.button)!=1){return;}this.set(\"checked\",!(this.get(\"checked\")));}this._activationButtonPressed=false;if(Q!=\"menu\"){this.removeStateCSSClasses(\"active\");}if(Q==\"split\"&&M.getPageX(P)>this._nOptionRegionX){O=false;}return O;},_onFocus:function(O){var N;this.addStateCSSClasses(\"focus\");if(this._activationKeyPressed){this.addStateCSSClasses(\"active\");}C=this;if(!this._hasKeyEventHandlers){N=this._button;M.on(N,\"blur\",this._onBlur,null,this);M.on(N,\"keydown\",this._onKeyDown,null,this);M.on(N,\"keyup\",this._onKeyUp,null,this);this._hasKeyEventHandlers=true;}this.fireEvent(\"focus\",O);},_onBlur:function(N){this.removeStateCSSClasses(\"focus\");if(this.get(\"type\")!=\"menu\"){this.removeStateCSSClasses(\"active\");}if(this._activationKeyPressed){M.on(document,\"keyup\",this._onDocumentKeyUp,null,this);}C=null;this.fireEvent(\"blur\",N);},_onDocumentKeyUp:function(N){if(this._isActivationKey(M.getCharCode(N))){this._activationKeyPressed=false;M.removeListener(document,\"keyup\",this._onDocumentKeyUp);}},_onKeyDown:function(O){var N=this._menu;if(this.get(\"type\")==\"split\"&&this._isSplitButtonOptionKey(O)){this.fireEvent(\"option\",O);}else{if(this._isActivationKey(M.getCharCode(O))){if(this.get(\"type\")==\"menu\"){this._showMenu(O);}else{this._activationKeyPressed=true;this.addStateCSSClasses(\"active\");}}}if(N&&N.cfg.getProperty(\"visible\")&&M.getCharCode(O)==27){N.hide();this.focus();}},_onKeyUp:function(N){var O;","8","if(this._isActivationKey(M.getCharCode(N))){O=this.get(\"type\");if(O==\"checkbox\"||O==\"radio\"){this.set(\"checked\",!(this.get(\"checked\")));}this._activationKeyPressed=false;if(this.get(\"type\")!=\"menu\"){this.removeStateCSSClasses(\"active\");}}},_onClick:function(P){var R=this.get(\"type\"),Q,N,O;switch(R){case\"submit\":if(P.returnValue!==false){this.submitForm();}break;case\"reset\":Q=this.getForm();if(Q){Q.reset();}break;case\"split\":if(this._nOptionRegionX>0&&(M.getPageX(P)>this._nOptionRegionX)){O=false;}else{this._hideMenu();N=this.get(\"srcelement\");if(N&&N.type==\"submit\"&&P.returnValue!==false){this.submitForm();}}break;}return O;},_onDblClick:function(O){var N=true;if(this.get(\"type\")==\"split\"&&M.getPageX(O)>this._nOptionRegionX){N=false;}return N;},_onAppendTo:function(N){I.later(0,this,this._addListenersToForm);},_onFormReset:function(O){var P=this.get(\"type\"),N=this._menu;if(P==\"checkbox\"||P==\"radio\"){this.resetValue(\"checked\");}if(J&&N&&(N instanceof J)){this.resetValue(\"selectedMenuItem\");}},_onFormSubmit:function(N){this.createHiddenFields();},_onDocumentMouseDown:function(R){var O=M.getTarget(R),Q=this.get(\"element\"),P=this._menu.element;function N(T){var V,S,U;if(!T){return true;}for(V=0,S=T.length;V<S;V++){U=T[V].element;if(O==U||G.isAncestor(U,O)){return true;}if(T[V]&&T[V].getSubmenus){if(N(T[V].getSubmenus())){return true;}}}return false;}if(O!=Q&&!G.isAncestor(Q,O)&&O!=P&&!G.isAncestor(P,O)){if(this._menu&&this._menu.getSubmenus){if(!N(this._menu.getSubmenus())){return;}}this._hideMenu();if(L.ie&&(L.ie<9)&&O.focus){O.setActive();}M.removeListener(document,\"mousedown\",this._onDocumentMouseDown);}},_onOption:function(N){if(this.hasClass(this.CLASS_NAME_PREFIX+\"split-button-activeoption\")){this._hideMenu();this._bOptionPressed=false;}else{this._showMenu(N);this._bOptionPressed=true;}},_onMenuShow:function(N){M.on(document,\"mousedown\",this._onDocumentMouseDown,null,this);var O=(this.get(\"type\")==\"split\")?\"activeoption\":\"active\";this.addStateCSSClasses(O);},_onMenuHide:function(N){var O=(this.get(\"type\")==\"split\")?\"activeoption\":\"active\";this.removeStateCSSClasses(O);if(this.get(\"type\")==\"split\"){this._bOptionPressed=false;}},_onMenuKeyDown:function(P,O){var N=O[0];if(M.getCharCode(N)==27){this.focus();if(this.get(\"type\")==\"split\"){this._bOptionPressed=false;}}},_onMenuRender:function(P){var S=this.get(\"element\"),O=S.parentNode,N=this._menu,R=N.element,Q=N.srcElement,T;if(O!=R.parentNode){O.appendChild(R);}this._renderedMenu=true;if(Q&&Q.nodeName.toLowerCase()===\"select\"&&Q.value){T=N.getItem(Q.selectedIndex);this.set(\"selectedMenuItem\",T,true);this._onSelectedMenuItemChange({newValue:T});}},_onMenuClick:function(O,N){var Q=N[1],P;if(Q){this.set(\"selectedMenuItem\",Q);P=this.get(\"srcelement\");if(P&&P.type==\"submit\"){this.submitForm();}this._hideMenu();}},_onSelectedMenuItemChange:function(O){var P=O.prevValue,Q=O.newValue,N=this.CLASS_NAME_PREFIX;if(P){G.removeClass(P.element,(N+\"button-selectedmenuitem\"));}if(Q){G.addClass(Q.element,(N+\"button-selectedmenuitem\"));}},_onLabelClick:function(N){this.focus();var O=this.get(\"type\");if(O==\"radio\"||O==\"checkbox\"){this.set(\"checked\",(!this.get(\"checked\")));}},createButtonElement:function(N){var P=this.NODE_NAME,O=document.createElement(P);O.innerHTML=\"<\"+P+' class=\"first-child\">'+(N==\"link\"?\"<a><\/a>\":'<button type=\"button\"><\/button>')+\"<\/\"+P+\">\";return O;},addStateCSSClasses:function(O){var P=this.get(\"type\"),N=this.CLASS_NAME_PREFIX;if(I.isString(O)){if(O!=\"activeoption\"&&O!=\"hoveroption\"){this.addClass(N+this.CSS_CLASS_NAME+(\"-\"+O));}this.addClass(N+P+(\"-button-\"+O));}},removeStateCSSClasses:function(O){var P=this.get(\"type\"),N=this.CLASS_NAME_PREFIX;if(I.isString(O)){this.removeClass(N+this.CSS_CLASS_NAME+(\"-\"+O));this.removeClass(N+P+(\"-button-\"+O));}},createHiddenFields:function(){this.removeHiddenFields();var V=this.getForm(),Z,O,S,X,Y,T,U,N,R,W,P,Q=false;if(V&&!this.get(\"disabled\")){O=this.get(\"type\");S=(O==\"checkbox\"||O==\"radio\");if((S&&this.get(\"checked\"))||(E==this)){Z=F((S?O:\"hidden\"),this.get(\"name\"),this.get(\"value\"),this.get(\"checked\"));if(Z){if(S){Z.style.display=\"none\";}V.appendChild(Z);}}X=this._menu;if(J&&X&&(X instanceof J)){Y=this.get(\"selectedMenuItem\");P=X.srcElement;Q=(P&&P.nodeName.toUpperCase()==\"SELECT\");if(Y){U=(Y.value===null||Y.value===\"\")?Y.cfg.getProperty(\"text\"):Y.value;T=this.get(\"name\");if(Q){W=P.name;}else{if(T){W=(T+\"_options\");}}if(U&&W){N=F(\"hidden\",W,U);V.appendChild(N);}}else{if(Q){N=V.appendChild(P);}}}if(Z&&N){this._hiddenFields=[Z,N];}else{if(!Z&&N){this._hiddenFields=N;}else{if(Z&&!N){this._hiddenFields=Z;}}}R=this._hiddenFields;}return R;},removeHiddenFields:function(){var Q=this._hiddenFields,O,P;function N(R){if(G.inDocument(R)){R.parentNode.removeChild(R);}}if(Q){if(I.isArray(Q)){O=Q.length;if(O>0){P=O-1;do{N(Q[P]);}while(P--);}}else{N(Q);}this._hiddenFields=null;}},submitForm:function(){var Q=this.getForm(),P=this.get(\"srcelement\"),O=false,N;if(Q){if(this.get(\"type\")==\"submit\"||(P&&P.type==\"submit\")){E=this;}if(L.ie&&(L.ie<9)){O=Q.fireEvent(\"onsubmit\");}else{N=document.createEvent(\"HTMLEvents\");N.initEvent(\"submit\",true,true);O=Q.dispatchEvent(N);}if((L.ie||L.webkit)&&O){Q.submit();}}return O;},init:function(P,d){var V=d.type==\"link\"?\"a\":\"button\",a=d.srcelement,S=P.getElementsByTagName(V)[0],U;if(!S){U=P.getElementsByTagName(\"input\")[0];if(U){S=document.createElement(\"button\");S.setAttribute(\"type\",\"button\");U.parentNode.replaceChild(S,U);}}this._button=S;YAHOO.widget.Button.superclass.init.call(this,P,d);var T=this.get(\"id\"),Z=T+\"-button\";S.id=Z;var X,Q;var e=function(f){return(f.htmlFor===T);};var c=function(){Q.setAttribute((L.ie?\"htmlFor\":\"for\"),Z);};if(a&&this.get(\"type\")!=\"link\"){X=G.getElementsBy(e,\"label\");if(I.isArray(X)&&X.length>0){Q=X[0];}}D[T]=this;var b=this.CLASS_NAME_PREFIX;this.addClass(b+this.CSS_CLASS_NAME);this.addClass(b+this.get(\"type\")+\"-button\");M.on(this._button,\"focus\",this._onFocus,null,this);this.on(\"mouseover\",this._onMouseOver);this.on(\"mousedown\",this._onMouseDown);","9","this.on(\"mouseup\",this._onMouseUp);this.on(\"click\",this._onClick);var R=this.get(\"onclick\");this.set(\"onclick\",null);this.set(\"onclick\",R);this.on(\"dblclick\",this._onDblClick);var O;if(Q){if(this.get(\"replaceLabel\")){this.set(\"label\",Q.innerHTML);O=Q.parentNode;O.removeChild(Q);}else{this.on(\"appendTo\",c);M.on(Q,\"click\",this._onLabelClick,null,this);this._label=Q;}}this.on(\"appendTo\",this._onAppendTo);var N=this.get(\"container\"),Y=this.get(\"element\"),W=G.inDocument(Y);if(N){if(a&&a!=Y){O=a.parentNode;if(O){O.removeChild(a);}}if(I.isString(N)){M.onContentReady(N,this.appendTo,N,this);}else{this.on(\"init\",function(){I.later(0,this,this.appendTo,N);});}}else{if(!W&&a&&a!=Y){O=a.parentNode;if(O){this.fireEvent(\"beforeAppendTo\",{type:\"beforeAppendTo\",target:O});O.replaceChild(Y,a);this.fireEvent(\"appendTo\",{type:\"appendTo\",target:O});}}else{if(this.get(\"type\")!=\"link\"&&W&&a&&a==Y){this._addListenersToForm();}}}this.fireEvent(\"init\",{type:\"init\",target:this});},initAttributes:function(O){var N=O||{};YAHOO.widget.Button.superclass.initAttributes.call(this,N);this.setAttributeConfig(\"type\",{value:(N.type||\"push\"),validator:I.isString,writeOnce:true,method:this._setType});this.setAttributeConfig(\"label\",{value:N.label,validator:I.isString,method:this._setLabel});this.setAttributeConfig(\"value\",{value:N.value});this.setAttributeConfig(\"name\",{value:N.name,validator:I.isString});this.setAttributeConfig(\"tabindex\",{value:N.tabindex,validator:I.isNumber,method:this._setTabIndex});this.configureAttribute(\"title\",{value:N.title,validator:I.isString,method:this._setTitle});this.setAttributeConfig(\"disabled\",{value:(N.disabled||false),validator:I.isBoolean,method:this._setDisabled});this.setAttributeConfig(\"href\",{value:N.href,validator:I.isString,method:this._setHref});this.setAttributeConfig(\"target\",{value:N.target,validator:I.isString,method:this._setTarget});this.setAttributeConfig(\"checked\",{value:(N.checked||false),validator:I.isBoolean,method:this._setChecked});this.setAttributeConfig(\"container\",{value:N.container,writeOnce:true});this.setAttributeConfig(\"srcelement\",{value:N.srcelement,writeOnce:true});this.setAttributeConfig(\"menu\",{value:null,method:this._setMenu,writeOnce:true});this.setAttributeConfig(\"lazyloadmenu\",{value:(N.lazyloadmenu===false?false:true),validator:I.isBoolean,writeOnce:true});this.setAttributeConfig(\"menuclassname\",{value:(N.menuclassname||(this.CLASS_NAME_PREFIX+\"button-menu\")),validator:I.isString,method:this._setMenuClassName,writeOnce:true});this.setAttributeConfig(\"menuminscrollheight\",{value:(N.menuminscrollheight||90),validator:I.isNumber});this.setAttributeConfig(\"menumaxheight\",{value:(N.menumaxheight||0),validator:I.isNumber});this.setAttributeConfig(\"menualignment\",{value:(N.menualignment||[\"tl\",\"bl\"]),validator:I.isArray});this.setAttributeConfig(\"selectedMenuItem\",{value:null});this.setAttributeConfig(\"onclick\",{value:N.onclick,method:this._setOnClick});this.setAttributeConfig(\"focusmenu\",{value:(N.focusmenu===false?false:true),validator:I.isBoolean});this.setAttributeConfig(\"replaceLabel\",{value:false,validator:I.isBoolean,writeOnce:true});},focus:function(){if(!this.get(\"disabled\")){try{this._button.focus();}catch(N){}}},blur:function(){if(!this.get(\"disabled\")){try{this._button.blur();}catch(N){}}},hasFocus:function(){return(C==this);},isActive:function(){return this.hasClass(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME+\"-active\");},getMenu:function(){return this._menu;},getForm:function(){var N=this._button,O;if(N){O=N.form;}return O;},getHiddenFields:function(){return this._hiddenFields;},destroy:function(){var P=this.get(\"element\"),N=this._menu,T=this._label,O,S;if(N){if(K&&K.find(N)){K.remove(N);}N.destroy();}M.purgeElement(P);M.purgeElement(this._button);M.removeListener(document,\"mouseup\",this._onDocumentMouseUp);M.removeListener(document,\"keyup\",this._onDocumentKeyUp);M.removeListener(document,\"mousedown\",this._onDocumentMouseDown);if(T){M.removeListener(T,\"click\",this._onLabelClick);O=T.parentNode;O.removeChild(T);}var Q=this.getForm();if(Q){M.removeListener(Q,\"reset\",this._onFormReset);M.removeListener(Q,\"submit\",this._onFormSubmit);}this.unsubscribeAll();O=P.parentNode;if(O){O.removeChild(P);}delete D[this.get(\"id\")];var R=(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME);S=G.getElementsByClassName(R,this.NODE_NAME,Q);if(I.isArray(S)&&S.length===0){M.removeListener(Q,\"keypress\",YAHOO.widget.Button.onFormKeyPress);}},fireEvent:function(O,N){var P=arguments[0];if(this.DOM_EVENTS[P]&&this.get(\"disabled\")){return false;}return YAHOO.widget.Button.superclass.fireEvent.apply(this,arguments);},toString:function(){return(\"Button \"+this.get(\"id\"));}});YAHOO.widget.Button.onFormKeyPress=function(R){var P=M.getTarget(R),S=M.getCharCode(R),Q=P.nodeName&&P.nodeName.toUpperCase(),N=P.type,T=false,V,X,O,W;function U(a){var Z,Y;switch(a.nodeName.toUpperCase()){case\"INPUT\":case\"BUTTON\":if(a.type==\"submit\"&&!a.disabled){if(!T&&!O){O=a;}}break;default:Z=a.id;if(Z){V=D[Z];if(V){T=true;if(!V.get(\"disabled\")){Y=V.get(\"srcelement\");if(!X&&(V.get(\"type\")==\"submit\"||(Y&&Y.type==\"submit\"))){X=V;}}}}break;}}if(S==13&&((Q==\"INPUT\"&&(N==\"text\"||N==\"password\"||N==\"checkbox\"||N==\"radio\"||N==\"file\"))||Q==\"SELECT\")){G.getElementsBy(U,\"*\",this);if(O){O.focus();}else{if(!O&&X){M.preventDefault(R);if(L.ie){X.get(\"element\").fireEvent(\"onclick\");}else{W=document.createEvent(\"HTMLEvents\");W.initEvent(\"click\",true,true);if(L.gecko<1.9){X.fireEvent(\"click\",W);}else{X.get(\"element\").dispatchEvent(W);}}}}}};YAHOO.widget.Button.addHiddenFieldsToForm=function(N){var R=YAHOO.widget.Button.prototype,T=G.getElementsByClassName((R.CLASS_NAME_PREFIX+R.CSS_CLASS_NAME),\"*\",N),Q=T.length,S,O,P;if(Q>0){for(P=0;P<Q;P++){O=T[P].id;if(O){S=D[O];if(S){S.createHiddenFields();}}}}};YAHOO.widget.Button.getButton=function(N){return D[N];};})();(function(){var C=YAHOO.util.Dom,B=YAHOO.util.Event,D=YAHOO.lang,A=YAHOO.widget.Button,E={};YAHOO.widget.ButtonGroup=function(J,H){var I=YAHOO.widget.ButtonGroup.superclass.constructor,K,G,F;","10","if(arguments.length==1&&!D.isString(J)&&!J.nodeName){if(!J.id){F=C.generateId();J.id=F;}I.call(this,(this._createGroupElement()),J);}else{if(D.isString(J)){G=C.get(J);if(G){if(G.nodeName.toUpperCase()==this.NODE_NAME){I.call(this,G,H);}}}else{K=J.nodeName.toUpperCase();if(K&&K==this.NODE_NAME){if(!J.id){J.id=C.generateId();}I.call(this,J,H);}}}};YAHOO.extend(YAHOO.widget.ButtonGroup,YAHOO.util.Element,{_buttons:null,NODE_NAME:\"DIV\",CLASS_NAME_PREFIX:\"yui-\",CSS_CLASS_NAME:\"buttongroup\",_createGroupElement:function(){var F=document.createElement(this.NODE_NAME);return F;},_setDisabled:function(G){var H=this.getCount(),F;if(H>0){F=H-1;do{this._buttons[F].set(\"disabled\",G);}while(F--);}},_onKeyDown:function(K){var G=B.getTarget(K),I=B.getCharCode(K),H=G.parentNode.parentNode.id,J=E[H],F=-1;if(I==37||I==38){F=(J.index===0)?(this._buttons.length-1):(J.index-1);}else{if(I==39||I==40){F=(J.index===(this._buttons.length-1))?0:(J.index+1);}}if(F>-1){this.check(F);this.getButton(F).focus();}},_onAppendTo:function(H){var I=this._buttons,G=I.length,F;for(F=0;F<G;F++){I[F].appendTo(this.get(\"element\"));}},_onButtonCheckedChange:function(G,F){var I=G.newValue,H=this.get(\"checkedButton\");if(I&&H!=F){if(H){H.set(\"checked\",false,true);}this.set(\"checkedButton\",F);this.set(\"value\",F.get(\"value\"));}else{if(H&&!H.set(\"checked\")){H.set(\"checked\",true,true);}}},init:function(I,H){this._buttons=[];YAHOO.widget.ButtonGroup.superclass.init.call(this,I,H);this.addClass(this.CLASS_NAME_PREFIX+this.CSS_CLASS_NAME);var K=(YAHOO.widget.Button.prototype.CLASS_NAME_PREFIX+\"radio-button\"),J=this.getElementsByClassName(K);if(J.length>0){this.addButtons(J);}function F(L){return(L.type==\"radio\");}J=C.getElementsBy(F,\"input\",this.get(\"element\"));if(J.length>0){this.addButtons(J);}this.on(\"keydown\",this._onKeyDown);this.on(\"appendTo\",this._onAppendTo);var G=this.get(\"container\");if(G){if(D.isString(G)){B.onContentReady(G,function(){this.appendTo(G);},null,this);}else{this.appendTo(G);}}},initAttributes:function(G){var F=G||{};YAHOO.widget.ButtonGroup.superclass.initAttributes.call(this,F);this.setAttributeConfig(\"name\",{value:F.name,validator:D.isString});this.setAttributeConfig(\"disabled\",{value:(F.disabled||false),validator:D.isBoolean,method:this._setDisabled});this.setAttributeConfig(\"value\",{value:F.value});this.setAttributeConfig(\"container\",{value:F.container,writeOnce:true});this.setAttributeConfig(\"checkedButton\",{value:null});},addButton:function(J){var L,K,G,F,H,I;if(J instanceof A&&J.get(\"type\")==\"radio\"){L=J;}else{if(!D.isString(J)&&!J.nodeName){J.type=\"radio\";L=new A(J);}else{L=new A(J,{type:\"radio\"});}}if(L){F=this._buttons.length;H=L.get(\"name\");I=this.get(\"name\");L.index=F;this._buttons[F]=L;E[L.get(\"id\")]=L;if(H!=I){L.set(\"name\",I);}if(this.get(\"disabled\")){L.set(\"disabled\",true);}if(L.get(\"checked\")){this.set(\"checkedButton\",L);}K=L.get(\"element\");G=this.get(\"element\");if(K.parentNode!=G){G.appendChild(K);}L.on(\"checkedChange\",this._onButtonCheckedChange,L,this);}return L;},addButtons:function(G){var H,I,J,F;if(D.isArray(G)){H=G.length;J=[];if(H>0){for(F=0;F<H;F++){I=this.addButton(G[F]);if(I){J[J.length]=I;}}}}return J;},removeButton:function(H){var I=this.getButton(H),G,F;if(I){this._buttons.splice(H,1);delete E[I.get(\"id\")];I.removeListener(\"checkedChange\",this._onButtonCheckedChange);I.destroy();G=this._buttons.length;if(G>0){F=this._buttons.length-1;do{this._buttons[F].index=F;}while(F--);}}},getButton:function(F){return this._buttons[F];},getButtons:function(){return this._buttons;},getCount:function(){return this._buttons.length;},focus:function(H){var I,G,F;if(D.isNumber(H)){I=this._buttons[H];if(I){I.focus();}}else{G=this.getCount();for(F=0;F<G;F++){I=this._buttons[F];if(!I.get(\"disabled\")){I.focus();break;}}}},check:function(F){var G=this.getButton(F);if(G){G.set(\"checked\",true);}},destroy:function(){var I=this._buttons.length,H=this.get(\"element\"),F=H.parentNode,G;if(I>0){G=this._buttons.length-1;do{this._buttons[G].destroy();}while(G--);}B.purgeElement(H);F.removeChild(H);},toString:function(){return(\"ButtonGroup \"+this.get(\"id\"));}});})();YAHOO.register(\"button\",YAHOO.widget.Button,{version:\"2.9.0\",build:\"2800\"});"]}]}},"aeb6ad951ee0305e390752eff4a36609b0dcee29":{"changes":{"core\/src\/main\/java\/hudson\/PluginWrapper.java":"MODIFY","core\/src\/main\/resources\/hudson\/Messages.properties":"MODIFY","core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message.jelly":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/PluginWrapper.java":[{"add":["28","import hudson.model.AdministrativeMonitor;","56","import org.kohsuke.stapler.StaplerRequest;","57","import org.kohsuke.stapler.StaplerResponse;","565","                NOTICE.addErrorMessage(Messages.PluginWrapper_admonitor_MissingDependency(getLongName(), d.shortName));","570","                        NOTICE.addErrorMessage(Messages.PluginWrapper_admonitor_ObsoleteDependency(getLongName(), dependency.getLongName(), d.version));","574","                    NOTICE.addErrorMessage(Messages.PluginWrapper_admonitor_DisabledDependency(getLongName(), dependency.getLongName()));","585","                    NOTICE.addErrorMessage(Messages.PluginWrapper_admonitor_ObsoleteDependency(getLongName(), dependency.getLongName(), d.version));","621","            NOTICE.addErrorMessage(Messages.PluginWrapper_admonitor_OutdatedCoreVersion(getLongName(), requiredCoreVersion));","735","    @Extension","736","    public final static PluginWrapperAdministrativeMonitor NOTICE = new PluginWrapperAdministrativeMonitor();","737","","738","    \/**","739","     * Administrative Monitor for failed plugins","740","     *\/","741","    public static final class PluginWrapperAdministrativeMonitor extends AdministrativeMonitor {","742","        public final List<String> pluginError = new ArrayList<>();","743","","744","        void addErrorMessage(String error) {","745","            pluginError.add(error);","746","        }","747","","748","        public boolean isActivated() {","749","            return !pluginError.isEmpty();","750","        }","751","","752","        \/**","753","         * Depending on whether the user said \"dismiss\" or \"correct\", send him to the right place.","754","         *\/","755","        public void doAct(StaplerRequest req, StaplerResponse rsp) throws IOException {","756","            if(req.hasParameter(\"correct\")) {","757","                rsp.sendRedirect(req.getContextPath()+\"\/pluginManager\");","758","","759","            }","760","        }","761","","762","        public static PluginWrapperAdministrativeMonitor get() {","763","            return AdministrativeMonitor.all().get(PluginWrapperAdministrativeMonitor.class);","764","        }","765","    }","766",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/Messages.properties":[{"add":["75","PluginWrapper.admonitor.OutdatedCoreVersion=Plugin {0} requires Jenkins {1} or later","76","PluginWrapper.admonitor.MissingDependency=Plugin {0} requires the missing plugin {1}","77","PluginWrapper.admonitor.DisabledDependency=Plugin {0} depends on the disabled {1}","78","PluginWrapper.admonitor.ObsoleteDependency=Plugin {0} requires {1} {2} or later"],"delete":[]}],"core\/src\/main\/resources\/hudson\/PluginWrapper\/PluginWrapperAdministrativeMonitor\/message.jelly":[{"add":[],"delete":[]}]}},"a6e1b0bebfe9dc46b3c919c917a1be4438207af7":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/scriptConsole.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/scriptConsole.jelly":[{"add":["28","<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"\/lib\/layout\" xmlns:f=\"\/lib\/form\">","33","      <j:choose>","34","        <j:when test=\"${it.icon == null}\">","35","          <j:set var=\"icon\" value=\"notepad.png\"\/>","36","        <\/j:when>","37","        <j:otherwise>","38","          <j:set var=\"icon\" value=\"${it.icon}\"\/>","39","        <\/j:otherwise>","40","      <\/j:choose>","41","      <h1><img src=\"${imagesURL}\/48x48\/${icon}\" width=\"48\" height=\"48\" alt=\"\"\/> ${%Script Console}<\/h1>"],"delete":["28","<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"\/lib\/layout\" xmlns:t=\"\/lib\/hudson\" xmlns:f=\"\/lib\/form\">","33","      <h1><img src=\"${imagesURL}\/48x48\/${it.icon}\" width=\"48\" height=\"48\" alt=\"\"\/> ${%Script Console}<\/h1>"]}]}},"8881703f7c7351695c5d5b2662faefae60de68e8":{"changes":{"core\/src\/main\/java\/hudson\/model\/Descriptor.java":"MODIFY","core\/src\/main\/resources\/lib\/form\/class-entry.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Descriptor.java":[{"add":["911","                Descriptor<T> d = null;","912","                String kind = jo.optString(\"kind\", null);","913","                if (kind != null) {","914","                    d = find(descriptors, kind);","916","                if (d == null) {","917","                  kind = jo.getString(\"$class\");","918","                  d = find(descriptors, kind);","919","                }","922","                } else {","923","                    LOGGER.warning(\"Received unexpected formData for descriptor \" + kind);"],"delete":["911","                String kind = jo.optString(\"$class\", null);","912","                if (kind == null) {","913","                  \/\/ Legacy: Remove once plugins have been staged onto $class","914","                  kind = jo.getString(\"kind\");","916","                Descriptor<T> d = find(descriptors, kind);"]}],"core\/src\/main\/resources\/lib\/form\/class-entry.jelly":[{"add":["41","    <!-- Legacy: Remove once plugins have been staged onto $class -->","42","    <input type=\"hidden\" name=\"stapler-class\" value=\"${clazz}\" \/>","45","<\/j:jelly>"],"delete":["38","    <!-- Legacy: Remove once plugins have been staged onto $class -->","39","    <input type=\"hidden\" name=\"stapler-class\" value=\"${clazz}\" \/>","40","    <!-- Legacy: Remove once plugins have been staged onto $class -->","46","<\/j:jelly>"]}]}},"aef641827cc526be8786287520fd143c8b1f9a9f":{"changes":{"core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResultAction\/summary.jelly":"MODIFY","core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Item.java":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/test\/MatrixTestResult\/index.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResultAction\/summary.jelly":[{"add":["40","            <a href=\"${it.urlName}\/${testObject.getRelativePathFrom(null)}\">"],"delete":["40","            <a href=\"${build.absoluteUrl}${build.testResultAction.urlName}\/${testObject.getRelativePathFrom(null)}\">"]}],"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["457","    \/**","458","     * Obtains the absolute URL to this build.","459","     *","460","     * @deprecated","461","     *      This method shall <b>NEVER<\/b> be used during HTML page rendering, as it won't work with","462","     *      network set up like Apache reverse proxy.","463","     *      This method is only intended for the remote API clients who cannot resolve relative references","464","     *      (even this won't work for the same reason, which should be fixed.)","465","     *\/"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Item.java":[{"add":["127","     *","128","     * @deprecated","129","     *      This method shall <b>NEVER<\/b> be used during HTML page rendering, as it won't work with","130","     *      network set up like Apache reverse proxy.","131","     *      This method is only intended for the remote API clients who cannot resolve relative references","132","     *      (even this won't work for the same reason, which should be fixed.)"],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MatrixTestResult\/index.jelly":[{"add":["19","              <a href=\"..\/${report.child.project.shortUrl}\">${report.child.project.name}<\/a>","51","            <a href=\"..\/${report.child.project.shortUrl}\">${report.child.project.name}<\/a>","63","                  <a href=\"..\/${report.child.project.shortUrl}\/testReport\/${f.getRelativePathFrom(report.result)}\">"],"delete":["19","              <a href=\"${report.child.absoluteUrl}\">${report.child.project.name}<\/a>","51","            <a href=\"${report.child.absoluteUrl}\">${report.child.project.name}<\/a>","63","                  <a href=\"${report.child.absoluteUrl}\/testReport\/${f.getRelativePathFrom(report.result)}\">"]}]}},"0725d2765da789e02914deb4893a449eeda6a820":{"changes":{"core\/src\/main\/java\/hudson\/util\/DirScanner.java":"MODIFY","core\/src\/test\/java\/hudson\/util\/DirScannerTest.java":"ADD","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/DirScanner.java":[{"add":["85","        private boolean useDefaultExcludes = true;","86","","92","        public Glob(String includes, String excludes, boolean useDefaultExcludes) {","93","            this(includes, excludes);","94","            this.useDefaultExcludes = useDefaultExcludes;","95","        }","96","","105","            fs.setDefaultexcludes(useDefaultExcludes);"],"delete":[]}],"core\/src\/test\/java\/hudson\/util\/DirScannerTest.java":[{"add":[],"delete":[]}],"changelog.html":[{"add":["58","    Ant's default exclusion was preventing plugins from archiving some files.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-13165\">issue 13165<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"dacf6f3271f744c8d72ade21c59e463233f93c35":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["49","   (<a href=\"http:\/\/issues.hudson-ci.org\/browse\/HUDSON-8395\">issue 8395<\/a>)  ","50","  <li class=bug> POMs parsing fails in m2 projects which has a wrong inheritence (m3 constraint).","51","   (<a href=\"http:\/\/issues.hudson-ci.org\/browse\/HUDSON-8390\">issue 8390<\/a>)      "],"delete":["49","   (<a href=\"http:\/\/issues.hudson-ci.org\/browse\/HUDSON-8395\">issue 8395<\/a>)    "]}]}},"5b7d59a71aa01d0c430d98d0b6879c3662a6248b":{"changes":{"changelog.html":"MODIFY","pom.xml":"MODIFY"},"diff":{"changelog.html":[{"add":["57","  <li class=\"bug\">","58","    Fixed a file descriptor leak with CLI connections","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-23248\">issue 23248<\/a>)"],"delete":["57","  <li class=>"]}],"pom.xml":[{"add":["174","        <version>2.44<\/version>"],"delete":["174","        <version>2.43<\/version>"]}]}},"a6b3205b338a4e70a44ebe36b197a74b94e4618d":{"changes":{"core\/src\/main\/java\/hudson\/model\/AllView.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractModelObject\/descriptionForm.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AllView.java":[{"add":["75","    public synchronized void doSubmitDescription( StaplerRequest req, StaplerResponse rsp ) throws IOException, ServletException {","76","        checkPermission(Hudson.ADMINISTER);","77","","78","        req.setCharacterEncoding(\"UTF-8\");","79","        Hudson.getInstance().setSystemMessage(req.getParameter(\"description\"));","80","        rsp.sendRedirect(\".\");","81","    }","82","","83","    @Override"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["2350","        getPrimaryView().doSubmitDescription(req,rsp);"],"delete":["2350","        checkPermission(ADMINISTER);","2351","","2352","        req.setCharacterEncoding(\"UTF-8\");","2353","        systemMessage = req.getParameter(\"description\");","2354","        save();","2355","        rsp.sendRedirect(\".\");"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractModelObject\/descriptionForm.jelly":[{"add":["28","  <j:if test=\"${it.class.name=='hudson.model.Hudson'}\">","29","    <j:set var=\"it\" value=\"${it.primaryView}\"\/>","30","  <\/j:if>","39","<\/j:jelly>"],"delete":["36","<\/j:jelly>"]}]}},"85a66a1eeae60b555a7f9e6cb09cec0f0e5accb6":{"changes":{"\/dev\/null":"DELETE","core\/src\/main\/resources\/lib\/hudson\/buildStatusSummary.jelly":"ADD"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/buildStatusSummary.jelly":[{"add":[],"delete":[]}]}},"7948315142cd8ac82ee69ab42416ea8af574860b":{"changes":{"test\/src\/test\/java\/jenkins\/util\/SystemPropertiesTest.java":"MODIFY","war\/src\/main\/webapp\/WEB-INF\/web.xml":"MODIFY","core\/src\/main\/java\/jenkins\/util\/SystemProperties.java":"MODIFY"},"diff":{"test\/src\/test\/java\/jenkins\/util\/SystemPropertiesTest.java":[{"add":["48","        new SystemProperties.Listener().contextInitialized(new ServletContextEvent(j.jenkins.servletContext));"],"delete":["48","        new SystemProperties().contextInitialized(new ServletContextEvent(j.jenkins.servletContext));"]}],"war\/src\/main\/webapp\/WEB-INF\/web.xml":[{"add":["155","    <listener-class>jenkins.util.SystemProperties$Listener<\/listener-class>"],"delete":["155","    <listener-class>jenkins.util.SystemProperties<\/listener-class>"]}],"core\/src\/main\/java\/jenkins\/util\/SystemProperties.java":[{"add":["68","public class SystemProperties {","70","    \/\/ declared in WEB-INF\/web.xml","71","    public static final class Listener implements ServletContextListener, OnMaster {","72","","73","        \/**","74","         * The ServletContext to get the \"init\" parameters from.","75","         *\/","76","        @CheckForNull","77","        private static ServletContext theContext;","78","","79","        \/**","80","         * Called by the servlet container to initialize the {@link ServletContext}.","81","         *\/","82","        @Override","83","        @SuppressFBWarnings(value = \"ST_WRITE_TO_STATIC_FROM_INSTANCE_METHOD\",","84","                justification = \"Currently Jenkins instance may have one ond only one context\")","85","        public void contextInitialized(ServletContextEvent event) {","86","            theContext = event.getServletContext();","87","        }","88","","89","        @Override","90","        public void contextDestroyed(ServletContextEvent event) {","91","            theContext = null;","92","        }","93","","94","    }","101","    private SystemProperties() {}","380","        if (!JenkinsJVM.isJenkinsJVM()) {","381","            return null;","382","        }","383","        return doTryGetValueFromContext(key);","384","    }","385","","386","    private static String doTryGetValueFromContext(String key) {","387","        if (StringUtils.isNotBlank(key) && Listener.theContext != null) {","389","                String value = Listener.theContext.getInitParameter(key);"],"delete":["26","import edu.umd.cs.findbugs.annotations.Nullable;","69","public class SystemProperties implements ServletContextListener, OnMaster {","70","    \/\/ this class implements ServletContextListener and is declared in WEB-INF\/web.xml","72","    \/**","73","     * The ServletContext to get the \"init\" parameters from.","74","     *\/","75","    @CheckForNull","76","    private static ServletContext theContext;","83","    \/**","84","     * Public for the servlet container.","85","     *\/","86","    public SystemProperties() {}","87","","88","    \/**","89","     * Called by the servlet container to initialize the {@link ServletContext}.","90","     *\/","91","    @Override","92","    @SuppressFBWarnings(value = \"ST_WRITE_TO_STATIC_FROM_INSTANCE_METHOD\",","93","            justification = \"Currently Jenkins instance may have one ond only one context\")","94","    public void contextInitialized(ServletContextEvent event) {","95","        theContext = event.getServletContext();","96","    }","375","        if (StringUtils.isNotBlank(key) && theContext != null) {","377","                String value = theContext.getInitParameter(key);","389","    @Override","390","    public void contextDestroyed(ServletContextEvent event) {","391","        \/\/ nothing to do","392","    }"]}]}},"f49d6258451155c716976d7af5433c0fde7fe890":{"changes":{"changelog.html":"MODIFY","pom.xml":"MODIFY","core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"changelog.html":[{"add":["57","  <li class=bug>","58","    Fixed a synchronization problem between master\/slave data communication.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-11251\">issue 11251<\/a>)"],"delete":[]}],"pom.xml":[{"add":["191","        <version>2.16<\/version>"],"delete":["191","        <version>2.13<\/version>"]}],"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["1458","     *","1459","     * <P>","1460","     * I\/O operation to remote {@link FilePath} happens asynchronously, meaning write operations to the returned","1461","     * {@link OutputStream} will return without receiving a confirmation from the remote that the write happened.","1462","     * I\/O operations also happens asynchronously from the {@link Channel#call(Callable)} operations, so if","1463","     * you write to a remote file and then execute {@link Channel#call(Callable)} and try to access the newly copied","1464","     * file, it might not be fully written yet.","1465","     *","1466","     * <p>","1467","     *","1608","        \/\/ make sure the writes fully got delivered to 'os' before we return.","1609","        \/\/ this is needed because I\/O operation is asynchronous","1613","    \/**","1614","     * With fix to JENKINS-11251 (remoting 2.15), this is no longer necessary.","1615","     * But I'm keeping it for a while so that users who manually deploy slave.jar has time to deploy new version","1616","     * before this goes away.","1617","     *\/"],"delete":["1598","        \/\/ make sure the write fully happens before we return."]}]}},"ec9d809ddd2ed6930d1bf970999b152c5debdaa4":{"changes":{"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/BuildAuthorizationToken.java":"MODIFY"},"diff":{"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":[{"add":["292","        wc.assertFails(\"eval\", HttpURLConnection.HTTP_BAD_METHOD);"],"delete":["292","        wc.assertFails(\"eval\", HttpURLConnection.HTTP_INTERNAL_ERROR);"]}],"changelog.html":[{"add":["62","  <li class=bug>","63","    When POST is required for some HTTP operation but GET was used, the response should have status code 405.","64","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16918\">issue 16918<\/a>)"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/BuildAuthorizationToken.java":[{"add":["33","import javax.servlet.http.HttpServletResponse;","87","        rsp.setStatus(HttpServletResponse.SC_METHOD_NOT_ALLOWED);","88","        rsp.addHeader(\"Allow\", \"POST\");"],"delete":[]}]}},"ddfeaf4e98cde8e09c81a758ca17f964eaca2c4d":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["90","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-22347\">issue 22347<\/a>)"],"delete":[]}]}},"b090751c16242402ad2187292e40f0f7bd5bbe10":{"changes":{"core\/src\/test\/java\/hudson\/scheduler\/CronTabTest.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/scheduler\/CronTabTest.java":[{"add":["282","    @Test public void rangeBoundsCheckOK() throws Exception {","283","        new CronTab(\"H(0-59) H(0-23) H(1-31) H(1-12) H(0-7)\");","284","    }","285","","286","    @Test public void rangeBoundsCheckFailHour() throws Exception {","287","        try {","288","            new CronTab(\"H H(12-24) * * *\");","289","            fail();","290","        } catch (ANTLRException e) {","291","            \/\/ ok","292","        }","293","    }","294","","295","    @Test public void rangeBoundsCheckFailMinute() throws Exception {","296","        try {","297","            new CronTab(\"H(33-66) * * * *\");","298","            fail();","299","        } catch (ANTLRException e) {","300","            \/\/ ok","301","        }","302","    }"],"delete":[]}]}},"ef588be4f264b5ba285110f472f031e2bd771c71":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["183","        <version>3.3<\/version>"],"delete":["183","        <version>3.2<\/version>"]}]}},"5f53febe9ba27de3f97ecde5552f905250183584":{"changes":{"changelog.html":"MODIFY","test\/src\/test\/java\/hudson\/maven\/MavenProjectTest.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/MavenSiteArchiver.java":"MODIFY"},"diff":{"changelog.html":[{"add":["67","  <li class=bug>","68","    Fixed NPE in site generation when building a single Maven module","69","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-7577\">issue 7577<\/a>)"],"delete":[]}],"test\/src\/test\/java\/hudson\/maven\/MavenProjectTest.java":[{"add":["26","","27","import java.io.File;","28","","29","import org.junit.Assert;","34","import com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException;","104","        ","105","        \/\/@Bug(7577): check that site generation succeeds also if only a single module is build","106","        MavenModule coreModule = project.getModule(\"mmtest:core\");","107","        Assert.assertEquals(\"site\", coreModule.getGoals());","108","        buildAndAssertSuccess(coreModule);","109","        wc.getPage(project, \"site\/core\");","111","    "],"delete":["25","import com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException;","31","import java.io.File;","102",""]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/MavenSiteArchiver.java":[{"add":["32","import hudson.maven.MavenModuleSetBuild;","102","     * @throws InterruptedException ","104","    private String getModuleName(MavenBuildProxy build, MavenProject pom) throws IOException, InterruptedException {","105","        String moduleRoot = build.execute(new BuildCallable<String, IOException>() {","106","            private static final long serialVersionUID = 1L;","107","","108","            \/\/@Override","109","            public String call(MavenBuild mavenBuild) throws IOException, InterruptedException {","110","                 MavenModuleSetBuild moduleSetBuild = mavenBuild.getModuleSetBuild();","111","                 if (moduleSetBuild == null) {","112","                     throw new IOException(\"Parent build not found!\"); ","113","                 }","114","                 return moduleSetBuild.getModuleRoot().getRemote();","115","            }","116","        });"],"delete":["102","    private String getModuleName(MavenBuildProxy build, MavenProject pom) throws IOException {","103","        final String moduleRoot;","104","        try {","105","            moduleRoot = build.execute(new BuildCallable<String, IOException>() {","106","                \/\/@Override","107","                public String call(MavenBuild mavenBuild) throws IOException, InterruptedException {","108","                    return mavenBuild.getParentBuild().getModuleRoot().getRemote();","109","                }","110","            });","111","        } catch (InterruptedException e) {","112","            throw new RuntimeException(e);","113","        }"]}]}},"8c5b9cd008a4d0fb30dc39d9ee1bd72b95b199f2":{"changes":{"core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["1414","                List<BlockedItem> blockedItems = new ArrayList<>(blockedProjects.values());"],"delete":["1414","                \/\/ TODO replace with <> operator after backporting to 1.609.3","1415","                List<BlockedItem> blockedItems = new ArrayList<BlockedItem>(blockedProjects.values());"]}]}},"d8eca0f5e7f8c57bf991039d8d255640547ed237":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["44","    <stapler.version>1.223<\/stapler.version>"],"delete":["44","    <stapler.version>1.222<\/stapler.version>"]}],"changelog.html":[{"add":["58","    Fixed \"java.lang.NoClassDefFoundError: JarURLConnection\" on OpenJDK","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-20163\">issue 20163<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"5ada903554a493fcfbc8e23c5c8d02bc50c17845":{"changes":{"core\/src\/main\/java\/hudson\/model\/RunMap.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/RunMap.java":[{"add":["188","        if (!r.getClass().getName().equals(\"hudson.matrix.MatrixRun\")) { \/\/ JENKINS-26739: grandfathered in","189","            proposeNewNumber(r.getNumber());","190","        }"],"delete":["188","        proposeNewNumber(r.getNumber());"]}]}},"7d5a2e3f367499af6f3be3fb4fe9137d8d00e053":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/BlockedBecauseOfBuildInProgress.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["1107","        public BecauseOfBuildInProgress(@Nonnull AbstractBuild<?, ?> build) {","1148","            final R lastBuild = getLastBuild();","1149","            if (lastBuild != null) {","1150","                return new BlockedBecauseOfBuildInProgress(lastBuild);","1151","            } else {","1152","                \/\/ The build has been likely deleted after the isLogUpdated() call.","1153","                \/\/ Another cause may be an API implemetation glit?h in the implementation for AbstractProject. ","1154","                \/\/ Anyway, we should let the code go then.","1155","                LOGGER.log(Level.FINE, \"The last build has been deleted during the non-concurrent cause creation. The build is not blocked anymore\");","1156","            }"],"delete":["1107","        public BecauseOfBuildInProgress(AbstractBuild<?, ?> build) {","1148","            return new BlockedBecauseOfBuildInProgress(getLastBuild());"]}],"core\/src\/main\/java\/jenkins\/model\/BlockedBecauseOfBuildInProgress.java":[{"add":["30","import javax.annotation.Nonnull;","39","    @Nonnull","42","    \/**","43","     * Creates a cause for the specified build.","44","     * @param build Build, which is already in progress","45","     *\/","46","    public BlockedBecauseOfBuildInProgress(@Nonnull Run<?, ?> build) {"],"delete":["40","    public BlockedBecauseOfBuildInProgress(Run<?, ?> build) {"]}]}},"b55337db16e52f1e1f326e4f3dbb452872200039":{"changes":{"core\/src\/main\/java\/hudson\/model\/ParameterizedProjectTask.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/ParametersDefinitionProperty.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ParameterizedProjectTask.java":[{"add":["8","import javax.servlet.ServletException;","9","","10","import org.kohsuke.stapler.StaplerRequest;","11","import org.kohsuke.stapler.StaplerResponse;","12","","22","    private static long COUNTER = System.currentTimeMillis(); ","23","","24","    \/**","25","     * Used for identifying the task in the queue","26","     *\/","27","    private final String key = Long.toString(COUNTER++);","28","","34","    ","35","    public AbstractProject<?, ?> getProject() {","36","\t\treturn project;","37","\t}","39","\tpublic List<ParameterValue> getParameters() {","40","\t\treturn parameters;","41","\t}","42","","43","\t@Override","50","\t","51","    \/**","52","     * Cancels a scheduled build.","53","     *\/","54","    public void doCancelQueue( StaplerRequest req, StaplerResponse rsp ) throws IOException, ServletException {","55","        project.checkPermission(AbstractProject.BUILD);","56","","57","        Hudson.getInstance().getQueue().cancel(this);","58","        rsp.forwardToPreviousPage(req);","59","    }","60","\t","92","    ","93","    public String getUrl() {","94","    \treturn getProject().getUrl() + \"\/parameters\/queued\/\" + key + \"\/\";","95","    }","96","","97","\tpublic String getQueueKey() {","98","\t\treturn key;","99","\t}"],"delete":["23","    @Override"]}],"core\/src\/main\/java\/hudson\/model\/ParametersDefinitionProperty.java":[{"add":["162","    ","163","    public ParameterizedProjectTask getQueued(String key) {","164","    \tQueue.Item[] items = Hudson.getInstance().getQueue().getItems();","165","    \tfor (Queue.Item item: items) {","166","    \t\tif (item.task instanceof ParameterizedProjectTask) {","167","    \t\t\tParameterizedProjectTask ppt = (ParameterizedProjectTask) item.task;","168","\t\t\t\tif (ppt.getProject() == owner && ppt.getQueueKey().equals(key)) {","169","    \t\t\t\treturn ppt;","170","    \t\t\t}","171","    \t\t}","172","    \t}","173","    \treturn null;","174","    }"],"delete":["162",""]}],"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["2","import hudson.BulkChange;","10","import hudson.util.XStream2;","26","import java.util.NoSuchElementException;","34","import javax.servlet.ServletException;","37","import org.kohsuke.stapler.StaplerRequest;","38","import org.kohsuke.stapler.StaplerResponse;","750","        ","751","        \/**","752","         * The relative url for this task","753","         *\/","754","        String getUrl();","755","        ","756","        \/**","757","         * Called from queue.jelly.","758","         *\/","759","        void doCancelQueue( StaplerRequest req, StaplerResponse rsp ) throws IOException, ServletException;"],"delete":["4","import hudson.BulkChange;","9","import hudson.util.XStream2;","28","import java.util.NoSuchElementException;"]}]}},"07884f7cc1a19d317a2726cdf953b29268398afa":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["62","<p>","63","  <b class=\"color:red\">Warning!<\/b> This release is not recommended for use due to ","64","  <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-39535\">issue 39555<\/a>","65","  and <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-39414\">issue 39414<\/a>.","66","  We are working on the out-of-order release (<a href=\"https:\/\/groups.google.com\/forum\/#!topic\/jenkinsci-dev\/kceM9T8NEdg\">discussion<\/a>).","67","<\/p>","68","<ul class=image>  "],"delete":["62","<ul class=image>"]}]}},"6c7339afb467e7b0a1fe849721e791dd4f654cf4":{"changes":{"core\/src\/main\/java\/jenkins\/util\/AntClassLoader.java":"MODIFY","test\/src\/test\/java\/jenkins\/util\/AntClassLoaderTest.java":"ADD","test\/src\/test\/resources\/plugins\/loads-resource.jpi":"ADD"},"diff":{"core\/src\/main\/java\/jenkins\/util\/AntClassLoader.java":[{"add":["747","            InputStream stream = getResourceStream(pathComponent, name);","748","            if (stream != null) {","749","                return stream;","750","            }","752","        return null;"],"delete":["746","        InputStream stream = null;","747","","749","            stream = getResourceStream(pathComponent, name);","751","        return stream;"]}],"test\/src\/test\/java\/jenkins\/util\/AntClassLoaderTest.java":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/plugins\/loads-resource.jpi":[{"add":[],"delete":[]}]}},"9c96f3dcca1784094f28ccd6df6abed1d229a1d4":{"changes":{"debian\/debian\/jenkins.default":"MODIFY","changelog.html":"MODIFY"},"diff":{"debian\/debian\/jenkins.default":[{"add":["42","#   027 makes files read-only for group and inaccessible for others, which some security sensitive users","43","#   might consider benefitial, especially if Jenkins runs in a box that's used for multiple purposes.","44","#   Beware that 027 permission would interfere with sudo scripts that run on the master (JENKINS-25065.)","45","#","46","#   Note also that the particularly sensitive part of $JENKINS_HOME (such as credentials) are always","47","#   written without 'others' access. So the umask values only affect job configuration, build records,","48","#   that sort of things.","49","#","50","#   If commented out, the value from the OS is inherited,  which is normally 022 (as of Ubuntu 12.04,","51","#   by default umask comes from pam_umask(8) and \/etc\/login.defs","52","","53","# UMASK=027"],"delete":["42","#   027 makes files read-only for group and inaccessible for others. comment this out to inherit setting","43","#   (as of Ubuntu 12.04, by default umask comes from pam_umask(8) and \/etc\/login.defs","44","UMASK=027"]}],"changelog.html":[{"add":["62","  <li class=bug>","63","    Due to the reaction, default umask in debian package is set back to 022","64","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25065\">issue 25065<\/a>)"],"delete":[]}]}},"e3afbdbf3c5f6c4d09ade1dcb5508e6f3feb901e":{"changes":{"core\/src\/main\/java\/hudson\/model\/UpdateSite.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/UpdateSite.java":[{"add":["286","    public synchronized boolean isDue() {","291",""],"delete":["286","    public boolean isDue() {","291","        "]}]}},"a972c439826050a906df886a08834a4dff5405ea":{"changes":{"test\/src\/test\/java\/hudson\/console\/ConsoleAnnotatorTest.java":"MODIFY","core\/src\/main\/java\/hudson\/Functions.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/console\/ConsoleAnnotatorTest.java":[{"add":["5","import com.gargoylesoftware.htmlunit.html.DomElement;","30","import jenkins.model.Jenkins;","292","        for (DomElement e : html.getElementsByTagName(\"script\")) {","293","            String src = e.getAttribute(\"src\");","294","            if (!src.isEmpty()) {","295","                assertThat(src, containsString(Jenkins.SESSION_HASH));","296","            }","297","        }"],"delete":[]}],"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["1829","        String cp = Stapler.getCurrentRequest().getContextPath() + Jenkins.RESOURCE_PATH;"],"delete":["1829","        String cp = Stapler.getCurrentRequest().getContextPath();"]}]}},"631a73400df2ee7e83e7b72aca8333409223de71":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["182","        <version>2.61<\/version>"],"delete":["182","        <version>2.60<\/version>"]}]}},"3f8fc4e2ec5b1b421e1551a2a2fc2a284be330d1":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Executor.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":[{"add":["89","import javax.annotation.Nonnull;","438","         * @throws IllegalStateException if that cannot be determined","440","        protected final @Nonnull Node getCurrentNode() throws IllegalStateException {","441","            Executor exec = Executor.currentExecutor();","442","            if (exec == null) {","443","                throw new IllegalStateException(\"not being called from an executor thread\");","444","            }","445","            Computer c = exec.getOwner();","446","            Node node = c.getNode();","447","            if (node == null) {","448","                throw new IllegalStateException(\"no longer a configured node for \" + c.getName());","449","            }","450","            return node;"],"delete":["438","        protected final Node getCurrentNode() {","439","            return Executor.currentExecutor().getOwner().getNode();"]}],"core\/src\/main\/java\/hudson\/model\/Executor.java":[{"add":["61","import javax.annotation.Nonnull;","73","    protected final @Nonnull Computer owner;","114","    public Executor(@Nonnull Computer owner, int n) {","537","    public @Nonnull Computer getOwner() {"],"delete":["72","    protected final Computer owner;","113","    public Executor(Computer owner, int n) {","536","    public Computer getOwner() {"]}]}},"9b18d9bd5d58cc1c735303ac05eb2b653dffe44a":{"changes":{"core\/src\/main\/java\/hudson\/model\/ParametersDefinitionProperty.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ParametersDefinitionProperty.java":[{"add":["71","    public ParametersDefinitionProperty(@Nonnull List<ParameterDefinition> parameterDefinitions) {","72","        if (parameterDefinitions == null) {","73","            throw new NullPointerException(\"ParameterDefinitions is null when this is a not valid value\");","74","        }","78","    public ParametersDefinitionProperty(@Nonnull ParameterDefinition... parameterDefinitions) {","79","        if (parameterDefinitions == null) {","80","            throw new NullPointerException(\"ParameterDefinitions is null when this is a not valid value\");","81","        }","82","        this.parameterDefinitions = Arrays.asList(parameterDefinitions) ;","83","    }","84","","85","    private Object readResolve() {","86","        return parameterDefinitions == null ? new ParametersDefinitionProperty() : this;"],"delete":["71","    public ParametersDefinitionProperty(List<ParameterDefinition> parameterDefinitions) {","75","    public ParametersDefinitionProperty(ParameterDefinition... parameterDefinitions) {","76","        this.parameterDefinitions = Arrays.asList(parameterDefinitions);"]}]}},"9f599911f6125cd69dc45718a4bbf79644be74e8":{"changes":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["920","            save();","3146","","3147","                setupWizard = new SetupWizard();","3148","                getInstallState().initializeState();"],"delete":["920","","921","            setupWizard = new SetupWizard();","922","            getInstallState().initializeState();"]}]}},"e58b0a9c369c6228ca8af7a8ec36e308b35bfead":{"changes":{"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":[{"add":["29","    <link rel=\"alternate\" title=\"Hudson:${it.viewName} (all builds)\" href=\"${rootURL}\/${it.url}rssAll\" type=\"application\/rss+xml\" \/>","30","    <link rel=\"alternate\" title=\"Hudson:${it.viewName} (all builds) (RSS 2.0)\" href=\"${rootURL}\/${it.url}rssAll?flavor=rss20\" type=\"application\/rss+xml\" \/>","31","    <link rel=\"alternate\" title=\"Hudson:${it.viewName} (failed builds)\" href=\"${rootURL}\/${it.url}rssFailed\" type=\"application\/rss+xml\" \/>","32","    <link rel=\"alternate\" title=\"Hudson:${it.viewName} (failed builds) (RSS 2.0)\" href=\"${rootURL}\/${it.url}rssFailed?flavor=rss20\" type=\"application\/rss+xml\" \/>","48","        <l:task icon=\"images\/24x24\/edit-delete.gif\" href=\"delete\" title=\"${%Delete View}\" permission=\"${it.CONFIGURE}\" \/>"],"delete":["29","    <link rel=\"alternate\" title=\"Hudson:${it.viewName} (all builds)\" href=\"${it.url}rssAll\" type=\"application\/rss+xml\" \/>","30","    <link rel=\"alternate\" title=\"Hudson:${it.viewName} (all builds) (RSS 2.0)\" href=\"${it.url}rssAll?flavor=rss20\" type=\"application\/rss+xml\" \/>","31","    <link rel=\"alternate\" title=\"Hudson:${it.viewName} (failed builds)\" href=\"${it.url}rssFailed\" type=\"application\/rss+xml\" \/>","32","    <link rel=\"alternate\" title=\"Hudson:${it.viewName} (failed builds) (RSS 2.0)\" href=\"${it.url}rssFailed?flavor=rss20\" type=\"application\/rss+xml\" \/>","48","        <l:task icon=\"images\/24x24\/edit-delete.gif\" href=\"delete\" title=\"${%Delete View}\"  permission=\"${it.CONFIGURE}\" \/>"]}]}},"9309cd39ad44836fba983ae6385e7ab567cd5e3b":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["82","  <li class=bug>","83","    Fixed side\/main panel scrolling issues.","84","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26312\">issue 26312<\/a>,","85","     <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26298\">issue 26298<\/a>,","86","     <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26306\">issue 26306<\/a>)"],"delete":[]}]}},"d3c2d485189db2cd8bb8a1b2d67c7d2434560bc5":{"changes":{"maven-agent\/pom.xml":"MODIFY","debian\/changelog":"MODIFY","core\/pom.xml":"MODIFY","maven-plugin\/pom.xml":"MODIFY","pom.xml":"MODIFY","release.sh":"MODIFY","core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":"MODIFY","test\/pom.xml":"MODIFY","test\/src\/test\/java\/hudson\/scm\/CVSSCMTest.java":"MODIFY","remoting\/pom.xml":"MODIFY","cli\/pom.xml":"MODIFY","maven-interceptor\/pom.xml":"MODIFY","war\/pom.xml":"MODIFY"},"diff":{"maven-agent\/pom.xml":[{"add":["29","    <version>1.330-SNAPSHOT<\/version>"],"delete":["29","    <version>1.329-SNAPSHOT<\/version>"]}],"debian\/changelog":[{"add":["0","hudson (1.329) unstable; urgency=low","1","","2","  * See http:\/\/hudson.dev.java.net\/changelog.html for more details.","3","","4"," -- Kohsuke Kawaguchi <kk@kohsuke.org>  Fri, 16 Oct 2009 18:22:38 -0700","5",""],"delete":[]}],"core\/pom.xml":[{"add":["29","    <version>1.330-SNAPSHOT<\/version>"],"delete":["29","    <version>1.329-SNAPSHOT<\/version>"]}],"maven-plugin\/pom.xml":[{"add":["29","    <version>1.330-SNAPSHOT<\/version>"],"delete":["29","    <version>1.329-SNAPSHOT<\/version>"]}],"pom.xml":[{"add":["35","  <version>1.330-SNAPSHOT<\/version>"],"delete":["35","  <version>1.329-SNAPSHOT<\/version>"]}],"release.sh":[{"add":[],"delete":["75","# push the permalink","76","echo \"Redirect 302 \/latest\/hudson.war $warUrl\" > \/tmp\/latest.htaccess.war","77","scp \/tmp\/latest.htaccess.war hudson.gotdns.com:\/home\/kohsuke\/public_html_hudson\/latest\/.htaccess.war","78","ssh hudson.gotdns.com \"cd \/home\/kohsuke\/public_html_hudson\/latest; cat .htaccess.* > .htaccess\"","79",""]}],"core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":[{"add":["1107","        public void setCvsExe(String value) {","1108","            this.cvsExe = value;","1109","            save();","1110","        }","1111","","1128","            cvsPassFile = fixEmptyAndTrim(o.getString(\"cvspassFile\"));"],"delete":["1123","            cvsPassFile = fixEmptyAndTrim(req.getParameter(\"cvspassFile\"));"]}],"test\/pom.xml":[{"add":["29","    <version>1.330-SNAPSHOT<\/version>"],"delete":["29","    <version>1.329-SNAPSHOT<\/version>"]}],"test\/src\/test\/java\/hudson\/scm\/CVSSCMTest.java":[{"add":["3","import org.jvnet.hudson.test.Bug;","30","    @Bug(4456)","31","    public void testGlobalConfigRoundtrip() throws Exception {","32","        CVSSCM.DescriptorImpl d = hudson.getDescriptorByType(CVSSCM.DescriptorImpl.class);","33","        d.setCvspassFile(\"a\");","34","        d.setCvsExe(\"b\");","35","","36","        submit(createWebClient().goTo(\"configure\").getFormByName(\"config\"));","37","        assertEquals(\"a\",d.getCvspassFile());","38","        assertEquals(\"b\",d.getCvsExe());","39","    }","40",""],"delete":[]}],"remoting\/pom.xml":[{"add":["29","    <version>1.330-SNAPSHOT<\/version>"],"delete":["29","    <version>1.329-SNAPSHOT<\/version>"]}],"cli\/pom.xml":[{"add":["6","    <version>1.330-SNAPSHOT<\/version>"],"delete":["6","    <version>1.329-SNAPSHOT<\/version>"]}],"maven-interceptor\/pom.xml":[{"add":["29","    <version>1.330-SNAPSHOT<\/version>"],"delete":["29","    <version>1.329-SNAPSHOT<\/version>"]}],"war\/pom.xml":[{"add":["29","    <version>1.330-SNAPSHOT<\/version>"],"delete":["29","    <version>1.329-SNAPSHOT<\/version>"]}]}},"7a4858d65f2431396c2f4dadbc3d654712bc02a8":{"changes":{"core\/src\/main\/java\/hudson\/security\/AuthenticationProcessingFilter2.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/resources\/lib\/layout\/layout.jelly":"MODIFY","war\/src\/main\/webapp\/WEB-INF\/security\/SecurityFilters.groovy":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/AuthenticationProcessingFilter2.java":[{"add":["33","import org.acegisecurity.Authentication;","75","    @Override","76","    protected void onSuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, Authentication authResult) throws IOException {","77","        super.onSuccessfulAuthentication(request,response,authResult);","78","        \/\/ make sure we have a session to store this successful authentication, given that we no longer","79","        \/\/ let HttpSessionContextIntegrationFilter2 to create sessions.","80","        \/\/ HttpSessionContextIntegrationFilter stores the updated SecurityContext object into this session later","81","        \/\/ (either when a redirect is issued, via its HttpResponseWrapper, or when the execution returns to its","82","        \/\/ doFilter method.","83","        request.getSession();","84","    }","85",""],"delete":[]}],"changelog.html":[{"add":["58","    Don't try to set cookies on cachable requests.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-12585\">issue 12585<\/a>)","60","  <li class=bug>"],"delete":[]}],"core\/src\/main\/resources\/lib\/layout\/layout.jelly":[{"add":["62","<!--","63","  depending on what tags are used, we can later end up discovering that we needed a session,","64","  but it's too late because the headers are already committed. so ensure we always have a session.","65","  this also allows us to configure HttpSessionContextIntegrationFilter not to create sessions,","66","  which I suspect can end up creating sessions for wrong resource types (such as static resources.)","67","-->","68","<j:set var=\"_\" value=\"${request.getSession()}\"\/>"],"delete":["62","<j:set var=\"_\" value=\"${request.getSession()}\"\/><!-- depending on what tags are used, we can later end up discovering that we needed a session, but it's too late because the headers are already committed. so ensure we always have a session -->"]}],"war\/src\/main\/webapp\/WEB-INF\/security\/SecurityFilters.groovy":[{"add":["65","            \/\/ not allowing filter to create sessions, as it potentially tries to create","66","            \/\/ sessions for any request (although it usually fails","67","            \/\/ I suspect this is related to JENKINS-12585, in that","68","            \/\/ it ends up setting Set-Cookie for image responses.","69","            \/\/ Instead, we use layout.jelly to create sessions.","70","            allowSessionCreation = false;"],"delete":[]}]}},"5739219b7ea2d1e8aadf3b2b63029f38ae6bf9ec":{"changes":{"core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["944","                return elapsed > Math.max(d,60000L)*10;"],"delete":["944","                return elapsed > d*10;"]}]}},"f103b7819d45d1f06c8b2a8ba0bf1c8a1913014d":{"changes":{"core\/src\/main\/resources\/hudson\/ProxyConfiguration\/config.groovy":"MODIFY","core\/src\/main\/java\/hudson\/ProxyConfiguration.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/ProxyConfiguration\/config.groovy":[{"add":["13","f.entry(title:_(\"Password\"),field:\"secretPassword\") {","14","    f.password()"],"delete":["13","f.entry(title:_(\"Password\"),field:\"password\") {","14","    f.password(value:instance?.encryptedPassword)"]}],"core\/src\/main\/java\/hudson\/ProxyConfiguration.java":[{"add":["64","import org.kohsuke.accmod.Restricted;","65","import org.kohsuke.accmod.restrictions.NoExternalUse;","67","import org.kohsuke.stapler.DataBoundSetter;","99","    private String userName;","106","    @Restricted(NoExternalUse.class)","107","    public String noProxyHost;","123","    @DataBoundConstructor","140","        String tempPassword = Util.fixEmptyAndTrim(password);","141","        this.secretPassword = tempPassword != null ? Secret.fromString(tempPassword) : null;","153","                    return new PasswordAuthentication(userName, Secret.toString(secretPassword).toCharArray());","164","    public Secret getSecretPassword() {","165","        return secretPassword;","166","    }","167","","169","     * @deprecated","170","     *      Use {@link #getSecretPassword()}","172","    @Deprecated","177","    \/**","178","     * @deprecated","179","     *      Use {@link #getSecretPassword()}","180","     *","181","     * @return the encrypted proxy password","182","     *\/","183","    @Deprecated","192","    public int getPort() {","193","        return port;","194","    }","195","","196","    public String getName() {","197","        return name;","198","    }","199","","207","    public String getNoProxyHost() {","208","        return noProxyHost;","209","    }","210","","225","    @DataBoundSetter","226","    public void setSecretPassword(Secret secretPassword) {","227","        this.secretPassword = secretPassword;","228","    }","229","","230","    @DataBoundSetter","231","    public void setTestUrl(String testUrl) {","232","        this.testUrl = testUrl;","233","    }","234","","235","    @DataBoundSetter","236","    public void setUserName(String userName) {","237","        this.userName = userName;","238","    }","239","","240","    @DataBoundSetter","241","    public void setNoProxyHost(String noProxyHost) {","242","        this.noProxyHost = noProxyHost;","243","    }","244","","424","        @Restricted(NoExternalUse.class)","427","                @QueryParameter(\"userName\") String userName, @QueryParameter(\"secretPassword\") Secret password,","452","                    Credentials credentials = createCredentials(userName, password != null ? password.getPlainText() : null);"],"delete":["96","    private final String userName;","103","    public final String noProxyHost;","131","    @DataBoundConstructor","136","        this.secretPassword = Secret.fromString(password);","148","                    return new PasswordAuthentication(userName, getPassword().toCharArray());","159","\/\/    This method is public, if it was public only for jelly, then should make it private (or inline contents)","160","\/\/    Have left public, as can't tell if anyone else is using from plugins","162","     * @return the password in plain text","378","                @QueryParameter(\"userName\") String userName, @QueryParameter(\"password\") String password,","403","                    Credentials credentials = createCredentials(userName, password);"]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["1067","","1068","    \/**","1069","     * Retrieve the proxy configuration.","1070","     *","1071","     * @return the proxy configuration","1072","     * @since TODO","1073","     *\/","1074","    @CheckForNull","1075","    public ProxyConfiguration getProxy() {","1076","        return proxy;","1077","    }","1078","","1079","    \/**","1080","     * Set the proxy configuration.","1081","     * ","1082","     * @param proxy the proxy to set","1083","     * @since TODO","1084","     *\/","1085","    public void setProxy(@CheckForNull ProxyConfiguration proxy) {","1086","        this.proxy = proxy;","1087","    }","1088",""],"delete":["1067","    "]}]}},"a184ef54cd9da5b2e20ca0bc31c53e99c5793741":{"changes":{"war\/src\/main\/webapp\/scripts\/yui\/yahoo\/yahoo-debug.js":"MODIFY","war\/src\/main\/webapp\/scripts\/yui\/yahoo\/yahoo-min.js":"MODIFY"},"diff":{"war\/src\/main\/webapp\/scripts\/yui\/yahoo\/yahoo-debug.js":[{"add":["520","                m = ua.match(\/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)\/);","521","                if (m && (m[1] || m[2])) {","522","                    o.ie = numberify(m[1] || m[2]);"],"delete":["520","                m = ua.match(\/MSIE\\s([^;]*)\/);","521","                if (m && m[1]) {","522","                    o.ie = numberify(m[1]);"]}],"war\/src\/main\/webapp\/scripts\/yui\/yahoo\/yahoo-min.js":[{"add":["6","if(typeof YAHOO==\"undefined\"||!YAHOO){var YAHOO={};}YAHOO.namespace=function(){var b=arguments,g=null,e,c,f;for(e=0;e<b.length;e=e+1){f=(\"\"+b[e]).split(\".\");g=YAHOO;for(c=(f[0]==\"YAHOO\")?1:0;c<f.length;c=c+1){g[f[c]]=g[f[c]]||{};g=g[f[c]];}}return g;};YAHOO.log=function(d,a,c){var b=YAHOO.widget.Logger;if(b&&b.log){return b.log(d,a,c);}else{return false;}};YAHOO.register=function(a,f,e){var k=YAHOO.env.modules,c,j,h,g,d;if(!k[a]){k[a]={versions:[],builds:[]};}c=k[a];j=e.version;h=e.build;g=YAHOO.env.listeners;c.name=a;c.version=j;c.build=h;c.versions.push(j);c.builds.push(h);c.mainClass=f;for(d=0;d<g.length;d=d+1){g[d](c);}if(f){f.VERSION=j;f.BUILD=h;}else{YAHOO.log(\"mainClass is undefined for module \"+a,\"warn\");}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(a){return YAHOO.env.modules[a]||null;};YAHOO.env.parseUA=function(d){var e=function(i){var j=0;return parseFloat(i.replace(\/\\.\/g,function(){return(j++==1)?\"\":\".\";}));},h=navigator,g={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:h&&h.cajaVersion,secure:false,os:null},c=d||(navigator&&navigator.userAgent),f=window&&window.location,b=f&&f.href,a;g.secure=b&&(b.toLowerCase().indexOf(\"https\")===0);if(c){if((\/windows|win32\/i).test(c)){g.os=\"windows\";}else{if((\/macintosh\/i).test(c)){g.os=\"macintosh\";}else{if((\/rhino\/i).test(c)){g.os=\"rhino\";}}}if((\/KHTML\/).test(c)){g.webkit=1;}a=c.match(\/AppleWebKit\\\/([^\\s]*)\/);if(a&&a[1]){g.webkit=e(a[1]);if(\/ Mobile\\\/\/.test(c)){g.mobile=\"Apple\";a=c.match(\/OS ([^\\s]*)\/);if(a&&a[1]){a=e(a[1].replace(\"_\",\".\"));}g.ios=a;g.ipad=g.ipod=g.iphone=0;a=c.match(\/iPad|iPod|iPhone\/);if(a&&a[0]){g[a[0].toLowerCase()]=g.ios;}}else{a=c.match(\/NokiaN[^\\\/]*|Android \\d\\.\\d|webOS\\\/\\d\\.\\d\/);if(a){g.mobile=a[0];}if(\/webOS\/.test(c)){g.mobile=\"WebOS\";a=c.match(\/webOS\\\/([^\\s]*);\/);if(a&&a[1]){g.webos=e(a[1]);}}if(\/ Android\/.test(c)){g.mobile=\"Android\";a=c.match(\/Android ([^\\s]*);\/);if(a&&a[1]){g.android=e(a[1]);}}}a=c.match(\/Chrome\\\/([^\\s]*)\/);if(a&&a[1]){g.chrome=e(a[1]);}else{a=c.match(\/AdobeAIR\\\/([^\\s]*)\/);if(a){g.air=a[0];}}}if(!g.webkit){a=c.match(\/Opera[\\s\\\/]([^\\s]*)\/);if(a&&a[1]){g.opera=e(a[1]);a=c.match(\/Version\\\/([^\\s]*)\/);if(a&&a[1]){g.opera=e(a[1]);}a=c.match(\/Opera Mini[^;]*\/);if(a){g.mobile=a[0];}}else{a=c.match(\/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)\/);if(a&&(a[1]||a[2])){g.ie=e(a[1]||a[2]);}else{a=c.match(\/Gecko\\\/([^\\s]*)\/);if(a){g.gecko=1;a=c.match(\/rv:([^\\s\\)]*)\/);if(a&&a[1]){g.gecko=e(a[1]);}}}}}}return g;};YAHOO.env.ua=YAHOO.env.parseUA();(function(){YAHOO.namespace(\"util\",\"widget\",\"example\");if(\"undefined\"!==typeof YAHOO_config){var b=YAHOO_config.listener,a=YAHOO.env.listeners,d=true,c;if(b){for(c=0;c<a.length;c++){if(a[c]==b){d=false;break;}}if(d){a.push(b);}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var f=YAHOO.lang,a=Object.prototype,c=\"[object Array]\",h=\"[object Function]\",i=\"[object Object]\",b=[],g={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"\/\":\"&#x2F;\",\"`\":\"&#x60;\"},d=[\"toString\",\"valueOf\"],e={isArray:function(j){return a.toString.apply(j)===c;},isBoolean:function(j){return typeof j===\"boolean\";},isFunction:function(j){return(typeof j===\"function\")||a.toString.apply(j)===h;},isNull:function(j){return j===null;},isNumber:function(j){return typeof j===\"number\"&&isFinite(j);},isObject:function(j){return(j&&(typeof j===\"object\"||f.isFunction(j)))||false;},isString:function(j){return typeof j===\"string\";},isUndefined:function(j){return typeof j===\"undefined\";},_IEEnumFix:(YAHOO.env.ua.ie)?function(l,k){var j,n,m;for(j=0;j<d.length;j=j+1){n=d[j];m=k[n];if(f.isFunction(m)&&m!=a[n]){l[n]=m;}}}:function(){},escapeHTML:function(j){return j.replace(\/[&<>\"'\\\/`]\/g,function(k){return g[k];});},extend:function(m,n,l){if(!n||!m){throw new Error(\"extend failed, please check that \"+\"all dependencies are included.\");}var k=function(){},j;k.prototype=n.prototype;m.prototype=new k();m.prototype.constructor=m;m.superclass=n.prototype;if(n.prototype.constructor==a.constructor){n.prototype.constructor=n;}if(l){for(j in l){if(f.hasOwnProperty(l,j)){m.prototype[j]=l[j];}}f._IEEnumFix(m.prototype,l);}},augmentObject:function(n,m){if(!m||!n){throw new Error(\"Absorb failed, verify dependencies.\");}var j=arguments,l,o,k=j[2];if(k&&k!==true){for(l=2;l<j.length;l=l+1){n[j[l]]=m[j[l]];}}else{for(o in m){if(k||!(o in n)){n[o]=m[o];}}f._IEEnumFix(n,m);}return n;},augmentProto:function(m,l){if(!l||!m){throw new Error(\"Augment failed, verify dependencies.\");}var j=[m.prototype,l.prototype],k;for(k=2;k<arguments.length;k=k+1){j.push(arguments[k]);}f.augmentObject.apply(this,j);return m;},dump:function(j,p){var l,n,r=[],t=\"{...}\",k=\"f(){...}\",q=\", \",m=\" => \";if(!f.isObject(j)){return j+\"\";}else{if(j instanceof Date||(\"nodeType\" in j&&\"tagName\" in j)){return j;}else{if(f.isFunction(j)){return k;}}}p=(f.isNumber(p))?p:3;if(f.isArray(j)){r.push(\"[\");for(l=0,n=j.length;l<n;l=l+1){if(f.isObject(j[l])){r.push((p>0)?f.dump(j[l],p-1):t);}else{r.push(j[l]);}r.push(q);}if(r.length>1){r.pop();}r.push(\"]\");}else{r.push(\"{\");for(l in j){if(f.hasOwnProperty(j,l)){r.push(l+m);if(f.isObject(j[l])){r.push((p>0)?f.dump(j[l],p-1):t);}else{r.push(j[l]);}r.push(q);}}if(r.length>1){r.pop();}r.push(\"}\");}return r.join(\"\");},substitute:function(x,y,E,l){var D,C,B,G,t,u,F=[],p,z=x.length,A=\"dump\",r=\" \",q=\"{\",m=\"}\",n,w;for(;;){D=x.lastIndexOf(q,z);if(D<0){break;}C=x.indexOf(m,D);if(D+1>C){break;}p=x.substring(D+1,C);G=p;u=null;B=G.indexOf(r);if(B>-1){u=G.substring(B+1);G=G.substring(0,B);}t=y[G];if(E){t=E(G,t,u);}if(f.isObject(t)){if(f.isArray(t)){t=f.dump(t,parseInt(u,10));}else{u=u||\"\";n=u.indexOf(A);if(n>-1){u=u.substring(4);}w=t.toString();if(w===i||n>-1){t=f.dump(t,parseInt(u,10));}else{t=w;}}}else{if(!f.isString(t)&&!f.isNumber(t)){t=\"~-\"+F.length+\"-~\";F[F.length]=p;}}x=x.substring(0,D)+t+x.substring(C+1);if(l===false){z=D-1;}}for(D=F.length-1;D>=0;D=D-1){x=x.replace(new RegExp(\"~-\"+D+\"-~\"),\"{\"+F[D]+\"}\",\"g\");}return x;},trim:function(j){try{return j.replace(\/^\\s+|\\s+$\/g,\"\");}catch(k){return j;"],"delete":["6","if(typeof YAHOO==\"undefined\"||!YAHOO){var YAHOO={};}YAHOO.namespace=function(){var b=arguments,g=null,e,c,f;for(e=0;e<b.length;e=e+1){f=(\"\"+b[e]).split(\".\");g=YAHOO;for(c=(f[0]==\"YAHOO\")?1:0;c<f.length;c=c+1){g[f[c]]=g[f[c]]||{};g=g[f[c]];}}return g;};YAHOO.log=function(d,a,c){var b=YAHOO.widget.Logger;if(b&&b.log){return b.log(d,a,c);}else{return false;}};YAHOO.register=function(a,f,e){var k=YAHOO.env.modules,c,j,h,g,d;if(!k[a]){k[a]={versions:[],builds:[]};}c=k[a];j=e.version;h=e.build;g=YAHOO.env.listeners;c.name=a;c.version=j;c.build=h;c.versions.push(j);c.builds.push(h);c.mainClass=f;for(d=0;d<g.length;d=d+1){g[d](c);}if(f){f.VERSION=j;f.BUILD=h;}else{YAHOO.log(\"mainClass is undefined for module \"+a,\"warn\");}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(a){return YAHOO.env.modules[a]||null;};YAHOO.env.parseUA=function(d){var e=function(i){var j=0;return parseFloat(i.replace(\/\\.\/g,function(){return(j++==1)?\"\":\".\";}));},h=navigator,g={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:h&&h.cajaVersion,secure:false,os:null},c=d||(navigator&&navigator.userAgent),f=window&&window.location,b=f&&f.href,a;g.secure=b&&(b.toLowerCase().indexOf(\"https\")===0);if(c){if((\/windows|win32\/i).test(c)){g.os=\"windows\";}else{if((\/macintosh\/i).test(c)){g.os=\"macintosh\";}else{if((\/rhino\/i).test(c)){g.os=\"rhino\";}}}if((\/KHTML\/).test(c)){g.webkit=1;}a=c.match(\/AppleWebKit\\\/([^\\s]*)\/);if(a&&a[1]){g.webkit=e(a[1]);if(\/ Mobile\\\/\/.test(c)){g.mobile=\"Apple\";a=c.match(\/OS ([^\\s]*)\/);if(a&&a[1]){a=e(a[1].replace(\"_\",\".\"));}g.ios=a;g.ipad=g.ipod=g.iphone=0;a=c.match(\/iPad|iPod|iPhone\/);if(a&&a[0]){g[a[0].toLowerCase()]=g.ios;}}else{a=c.match(\/NokiaN[^\\\/]*|Android \\d\\.\\d|webOS\\\/\\d\\.\\d\/);if(a){g.mobile=a[0];}if(\/webOS\/.test(c)){g.mobile=\"WebOS\";a=c.match(\/webOS\\\/([^\\s]*);\/);if(a&&a[1]){g.webos=e(a[1]);}}if(\/ Android\/.test(c)){g.mobile=\"Android\";a=c.match(\/Android ([^\\s]*);\/);if(a&&a[1]){g.android=e(a[1]);}}}a=c.match(\/Chrome\\\/([^\\s]*)\/);if(a&&a[1]){g.chrome=e(a[1]);}else{a=c.match(\/AdobeAIR\\\/([^\\s]*)\/);if(a){g.air=a[0];}}}if(!g.webkit){a=c.match(\/Opera[\\s\\\/]([^\\s]*)\/);if(a&&a[1]){g.opera=e(a[1]);a=c.match(\/Version\\\/([^\\s]*)\/);if(a&&a[1]){g.opera=e(a[1]);}a=c.match(\/Opera Mini[^;]*\/);if(a){g.mobile=a[0];}}else{a=c.match(\/MSIE\\s([^;]*)\/);if(a&&a[1]){g.ie=e(a[1]);}else{a=c.match(\/Gecko\\\/([^\\s]*)\/);if(a){g.gecko=1;a=c.match(\/rv:([^\\s\\)]*)\/);if(a&&a[1]){g.gecko=e(a[1]);}}}}}}return g;};YAHOO.env.ua=YAHOO.env.parseUA();(function(){YAHOO.namespace(\"util\",\"widget\",\"example\");if(\"undefined\"!==typeof YAHOO_config){var b=YAHOO_config.listener,a=YAHOO.env.listeners,d=true,c;if(b){for(c=0;c<a.length;c++){if(a[c]==b){d=false;break;}}if(d){a.push(b);}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var f=YAHOO.lang,a=Object.prototype,c=\"[object Array]\",h=\"[object Function]\",i=\"[object Object]\",b=[],g={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"\/\":\"&#x2F;\",\"`\":\"&#x60;\"},d=[\"toString\",\"valueOf\"],e={isArray:function(j){return a.toString.apply(j)===c;},isBoolean:function(j){return typeof j===\"boolean\";},isFunction:function(j){return(typeof j===\"function\")||a.toString.apply(j)===h;},isNull:function(j){return j===null;},isNumber:function(j){return typeof j===\"number\"&&isFinite(j);},isObject:function(j){return(j&&(typeof j===\"object\"||f.isFunction(j)))||false;},isString:function(j){return typeof j===\"string\";},isUndefined:function(j){return typeof j===\"undefined\";},_IEEnumFix:(YAHOO.env.ua.ie)?function(l,k){var j,n,m;for(j=0;j<d.length;j=j+1){n=d[j];m=k[n];if(f.isFunction(m)&&m!=a[n]){l[n]=m;}}}:function(){},escapeHTML:function(j){return j.replace(\/[&<>\"'\\\/`]\/g,function(k){return g[k];});},extend:function(m,n,l){if(!n||!m){throw new Error(\"extend failed, please check that \"+\"all dependencies are included.\");}var k=function(){},j;k.prototype=n.prototype;m.prototype=new k();m.prototype.constructor=m;m.superclass=n.prototype;if(n.prototype.constructor==a.constructor){n.prototype.constructor=n;}if(l){for(j in l){if(f.hasOwnProperty(l,j)){m.prototype[j]=l[j];}}f._IEEnumFix(m.prototype,l);}},augmentObject:function(n,m){if(!m||!n){throw new Error(\"Absorb failed, verify dependencies.\");}var j=arguments,l,o,k=j[2];if(k&&k!==true){for(l=2;l<j.length;l=l+1){n[j[l]]=m[j[l]];}}else{for(o in m){if(k||!(o in n)){n[o]=m[o];}}f._IEEnumFix(n,m);}return n;},augmentProto:function(m,l){if(!l||!m){throw new Error(\"Augment failed, verify dependencies.\");}var j=[m.prototype,l.prototype],k;for(k=2;k<arguments.length;k=k+1){j.push(arguments[k]);}f.augmentObject.apply(this,j);return m;},dump:function(j,p){var l,n,r=[],t=\"{...}\",k=\"f(){...}\",q=\", \",m=\" => \";if(!f.isObject(j)){return j+\"\";}else{if(j instanceof Date||(\"nodeType\" in j&&\"tagName\" in j)){return j;}else{if(f.isFunction(j)){return k;}}}p=(f.isNumber(p))?p:3;if(f.isArray(j)){r.push(\"[\");for(l=0,n=j.length;l<n;l=l+1){if(f.isObject(j[l])){r.push((p>0)?f.dump(j[l],p-1):t);}else{r.push(j[l]);}r.push(q);}if(r.length>1){r.pop();}r.push(\"]\");}else{r.push(\"{\");for(l in j){if(f.hasOwnProperty(j,l)){r.push(l+m);if(f.isObject(j[l])){r.push((p>0)?f.dump(j[l],p-1):t);}else{r.push(j[l]);}r.push(q);}}if(r.length>1){r.pop();}r.push(\"}\");}return r.join(\"\");},substitute:function(x,y,E,l){var D,C,B,G,t,u,F=[],p,z=x.length,A=\"dump\",r=\" \",q=\"{\",m=\"}\",n,w;for(;;){D=x.lastIndexOf(q,z);if(D<0){break;}C=x.indexOf(m,D);if(D+1>C){break;}p=x.substring(D+1,C);G=p;u=null;B=G.indexOf(r);if(B>-1){u=G.substring(B+1);G=G.substring(0,B);}t=y[G];if(E){t=E(G,t,u);}if(f.isObject(t)){if(f.isArray(t)){t=f.dump(t,parseInt(u,10));}else{u=u||\"\";n=u.indexOf(A);if(n>-1){u=u.substring(4);}w=t.toString();if(w===i||n>-1){t=f.dump(t,parseInt(u,10));}else{t=w;}}}else{if(!f.isString(t)&&!f.isNumber(t)){t=\"~-\"+F.length+\"-~\";F[F.length]=p;}}x=x.substring(0,D)+t+x.substring(C+1);if(l===false){z=D-1;}}for(D=F.length-1;D>=0;D=D-1){x=x.replace(new RegExp(\"~-\"+D+\"-~\"),\"{\"+F[D]+\"}\",\"g\");}return x;},trim:function(j){try{return j.replace(\/^\\s+|\\s+$\/g,\"\");}catch(k){return j;"]}]}},"2200711bf3dcd96263b3a88001a49f5b7241c264":{"changes":{"\/dev\/null":"DELETE","test\/src\/test\/resources\/jenkins\/model\/BuildDiscarderPropertyTest\/logRotatorField\/config.xml":"ADD","test\/src\/test\/resources\/jenkins\/model\/BuildDiscarderPropertyTest\/logRotatorField\/jobs\/foo\/config.xml":"ADD","test\/src\/test\/java\/jenkins\/model\/BuildDiscarderPropertyTest.java":"ADD"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/jenkins\/model\/BuildDiscarderPropertyTest\/logRotatorField\/config.xml":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/jenkins\/model\/BuildDiscarderPropertyTest\/logRotatorField\/jobs\/foo\/config.xml":[{"add":[],"delete":[]}],"test\/src\/test\/java\/jenkins\/model\/BuildDiscarderPropertyTest.java":[{"add":[],"delete":[]}]}},"d1b2ba7e4988d26fbb815b8912efb16273c407d4":{"changes":{"core\/src\/main\/java\/hudson\/security\/AuthorizationStrategy.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/AuthorizationStrategy.java":[{"add":["101","                boolean hasPermission = base.hasPermission(a, permission);","102","                if (!hasPermission && permission == View.READ) {","106","                return hasPermission;"],"delete":["101","                if (permission==View.READ) {","105","                return base.hasPermission(a, permission);"]}],"changelog.html":[{"add":["59","  <li class=bug>","60","    Fixed nested view not showing up with just read perm for View","61","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-13429\">issue 13429<\/a>)"],"delete":[]}]}},"3b93eefdf0f75cba01c88381334ba746dd581aca":{"changes":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Computer.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Executor.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["3234","        protected Future<?> _connect(boolean forceReconnect) {"],"delete":["3234","        public Future<?> connect(boolean forceReconnect) {"]}],"core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":[{"add":["156","    protected Future<?> _connect(boolean forceReconnect) {","353","    \tsuper.disconnect();"],"delete":["156","    public Future<?> connect(boolean forceReconnect) {"]}],"core\/src\/main\/java\/hudson\/model\/Computer.java":[{"add":["102","    ","103","    private long connectTime = 0;","206","    public final Future<?> connect(boolean forceReconnect) {","207","    \tconnectTime = System.currentTimeMillis();","208","    \treturn _connect(forceReconnect);","209","    }","210","    ","211","    \/**","212","     * Allows implementing-classes to provide an implementation for the connect method.","213","     *","214","     * <p>","215","     * If already connected or if this computer doesn't support proactive launching, no-op.","216","     * This method may return immediately","217","     * while the launch operation happens asynchronously.","218","     *","219","     * @see #disconnect()","220","     *","221","     * @param forceReconnect","222","     *      If true and a connect activity is already in progress, it will be cancelled and","223","     *      the new one will be started. If false, and a connect activity is already in progress, this method","224","     *      will do nothing and just return the pending connection operation.","225","     * @return","226","     *      A {@link Future} representing pending completion of the task. The 'completion' includes","227","     *      both a successful completion and a non-successful completion (such distinction typically doesn't","228","     *      make much sense because as soon as {@link Computer} is connected it can be disconnected by some other threads.)","229","     *\/","230","    protected abstract Future<?> _connect(boolean forceReconnect);","233","     * Gets the time (since epoch) when this computer connected.","234","     *  ","235","     * @return The time in ms since epoch when this computer last connected.","236","     *\/","237","    public final long getConnectTime() {","238","    \treturn connectTime;","239","    }","240","    ","241","    \/**","251","    public Future<?> disconnect() {","252","    \tconnectTime=0;","253","    \treturn Futures.precomputed(null); ","254","\t}"],"delete":["204","    public abstract Future<?> connect(boolean forceReconnect);","216","    public Future<?> disconnect() { return Futures.precomputed(null); }"]}],"core\/src\/main\/java\/hudson\/model\/Executor.java":[{"add":["319","            return Math.max(finishTime, owner.getConnectTime());"],"delete":["319","            return finishTime;"]}]}},"0b8febbdc3a927839a7505fa361dc8e38cafc635":{"changes":{"test\/src\/test\/java\/hudson\/tasks\/MavenTest.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/tasks\/MavenTest.java":[{"add":["224","        \/\/ This test implements legacy behavior, when Build Variables are injected by default","225","        project.getBuildersList().add(new Maven(\"--help\", null, null, properties, null,","226","                false, null, null, true));"],"delete":["224","        project.getBuildersList().add(new Maven(\"--help\",null,null,properties,null));"]}]}},"a662a6514d7065063210fd30b2965c175789c41f":{"changes":{"core\/src\/main\/java\/hudson\/maven\/reporters\/SurefireArchiver.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/maven\/reporters\/SurefireArchiver.java":[{"add":["62","            FileSet fs = Util.createFileSet(reportsDir,\"*.xml\",\"testng-results.xml,testng-failed.xml\");"],"delete":["62","            FileSet fs = Util.createFileSet(reportsDir,\"*.xml\");"]}]}},"2c767feea175aa2b7113216f10d0f972671a0e92":{"changes":{"test\/src\/test\/java\/hudson\/matrix\/MatrixTest.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/matrix\/MatrixTest.java":[{"add":["3"," * Copyright (c) 2010-2011, Alan Harder","25","import hudson.model.Item;","26","import hudson.security.AuthorizationMatrixProperty;","27","import hudson.security.ProjectMatrixAuthorizationStrategy;","28","import java.util.Collections;","29","import org.acegisecurity.context.SecurityContextHolder;","31","import org.jvnet.hudson.test.Bug;","49","    ","50","    \/**","51","     * Test that project level permissions apply to child configurations as well.","52","     *\/","53","    @Bug(9293)","54","    public void testConfigurationACL() throws Exception {","55","        hudson.setAuthorizationStrategy(new ProjectMatrixAuthorizationStrategy());","56","        MatrixProject mp = createMatrixProject();","57","        mp.setAxes(new AxisList(new Axis(\"foo\", \"a\", \"b\")));","58","        MatrixConfiguration mc = mp.getItem(\"foo=a\");","59","        assertNotNull(mc);","60","        SecurityContextHolder.clearContext();","61","        assertFalse(mc.getACL().hasPermission(Item.READ));","62","        mp.addProperty(new AuthorizationMatrixProperty(","63","                Collections.singletonMap(Item.READ, Collections.singleton(\"anonymous\"))));","64","        \/\/ Project-level permission should apply to single configuration too:","65","        assertTrue(mc.getACL().hasPermission(Item.READ));","66","    }"],"delete":["3"," * Copyright (c) 2010, Alan Harder"]}]}},"7a7f5b76bbbc2dcefcc9781789f3ece1964d2f2d":{"changes":{"core\/src\/main\/resources\/lib\/form\/repeatable\/repeatable.js":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/repeatable\/repeatable.js":[{"add":["188","\/\/ Needs to run before the radioBlock behavior so that names are already unique.","189","Behaviour.specify(\"DIV.repeated-chunk\", 'repeatable', -200, function(d) {"],"delete":["188","Behaviour.specify(\"DIV.repeated-chunk\", 'repeatable', 0, function(d) {"]}]}},"4785ad36cb68affd314423e013d07b213e54e361":{"changes":{"core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["157","        return \"user\/\"+Util.rawEncode(id);","161","        return \"\/user\/\"+Util.rawEncode(id);"],"delete":["58","import java.util.HashMap;","158","        return \"user\/\"+id;","162","        return \"\/user\/\"+id;"]}]}},"26974746d68043825f02abbc0c8ab6200e8d465f":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-13476\">issue 13476<\/a>)"],"delete":[]}]}},"0ca88a6ceae605e7d2e126a328a196c046a91a12":{"changes":{"core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":[{"add":["738","        private static final Logger LOGGER = Logger.getLogger(\"\");"],"delete":["738","        private static final Logger LOGGER = Logger.getLogger(\"hudson\");"]}]}},"3dd283c4d13600e1c760063d2b77050ac2a0b387":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenBuild.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["332","                            BuildWrapper.Environment e = w.setUp(MavenModuleSetBuild.this, launcher, listener);","336","                            e.buildEnvVars(envVars); \/\/ #3502: too late for getEnvironment to do this","383","                                    .tearDown(MavenModuleSetBuild.this, listener);"],"delete":["332","                            BuildWrapper.Environment e = w.setUp((AbstractBuild)MavenModuleSetBuild.this, launcher, listener);","382","                                    .tearDown((AbstractBuild)MavenModuleSetBuild.this, listener);"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenBuild.java":[{"add":["37","import hudson.model.Environment;","41","import hudson.tasks.BuildWrapper;","462","            MavenModuleSet mms = getProject().getParent();","466","            buildEnvironments = new ArrayList<Environment>();","467","            for (BuildWrapper w : mms.getBuildWrappers()) {","468","                BuildWrapper.Environment e = w.setUp(MavenBuild.this, launcher, listener);","469","                if (e == null) {","470","                    return Result.FAILURE;","471","                }","472","                buildEnvironments.add(e);","473","            }","474","","475","            EnvVars envVars = getEnvironment(); \/\/ buildEnvironments should be set up first","503","                for (int i = buildEnvironments.size() - 1; i >= 0; i--) {","504","                    buildEnvironments.get(i).tearDown(MavenBuild.this, listener);","505","                    buildEnvironments = null;","506","                }"],"delete":["463","            EnvVars envVars = getEnvironment();","470","            MavenModuleSet mms = project.getParent();"]}]}},"fbb4dc05b5122d9ba09419c60a2a6092e675e7a8":{"changes":{"war\/src\/main\/js\/add-item.js":"MODIFY"},"diff":{"war\/src\/main\/js\/add-item.js":[{"add":["234","    $('input[name=\"name\"]', '#createItem').on(\"blur input\", function() {"],"delete":["109","        btn.focus();","235","    $('input[name=\"name\"]', '#createItem').blur(function() {"]}]}},"a438aed630e331b42076607e288405fcd0c33c32":{"changes":{"core\/src\/main\/java\/hudson\/model\/Project.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Project.java":[{"add":[],"delete":["145","        if(!Hudson.adminCheck(req,rsp))","146","            return;","147",""]}]}},"9f8b5d691e3d11d65625497a1b876e1d47c466d0":{"changes":{"Jenkinsfile":"MODIFY"},"diff":{"Jenkinsfile":[{"add":["69","    node(\"docker&&highmem\") {"],"delete":["69","    node(\"linux\") {"]}]}},"fd0657ef9e34f8ce9c8802babec3873f8133ca99":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":[{"add":["298","        public BuildTrigger newInstance(StaplerRequest req, JSONObject formData) throws FormException {"],"delete":["298","        public Publisher newInstance(StaplerRequest req, JSONObject formData) throws FormException {"]}]}},"70abf12328e2e92de2de19b65bd08467b016a80e":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["62","  <li class=bug>","63","    Cache node environment to prevent unnecessary channel usage","64","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26755\">issue 26755<\/a>)","65",""],"delete":[]}]}},"5f349a61c3f2d1610b75c3469d72e78c5683474c":{"changes":{"core\/src\/main\/java\/hudson\/model\/AsyncPeriodicWork.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AsyncAperiodicWork.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AsyncPeriodicWork.java":[{"add":["136","                File prev = null;","138","                    File curr = i == 0 ? f : new File(f.getParentFile(), f.getName() + \".\" + i);","139","                    if (curr.isFile()) {","140","                        if (prev != null && !prev.exists()) {","141","                            if (!curr.renameTo(prev)) {","143","                                        new Object[]{curr, prev});","146","                            if (!curr.delete()) {","148","                                        curr);","152","                    prev = curr;","164","                        logger.log(getNormalLoggingLevel(), \"Moved {0} to {1}\", new Object[]{oldFile, newFile});","166","                        logger.log(getErrorLoggingLevel(), \"Could not move {0} to {1}\",","167","                                new Object[]{oldFile, newFile});"],"delete":["136","                File p = null;","138","                    File o = i == 0 ? f : new File(f.getParentFile(), f.getName() + \".\" + i);","139","                    if (o.isFile()) {","140","                        if (p != null && !p.exists()) {","141","                            if (!o.renameTo(p)) {","143","                                        new Object[]{o, p});","146","                            if (!o.delete()) {","148","                                        o);","152","                    p = o;","164","                        logger.log(getNormalLoggingLevel(), \"Moved {0} to {1}.1\", new Object[]{oldFile, f});","166","                        logger.log(getErrorLoggingLevel(), \"Could not move {0} to {1}.1\",","167","                                new Object[]{oldFile, f});"]}],"core\/src\/main\/java\/hudson\/model\/AsyncAperiodicWork.java":[{"add":["153","                File prev = null;","155","                    File curr = i == 0 ? f : new File(f.getParentFile(), f.getName() + \".\" + i);","156","                    if (curr.isFile()) {","157","                        if (prev != null && !prev.exists()) {","158","                            if (!curr.renameTo(prev)) {","160","                                        new Object[]{curr, prev});","163","                            if (!curr.delete()) {","165","                                        curr);","169","                    prev = curr;","181","                        logger.log(getNormalLoggingLevel(), \"Moved {0} to {1}\", new Object[]{oldFile, newFile});","183","                        logger.log(getErrorLoggingLevel(), \"Could not move {0} to {1}\",","184","                                new Object[]{oldFile, newFile});"],"delete":["153","                File p = null;","155","                    File o = i == 0 ? f : new File(f.getParentFile(), f.getName() + \".\" + i);","156","                    if (o.isFile()) {","157","                        if (p != null && !p.exists()) {","158","                            if (!o.renameTo(p)) {","160","                                        new Object[]{o, p});","163","                            if (!o.delete()) {","165","                                        o);","169","                    p = o;","181","                        logger.log(getNormalLoggingLevel(), \"Moved {0} to {1}.1\", new Object[]{oldFile, f});","183","                        logger.log(getErrorLoggingLevel(), \"Could not move {0} to {1}.1\",","184","                                new Object[]{oldFile, f});"]}]}},"623bcc89b06cdf7caa23d73c25d74341af6e7cbe":{"changes":{"war\/src\/main\/webapp\/help\/tasks\/junit\/report_ja.html":"MODIFY","war\/src\/main\/webapp\/help\/tasks\/junit\/report_ru.html":"MODIFY","war\/src\/main\/webapp\/help\/tasks\/junit\/report_fr.html":"MODIFY","war\/src\/main\/webapp\/help\/tasks\/junit\/report_de.html":"MODIFY","war\/src\/main\/webapp\/help\/tasks\/junit\/report_tr.html":"MODIFY","war\/src\/main\/webapp\/help\/tasks\/junit\/report_nl.html":"MODIFY","war\/src\/main\/webapp\/help\/tasks\/junit\/report.html":"MODIFY","war\/src\/main\/webapp\/help\/tasks\/junit\/report_pt_BR.html":"MODIFY"},"diff":{"war\/src\/main\/webapp\/help\/tasks\/junit\/report_ja.html":[{"add":["14","  <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/JUnit+graph\">??<\/a>??????????????"],"delete":["14","  <a href=\"http:\/\/jenkins-ci.org\/screenshots\/5.png\">??<\/a>??????????????"]}],"war\/src\/main\/webapp\/help\/tasks\/junit\/report_ru.html":[{"add":["13","  ???-?? ????? <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/JUnit+graph\">?????<\/a>."],"delete":["13","  ???-?? ????? <a href=\"http:\/\/jenkins-ci.org\/screenshots\/5.png\">?????<\/a>."]}],"war\/src\/main\/webapp\/help\/tasks\/junit\/report_fr.html":[{"add":["21","  <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/JUnit+graph\">comme a<\/a>."],"delete":["21","  <a href=\"http:\/\/jenkins-ci.org\/screenshots\/5.png\">comme a<\/a>."]}],"war\/src\/main\/webapp\/help\/tasks\/junit\/report_de.html":[{"add":["18","  <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/JUnit+graph\"> diese<\/a> sehen."],"delete":["18","  <a href=\"http:\/\/jenkins-ci.org\/screenshots\/5.png\"> diese<\/a> sehen."]}],"war\/src\/main\/webapp\/help\/tasks\/junit\/report_tr.html":[{"add":["15","  Bir ka&#231; test &#231;al&#305;&#351;t&#305;r&#305;p, test sonu&#231;lar&#305;n&#305; ald&#305;&#287;&#305;n&#305;zda, <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/JUnit+graph\">bu linkteki<\/a>"],"delete":["15","  Bir ka&#231; test &#231;al&#305;&#351;t&#305;r&#305;p, test sonu&#231;lar&#305;n&#305; ald&#305;&#287;&#305;n&#305;zda, <a href=\"http:\/\/jenkins-ci.org\/screenshots\/5.png\">bu linkteki<\/a>"]}],"war\/src\/main\/webapp\/help\/tasks\/junit\/report_nl.html":[{"add":["16","  gelijkaardigs aan <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/JUnit+graph\">het volgende<\/a> moeten zien."],"delete":["16","  gelijkaardigs aan <a href=\"http:\/\/jenkins-ci.org\/screenshots\/5.png\">het volgende<\/a> moeten zien."]}],"war\/src\/main\/webapp\/help\/tasks\/junit\/report.html":[{"add":["15","  something like <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/JUnit+graph\">this<\/a>."],"delete":["15","  something like <a href=\"http:\/\/jenkins-ci.org\/screenshots\/5.png\">this<\/a>."]}],"war\/src\/main\/webapp\/help\/tasks\/junit\/report_pt_BR.html":[{"add":["15","  algo como <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/JUnit+graph\">isto<\/a>."],"delete":["15","  algo como <a href=\"http:\/\/jenkins-ci.org\/screenshots\/5.png\">isto<\/a>."]}]}},"8b70c48a5f449ca4966c69aa180bed918379980b":{"changes":{"test\/src\/test\/java\/jenkins\/model\/AssetManagerTest.java":"ADD","core\/src\/main\/java\/jenkins\/model\/AssetManager.java":"MODIFY"},"diff":{"test\/src\/test\/java\/jenkins\/model\/AssetManagerTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/AssetManager.java":[{"add":["5","","6","import org.apache.commons.lang.StringUtils;","11","import javax.annotation.CheckForNull;","12","import javax.annotation.Nonnull;","80","    private @CheckForNull URL findResource(@Nonnull String path) throws IOException {","81","        if (StringUtils.isBlank(path)) {","82","            return null;","83","        }","84",""],"delete":["76","    private URL findResource(String path) throws IOException {"]}]}},"8fb2f5162e499b5c0c4dc8f88af761b7c490bc38":{"changes":{"changelog.html":"MODIFY","rpm\/SOURCES\/jenkins.logrotate":"MODIFY"},"diff":{"changelog.html":[{"add":["58","    Fixed a log rotation portability problem on RedHat RPM package.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-5784\">issue 5784<\/a>)  ","60","  <li class=bug>"],"delete":[]}],"rpm\/SOURCES\/jenkins.logrotate":[{"add":["10","      if [ -s \/var\/run\/jenkins.pid ]; then","11","        JPID=`cat \/var\/run\/jenkins.pid`","12","        test -n \"`find \/proc\/$JPID -maxdepth 0 -user jenkins 2>\/dev\/null`\" && \/bin\/kill -s ALRM $JPID || :","13","      fi"],"delete":["10","     kill -s SIGALRM `cat \/var\/run\/jenkins.pid`"]}]}},"a03afb508c7e3b26551d3c19f9ff49b29aaf1299":{"changes":{"war\/src\/main\/webapp\/css\/style.css":"MODIFY"},"diff":{"war\/src\/main\/webapp\/css\/style.css":[{"add":["1902",".alert-danger {","1903","    color: #a94442;","1904","    background-color: #f2dede;","1905","    border-color: #ebccd1;","1906","}","1907","","1908",".alert-danger p {","1909","    color: #a94442;","1910","}","1911",""],"delete":[]}]}},"081e400a5b618b035fa9c350e3bf4341d66e2476":{"changes":{"core\/src\/main\/java\/hudson\/model\/Item.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Item.java":[{"add":["268","    Permission CANCEL = new Permission(PERMISSIONS, \"Cancel\", Messages._AbstractProject_CancelPermission_Description(), Permission.UPDATE, PermissionScope.ITEM);"],"delete":["268","    Permission CANCEL = new Permission(PERMISSIONS, \"Cancel\", Messages._AbstractProject_CancelPermission_Description(), BUILD, PermissionScope.ITEM);"]}]}},"6788f82a2c9f8e3580440913c2d39f1d1dc3ad70":{"changes":{"core\/src\/main\/java\/hudson\/ExtensionFinder.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/ExtensionFinder.java":[{"add":["464","                    c.getFields();       ","465","                    while (c != Object.class) {","466","                        c.getGenericSuperclass();","467","                        c = c.getSuperclass();","468","                    }"],"delete":["464","                    c.getFields();"]}]}},"7bd1399214e25794603630ce6d323b692c7dfad9":{"changes":{"maven-plugin\/src\/main\/webapp\/goals_de.html":"ADD","maven-plugin\/src\/main\/webapp\/maven-opts_fr.html":"ADD","maven-plugin\/src\/main\/webapp\/maven-opts_ru.html":"ADD","maven-plugin\/src\/main\/webapp\/block-upstream-building.html":"ADD","maven-plugin\/src\/main\/webapp\/module-goals.html":"ADD","maven-plugin\/src\/main\/webapp\/goals_ja.html":"ADD","maven-plugin\/src\/main\/webapp\/ignore-upstrem-changes.html":"ADD","maven-plugin\/src\/main\/webapp\/goals_pt_BR.html":"ADD","maven-plugin\/src\/main\/webapp\/root-pom_de.html":"ADD","maven-plugin\/src\/main\/webapp\/redeploy-url_ja.html":"ADD","maven-plugin\/src\/main\/webapp\/root-pom_ja.html":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/configure-entries.jelly":"MODIFY","maven-plugin\/src\/main\/webapp\/module-goals_ja.html":"ADD","maven-plugin\/src\/main\/webapp\/goals_fr.html":"ADD","maven-plugin\/src\/main\/webapp\/maven-opts_tr.html":"ADD","maven-plugin\/src\/main\/webapp\/maven-opts_pt_BR.html":"ADD","maven-plugin\/src\/main\/webapp\/private-repository_ja.html":"ADD","maven-plugin\/src\/main\/webapp\/redeploy-url_fr.html":"ADD","maven-plugin\/src\/main\/webapp\/root-pom_ru.html":"ADD","maven-plugin\/src\/main\/webapp\/aggregator_ru.html":"ADD","maven-plugin\/src\/main\/webapp\/root-pom.html":"ADD","maven-plugin\/src\/main\/webapp\/private-repository_fr.html":"ADD","maven-plugin\/src\/main\/webapp\/redeploy-url.html":"ADD","maven-plugin\/src\/main\/webapp\/module-goals_fr.html":"ADD","maven-plugin\/src\/main\/webapp\/goals_tr.html":"ADD","maven-plugin\/src\/main\/webapp\/ignore-upstrem-changes_ja.html":"ADD","maven-plugin\/src\/main\/webapp\/module-goals_de.html":"ADD","maven-plugin\/src\/main\/webapp\/private-repository_de.html":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModule\/configure-entries.jelly":"MODIFY","maven-plugin\/src\/main\/webapp\/redeploy.html":"ADD","maven-plugin\/src\/main\/webapp\/aggregator_ja.html":"ADD","maven-plugin\/src\/main\/webapp\/redeploy_fr.html":"ADD","maven-plugin\/src\/main\/webapp\/ignore-upstrem-changes_fr.html":"ADD","maven-plugin\/src\/main\/webapp\/aggregator_pt_BR.html":"ADD","maven-plugin\/src\/main\/webapp\/module-goals_pt_BR.html":"ADD","maven-plugin\/src\/main\/webapp\/module-goals_ru.html":"ADD","maven-plugin\/src\/main\/webapp\/redeploy-uniqueVersion_fr.html":"ADD","maven-plugin\/src\/main\/resources\/hudson\/maven\/RedeployPublisher\/config.jelly":"MODIFY","maven-plugin\/src\/main\/webapp\/private-repository.html":"ADD","maven-plugin\/src\/main\/webapp\/incremental.html":"ADD","core\/src\/main\/resources\/hudson\/tasks\/Maven\/config.jelly":"MODIFY","maven-plugin\/src\/main\/webapp\/aggregator_de.html":"ADD","maven-plugin\/src\/main\/webapp\/redeploy-uniqueVersion_ja.html":"ADD","maven-plugin\/src\/main\/webapp\/aggregator_fr.html":"ADD","maven-plugin\/src\/main\/webapp\/maven-opts_ja.html":"ADD","maven-plugin\/src\/main\/webapp\/root-pom_fr.html":"ADD","maven-plugin\/src\/main\/webapp\/aggregator.html":"ADD","maven-plugin\/src\/main\/webapp\/root-pom_pt_BR.html":"ADD","maven-plugin\/src\/main\/webapp\/goals_ru.html":"ADD","maven-plugin\/src\/main\/webapp\/maven-opts_de.html":"ADD","maven-plugin\/src\/main\/webapp\/aggregator_tr.html":"ADD","maven-plugin\/src\/main\/webapp\/root-pom_tr.html":"ADD","maven-plugin\/src\/main\/webapp\/maven-opts.html":"ADD","maven-plugin\/src\/main\/webapp\/module-goals_tr.html":"ADD","maven-plugin\/src\/main\/webapp\/redeploy-id_fr.html":"ADD","\/dev\/null":"DELETE","maven-plugin\/src\/main\/webapp\/redeploy-id.html":"ADD","maven-plugin\/src\/main\/webapp\/goals.html":"ADD","maven-plugin\/src\/main\/webapp\/private-repository_tr.html":"ADD","maven-plugin\/src\/main\/webapp\/redeploy-uniqueVersion.html":"ADD","maven-plugin\/src\/main\/webapp\/redeploy-id_ja.html":"ADD"},"diff":{"maven-plugin\/src\/main\/webapp\/goals_de.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/maven-opts_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/maven-opts_ru.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/block-upstream-building.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/module-goals.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/goals_ja.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/ignore-upstrem-changes.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/goals_pt_BR.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/root-pom_de.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy-url_ja.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/root-pom_ja.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/configure-entries.jelly":[{"add":["33","        help=\"\/plugin\/maven-plugin\/ignore-upstrem-changes.html\"","60","    <f:entry title=\"${%Root POM}\" help=\"\/plugin\/maven-plugin\/root-pom.html\">","64","    <f:entry title=\"${%Goals and options}\" help=\"\/plugin\/maven-plugin\/goals.html\">","68","      <f:entry title=\"MAVEN_OPTS\" help=\"\/plugin\/maven-plugin\/maven-opts.html\">","73","                       help=\"\/plugin\/maven-plugin\/incremental.html\"","75","      <f:optionalBlock name=\"maven.perModuleBuild\" title=\"${%Build modules in parallel}\" help=\"\/plugin\/maven-plugin\/aggregator.html\"","77","      <f:optionalBlock name=\"maven.usePrivateRepository\" title=\"${%Use private Maven repository}\" help=\"\/plugin\/maven-plugin\/private-repository.html\"","79","      <f:optionalBlock name=\"maven.blockBuildWhenUpstreamBuilding\" title=\"${%Block build when dependency building}\" help=\"\/plugin\/maven-plugin\/block-upstream-building.html\""],"delete":["33","        help=\"\/help\/maven\/ignore-upstrem-changes.html\"","60","    <f:entry title=\"${%Root POM}\" help=\"\/help\/maven\/root-pom.html\">","64","    <f:entry title=\"${%Goals and options}\" help=\"\/help\/maven\/goals.html\">","68","      <f:entry title=\"MAVEN_OPTS\" help=\"\/help\/maven\/maven-opts.html\">","73","                       help=\"\/help\/maven\/incremental.html\"","75","      <f:optionalBlock name=\"maven.perModuleBuild\" title=\"${%Build modules in parallel}\" help=\"\/help\/maven\/aggregator.html\"","77","      <f:optionalBlock name=\"maven.usePrivateRepository\" title=\"${%Use private Maven repository}\" help=\"\/help\/maven\/private-repository.html\"","79","      <f:optionalBlock name=\"maven.blockBuildWhenUpstreamBuilding\" title=\"${%Block build when dependency building}\" help=\"\/help\/maven\/block-upstream-building.html\""]}],"maven-plugin\/src\/main\/webapp\/module-goals_ja.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/goals_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/maven-opts_tr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/maven-opts_pt_BR.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/private-repository_ja.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy-url_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/root-pom_ru.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/aggregator_ru.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/root-pom.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/private-repository_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy-url.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/module-goals_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/goals_tr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/ignore-upstrem-changes_ja.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/module-goals_de.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/private-repository_de.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModule\/configure-entries.jelly":[{"add":["31","    <f:entry title=\"${%Goals}\" help=\"\/plugin\/maven-plugin\/module-goals.html\">"],"delete":["31","    <f:entry title=\"${%Goals}\" help=\"\/help\/maven\/module-goals.html\">"]}],"maven-plugin\/src\/main\/webapp\/redeploy.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/aggregator_ja.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/ignore-upstrem-changes_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/aggregator_pt_BR.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/module-goals_pt_BR.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/module-goals_ru.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy-uniqueVersion_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/resources\/hudson\/maven\/RedeployPublisher\/config.jelly":[{"add":["25","  <f:entry title=\"${%Repository URL}\" help=\"\/plugin\/maven-plugin\/redeploy-url.html\">","29","    <f:entry title=\"${%Repository ID}\" help=\"\/plugin\/maven-plugin\/redeploy-id.html\">","32","    <f:entry help=\"\/plugin\/maven-plugin\/redeploy-uniqueVersion.html\">"],"delete":["25","  <f:entry title=\"${%Repository URL}\" help=\"\/help\/maven\/redeploy-url.html\">","29","    <f:entry title=\"${%Repository ID}\" help=\"\/help\/maven\/redeploy-id.html\">","32","    <f:entry help=\"\/help\/maven\/redeploy-uniqueVersion.html\">"]}],"maven-plugin\/src\/main\/webapp\/private-repository.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/incremental.html":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/Maven\/config.jelly":[{"add":["39","    <f:entry title=\"${%POM}\" help=\"\/plugin\/maven-plugin\/root-pom.html\">","45","    <f:entry title=\"${%JVM Options}\" help=\"\/plugin\/maven-plugin\/maven-opts.html\">"],"delete":["39","    <f:entry title=\"${%POM}\" help=\"\/help\/maven\/root-pom.html\">","45","    <f:entry title=\"${%JVM Options}\" help=\"\/help\/maven\/maven-opts.html\">"]}],"maven-plugin\/src\/main\/webapp\/aggregator_de.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy-uniqueVersion_ja.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/aggregator_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/maven-opts_ja.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/root-pom_fr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/aggregator.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/root-pom_pt_BR.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/goals_ru.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/maven-opts_de.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/aggregator_tr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/root-pom_tr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/maven-opts.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/module-goals_tr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy-id_fr.html":[{"add":[],"delete":[]}],"\/dev\/null":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy-id.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/goals.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/private-repository_tr.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy-uniqueVersion.html":[{"add":[],"delete":[]}],"maven-plugin\/src\/main\/webapp\/redeploy-id_ja.html":[{"add":[],"delete":[]}]}},"d36acc1c81694fd204d1f3c0efcde278883e9b79":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/executors.jelly":"MODIFY","core\/src\/main\/java\/hudson\/Functions.java":"MODIFY","test\/src\/test\/java\/jenkins\/security\/stapler\/Security400Test.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Executor.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/executors.jelly":[{"add":["125","                    <l:stopButton href=\"${rootURL}\/${c.url}${url}\/stopBuild?runExtId=${h.urlEncode(exe.externalizableId)}\" confirm=\"${%confirm(exe.fullDisplayName)}\" alt=\"${%terminate this build}\"  \/>"],"delete":["125","                    <l:stopButton href=\"${rootURL}\/${c.url}${url}\/stop\" confirm=\"${%confirm(exe.fullDisplayName)}\" alt=\"${%terminate this build}\"  \/>"]}],"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["769","     * Useful for encoding URL query parameters in jelly code (as in {@code \"...?param=${h.urlEncode(something)}\"}).<br>","770","     * For convenience in jelly code, it also accepts null parameter, and then returns an empty string.","775","        if (s == null) {","776","            return \"\";","777","        }"],"delete":["769","     * Useful for encoding URL query parameters in jelly code (as in {@code \"...?param=${h.urlEncode(something)}\"})."]}],"test\/src\/test\/java\/jenkins\/security\/stapler\/Security400Test.java":[{"add":["57","import java.net.URLEncoder;","264","","265","    \/*","266","     * Similar to ensureDoStopStillReachable()}, but tests Executor.doStopBuild(String) instead of Executor.doStop().","267","     * Implemented here (instead of ExecutorTest) for convenience (uses SemaphoredBuilder).","268","     *\/","269","    @Test","270","    @Issue(\"JENKINS-59656\")","271","    public void ensureDoStopBuildWorks() throws Exception {","272","        j.jenkins.setCrumbIssuer(null);","273","        JenkinsRule.WebClient wc = j.createWebClient();","274","        wc.getOptions().setThrowExceptionOnFailingStatusCode(false); \/\/ we expect 404","275","        wc.getOptions().setPrintContentOnFailingStatusCode(false); \/\/ be less verbose","276","","277","        \/\/ gives access to the build result code","278","        final AtomicInteger atomicResult = new AtomicInteger(0);","279","        \/\/ blocks execution of the build step","280","        final Semaphore semaphore = new Semaphore(0);","281","        \/\/ the test project with a semaphored build step","282","        FreeStyleProject p = j.createFreeStyleProject();","283","        p.getBuildersList().add(new SemaphoredBuilder(semaphore, atomicResult));","284","","285","        \/\/ to be sure to reach the correct one","286","        j.jenkins.setNumExecutors(1);","287","","288","        { \/\/ preliminary test, calling stopBuild without any executor results in 404","289","            WebRequest request = new WebRequest(new URL(j.getURL() + \"computers\/0\/executors\/0\/stopBuild\"), HttpMethod.POST);","290","            Page page = wc.getPage(request);","291","            assertEquals(404, page.getWebResponse().getStatusCode());","292","            assertRequestWasNotBlocked();","293","        }","294","","295","        { \/\/ first try, we let the build finishes normally","296","            \/\/ reset semaphore and result code","297","            semaphore.drainPermits();","298","            atomicResult.set(0);","299","","300","            QueueTaskFuture<FreeStyleBuild> futureBuild = p.scheduleBuild2(0);","301","            futureBuild.waitForStart();","302","","303","            \/\/ let the build finishes","304","            semaphore.release(1);","305","","306","            j.assertBuildStatus(Result.SUCCESS, futureBuild);","307","            assertEquals(1, atomicResult.get());","308","        }","309","","310","        { \/\/ second try, calling stopBuild without parameter interrupts the build (same as calling stop)","311","            \/\/ reset semaphore and result code","312","            semaphore.drainPermits();","313","            atomicResult.set(0);","314","","315","            QueueTaskFuture<FreeStyleBuild> futureBuild = p.scheduleBuild2(0);","316","            futureBuild.waitForStart();","317","","318","            WebRequest request = new WebRequest(new URL(j.getURL() + \"computers\/0\/executors\/0\/stopBuild\"), HttpMethod.POST);","319","            Page page = wc.getPage(request);","320","            assertEquals(404, page.getWebResponse().getStatusCode());","321","            assertRequestWasNotBlocked();","322","","323","            \/\/ let the build finish quickly (if not interrupted already)","324","            semaphore.release(1);","325","","326","            j.assertBuildStatus(Result.FAILURE, futureBuild);","327","            assertEquals(3, atomicResult.get()); \/\/ interrupted","328","        }","329","","330","        { \/\/ third try, calling stopBuild with the right parameter interrupts the build","331","            \/\/ reset semaphore and result code","332","            semaphore.drainPermits();","333","            atomicResult.set(0);","334","","335","            QueueTaskFuture<FreeStyleBuild> futureBuild = p.scheduleBuild2(0);","336","            FreeStyleBuild build = futureBuild.waitForStart();","337","            String runExtId = URLEncoder.encode(build.getExternalizableId(), \"UTF-8\");","338","","339","            WebRequest request = new WebRequest(new URL(j.getURL() + \"computers\/0\/executors\/0\/stopBuild?runExtId=\" + runExtId), HttpMethod.POST);","340","            Page page = wc.getPage(request);","341","            assertEquals(404, page.getWebResponse().getStatusCode());","342","            assertRequestWasNotBlocked();","343","","344","            \/\/ let the build finish quickly (if not interrupted already)","345","            semaphore.release(1);","346","","347","            j.assertBuildStatus(Result.FAILURE, futureBuild);","348","            assertEquals(3, atomicResult.get()); \/\/ interrupted","349","        }","350","","351","        { \/\/ fourth try, calling stopBuild with a parameter not matching build id doesn't interrupt the build","352","            \/\/ reset semaphore and result code","353","            semaphore.drainPermits();","354","            atomicResult.set(0);","355","","356","            QueueTaskFuture<FreeStyleBuild> futureBuild = p.scheduleBuild2(0);","357","            futureBuild.waitForStart();","358","","359","            WebRequest request = new WebRequest(new URL(j.getURL() + \"computers\/0\/executors\/0\/stopBuild?runExtId=whatever\"), HttpMethod.POST);","360","            Page page = wc.getPage(request);","361","            assertEquals(404, page.getWebResponse().getStatusCode());","362","            assertRequestWasNotBlocked();","363","","364","            \/\/ let the build finishes","365","            semaphore.release(1);","366","","367","            j.assertBuildStatus(Result.SUCCESS, futureBuild);","368","            assertEquals(1, atomicResult.get());","369","        }","370","    }","371",""],"delete":["263","    "]}],"core\/src\/main\/java\/hudson\/model\/Executor.java":[{"add":["41","import org.kohsuke.stapler.QueryParameter;","831","     *      Use {@link #doStop()} or {@link #doStopBuild(String)}.","840","     * Stops the current build.<br>","841","     * You can use {@link #doStopBuild(String)} instead to ensure what will be","842","     * interrupted is actually what you want to interrupt.","845","     * @see #doStopBuild(String)","849","        return doStopBuild(null);","850","    }","851","","852","    \/**","853","     * Stops the current build, if matching the specified external id","854","     * (or no id is specified, or the current {@link Executable} is not a {@link Run}).","855","     *","856","     * @param runExtId","857","     *      if not null, the externalizable id ({@link Run#getExternalizableId()})","858","     *      of the build the user expects to interrupt","859","     * @since TODO","860","     *\/","861","    @RequirePOST","862","    @Restricted(NoExternalUse.class)","863","    public HttpResponse doStopBuild(@CheckForNull @QueryParameter(fixEmpty = true) String runExtId) {","867","                if (runExtId == null || runExtId.isEmpty() || ! (executable instanceof Run)","868","                        || (executable instanceof Run && runExtId.equals(((Run<?,?>) executable).getExternalizableId()))) {","869","                    getParentOf(executable).getOwnerTask().checkAbortPermission();","870","                    interrupt();","871","                }"],"delete":["830","     *      Use {@link #doStop()}.","839","     * Stops the current build.","848","                getParentOf(executable).getOwnerTask().checkAbortPermission();","849","                interrupt();"]}]}},"dd6eab438f62313cc10278a59c7dace972bca433":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/main.jelly":"MODIFY","test\/src\/test\/java\/hudson\/tasks\/test\/AggregatedTestResultPublisherTest.java":"MODIFY"},"diff":{"changelog.html":[{"add":["85","  <li class='bug'>","86","    Make the link to the aggregated test result from the project page work.","87","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-9637\">issue 9637<\/a>)"],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/main.jelly":[{"add":["33","","55","      <j:if test=\"${tr.class.name != 'hudson.tasks.test.AggregatedTestResultPublisher$TestResultAction'}\">","63","    <j:forEach var=\"atr\" items=\"${it.lastCompletedBuild.actions}\">","64","      <j:if test=\"${atr!=null}\">","65","        <j:if test=\"${atr.class.name == 'hudson.tasks.test.AggregatedTestResultPublisher$TestResultAction'}\">","66","          <t:summary icon=\"clipboard.png\">","67","            <a href=\"lastCompletedBuild\/${atr.urlName}\/\" class=\"model-link inside\">${%Latest Aggregated Test Result}<\/a>","68","            <t:test-result it=\"${atr}\" \/>","69","          <\/t:summary>","70","        <\/j:if>","71","      <\/j:if>","72","    <\/j:forEach>"],"delete":["33","  ","55","      <j:if test=\"${tr.class.name != 'hudson.tasks.test.AggregatedTestResultAction'}\">","63","    <j:set var=\"atr\" value=\"${it.lastCompletedBuild.aggregatedTestResultAction}\"\/>","64","    <j:if test=\"${atr!=null}\">","65","      <t:summary icon=\"clipboard.png\">","66","        <a href=\"lastCompletedBuild\/aggregatedTestReport\/\" class=\"model-link inside\">${%Latest Aggregated Test Result}<\/a>","67","        <t:test-result it=\"${atr}\" \/>","68","      <\/t:summary>","69","    <\/j:if>"]}],"test\/src\/test\/java\/hudson\/tasks\/test\/AggregatedTestResultPublisherTest.java":[{"add":["58","                .assertHasLatestAggregatedTestResultText()","61","","83","        projectPage.getLatestAggregatedTestReportLink()","84","                .assertHasLatestAggregatedTestResultText()","85","                .assertNoTests()","86","                .follow();","94","                .assertNoTests()","95","                .follow();","110","        projectPage.getLatestAggregatedTestReportLink()","111","                .assertHasLatestAggregatedTestResultText()","112","                .assertHasTests()","113","                .follow();","133","        build(1);","134","    }","135","","136","    private void build(int numberOfDownstreamBuilds) throws Exception {","141","        assertThat(downstreamBuilds, hasSize(numberOfDownstreamBuilds));","183","            project.getBuildersList().add(new Shell(\"echo $BUILD_NUMBER \" + contents[i] + \" > \" + files[i]));"],"delete":["58","                .assertHasLatestTestResultText()","82","        projectPage.assertNoAggregatedTestReportLink();","90","                .assertNoTests();","105","        projectPage.assertNoAggregatedTestReportLink();","129","        assertThat(downstreamBuilds, hasSize(1));","171","            project.getBuildersList().add(new Shell(\"echo \" + contents[i] + \" > \" + files[i]));"]}]}},"d7598f118fd6d9989164cd2ff7126001a6ee2ff2":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["51","      <version>1.34<\/version>"],"delete":["51","      <version>1.33<\/version>"]}]}},"94bc3be9c675664b4690c5962a21fe61037b5265":{"changes":{"core\/src\/main\/resources\/hudson\/scheduler\/Messages.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/scheduler\/Messages.properties":[{"add":["25","CronTab.do_you_really_mean_every_minute_when_you=Do you really mean \"every minute\" when you say \"{0}\"? Perhaps you meant \"{1}\" to poll once per hour"],"delete":["25","CronTab.do_you_really_mean_every_minute_when_you=Do you really mean \"every minute\" when you say \"{0}\"? Perhaps you meant \"{1}\""]}]}},"1b22943230c0d5bb5b09695aebe272a0640acbbc":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/ParameterDefinition\/config.jelly":"ADD","core\/src\/main\/resources\/hudson\/model\/ParametersAction\/index.jelly":"ADD","core\/src\/main\/java\/hudson\/WebAppMain.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/ParametersDefinitionProperty\/index.jelly":"ADD","core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/ParametersDefinitionProperty.java":"ADD","core\/src\/main\/java\/hudson\/model\/StringParameterDefinition.java":"ADD","core\/src\/main\/java\/hudson\/model\/RunParameterDefinition.java":"ADD","core\/src\/main\/java\/hudson\/model\/ParameterValue.java":"ADD","core\/src\/main\/java\/hudson\/model\/Executor.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/JobParameterDefinition.java":"ADD","core\/src\/main\/java\/hudson\/model\/ParametersAction.java":"ADD","core\/src\/main\/java\/hudson\/util\/QueueTaskFilter.java":"ADD","core\/src\/main\/resources\/hudson\/security\/AuthorizationMatrixProperty\/table.css":"ADD","core\/src\/main\/resources\/hudson\/model\/AbstractProject\/sidepanel.jelly":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/Maven.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/StringParameterDefinition\/index.jelly":"ADD","core\/src\/main\/java\/hudson\/model\/JobParameterValue.java":"ADD","core\/src\/main\/java\/hudson\/util\/VariableResolver.java":"ADD","core\/src\/main\/resources\/hudson\/model\/StringParameterValue\/value.jelly":"ADD","core\/src\/main\/resources\/hudson\/security\/ProjectMatrixAuthorizationStrategy\/config.jelly":"ADD","core\/src\/main\/java\/hudson\/security\/AuthorizationMatrixProperty.java":"ADD","core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":"MODIFY","core\/src\/main\/resources\/hudson\/security\/AuthorizationMatrixProperty\/config.jelly":"ADD","core\/src\/main\/java\/hudson\/model\/Build.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/ParameterizedProjectTask.java":"ADD","core\/src\/main\/java\/hudson\/maven\/EmbedderLoggerImpl.java":"MODIFY","core\/src\/main\/java\/hudson\/Util.java":"MODIFY","core\/src\/main\/java\/hudson\/security\/AuthorizationStrategy.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Jobs.java":"MODIFY","war\/resources\/help\/project-config\/parameterized-build.html":"ADD","core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/PluginServletFilter.java":"MODIFY","war\/resources\/images\/24x24\/document-properties.gif":"ADD","core\/src\/main\/java\/hudson\/triggers\/Trigger.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/ParametersDefinitionProperty\/config.jelly":"ADD","core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/JobProperty.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/StringParameterValue.java":"ADD","core\/src\/main\/resources\/hudson\/model\/ParametersDefinitionProperty\/index.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/StringParameterDefinition\/config.jelly":"ADD","core\/src\/main\/java\/hudson\/security\/ProjectMatrixAuthorizationStrategy.java":"ADD","core\/src\/main\/java\/hudson\/Functions.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/RunMap.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/ParameterDefinition.java":"ADD","core\/src\/main\/java\/hudson\/model\/listeners\/RunListener.java":"MODIFY","\/dev\/null":"DELETE","core\/src\/main\/resources\/hudson\/security\/ProjectMatrixAuthorizationStrategy\/table.css":"ADD","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/RunParameterValue.java":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":[{"add":["12","import hudson.model.ParametersAction;","108","        String targets = this.targets;","109","        ParametersAction parameters = build.getAction(ParametersAction.class);","110","        if (parameters != null)","111","            targets = parameters.substitute(build,targets);","112",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/ParameterDefinition\/config.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/ParametersAction\/index.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/WebAppMain.java":[{"add":["38","import java.util.Timer;","155","                        Trigger.timer = new Timer(\"Hudson cron thread\");","156",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/ParametersDefinitionProperty\/index.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["3","import hudson.XmlFile;","8","import hudson.util.XStream2;","9","","10","import java.io.BufferedReader;","11","import java.io.File;","12","import java.io.FileInputStream;","13","import java.io.IOException;","14","import java.io.InputStreamReader;","15","import java.lang.ref.WeakReference;","16","import java.util.ArrayList;","17","import java.util.Calendar;","18","import java.util.GregorianCalendar;","19","import java.util.HashMap;","20","import java.util.Iterator;","21","import java.util.LinkedHashMap;","22","import java.util.List;","23","import java.util.Map;","24","import java.util.Set;","25","import java.util.TreeSet;","26","import java.util.Map.Entry;","27","import java.util.logging.Level;","28","import java.util.logging.Logger;","29","","30","import javax.management.timer.Timer;","31","","36","import com.thoughtworks.xstream.XStream;","37","import com.thoughtworks.xstream.converters.basic.AbstractSingleValueConverter;","146","    private final XStream xstream = new XStream2();","147","    ","149","        xstream.registerConverter(new AbstractSingleValueConverter() {","150","","151","\t\t\t@Override","152","\t\t\t@SuppressWarnings(\"unchecked\")","153","\t\t\tpublic boolean canConvert(Class klazz) {","154","\t\t\t\treturn TopLevelItem.class.isAssignableFrom(klazz);","155","\t\t\t}","156","","157","\t\t\t@Override","158","\t\t\tpublic Object fromString(String string) {","159","\t\t\t\treturn Hudson.getInstance().getItem(string);","160","\t\t\t}","161","","162","\t\t\t@Override","163","\t\t\tpublic String toString(Object item) {","164","\t\t\t\treturn ((TopLevelItem) item).getName();","165","\t\t\t}","166","        });","167","        xstream.registerConverter(new AbstractSingleValueConverter() {","168","","169","\t\t\t@SuppressWarnings(\"unchecked\")","170","\t\t\t@Override","171","\t\t\tpublic boolean canConvert(Class klazz) {","172","\t\t\t\treturn Run.class.isAssignableFrom(klazz);","173","\t\t\t}","174","","175","\t\t\t@Override","176","\t\t\tpublic Object fromString(String string) {","177","\t\t\t\tString[] split = string.split(\"#\");","178","\t\t\t\tString projectName = split[0];","179","\t\t\t\tint buildNumber = Integer.parseInt(split[1]);","180","\t\t\t\tJob<?,?> job = (Job<?,?>) Hudson.getInstance().getItem(projectName);","181","\t\t\t\tRun<?,?> run = job.getBuildByNumber(buildNumber);","182","\t\t\t\treturn run;","183","\t\t\t}","184","","185","\t\t\t@Override","186","\t\t\tpublic String toString(Object object) {","187","\t\t\t\tRun<?,?> run = (Run<?,?>) object;","188","\t\t\t\treturn run.getParent().getName() + \"#\" + run.getNumber();","189","\t\t\t}","190","        });","191"," ","202","        \t\/\/ first try the old format","204","            if (queueFile.exists()) {","205","                BufferedReader in = new BufferedReader(new InputStreamReader(new FileInputStream(queueFile)));","206","\t            String line;","207","\t            while ((line = in.readLine()) != null) {","208","\t                AbstractProject j = Hudson.getInstance().getItemByFullName(line, AbstractProject.class);","209","\t                if (j != null)","210","\t                    j.scheduleBuild();","211","\t            }","212","\t            in.close();","213","\t            \/\/ discard the queue file now that we are done","214","\t            queueFile.delete();","215","\t            ","216","\t            return;","217","\t        } else {","218","\t        \tqueueFile = getXMLQueueFile();","219","\t        \tif (queueFile.exists()) {","220","\t        \t\tList<Task> tasks = (List<Task>) new XmlFile(xstream, queueFile).read();","221","\t        \t\tfor (Task task: tasks) {","222","\t        \t\t\tadd(task, 0);","223","\t        \t\t}","224","\t        \t\tqueueFile.delete();","225","\t        \t}","226","\t        }","236","        \/\/ write out the tasks on the queue","237","    \tArrayList<Task> tasks = new ArrayList<Task>();","238","    \tfor (Item item: getItems()) {","239","    \t\ttasks.add(item.task);","240","    \t}","241","    \t","243","        \tnew XmlFile(xstream, getXMLQueueFile()).write(tasks);","250","\t    return new File(Hudson.getInstance().getRootDir(), \"queue.txt\");","251","\t}","252","","253","    private File getXMLQueueFile() {","254","\t    return new File(Hudson.getInstance().getRootDir(), \"queue.xml\");","255","\t}","321","    public synchronized boolean cancel(Task p) {","323","        for (Iterator<WaitingItem> itr = waitingList.iterator(); itr.hasNext();) {","324","            Item item = itr.next();","398","     *\/"],"delete":["11","import javax.management.timer.Timer;","12","import java.io.BufferedReader;","13","import java.io.File;","14","import java.io.FileInputStream;","15","import java.io.FileOutputStream;","16","import java.io.IOException;","17","import java.io.InputStreamReader;","18","import java.io.PrintWriter;","19","import java.lang.ref.WeakReference;","20","import java.util.Map.Entry;","21","import java.util.*;","22","import java.util.logging.Level;","23","import java.util.logging.Logger;","142","        \/\/ write out the contents of the queue","145","            if (!queueFile.exists())","146","                return;","147","","148","            BufferedReader in = new BufferedReader(new InputStreamReader(new FileInputStream(queueFile)));","149","            String line;","150","            while ((line = in.readLine()) != null) {","151","                AbstractProject j = Hudson.getInstance().getItemByFullName(line, AbstractProject.class);","152","                if (j != null)","153","                    j.scheduleBuild();","154","            }","155","            in.close();","156","            \/\/ discard the queue file now that we are done","157","            queueFile.delete();","167","        \/\/ write out the contents of the queue","169","            PrintWriter w = new PrintWriter(new FileOutputStream(","170","                    getQueueFile()));","171","            for (Item i : getItems())","172","                w.println(i.task.getName());","173","            w.close();","180","        return new File(Hudson.getInstance().getRootDir(), \"queue.txt\");","181","    }","247","    public synchronized boolean cancel(AbstractProject<?, ?> p) {","249","        for (Iterator itr = waitingList.iterator(); itr.hasNext();) {","250","            Item item = (Item) itr.next();","321","     *\/"]}],"core\/src\/main\/java\/hudson\/model\/ParametersDefinitionProperty.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/StringParameterDefinition.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/RunParameterDefinition.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/ParameterValue.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Executor.java":[{"add":["58","                if(Hudson.getInstance() == null || Hudson.getInstance().isTerminating())"],"delete":["58","                if(Hudson.getInstance().isTerminating())"]}],"core\/src\/main\/java\/hudson\/model\/JobParameterDefinition.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/ParametersAction.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/QueueTaskFilter.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/security\/AuthorizationMatrixProperty\/table.css":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/AbstractProject\/sidepanel.jelly":[{"add":["3","<j:jelly xmlns:j=\"jelly:core\" xmlns:x=\"jelly:xml\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"\/lib\/layout\" xmlns:t=\"\/lib\/hudson\" xmlns:f=\"\/lib\/form\" xmlns:i=\"jelly:fmt\">","18","          <l:task icon=\"images\/24x24\/clock.gif\" href=\"${url}\/build?delay=0sec\" title=\"${%Build Now}\"","19","                  onclick=\"${h.ifThenElse(it.parameterized,null,'return build(this)')}\" permission=\"${it.BUILD}\" \/>"],"delete":["3","<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"\/lib\/layout\" xmlns:t=\"\/lib\/hudson\" xmlns:f=\"\/lib\/form\" xmlns:i=\"jelly:fmt\">","18","          <l:task icon=\"images\/24x24\/clock.gif\" href=\"${url}\/build?delay=0sec\" title=\"${%Build Now}\" onclick=\"return build(this)\" permission=\"${it.BUILD}\" \/>"]}],"core\/src\/main\/java\/hudson\/tasks\/Maven.java":[{"add":["17","import hudson.model.ParametersAction;","128","        String targets = this.targets;","129","        ParametersAction parameters = build.getAction(ParametersAction.class);","130","        if (parameters != null)","131","            targets = parameters.substitute(build,targets);","132",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/StringParameterDefinition\/index.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/JobParameterValue.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/VariableResolver.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/StringParameterValue\/value.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/security\/ProjectMatrixAuthorizationStrategy\/config.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/security\/AuthorizationMatrixProperty.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":[{"add":["380","        ParametersAction parameters = getAction(ParametersAction.class);","381","        if (parameters != null)","382","            parameters.buildEnvVars(this,env);","383","","384","        if(buildEnvironments!=null)","387","        "],"delete":["380","        if(buildEnvironments!=null) {","383","        }"]}],"core\/src\/main\/resources\/hudson\/security\/AuthorizationMatrixProperty\/config.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Build.java":[{"add":["95","                List<BuildWrapper> wrappers = new ArrayList<BuildWrapper>(project.getBuildWrappers().values());","96","","97","                ParametersAction parameters = getAction(ParametersAction.class);","98","                if (parameters != null)","99","                    parameters.createBuildWrappers(Build.this,wrappers);","100","","101","                for( BuildWrapper w : wrappers ) {"],"delete":["14","import java.util.Map;","96","                for( BuildWrapper w : project.getBuildWrappers().values() ) {","103",""]}],"core\/src\/main\/java\/hudson\/model\/ParameterizedProjectTask.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/maven\/EmbedderLoggerImpl.java":[{"add":["15","public final class EmbedderLoggerImpl extends AbstractMavenEmbedderLogger {"],"delete":["15","final class EmbedderLoggerImpl extends AbstractMavenEmbedderLogger {"]}],"core\/src\/main\/java\/hudson\/Util.java":[{"add":["7","import hudson.util.VariableResolver;","102","        return replaceMacro(s,new VariableResolver.ByMap<String>(properties));","103","    }","104","","105","    \/**","106","     * Replaces the occurrence of '$key' by <tt>resolver.get('key')<\/tt>.","107","     *","108","     * <p>","109","     * Unlike shell, undefined variables are left as-is (this behavior is the same as Ant.)","110","     *\/","111","    public static String replaceMacro(String s, VariableResolver<String> resolver) {","120","            String value = resolver.resolve(key);"],"delete":["109","            String value = properties.get(key);"]}],"core\/src\/main\/java\/hudson\/security\/AuthorizationStrategy.java":[{"add":["175","            LIST.load(ProjectMatrixAuthorizationStrategy.class);","176","            "],"delete":["175",""]}],"core\/src\/main\/java\/hudson\/model\/Jobs.java":[{"add":["19","    \t\tParametersDefinitionProperty.DESCRIPTOR"],"delete":[]}],"war\/resources\/help\/project-config\/parameterized-build.html":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["783","                    RunListener.fireStarted(this,listener);","784",""],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/PluginServletFilter.java":[{"add":["18","\tprivate static CopyOnWriteList<Filter> LIST = new CopyOnWriteList<Filter>();\r","19","\t\r","20","\tprivate static FilterConfig filterConfig;\r","26","    \tthis.filterConfig = filterConfig;\r","27","    \tsynchronized (LIST)  {\r","28","    \t\tfor (Filter f : LIST) {\r","29","    \t\t\tf.init(filterConfig);\r","30","    \t\t}\r","31","    \t}\r","32","    }\r","33","    \r","34","    public static void addFilter(Filter filter) throws ServletException {\r","35","    \tsynchronized (LIST) {\r","36","    \t\tif (filterConfig != null) {\r","37","    \t\t\tfilter.init(filterConfig);\r","38","    \t\t}\r","39","    \t\tLIST.add(filter);\r","40","    \t}\r"],"delete":["18","\tpublic static CopyOnWriteList<Filter> LIST = new CopyOnWriteList<Filter>();\r","24","        for (Filter f : LIST)\r","25","            f.init(filterConfig);\r"]}],"war\/resources\/images\/24x24\/document-properties.gif":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/triggers\/Trigger.java":[{"add":["205","    public static Timer timer;"],"delete":["205","    public static final Timer timer = new Timer(\"Hudson cron thread\");"]}],"core\/src\/main\/resources\/hudson\/model\/ParametersDefinitionProperty\/config.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["78","import org.apache.commons.logging.LogFactory;","1427","        Trigger.timer = null;","1440","        ","1441","        LogFactory.releaseAll();"],"delete":[]}],"core\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["19","import hudson.model.ParametersAction;","292","                        List<BuildWrapper> wrappers = new ArrayList<BuildWrapper>();","293","                        for (BuildWrapper w : project.getBuildWrappers())","294","                            wrappers.add(w);","295","                        ParametersAction parameters = getAction(ParametersAction.class);","296","                        if (parameters != null)","297","                            parameters.createBuildWrappers(MavenModuleSetBuild.this,wrappers);","298","","300","                        for( BuildWrapper w : wrappers) {"],"delete":["292","                        for( BuildWrapper w : project.getBuildWrappers()) {"]}],"core\/src\/main\/java\/hudson\/model\/JobProperty.java":[{"add":["63","     * <p>","64","     * Returning non-null from this method allows a job property to add an item","65","     * to the left navigation bar in the job page.","66","     *"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/StringParameterValue.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/ParametersDefinitionProperty\/index.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/StringParameterDefinition\/config.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/security\/ProjectMatrixAuthorizationStrategy.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["14","import hudson.model.ParameterDefinition;","557","    public static List<Descriptor<ParameterDefinition>> getParameterDescriptors() {","558","        return ParameterDefinition.LIST;","559","    }","560",""],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/RunMap.java":[{"add":["177","                } catch (InstantiationError e) {","178","                    e.printStackTrace();"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/ParameterDefinition.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/listeners\/RunListener.java":[{"add":["38","    ","39","    \/**","40","     * Called when a build is started (i.e. it was in the queue, and will now start running","41","     * on an executor)","42","     *","43","     * @param r","44","     *      The started build.","45","     * @param listener","46","     *      The listener for this build. This can be used to produce log messages, for example,","47","     *      which becomes a part of the \"console output\" of this build. But when this method runs,","48","     *      the build is considered completed, so its status cannot be changed anymore.","49","     *\/","50","    public void onStarted(R r, TaskListener listener) {}","81","","82","    \/**","83","     * Fires the {@link #onStarted} event.","84","     *\/","85","    public static void fireStarted(Run r, TaskListener listener) {","86","        for (RunListener l : LISTENERS) {","87","            if(l.targetType.isInstance(r))","88","                l.onStarted(r,listener);","89","        }","90","    }"],"delete":[]}],"\/dev\/null":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/security\/ProjectMatrixAuthorizationStrategy\/table.css":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["369","        return Hudson.getInstance().getQueue().add(this, getQuietPeriod());","847","    ","848","    public boolean isParameterized() {","849","    \treturn getProperty(ParametersDefinitionProperty.class) != null;","850","    }","863","        \/\/ if a build is parameterized, let that take over","864","        ParametersDefinitionProperty pp = getProperty(ParametersDefinitionProperty.class);","865","        if (pp != null) {","866","            pp._doBuild(req,rsp);","867","            return;","868","        }","869",""],"delete":["369","        return Hudson.getInstance().getQueue().add(this);"]}],"core\/src\/main\/java\/hudson\/model\/RunParameterValue.java":[{"add":[],"delete":[]}]}},"506183064870a47fd1f8b4100e7188d80a23b6f9":{"changes":{"changelog.html":"MODIFY","debian\/debian\/jenkins.init":"MODIFY"},"diff":{"changelog.html":[{"add":["60","  <li class=bug>","61","    Debian init script gives false positives for port already in use","62","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-9281\">issue 9281<\/a>)"],"delete":[]}],"debian\/debian\/jenkins.init":[{"add":["70","    count=`netstat --listen --numeric-ports | grep \\:$port[[:space:]] | grep -c . `"],"delete":["70","    count=`netstat --listen --numeric-ports | grep \\:$port | grep -c . `"]}]}},"d9d3efb10d0b99d4590d97319e280c4a24f3ec61":{"changes":{"war\/src\/main\/webapp\/WEB-INF\/jboss-deployment-structure.xml":"MODIFY"},"diff":{"war\/src\/main\/webapp\/WEB-INF\/jboss-deployment-structure.xml":[{"add":["4","            <module name=\"com.fasterxml.jackson.core.jackson-core\" \/>","5","            <module name=\"com.fasterxml.jackson.core.jackson-annotations\" \/>","6","            <module name=\"com.fasterxml.jackson.core.jackson-databind\" \/>","9","\t<exclude-subsystems>","10","\t    <subsystem name=\"jaxrs\" \/>","11","\t<\/exclude-subsystems>    "],"delete":[]}]}},"436665894f8a68edb0ed251f58e1525497f838e9":{"changes":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":"MODIFY","changelog.html":"MODIFY"},"diff":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":[{"add":["680","        var ds = new YAHOO.util.XHRDataSource(e.getAttribute(\"autoCompleteUrl\"));","681","        ds.responseType = YAHOO.util.XHRDataSource.TYPE_JSON;","682","        ds.responseSchema = {","683","            resultsList: \"suggestions\",","684","            fields: [\"name\"]","685","        };","689","        ac.generateRequest = function(query) {","690","            return \"?value=\" + query;","691","        };","1734","    var ds = new YAHOO.util.XHRDataSource(searchURL+\"suggest\");","1735","    ds.responseType = YAHOO.util.XHRDataSource.TYPE_JSON;","1736","    ds.responseSchema = {","1737","        resultsList: \"suggestions\",","1738","        fields: [\"name\"]","1739","    };"],"delete":["680","        var ds = new YAHOO.widget.DS_XHR(e.getAttribute(\"autoCompleteUrl\"),[\"suggestions\",\"name\"]);","681","        ds.scriptQueryParam = \"value\";","1727","    var ds = new YAHOO.widget.DS_XHR(searchURL+\"suggest\",[\"suggestions\",\"name\"]);","1728","    ds.queryMatchCase = false;"]}],"changelog.html":[{"add":["57","  <li class=bug>","58","    Suggestions for search do not work since 1.433","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-11208\">issue 112083<\/a>)"],"delete":["57","  <li class=>"]}]}},"0049d2408bc98e34f7e5cf4afc5308295902a5e6":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModule.java":"MODIFY","changelog.html":"MODIFY","test\/src\/test\/java\/hudson\/maven\/Maven3BuildTest.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":[{"add":["4"," * Olivier Lamy"],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":[],"delete":["33","import hudson.cli.VersionCommand;"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModule.java":[{"add":["485","    "],"delete":[]}],"changelog.html":[{"add":["48","  <li class=bug> M2 POMs aren't parsed if there is a M3 control error like an invalid scope in a plugin dep.","49","   (<a href=\"http:\/\/issues.hudson-ci.org\/browse\/HUDSON-8395\">issue 8395<\/a>)    "],"delete":[]}],"test\/src\/test\/java\/hudson\/maven\/Maven3BuildTest.java":[{"add":["83","        System.out.println(\"mmsb.getProject().getModules \" + mmsb.getProject().getModules() );","84","        assertTrue( mmsb.getProject().getModules().isEmpty());"],"delete":["3","import hudson.maven.reporters.MavenAbstractArtifactRecord;","11","import java.util.concurrent.Future;","85","        assertTrue( mmsb.getProject().getModules() == null);"]}]}},"cd6d4f6a805c693cd6a412b6048ac50878d8781a":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["62","  <li class=bug>","63","    eclipse-plugin packaging doesn't work with maven plugin support.","64","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-8348\">issue 8438<\/a>)","65","  <li class=bug>","66","    Failed to parse POMs for packaging swc.","67","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-8448\">issue 8448<\/a>)"],"delete":["62","  <li class=>"]}]}},"1ab6934a2d991176b4c2385fd93cc5427af9395e":{"changes":{"core\/src\/main\/java\/hudson\/model\/BuildAuthorizationToken.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/BuildAuthorizationToken.java":[{"add":["31","        if(!Hudson.getInstance().isUseSecurity() || (token!=null && token.authorizedToStartBuild(req,rsp)) || Hudson.adminCheck(req, rsp)) {"],"delete":["31","        if(!Hudson.getInstance().isUseSecurity() || (token!=null && token.authorizedToStartBuild(req,rsp))) {"]}]}},"c2c9a3ef371974ccb5b319c412b35d059974087c":{"changes":{"core\/src\/test\/java\/hudson\/model\/RunTest.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages.properties":"MODIFY","core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/model\/RunTest.java":[{"add":["26","import java.io.IOException;","116","    @Issue(\"JENKINS-26777\")","117","    @SuppressWarnings({\"unchecked\", \"rawtypes\"})","118","    @Test","119","    public void getDurationString() throws IOException {","120","        Run r = new Run(new StubJob(), 0) {};","121","        assertEquals(\"Not started yet\", r.getDurationString());","122","        r.onStartBuilding();","123","        String msg;","124","        msg = r.getDurationString();","125","        assertTrue(msg, msg.endsWith(\" and counting\"));","126","        r.onEndBuilding();","127","        msg = r.getDurationString();","128","        assertFalse(msg, msg.endsWith(\" and counting\"));","129","    }"],"delete":["26","import hudson.model.Run.Artifact;","33",""]}],"core\/src\/main\/resources\/hudson\/model\/Messages.properties":[{"add":["227","Run.NotStartedYet=Not started yet"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["732","        if (hasntStartedYet()) {","733","            return Messages.Run_NotStartedYet();","734","        } else if (isBuilding()) {","737","        }"],"delete":["732","        if(isBuilding())"]}]}},"9977ccdaa6998a2af7d914e4743081bab1e463eb":{"changes":{"core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["595","        Node node = c.getNode();","597","            if (node.canTake(p.task) == null)","598","                result.add(p);"],"delete":["596","            Label l = p.task.getAssignedLabel();","597","            if (l != null) {","598","                \/\/ if a project has assigned label, it can be only built on it","599","                if (!l.contains(c.getNode()))","600","                    continue;","601","            }","602","            result.add(p);"]}]}},"972d8bad229a4be6d98c8fcaad6880e1351af3ee":{"changes":{"core\/src\/main\/java\/jenkins\/model\/lazy\/AbstractLazyLoadRunMap.java":"MODIFY","core\/src\/test\/java\/jenkins\/model\/lazy\/AbstractLazyLoadRunMapTest.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/lazy\/AbstractLazyLoadRunMap.java":[{"add":["441","            LOGGER.log(Level.WARNING, msg);","442","            return null;","453","                LOGGER.log(Level.WARNING, msg);","454","                return null;","493","                        dir, n,d,lo,hi,idOnDisk.size(), initialLo,initialHi,initialSize));"],"delete":["441","            LOGGER.log(Level.WARNING, msg,new Exception());","442","            throw new ArrayIndexOutOfBoundsException(msg);","453","                LOGGER.log(Level.WARNING, msg,new Exception());","454","                throw new ArrayIndexOutOfBoundsException(msg);","493","                        dir, n,d,lo,hi,idOnDisk.size(), initialLo,initialHi,initialSize),new Exception());"]}],"core\/src\/test\/java\/jenkins\/model\/lazy\/AbstractLazyLoadRunMapTest.java":[{"add":["273","        assertNull(map.search(3, Direction.DESC));"],"delete":["37","import org.junit.Ignore;","255","    @Ignore(\"proper fix TBD\")","275","        map.search(3, Direction.DESC);"]}],"changelog.html":[{"add":["63","  <li class='major bug'>","64","    Errors searching build records when builds were misordered.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15652\">issue 15652<\/a>)"],"delete":[]}]}},"aedca55e748553584e635b7dd34c0583e355a61d":{"changes":{"core\/src\/main\/java\/hudson\/matrix\/MatrixRun.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/matrix\/MatrixRun.java":[{"add":["62","                    Object parentObj = ancs.get(i-1).getObject();","63","                    if(parentObj instanceof MatrixBuild || parentObj instanceof MatrixConfiguration) {","107","     * If the parent {@link MatrixBuild} is kept, keep this record too."],"delete":["62","                    if(ancs.get(i-1).getObject() instanceof MatrixBuild) {","106","     * If the parent {@link MatrixRun} is kept, keep this record, too."]}]}},"963621acda1b44ac5afb002e283448f7269debd0":{"changes":{"core\/src\/main\/resources\/hudson\/model\/View\/index.jelly":"MODIFY","test\/src\/test\/java\/hudson\/model\/ViewTest.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/View\/index.jelly":[{"add":["25","  <j:if test=\"${request.servletPath=='\/' || request.servletPath==''}\">"],"delete":["25","  <j:if test=\"${request.servletPath=='\/'}\">"]}],"test\/src\/test\/java\/hudson\/model\/ViewTest.java":[{"add":["25","import org.jvnet.hudson.test.Bug;","42","    @Bug(7100)","43","    public void testXHudsonHeader() throws Exception {","44","        assertNotNull(new WebClient().goTo(\"\/\").getWebResponse().getResponseHeaderValue(\"X-Hudson\"));","45","    }","46",""],"delete":[]}]}},"ec2a8e6ac09197214bdc3d15648894544f094975":{"changes":{"core\/src\/main\/java\/hudson\/Launcher.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Launcher.java":[{"add":["78","     * @deprecated","79","     *      See the javadoc for why this is inherently unreliable. If you are trying to","80","     *      figure out the current {@link Computer} from within a build, use","81","     *      {@link Computer#currentComputer()}  "],"delete":[]}]}},"cf22345820b169447fb408a07b0f83141a14797d":{"changes":{"core\/src\/main\/java\/hudson\/Util.java":"MODIFY","core\/src\/main\/java\/hudson\/tools\/ZipExtractionInstaller.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/jna\/GNUCLibrary.java":"MODIFY","core\/src\/main\/java\/hudson\/WebAppMain.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Util.java":[{"add":["33","import hudson.os.PosixAPI;","972","                    try {","973","                        r = GNUCLibrary.LIBC.symlink(targetPath,symlinkFile.getAbsolutePath());","974","                        if (r!=0)","975","                            r = Native.getLastError();","976","                    } catch (LinkageError e) {","977","                        \/\/ if JNA is unavailable, fall back.","978","                        \/\/ we still prefer to try JNA first as PosixAPI supports even smaller platforms.","979","                        r = PosixAPI.get().symlink(targetPath,symlinkFile.getAbsolutePath());","980","                    }"],"delete":["971","                    r = GNUCLibrary.LIBC.symlink(targetPath,symlinkFile.getAbsolutePath());","972","                    if (r!=0)","973","                        r = Native.getLastError();"]}],"core\/src\/main\/java\/hudson\/tools\/ZipExtractionInstaller.java":[{"add":["31","import hudson.os.PosixAPI;","133","                else {","134","                    try {","135","                        GNUCLibrary.LIBC.chmod(f.getAbsolutePath(),0755);","136","                    } catch (LinkageError e) {","137","                        \/\/ if JNA is unavailable, fall back.","138","                        \/\/ we still prefer to try JNA first as PosixAPI supports even smaller platforms.","139","                        PosixAPI.get().chmod(f.getAbsolutePath(),0755);","140","                    }","141","                }"],"delete":["132","                else","133","                    GNUCLibrary.LIBC.chmod(f.getAbsolutePath(),0755);"]}],"core\/src\/main\/java\/hudson\/util\/jna\/GNUCLibrary.java":[{"add":["35"," * <p>","36"," * Not available on all platforms (such as Linux\/PPC, IBM mainframe, etc.), so the caller should recover gracefully","37"," * in case of {@link LinkageError}. See HUDSON-4820.","38"," *"],"delete":[]}],"core\/src\/main\/java\/hudson\/WebAppMain.java":[{"add":["132","\/\/  JNA is no longer a hard requirement. It's just nice to have. See HUDSON-4820 for more context.","133","\/\/            \/\/ make sure JNA works. this can fail if","134","\/\/            \/\/    - platform is unsupported","135","\/\/            \/\/    - JNA is already loaded in another classloader","136","\/\/            \/\/ see http:\/\/wiki.hudson-ci.org\/display\/HUDSON\/JNA+is+already+loaded","137","\/\/            \/\/ TODO: or shall we instead modify Hudson to work gracefully without JNA?","138","\/\/            try {","139","\/\/                \/*","140","\/\/                    java.lang.UnsatisfiedLinkError: Native Library \/builds\/apps\/glassfish\/domains\/hudson-domain\/generated\/jsp\/j2ee-modules\/hudson-1.309\/loader\/com\/sun\/jna\/sunos-sparc\/libjnidispatch.so already loaded in another classloader","141","\/\/                        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1743)","142","\/\/                        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1674)","143","\/\/                        at java.lang.Runtime.load0(Runtime.java:770)","144","\/\/                        at java.lang.System.load(System.java:1005)","145","\/\/                        at com.sun.jna.Native.loadNativeLibraryFromJar(Native.java:746)","146","\/\/                        at com.sun.jna.Native.loadNativeLibrary(Native.java:680)","147","\/\/                        at com.sun.jna.Native.<clinit>(Native.java:108)","148","\/\/                        at hudson.util.jna.GNUCLibrary.<clinit>(GNUCLibrary.java:86)","149","\/\/                        at hudson.Util.createSymlink(Util.java:970)","150","\/\/                        at hudson.model.Run.run(Run.java:1174)","151","\/\/                        at hudson.matrix.MatrixBuild.run(MatrixBuild.java:149)","152","\/\/                        at hudson.model.ResourceController.execute(ResourceController.java:88)","153","\/\/                        at hudson.model.Executor.run(Executor.java:123)","154","\/\/                 *\/","155","\/\/                String.valueOf(Native.POINTER_SIZE); \/\/ this meaningless operation forces the classloading and initialization","156","\/\/            } catch (LinkageError e) {","157","\/\/                if (e.getMessage().contains(\"another classloader\"))","158","\/\/                    context.setAttribute(APP,new JNADoublyLoaded(e));","159","\/\/                else","160","\/\/                    context.setAttribute(APP,new HudsonFailedToLoad(e));","161","\/\/            }"],"delete":["132","            \/\/ make sure JNA works. this can fail if","133","            \/\/    - platform is unsupported","134","            \/\/    - JNA is already loaded in another classloader","135","            \/\/ see http:\/\/wiki.hudson-ci.org\/display\/HUDSON\/JNA+is+already+loaded","136","            \/\/ TODO: or shall we instead modify Hudson to work gracefully without JNA?","137","            try {","138","                \/*","139","                    java.lang.UnsatisfiedLinkError: Native Library \/builds\/apps\/glassfish\/domains\/hudson-domain\/generated\/jsp\/j2ee-modules\/hudson-1.309\/loader\/com\/sun\/jna\/sunos-sparc\/libjnidispatch.so already loaded in another classloader","140","                        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1743)","141","                        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1674)","142","                        at java.lang.Runtime.load0(Runtime.java:770)","143","                        at java.lang.System.load(System.java:1005)","144","                        at com.sun.jna.Native.loadNativeLibraryFromJar(Native.java:746)","145","                        at com.sun.jna.Native.loadNativeLibrary(Native.java:680)","146","                        at com.sun.jna.Native.<clinit>(Native.java:108)","147","                        at hudson.util.jna.GNUCLibrary.<clinit>(GNUCLibrary.java:86)","148","                        at hudson.Util.createSymlink(Util.java:970)","149","                        at hudson.model.Run.run(Run.java:1174)","150","                        at hudson.matrix.MatrixBuild.run(MatrixBuild.java:149)","151","                        at hudson.model.ResourceController.execute(ResourceController.java:88)","152","                        at hudson.model.Executor.run(Executor.java:123)","153","                 *\/","154","                String.valueOf(Native.POINTER_SIZE); \/\/ this meaningless operation forces the classloading and initialization","155","            } catch (LinkageError e) {","156","                if (e.getMessage().contains(\"another classloader\"))","157","                    context.setAttribute(APP,new JNADoublyLoaded(e));","158","                else","159","                    context.setAttribute(APP,new HudsonFailedToLoad(e));","160","            }"]}]}},"5fdae6ed6e6214e0e2247ea101dc989f1498da71":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["516","      <version>1.28<\/version>"],"delete":["516","      <version>1.27<\/version>"]}]}},"e0a1e3b5c825893d1337716345a39563a95c24db":{"changes":{"core\/src\/main\/resources\/jenkins\/security\/whitelisted-classes.txt":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/security\/whitelisted-classes.txt":[{"add":["71","java.util.Collections$SynchronizedRandomAccessList","79","java.util.Collections$UnmodifiableRandomAccessList","80","java.util.Collections$UnmodifiableSet","82","java.util.Collections$UnmodifiableSortedSet","83",""],"delete":["68","java.util.Collections$SynchronizedRandomAccessList","77","java.util.Collections$UnmodifiableRandomAccessList","78","java.util.Collections$UnmodifiableSet","81","java.util.Collections$UnmodifiableSortedSet"]}]}},"1a5e41bb0fa3cce584dea67b0d431cb62c830a08":{"changes":{"test\/src\/test\/groovy\/hudson\/cli\/BuildCommandTest.groovy":"MODIFY"},"diff":{"test\/src\/test\/groovy\/hudson\/cli\/BuildCommandTest.groovy":[{"add":["86","    \/**","87","     * Tests synchronous execution with retried verbose output","88","     *\/","89","    void testSyncWOutputStreaming() {","90","        def p = createFreeStyleProject();","91","        p.buildersList.add(new Shell(\"sleep 3\"));","92","","93","        def cli =new CLI(getURL())","94","        try {","95","            cli.execute([\"build\",\"-s\",\"-v\",\"-r\",\"5\",p.name])","96","            assertFalse(p.getBuildByNumber(1).isBuilding())","97","        } finally {","98","            cli.close();","99","        }","100","    }","101",""],"delete":[]}]}},"02e00449e412fa3d18d9c4a04a670eaad899ec91":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["44","    <stapler.version>1.221<\/stapler.version>"],"delete":["44","    <stapler.version>1.220<\/stapler.version>"]}],"changelog.html":[{"add":["58","    Fixed two file descriptor leaks.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-14336\">issue 14336<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"52ac8f71788843e155ccc262bee4e26274bd68bb":{"changes":{"core\/src\/main\/resources\/jenkins\/install\/Messages_zh_CN.properties":"ADD","core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/proxy-configuration_zh_CN.properties":"ADD","core\/src\/main\/resources\/jenkins\/install\/UpgradeWizard\/client-scripts_zh_CN.properties":"ADD","core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/setupWizardConfigureInstance_zh_CN.properties":"ADD","core\/src\/main\/resources\/jenkins\/install\/pluginSetupWizard_zh_CN.properties":"ADD","core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/setupWizardFirstUser_zh_CN.properties":"ADD","core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/authenticate-security-token_zh_CN.properties":"ADD"},"diff":{"core\/src\/main\/resources\/jenkins\/install\/Messages_zh_CN.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/proxy-configuration_zh_CN.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/install\/UpgradeWizard\/client-scripts_zh_CN.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/setupWizardConfigureInstance_zh_CN.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/install\/pluginSetupWizard_zh_CN.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/setupWizardFirstUser_zh_CN.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/authenticate-security-token_zh_CN.properties":[{"add":[],"delete":[]}]}},"d31ff2fed352cc15d808cb8aa91eba6576ed13ae":{"changes":{"test\/src\/test\/java\/hudson\/tasks\/BuildTriggerTest.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/Messages.properties":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/tasks\/BuildTriggerTest.java":[{"add":["50","import jenkins.security.QueueItemAuthenticatorDescriptor;","55","import org.jvnet.hudson.test.TestExtension;","162","        QueueItemAuthenticatorConfiguration.get().getAuthenticators().add(new QIA(Collections.singletonMap(\"upstream\", \"alice\")));","167","        String downstreamName = \"d0wnstr3am\"; \/\/ do not clash with English messages!","168","        FreeStyleProject downstream = createFreeStyleProject(downstreamName);","176","        childProjects.setValueAttribute(downstreamName);","182","        assertLogNotContains(downstreamName, b);","191","        assertLogContains(downstreamName, b);","200","        assertLogContains(downstreamName, b);","207","        \/\/ Now if we have configured some QIA\u2019s but they are not active on this job, we should run as anonymous. Which would normally have no permissions:","208","        QueueItemAuthenticatorConfiguration.get().getAuthenticators().replace(new QIA(Collections.<String,String>emptyMap()));","210","        assertLogNotContains(downstreamName, b);","211","        assertLogContains(Messages.BuildTrigger_warning_this_build_has_no_associated_aut(), b);","221","        assertLogContains(downstreamName, b);","224","        FreeStyleProject simple = createFreeStyleProject(\"simple\");","225","        FreeStyleBuild b3 = buildAndAssertSuccess(simple);","226","        \/\/ See discussion in BuildTrigger for why this is necessary:","227","        assertLogContains(Messages.BuildTrigger_warning_this_build_has_no_associated_aut(), b3);","228","        \/\/ Finally, in legacy mode we run as SYSTEM:","229","        grantedPermissions.clear(); \/\/ similar behavior but different message if DescriptorImpl removed","230","        downstream.removeProperty(amp);","231","        amp = new AuthorizationMatrixProperty(grantedPermissions);","232","        downstream.addProperty(amp);","233","        QueueItemAuthenticatorConfiguration.get().getAuthenticators().clear();","234","        b = buildAndAssertSuccess(upstream);","235","        assertLogContains(downstreamName, b);","236","        assertLogContains(Messages.BuildTrigger_warning_access_control_for_builds_in_glo(), b);","237","        waitUntilNoActivity();","238","        assertEquals(3, downstream.getLastBuild().number);","239","        b3 = buildAndAssertSuccess(simple);","240","        assertLogNotContains(Messages.BuildTrigger_warning_access_control_for_builds_in_glo(), b3);","241","    }","242","    public static final class QIA extends QueueItemAuthenticator {","243","        private final Map<String,String> jobsToUsers;","244","        public QIA(Map<String,String> jobsToUsers) {","245","            this.jobsToUsers = jobsToUsers;","246","        }","247","        @Override public Authentication authenticate(Queue.Item item) {","248","            String user = null;","249","            if (item.task instanceof Item) {","250","                user = jobsToUsers.get(((Item) item.task).getFullName());","251","            }","252","            return user != null ? User.get(user).impersonate() : null;","253","        }","254","        @TestExtension(\"testDownstreamProjectSecurity\") public static final class DescriptorImpl extends QueueItemAuthenticatorDescriptor {","255","            @Override public String getDisplayName() {","256","                return \"Test QIA\";","257","            }","258","        }"],"delete":["160","        QueueItemAuthenticatorConfiguration.get().getAuthenticators().add(new QueueItemAuthenticator() {","161","            @Override public Authentication authenticate(Queue.Item item) {","162","                return item.task == upstream ? User.get(\"alice\").impersonate() : null;","163","            }","164","            private Object writeReplace() {return \"\";}","165","        });","170","        FreeStyleProject downstream = createFreeStyleProject(\"downstream\");","178","        childProjects.setValueAttribute(\"downstream\");","184","        assertLogNotContains(\"downstream\", b);","193","        assertLogContains(\"downstream\", b);","202","        assertLogContains(\"downstream\", b);","209","        \/\/ Now for legacy behavior: we should run as anonymous. Which would normally have no permissions:","210","        QueueItemAuthenticatorConfiguration.get().getAuthenticators().clear();","212","        assertLogNotContains(\"downstream\", b);","222","        assertLogContains(\"downstream\", b);"]}],"core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":[{"add":["61","import jenkins.security.QueueItemAuthenticatorConfiguration;","62","import jenkins.security.QueueItemAuthenticatorDescriptor;","210","            if (QueueItemAuthenticatorDescriptor.all().isEmpty()) {","211","                if (downstreamProjects.isEmpty()) {","212","                    return true;","213","                }","214","                logger.println(Messages.BuildTrigger_warning_you_have_no_plugins_providing_ac());","215","            } else if (QueueItemAuthenticatorConfiguration.get().getAuthenticators().isEmpty()) {","216","                if (downstreamProjects.isEmpty()) {","217","                    return true;","218","                }","219","                logger.println(Messages.BuildTrigger_warning_access_control_for_builds_in_glo());","220","            } else {","221","                \/\/ This warning must be printed even if downstreamProjects is empty.","222","                \/\/ Otherwise you could effectively escalate DISCOVER to READ just by trying different project names and checking whether a warning was printed or not.","223","                \/\/ If there were an API to determine whether any DependencyDeclarer\u2019s in this project requested downstream project names,","224","                \/\/ then we could suppress the warnings in case none did; but if any do, yet Items.fromNameList etc. ignore unknown projects,","225","                \/\/ that has to be treated the same as if there really are downstream projects but the anonymous user cannot see them.","226","                \/\/ For the above two cases, it is OK to suppress the warning when there are no downstream projects, since running as SYSTEM we would be able to see them anyway.","227","                logger.println(Messages.BuildTrigger_warning_this_build_has_no_associated_aut());","228","                auth = Jenkins.ANONYMOUS;","229","            }"],"delete":["208","            auth = Jenkins.ANONYMOUS;"]}],"core\/src\/main\/resources\/hudson\/tasks\/Messages.properties":[{"add":["49","BuildTrigger.warning_access_control_for_builds_in_glo=Warning: \\u2018Access Control for Builds\\u2019 in global security configuration is empty, so falling back to legacy behavior of permitting any downstream builds to be triggered","50","BuildTrigger.warning_this_build_has_no_associated_aut=Warning: this build has no associated authentication, so build permissions may be lacking, and downstream projects which cannot even be seen by an anonymous user will be silently skipped","51","BuildTrigger.warning_you_have_no_plugins_providing_ac=Warning: you have no plugins providing access control for builds, so falling back to legacy behavior of permitting any downstream builds to be triggered"],"delete":[]}]}},"acc727d62689526301f3c3e525b1f56a4692ec12":{"changes":{"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":"MODIFY","core\/src\/main\/java\/hudson\/Util.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractItem.java":"MODIFY","core\/src\/main\/java\/hudson\/matrix\/MatrixBuild.java":"MODIFY","core\/src\/main\/resources\/hudson\/matrix\/MatrixBuild\/ajaxMatrix.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":[{"add":["83","import org.kohsuke.stapler.TokenList;","329","                c.put(axis,TokenList.decode(v.getName()));","446","            f = new File(f,\"axis-\"+e.getKey()+'\/'+Util.rawEncode(e.getValue()));"],"delete":["328","                c.put(axis,v.getName());","445","            f = new File(f,\"axis-\"+e.getKey()+'\/'+e.getValue());"]}],"core\/src\/main\/java\/hudson\/Util.java":[{"add":["661","     * Method name inspired by PHP's rawurlencode."],"delete":["661","     * Method name inspired by PHP's rawencode."]}],"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":[{"add":["168","        return getParent().getUrlChildPrefix()+'\/'+Util.rawEncode(getName())+'\/';"],"delete":["168","        return getParent().getUrlChildPrefix()+'\/'+getName()+'\/';"]}],"core\/src\/main\/java\/hudson\/matrix\/MatrixBuild.java":[{"add":["84","","85","        public MatrixRun getRun() {","86","            return MatrixBuild.this.getRun(combination);","87","        }","88","","89","        public String getShortUrl() {","90","            return Util.rawEncode(combination.toString());","91","        }","92",""],"delete":["84","        public MatrixRun getRun() { return MatrixBuild.this.getRun(combination); }"]}],"core\/src\/main\/resources\/hudson\/matrix\/MatrixBuild\/ajaxMatrix.jelly":[{"add":["36","          <a href=\"${p.shortUrl}\/\">"],"delete":["36","          <a href=\"${p.combination}\/\">"]}]}},"8bd0745e024578f833491351f5a934cf0f89d865":{"changes":{"core\/src\/main\/java\/hudson\/util\/AtomicFileWriter.java":"MODIFY","core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/AtomicFileWriter.java":[{"add":["32","import java.nio.charset.Charset;","49","    \/**","50","     * Writes with UTF-8 encoding.","51","     *\/","53","        this(f,\"UTF-8\");","54","    }","55","","56","    \/**","57","     * @param encoding","58","     *      File encoding to write. If null, platform default encoding is chosen.","59","     *\/","60","    public AtomicFileWriter(File f, String encoding) throws IOException {","63","        if (encoding==null)","64","            encoding = Charset.defaultCharset().name();","65","        core = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(tmpFile),encoding));"],"delete":["51","        core = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(tmpFile),\"UTF-8\"));"]}],"core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":[{"add":["995","            String contents;","1023","                AtomicFileWriter w = new AtomicFileWriter(entries,null);"],"delete":["995","            String contents = null;","1023","                AtomicFileWriter w = new AtomicFileWriter(entries);"]}]}},"f0ee61dfd1172bad288b37d6cd6ba884d5555ec1":{"changes":{"core\/src\/main\/resources\/hudson\/PluginManager\/table.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/PluginManager\/_table.js":"MODIFY","core\/src\/main\/resources\/hudson\/PluginManager\/index.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/PluginManager\/table.jelly":[{"add":["93","                             disabled=\"${installedOk ? 'disabled' : null}\" onClick=\"flip(this);\"","94","                             data-compat-warning=\"${!p.isCompatibleWithInstalledVersion()}\" \/>"],"delete":["93","                             disabled=\"${installedOk ? 'disabled' : null}\" onClick=\"flip(this);\"\/>"]}],"core\/src\/main\/resources\/hudson\/PluginManager\/_table.js":[{"add":["0","function checkPluginsWithoutWarnings() {","1","    var inputs = document.getElementsByTagName('input');","2","    for(var i = 0; i < inputs.length; i++) {","3","        var candidate = inputs[i];","4","        if(candidate.type === \"checkbox\" && candidate.dataset.compatWarning === 'false') {","5","            candidate.checked = true;","6","        }","7","    }","8","}"],"delete":[]}],"core\/src\/main\/resources\/hudson\/PluginManager\/index.jelly":[{"add":["31","      ${%Select}: <a href=\"javascript:checkPluginsWithoutWarnings();\">${%All}<\/a>, <a href=\"javascript:toggleCheckboxes(false);\">${%None}<\/a><br\/>"],"delete":["31","      ${%Select}: <a href=\"javascript:toggleCheckboxes(true);\">${%All}<\/a>, <a href=\"javascript:toggleCheckboxes(false);\">${%None}<\/a><br\/>"]}]}},"f6176bc19d6d62bb9dd20748af080fcb1cfd9976":{"changes":{"core\/src\/main\/java\/hudson\/scheduler\/CronTabList.java":"MODIFY","core\/src\/main\/resources\/hudson\/triggers\/TimerTrigger\/help-spec.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scheduler\/CronTabList.java":[{"add":["110","                    LOGGER.log(Level.CONFIG, \"CRON with timezone {0}\", timezone);","112","                    throw new ANTLRException(\"Invalid or unsupported timezone '\" + line + \"'\");"],"delete":["110","                    LOGGER.log(Level.CONFIG, \"cron with timezone {0}\", timezone);","112","                    LOGGER.log(Level.CONFIG, \"invalid timezone {0}\", line);"]}],"core\/src\/main\/resources\/hudson\/triggers\/TimerTrigger\/help-spec.html":[{"add":["91","  <li>If a timezone is not specified, the default Jenkins JVM timezone will be used<\/li>"],"delete":["91","  <li>If a timezone is not specified or if it is specified incorrectly, the default Jenkins JVM timezone will be used<\/li>"]}]}},"21244cac7e0706f95531fae81e1af68a38544f34":{"changes":{"core\/src\/main\/java\/hudson\/Util.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/os\/PosixAPI.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Util.java":[{"add":["993","            Integer r=null;","1004","                    if (PosixAPI.supportsNative()) {","1009","            if (r==null) {","1010","                \/\/ if all else fail, fall back to the most expensive approach of forking a process","1015","            if (r!=0)"],"delete":["993","            int r = -1;","994","            boolean operationDone = false;","1002","                    operationDone = true;","1006","                    if (PosixAPI.isNative()) {","1008","                        operationDone = true;","1012","            if (!operationDone) {","1013","                \/\/ escape hatch, until we know that the above works well.","1018","            if(r!=0)"]}],"changelog.html":[{"add":["58","    Fixed a bug in the symlink creation code on BSD platforms.","59","    <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-12119\">issue 12119<\/a>","60","  <li class=\"bug\">"],"delete":[]}],"core\/src\/main\/java\/hudson\/os\/PosixAPI.java":[{"add":["24","     * @deprecated as of 1.448","25","     *      Use {@link #supportsNative()}.","26","     *\/","27","    public boolean isNative() {","28","        return supportsNative();","29","    }","30","","31","    \/**","35","    public static boolean supportsNative() {","38","    "],"delete":["27","    public static boolean isNative() {","30",""]}]}},"53cea6a0810ff28ba0e6887532260496e6a69846":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["58","    Build fails on \"Deploy artifacts to Maven repository\" due to trying to upload parent POM twice for release artifacts.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-11248\">issue 11248<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"62c4408c91b37767d700e84b87fed720426349ad":{"changes":{"core\/src\/main\/java\/hudson\/TcpSlaveAgentListener.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/TcpSlaveAgentListener.java":[{"add":["32","","33","import hudson.model.AperiodicWork;","57","","103","        setUncaughtExceptionHandler((t, e) -> {","104","            LOGGER.log(Level.SEVERE, \"Uncaught exception in TcpSlaveAgentListener \" + t + \", attempting to reschedule thread\", e);","105","            shutdown();","106","            TcpSlaveAgentListenerRescheduler.schedule(t, e);","107","        });","165","                new ConnectionHandler(s, new ConnectionHandlerFailureCallback(this) {","166","                    @Override","167","                    public void run(Throwable cause) {","168","                        LOGGER.log(Level.WARNING, \"Connection handler failed, restarting listener\", cause);","169","                        shutdown();","170","                        TcpSlaveAgentListenerRescheduler.schedule(getParentThread(), cause);","171","                    }","172","                }).start();","211","        public ConnectionHandler(Socket s, ConnectionHandlerFailureCallback parentTerminator) {","217","            setUncaughtExceptionHandler((t, e) -> {","218","                LOGGER.log(Level.SEVERE, \"Uncaught exception in TcpSlaveAgentListener ConnectionHandler \" + t, e);","219","                try {","220","                    s.close();","221","                    parentTerminator.run(e);","222","                } catch (IOException e1) {","223","                    LOGGER.log(Level.WARNING, \"Could not close socket after unexpected thread death\", e1);","224","                }","225","            });","327","    \/\/ This is essentially just to be able to pass the parent thread into the callback, as it can't access it otherwise","328","    private abstract class ConnectionHandlerFailureCallback {","329","        private Thread parentThread;","330","","331","        public ConnectionHandlerFailureCallback(Thread parentThread) {","332","            this.parentThread = parentThread;","333","        }","334","","335","        public Thread getParentThread() {","336","            return parentThread;","337","        }","338","","339","        public abstract void run(Throwable cause);","340","    }","341","","425","     * Reschedules the <code>TcpSlaveAgentListener<\/code> on demand.  Disables itself after running.","426","     *\/","427","    @Extension","428","    @Restricted(NoExternalUse.class)","429","    public static class TcpSlaveAgentListenerRescheduler extends AperiodicWork {","430","        private Thread originThread;","431","        private Throwable cause;","432","        private long recurrencePeriod = 5000;","433","        private boolean isActive;","434","","435","        public TcpSlaveAgentListenerRescheduler() {","436","            isActive = false;","437","        }","438","","439","        public TcpSlaveAgentListenerRescheduler(Thread originThread, Throwable cause) {","440","            this.originThread = originThread;","441","            this.cause = cause;","442","            this.isActive = false;","443","        }","444","","445","        public void setOriginThread(Thread originThread) {","446","            this.originThread = originThread;","447","        }","448","","449","        public void setCause(Throwable cause) {","450","            this.cause = cause;","451","        }","452","","453","        public void setActive(boolean active) {","454","            isActive = active;","455","        }","456","","457","        @Override","458","        public long getRecurrencePeriod() {","459","            return recurrencePeriod;","460","        }","461","","462","        @Override","463","        public AperiodicWork getNewInstance() {","464","            return new TcpSlaveAgentListenerRescheduler(originThread, cause);","465","        }","466","","467","        @Override","468","        protected void doAperiodicRun() {","469","            if (isActive) {","470","                try {","471","                    if (originThread.isAlive()) {","472","                        originThread.interrupt();","473","                    }","474","                    int port = Jenkins.getInstance().getSlaveAgentPort();","475","                    if (port != -1) {","476","                        new TcpSlaveAgentListener(port).start();","477","                        LOGGER.log(Level.INFO, \"Restarted TcpSlaveAgentListener\");","478","                    } else {","479","                        LOGGER.log(Level.SEVERE, \"Uncaught exception in TcpSlaveAgentListener \" + originThread + \". Port is disabled, not rescheduling\", cause);","480","                    }","481","                    isActive = false;","482","                } catch (IOException e) {","483","                    LOGGER.log(Level.SEVERE, \"Could not reschedule TcpSlaveAgentListener - trying again.\", cause);","484","                }","485","            }","486","        }","487","","488","        public static void schedule(Thread originThread, Throwable cause) {","489","            schedule(originThread, cause,5000);","490","        }","491","","492","        public static void schedule(Thread originThread, Throwable cause, long approxDelay) {","493","            TcpSlaveAgentListenerRescheduler rescheduler = AperiodicWork.all().get(TcpSlaveAgentListenerRescheduler.class);","494","            rescheduler.originThread = originThread;","495","            rescheduler.cause = cause;","496","            rescheduler.recurrencePeriod = approxDelay;","497","            rescheduler.isActive = true;","498","        }","499","    }","500","","501","","502","    \/**"],"delete":["157","                new ConnectionHandler(s).start();","196","        public ConnectionHandler(Socket s) {"]}]}},"3065058ef69713a5052ec22c54f4f2cb82aeba6f":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["64","    Upgraded to Stapler <code>1.248<\/code> with a fix."],"delete":["64","    Upgraded to Stapler <code>1.248<\/code> with a partial fix."]}]}},"72f37e414533c02624f9deffc85a2b50f03905e6":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["70","  <li class='major bug'>","71","    Fixed unnecessary eager loading of build records in certain code path."],"delete":["70","  <li class=\"bug\">","71","    AbstractLazyLoadRunMap.iterator() calls .all()","89","  <li class=bug>","90","    Fixed \"... looks to have already been deleted\" bug in LogRotator","91","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-22395\">issue 22395<\/a>)","92","  <li class='major bug'>","93","    Fixed unnecessary eager loading of build records in certain code path.","94","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-18065\">issue 18065<\/a>)"]}]}},"1d16ce024c9049c1f05b45b48d5f8438e9303f4e":{"changes":{"core\/src\/main\/java\/jenkins\/slaves\/DefaultJnlpSlaveReceiver.java":"MODIFY","core\/src\/main\/java\/hudson\/slaves\/DelegatingComputerLauncher.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/slaves\/DefaultJnlpSlaveReceiver.java":[{"add":["3","import hudson.ClassicPluginStrategy;","10","import hudson.slaves.ComputerLauncher;","11","import hudson.slaves.ComputerLauncherFilter;","12","import hudson.slaves.DelegatingComputerLauncher;","17","import java.lang.reflect.InvocationTargetException;","18","import java.lang.reflect.Method;","23","import jenkins.util.SystemProperties;","35","import org.kohsuke.accmod.Restricted;","36","import org.kohsuke.accmod.restrictions.NoExternalUse;","48","    \/**","49","     * Disables strict verification of connections. Turn this on if you have plugins that incorrectly extend","50","     * {@link ComputerLauncher} when then should have extended {@link DelegatingComputerLauncher}","51","     *","52","     * @since FIXME","53","     *\/","54","    @Restricted(NoExternalUse.class)","55","    public static boolean disableStrictVerification =","56","            SystemProperties.getBoolean(DefaultJnlpSlaveReceiver.class.getName() + \".disableStrictVerification\");","57","","58","","65","    private static ComputerLauncher getDelegate(ComputerLauncher launcher) {","66","        try {","67","            Method getDelegate = launcher.getClass().getMethod(\"getDelegate\");","68","            if (ComputerLauncher.class.isAssignableFrom(getDelegate.getReturnType())) {","69","                return (ComputerLauncher) getDelegate.invoke(launcher);","70","            }","71","        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {","72","            \/\/ ignore","73","        }","74","        try {","75","            Method getLauncher = launcher.getClass().getMethod(\"getLauncher\");","76","            if (ComputerLauncher.class.isAssignableFrom(getLauncher.getReturnType())) {","77","                return (ComputerLauncher) getLauncher.invoke(launcher);","78","            }","79","        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {","80","            \/\/ ignore","81","        }","82","        return null;","83","    }","84","","89","        if (computer == null) {","93","        ComputerLauncher launcher = computer.getLauncher();","94","        while (!(launcher instanceof JNLPLauncher)) {","95","            ComputerLauncher l;","96","            if (launcher instanceof DelegatingComputerLauncher) {","97","                launcher = ((DelegatingComputerLauncher) launcher).getLauncher();","98","            } else if (launcher instanceof ComputerLauncherFilter) {","99","                launcher = ((ComputerLauncherFilter) launcher).getCore();","100","            } else if (null != (l = getDelegate(launcher))) {  \/\/ TODO remove when all plugins are fixed","101","                LOGGER.log(Level.INFO, \"Connecting {0} as a JNLP agent where the launcher {1} does not mark \"","102","                                + \"itself correctly as being a JNLP agent\",","103","                        new Object[]{clientName, computer.getLauncher().getClass()});","104","                launcher = l;","105","            } else {","106","                if (disableStrictVerification) {","107","                    LOGGER.log(Level.WARNING, \"Connecting {0} as a JNLP agent where the launcher {1} does not mark \"","108","                            + \"itself correctly as being a JNLP agent\",","109","                            new Object[]{clientName, computer.getLauncher().getClass()});","110","                    break;","111","                } else {","112","                    LOGGER.log(Level.WARNING, \"Rejecting connection to {0} from {1} as a JNLP agent as the launcher \"","113","                                    + \"{2} does not extend JNLPLauncher or does not implement \"","114","                                    + \"DelegatingComputerLauncher with a delegation chain leading to a JNLPLauncher. \"","115","                                    + \"Set system property \"","116","                                    + \"jenkins.slaves.DefaultJnlpSlaveReceiver.disableStrictVerification=true to allow\"","117","                                    + \"connections until the plugin has been fixed.\",","118","                            new Object[]{clientName, event.getSocket().getRemoteSocketAddress(), computer.getLauncher().getClass()});","119","                    event.reject(new ConnectionRefusalException(String.format(\"%s is not a JNLP agent\", clientName)));","120","                    return;","121","                }","122","            }","123","        }"],"delete":["49","        if (computer == null || !(computer.getLauncher() instanceof JNLPLauncher)) {"]}],"core\/src\/main\/java\/hudson\/slaves\/DelegatingComputerLauncher.java":[{"add":["40"," * Base implementation of {@link ComputerLauncher} that to be used by launchers that","41"," * perform some initialization (typically something cloud\/v12n related","42"," * to power up the machine), and then delegate to another {@link ComputerLauncher}","45"," * <strong>If you are delegating to another {@link ComputerLauncher} you must extend this base class<\/strong>","46"," *"],"delete":["40"," * Convenient base implementation of {@link ComputerLauncher} that allows","41"," * subtypes to perform some initialization (typically something cloud\/v12n related","42"," * to power up the machine), then to delegate to another {@link ComputerLauncher}"]}]}},"3e344a94a9eed316d0c351becb08287b473b6521":{"changes":{"test\/src\/test\/java\/hudson\/model\/QueueTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/QueueTest.java":[{"add":["347","    ","348","    @Issue(\"JENKINS-10944\")","349","    @Test public void flyweightTasksBlockedByShutdown() throws Exception {","350","        r.jenkins.doQuietDown(true, 0);","351","        AtomicInteger cnt = new AtomicInteger();","352","        TestFlyweightTask task = new TestFlyweightTask(cnt, null);","353","        assertTrue(Queue.isBlockedByShutdown(task));","354","        r.jenkins.getQueue().schedule2(task, 0);","355","        r.jenkins.getQueue().maintain();","356","        r.jenkins.doCancelQuietDown();","357","        assertFalse(Queue.isBlockedByShutdown(task));","358","        r.waitUntilNoActivity();","359","        assertEquals(1, cnt.get());","360","        assert task.exec instanceof OneOffExecutor : task.exec;","361","    }","362","","363","    @Issue(\"JENKINS-24519\")","364","    @Test public void flyweightTasksBlockedBySlave() throws Exception {","365","        Label label = Label.get(\"myslave\");","366","        AtomicInteger cnt = new AtomicInteger();","367","        TestFlyweightTask task = new TestFlyweightTask(cnt, label);","368","        r.jenkins.getQueue().schedule2(task, 0);","369","        r.jenkins.getQueue().maintain();","370","        r.createSlave(label);","371","        r.waitUntilNoActivity();","372","        assertEquals(1, cnt.get());","373","        assert task.exec instanceof OneOffExecutor : task.exec;","374","    }","375","","376","    private static class TestFlyweightTask extends TestTask implements Queue.FlyweightTask {","377","        Executor exec;","378","        private final Label assignedLabel;","379","        TestFlyweightTask(AtomicInteger cnt, Label assignedLabel) {","380","            super(cnt);","381","            this.assignedLabel = assignedLabel;","382","        }","383","        @Override protected void doRun() {","384","            exec = Executor.currentExecutor();","385","        }","386","        @Override public Label getAssignedLabel() {","387","            return assignedLabel;","388","        }","389","    }","401","    private static class TestTask extends AbstractQueueTask {","424","        protected void doRun() {}","430","                    doRun();"],"delete":["358","    private static final class TestTask extends AbstractQueueTask {"]}],"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["1099","                    Runnable r = makeBuildable(new BuildableItem(p));","1100","                    if (r != null) {","1101","                        p.leave(this);","1102","                        r.run();","1103","                    }","1119","                Runnable r = makeBuildable(new BuildableItem(top));","1120","                if (r != null) {","1121","                    r.run();","1122","                } else {","1123","                    new BlockedItem(top).enter(this);","1124","                }","1173","    \/**","1174","     * Tries to make an item ready to build.","1175","     * @param p a proposed buildable item","1176","     * @return a thunk to actually prepare it (after leaving an earlier list), or null if it cannot be run now","1177","     *\/","1178","    private @CheckForNull Runnable makeBuildable(final BuildableItem p) {","1179","        if (p.task instanceof FlyweightTask) {","1180","            if (!isBlockedByShutdown(p.task)) {","1196","                final Computer c = n.toComputer();","1200","                return new Runnable() {","1201","                    @Override public void run() {","1202","                        c.startFlyWeightTask(new WorkUnitContext(p).createWorkUnit(p.task));","1203","                        makePending(p);","1204","                    }","1205","                };","1206","            }","1209","            return null;","1210","        } else { \/\/ regular heavyweight task","1211","            return new Runnable() {","1212","                @Override public void run() {","1213","                    p.enter(Queue.this);","1214","                }","1215","            };"],"delete":["108","import jenkins.security.QueueItemAuthenticatorConfiguration;","1100","                    p.leave(this);","1101","                    makeBuildable(new BuildableItem(p));","1117","                makeBuildable(new BuildableItem(top));","1166","    private void makeBuildable(BuildableItem p) {","1167","        if (p.task instanceof FlyweightTask && !isBlockedByShutdown(p.task)) {","1168","","1169","","1185","                Computer c = n.toComputer();","1189","                c.startFlyWeightTask(new WorkUnitContext(p).createWorkUnit(p.task));","1190","                makePending(p);","1191","                return;","1194","            \/\/ so do the scheduling like other normal jobs.","1196","","1197","        p.enter(this);"]}]}},"b835fb15497cf31a5069804a9920a747053be3c4":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["63","  <li class=bug>","64","    Fixed ConcurrentModificationException in parallel Maven 3 builds.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-11256\">issue 11256<\/a>)"],"delete":[]}]}},"d53cab3ef68b62a4a6dbb247012577c338dfc133":{"changes":{"core\/src\/main\/java\/hudson\/model\/CauseAction.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/CauseAction.java":[{"add":["189","                OldDataMonitor.report(context, \" 1.651.2\");"],"delete":["189","                OldDataMonitor.report(context, \"1.653\");"]}]}},"8acc12ff7933774dd92c37d3ca5ac1c77f217b39":{"changes":{"core\/src\/main\/java\/hudson\/model\/DownloadService.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateSite.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/DownloadService.java":[{"add":["72","","73","    \/**","74","     * the prefix for the signature validator name","75","     *\/","76","    private static final String signatureValidatorPrefix = \"downloadable\";","404","            for (UpdateSite updatesite : Jenkins.getActiveInstance().getUpdateCenter().getSiteList()) {","405","                String site = updatesite.getMetadataUrlForDownloadable(url);","406","                if (site == null) {","407","                    return FormValidation.warning(\"The update site \" + site + \" does not look like an update center\");","408","                }","419","                    FormValidation e = updatesite.getJsonSignatureValidator(signatureValidatorPrefix +\" '\"+id+\"'\").verifySignature(o);"],"delete":["399","            for (String site : getUrls()) {","410","                    FormValidation e = new JSONSignatureValidator(\"downloadable '\"+id+\"'\").verifySignature(o);"]}],"core\/src\/main\/java\/hudson\/model\/UpdateSite.java":[{"add":["132","    \/**","133","     * the prefix for the signature validator name","134","     *\/","135","    private static final String signatureValidatorPrefix = \"update site\";","248","     * @deprecated use {@link #getJsonSignatureValidator(@CheckForNull String)} instead.","250","    @Deprecated","253","        return getJsonSignatureValidator(null);","254","    }","255","","256","    \/**","257","     * Let sub-classes of UpdateSite provide their own signature validator.","258","     * @param name, the name for the JSON signature Validator object.","259","     *              if name is null, then the default name will be used,","260","     *              which is \"update site\" followed by the update site id","261","     * @return the signature validator.","262","     * @since 2.15","263","     *\/","264","    @Nonnull","265","    @Restricted(NoExternalUse.class)","266","    protected JSONSignatureValidator getJsonSignatureValidator(@CheckForNull String name) {","267","        if (name == null) {","268","            name = signatureValidatorPrefix + \" '\" + id + \"'\";","269","        }","270","        return new JSONSignatureValidator(name);","447","","448","    \/**","449","     * URL which exposes the metadata location in a specific update site.","450","     * @param downloadable, the downloadable id of a specific metatadata json (e.g. hudson.tasks.Maven.MavenInstaller.json)","451","     * @return the location","452","     * @since 2.15","453","     *\/","454","    @CheckForNull","455","    @Restricted(NoExternalUse.class)","456","    public String getMetadataUrlForDownloadable(String downloadable) {","457","        String siteUrl = getUrl();","458","        String updateSiteMetadataUrl = null;","459","        int baseUrlEnd = siteUrl.indexOf(\"update-center.json\");","460","        if (baseUrlEnd != -1) {","461","            String siteBaseUrl = siteUrl.substring(0, baseUrlEnd);","462","            updateSiteMetadataUrl = siteBaseUrl + \"updates\/\" + downloadable;","463","        } else {","464","            LOGGER.log(Level.WARNING, \"Url {0} does not look like an update center:\", siteUrl);","465","        }","466","        return updateSiteMetadataUrl;","467","    }","468",""],"delete":["247","        return new JSONSignatureValidator(\"update site '\"+id+\"'\");"]}]}},"e46e1673f103d8fb5ae5cce250063cba8f984b4b":{"changes":{"core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateSite.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":[{"add":["85","import javax.annotation.CheckForNull;","292","    public @CheckForNull Plugin getPlugin(String artifactId) {"],"delete":["291","    public Plugin getPlugin(String artifactId) {"]}],"changelog.html":[{"add":["58","    NPE from <code>UpdateSite$Plugin.getNeededDependencies<\/code>.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-14769\">issue 14769<\/a>)","60","  <li class=bug>"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/UpdateSite.java":[{"add":["719","                if (depPlugin == null) {","720","                    LOGGER.log(Level.WARNING, \"Could not find dependency {0} of {1}\", new Object[] {e.getKey(), name});","721","                    continue;","722","                }"],"delete":["37","import hudson.util.TimeUnit2;","48","import org.kohsuke.stapler.QueryParameter;","50","import org.kohsuke.stapler.StaplerResponse;","55","import javax.servlet.ServletContext;","61","import java.io.Writer;"]}]}},"255a3e6dd67d91e74541293bf7d3ea696b01b6c1":{"changes":{"core\/src\/main\/java\/hudson\/security\/HudsonPrivateSecurityRealm.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/HudsonPrivateSecurityRealm.java":[{"add":["304","            User user = User.get(si.username, false);","305","            if (null != user)","306","                si.errorMessage = \"User name is already taken\";"],"delete":["304","            User user = User.get(si.username);","305","            if(user.getProperty(Details.class)!=null)","306","                si.errorMessage = \"User name is already taken. Did you forget the password?\";"]}],"changelog.html":[{"add":["65","  <li class=\"bug\">","66","  Stop users being created in memory if they failed to provide all the required registration information correctly.","67","   (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-7096\">issue 7096<\/a>)"],"delete":[]}]}},"0dd7009a0abdc035bcba3a2180509a0dd5cbbf0e":{"changes":{"core\/src\/main\/java\/hudson\/slaves\/ComputerLauncher.java":"MODIFY","core\/src\/test\/java\/hudson\/slaves\/ComputerLauncherTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/slaves\/ComputerLauncher.java":[{"add":["182","        Pattern p = Pattern.compile(\"(?i)(?:java|openjdk) version \\\"([0-9.]+).*\\\".*\");"],"delete":["182","        Pattern p = Pattern.compile(\"(?i)(?:java|openjdk) version \\\"([0-9.]+).*\\\"\");"]}],"core\/src\/test\/java\/hudson\/slaves\/ComputerLauncherTest.java":[{"add":["34","import org.jvnet.hudson.test.Issue;","35","","72","    @Issue(\"JENKINS-60678\")","73","    @Test public void adoptOpenJDK11() throws IOException {","74","        assertChecked(\"openjdk version \\\"11.0.5\\\" 2019-10-15\\n\" +","75","                \"OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.5+10)\\n\" +","76","                \"OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.5+10, mixed mode)\", \"11.0.5\");","77","    }","78","","79","    @Issue(\"JENKINS-60678\")","80","    @Test public void amazonCorrettoJDK11() throws IOException {","81","        assertChecked(\"openjdk version \\\"11.0.6\\\" 2020-01-14 LTS\\n\" +","82","                \"OpenJDK Runtime Environment Corretto-11.0.6.10.1 (build 11.0.6+10-LTS)\\n\" +","83","                \"OpenJDK 64-Bit Server VM Corretto-11.0.6.10.1 (build 11.0.6+10-LTS, mixed mode)\", \"11.0.6\");","84","    }","85","","86","    @Issue(\"JENKINS-60678\")","87","    @Test public void openJDK1106() throws IOException {","88","        assertChecked(\"openjdk version \\\"11.0.6\\\" 2020-01-14\\n\" +","89","                \"OpenJDK Runtime Environment 18.9 (build 11.0.6+10)\\n\" +","90","                \"OpenJDK 64-Bit Server VM 18.9 (build 11.0.6+10, mixed mode)\", \"11.0.6\");","91","    }","92","","93","    @Issue(\"JENKINS-60678\")","94","    @Test public void azulZuluOpenJDK11() throws IOException {","95","        assertChecked(\"openjdk version \\\"11.0.5\\\" 2019-10-15 LTS\\n\" +","96","                \"OpenJDK Runtime Environment Zulu11.35+15-CA (build 11.0.5+10-LTS)\\n\" +","97","                \"OpenJDK 64-Bit Server VM Zulu11.35+15-CA (build 11.0.5+10-LTS, mixed mode)\", \"11.0.5\");","98","    }","99","    "],"delete":[]}]}},"0ef598bd312428d46b9da77cd7bad4be17766e6d":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["335","      <version>1.125<\/version>"],"delete":["335","      <version>1.124<\/version>"]}]}},"597ea1e6a2c8ec9aac432b6955417afb76588398":{"changes":{"core\/src\/main\/java\/hudson\/triggers\/Trigger.java":"MODIFY","test\/pom.xml":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractItem.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Items.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","test\/src\/test\/java\/hudson\/triggers\/TriggerStartTest.java":"ADD","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/ItemGroupMixIn.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/triggers\/Trigger.java":[{"add":["82","     *      True if this may be a newly created trigger first attached to the {@link Project} (generally if the project is being created or configured)."],"delete":["82","     *      True if this is a newly created trigger first attached to the {@link Project}."]}],"test\/pom.xml":[{"add":["237","                <include>hudson\/triggers\/TriggerStartTest.java<\/include>","282","                    <exclude>hudson\/triggers\/TriggerStartTest.class<\/exclude>"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":[{"add":["587","            Items.updatingByXml.set(true);","588","            try {","589","                onLoad(getParent(), getRootDir().getName());","590","            } finally {","591","                Items.updatingByXml.set(false);","592","            }","602",""],"delete":["36","import hudson.search.SearchIndexBuilder;","588","            onLoad(getParent(), getRootDir().getName());","598","    "]}],"core\/src\/main\/java\/hudson\/model\/Items.java":[{"add":["32","import hudson.triggers.Trigger;","57","     * Used to behave differently when loading posted configuration as opposed to persisted configuration.","58","     * @see Trigger#start","59","     * @since 1.482","60","     *\/","61","    static final ThreadLocal<Boolean> updatingByXml = new ThreadLocal<Boolean>() {","62","        @Override protected Boolean initialValue() {","63","            return false;","64","        }","65","    };","66","","67","    \/**"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["285","            t.start(this, Items.updatingByXml.get());"],"delete":["285","            t.start(this,false);"]}],"test\/src\/test\/java\/hudson\/triggers\/TriggerStartTest.java":[{"add":[],"delete":[]}],"changelog.html":[{"add":["58","    Job created by posting <code>config.xml<\/code> to <code>\/createItem<\/code> does not set GitHub webhook.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-14759\">issue 14759<\/a>)","60","  <li class=bug>"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/ItemGroupMixIn.java":[{"add":["205","        Items.updatingByXml.set(true);","206","        try {","207","            result = (T)Items.load(parent,result.getRootDir());","208","        } finally {","209","            Items.updatingByXml.set(false);","210","        }","231","            TopLevelItem result;","232","            Items.updatingByXml.set(true);","233","            try {","234","                result = (TopLevelItem)Items.load(parent,configXml.getParentFile());","235","            } finally {","236","                Items.updatingByXml.set(false);","237","            }"],"delete":["205","        result = (T)Items.load(parent,result.getRootDir());","226","            TopLevelItem result = (TopLevelItem)Items.load(parent,configXml.getParentFile());"]}]}}}