{"d6faeaf20954d7385f5e4e044358d8c46ef1dc61":{"changes":{"core\/src\/main\/java\/hudson\/logging\/LogRecorder.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/logging\/LogRecorder.java":[{"add":["198","        \/\/ Disable logging for all our targets,","199","        \/\/ then reenable all other loggers in case any also log the same targets","200","        for (Target t : targets)","201","            t.getLogger().setLevel(Level.OFF);","202","        for (LogRecorder log : getParent().logRecorders.values())","203","            for (Target t : log.targets)","204","                t.enable();"],"delete":[]}]}},"b129bf3efacdc7d2ca1ee844f8829c00156303c6":{"changes":{"core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResultAction\/summary.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/junit\/ClassResult\/body.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/test\/TestResult\/index.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/tasks\/test\/AbstractTestResultAction\/summary.jelly":[{"add":["3","Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi,","4","Daniel Dyer, Red Hat, Inc., Seiji Sogabe, id:cactusman","65","            <a href=\"${it.getTestResultPath(testObject)}\">","66","              <st:out value=\"${testObject.fullName}\" \/>","81","<\/j:jelly>"],"delete":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Daniel Dyer, Red Hat, Inc., Seiji Sogabe, id:cactusman","64","              <a href=\"${it.getTestResultPath(testObject)}\">","65","              ${testObject.fullName}","80","<\/j:jelly>"]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/body.jelly":[{"add":["3","Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi,","4","id:cactusman, Tom Huybrechts, Yahoo!, Inc.","27","  <script type=\"text\/javascript\">","59","            <a id=\"test-${f.fullName}-showlink\"","60","               href=\"javascript:showStackTrace('test-${h.jsStringEscape(f.fullName)}','${f.getRelativePathFrom(it)}\/summary')\">&gt;&gt;&gt;<\/a>","61","            <a id=\"test-${f.fullName}-hidelink\" style=\"display:none\"","62","               href=\"javascript:hideStackTrace('test-${h.jsStringEscape(f.fullName)}')\">&lt;&lt;&lt;<\/a>","63","            <st:nbsp\/>","65","            <st:nbsp\/>","66","            <j:forEach var=\"badge\" items=\"${f.testActions}\">","67","              <st:include it=\"${badge}\" page=\"badge.jelly\" optional=\"true\"\/>","68","            <\/j:forEach>","69","            <div id=\"test-${f.fullName}\" class=\"hidden\" style=\"display:none\">","70","              ${%Loading...}","71","            <\/div>","103","              <a href=\"${p.safeName}\/\"><span style=\"${prev==null?'font-weight:bold':''}\"><st:out value=\"${p.name}\" \/><\/span><\/a>","104","                <st:nbsp\/>","105","                <j:forEach var=\"badge\" items=\"${p.testActions}\">","106","                  <st:include it=\"${badge}\" page=\"badge.jelly\" optional=\"true\"\/>","107","                <\/j:forEach>"],"delete":["3","Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi, id:cactusman, Tom Huybrechts, Yahoo!, Inc.","26","\t<script type=\"text\/javascript\">","58","\t\t\t<a id=\"test-${f.fullName}-showlink\"","59","\t\t\t\thref=\"javascript:showStackTrace('test-${h.jsStringEscape(f.fullName)}','${f.getRelativePathFrom(it)}\/summary')\">&gt;&gt;&gt;<\/a>","60","\t\t\t<a id=\"test-${f.fullName}-hidelink\" style=\"display:none\"","61","\t\t\t\thref=\"javascript:hideStackTrace('test-${h.jsStringEscape(f.fullName)}')\">&lt;&lt;&lt;<\/a>","62","          \t<st:nbsp\/>","64","          \t<st:nbsp\/>","65","\t        <j:forEach var=\"badge\" items=\"${f.testActions}\">","66","\t          <st:include it=\"${badge}\" page=\"badge.jelly\" optional=\"true\"\/>","67","\t        <\/j:forEach>","68","\t\t\t<div id=\"test-${f.fullName}\" class=\"hidden\" style=\"display:none\">","69","\t\t\t${%Loading...}","70","\t\t\t<\/div>","102","\t            <a href=\"${p.safeName}\/\"><span style='${prev==null?\"font-weight:bold\":\"\"}'>${p.name}<\/span><\/a>","103","\t          \t<st:nbsp\/>","104","\t\t        <j:forEach var=\"badge\" items=\"${p.testActions}\">","105","\t\t          <st:include it=\"${badge}\" page=\"badge.jelly\" optional=\"true\"\/>","106","\t\t        <\/j:forEach>"]}],"core\/src\/main\/resources\/hudson\/tasks\/junit\/ClassResult\/body.jelly":[{"add":["3","Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi, id:cactusman","37","              <a href=\"${p.safeName}\"><span style=\"${p.previousResult==null?'font-weight:bold':''}\"><st:out value=\"${p.name}\" \/><\/span><\/a>","38","              <st:nbsp\/>","39","              <j:forEach var=\"badge\" items=\"${p.testActions}\">","40","                <st:include it=\"${badge}\" page=\"badge.jelly\" optional=\"true\"\/>","41","              <\/j:forEach>","55","<\/j:jelly>"],"delete":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, id:cactusman","37","            \t<a href=\"${p.safeName}\"><span style='${p.previousResult==null?\"font-weight:bold\":\"\"}'>${p.name}<\/span><\/a>","38","\t          \t<st:nbsp\/>","39","\t\t        <j:forEach var=\"badge\" items=\"${p.testActions}\">","40","\t\t          <st:include it=\"${badge}\" page=\"badge.jelly\" optional=\"true\"\/>","41","\t\t        <\/j:forEach>","55","<\/j:jelly>"]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/TestResult\/index.jelly":[{"add":["3","Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi, Tom Huybrechts, Yahoo!, Inc.","28","      <h1><st:out value=\"${it.title}\" \/><\/h1>","51","<\/j:jelly>"],"delete":["3","Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Tom Huybrechts, Yahoo!, Inc.","28","      <h1>${it.title}<\/h1>","51","<\/j:jelly>"]}]}},"65d14179bf3e134a4903652d9d8198d160cf6b85":{"changes":{"core\/src\/main\/java\/hudson\/model\/ListView.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ListView.java":[{"add":["521","                locationChanged(oldFullName, newFullName);","524","        private void locationChanged(String oldFullName, String newFullName) {","526","            locationChanged(jenkins, oldFullName, newFullName);","529","                    locationChanged((ViewGroup) g, oldFullName, newFullName);","530","                }","531","            }","532","        }","533","        private void locationChanged(ViewGroup vg, String oldFullName, String newFullName) {","534","            for (View v : vg.getViews()) {","535","                if (v instanceof ListView) {","536","                    renameViewItem(oldFullName, newFullName, vg, (ListView) v);","537","                }","538","                if (v instanceof ViewGroup) {","539","                    locationChanged((ViewGroup) v, oldFullName, newFullName);","571","            deleted(jenkins, item);","574","                    deleted((ViewGroup) g, item);","575","                }","576","            }","577","        }","578","        private void deleted(ViewGroup vg, Item item) {","579","            for (View v : vg.getViews()) {","580","                if (v instanceof ListView) {","581","                    deleteViewItem(item, vg, (ListView) v);","582","                }","583","                if (v instanceof ViewGroup) {","584","                    deleted((ViewGroup) v, item);"],"delete":["521","                locationChanged(item, oldFullName, newFullName);","524","        private void locationChanged(Item item, String oldFullName, String newFullName) {","526","            for (View view: jenkins.getViews()) {","527","                if (view instanceof ListView) {","528","                    renameViewItem(oldFullName, newFullName, jenkins, (ListView) view);","529","                }","530","            }","533","                    ViewGroup vg = (ViewGroup) g;","534","                    for (View v : vg.getViews()) {","535","                        if (v instanceof ListView) {","536","                            renameViewItem(oldFullName, newFullName, vg, (ListView) v);","537","                        }","538","                    }","570","            for (View view: jenkins.getViews()) {","571","                if (view instanceof ListView) {","572","                    deleteViewItem(item, jenkins, (ListView) view);","573","                }","574","            }","577","                    ViewGroup vg = (ViewGroup) g;","578","                    for (View v : vg.getViews()) {","579","                        if (v instanceof ListView) {","580","                            deleteViewItem(item, vg, (ListView) v);","581","                        }","582","                    }"]}]}},"90997a6b4908d2829b20ae067480d05f356571c6":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["42","  <li class=bug>","43","    Do not chmod\/chown symlink targets in \/var\/lib\/hudson (debian package)","44","    (<a href=\"http:\/\/issues.hudson-ci.org\/browse\/HUDSON-8502\">issue 8502<\/a>)"],"delete":[]}]}},"010d9e9067b7fa3ce776ec5f76a6cc4d0fdff258":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/WebAppMain.java":"MODIFY"},"diff":{"changelog.html":[{"add":["87","    Ensuring <code>\/log\/all<\/code> shows only <code>INFO<\/code> and above messages, even if custom loggers display <code>FINE<\/code> or below.","88","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-18959\">issue 18959<\/a>)","89","  <li class=bug>"],"delete":[]}],"core\/src\/main\/java\/hudson\/WebAppMain.java":[{"add":["61","import java.util.logging.LogRecord;","69","    private final RingBufferLogHandler handler = new RingBufferLogHandler() {","70","        @Override public synchronized void publish(LogRecord record) {","71","            if (record.getLevel().intValue() >= Level.INFO.intValue()) {","72","                super.publish(record);","73","            }","74","        }","75","    };"],"delete":["68","    private final RingBufferLogHandler handler = new RingBufferLogHandler();"]}]}},"0c1966657f3e5b932bec88e59274aed448bddce7":{"changes":{"opensuse\/SOURCES\/jenkins.init.in":"MODIFY","changelog.html":"MODIFY"},"diff":{"opensuse\/SOURCES\/jenkins.init.in":[{"add":["93","\tJPID=`\/sbin\/startproc -v -s -l \/var\/log\/jenkins.rc -u \"$JENKINS_USER\" -p \"$JENKINS_PID_FILE\" $JAVA_CMD $PARAMS`","95","\t[ -s \"$JENKINS_PID_FILE\" ] || echo $JPID >\"$JENKINS_PID_FILE\"","99","\t\/sbin\/killproc -p \"$JENKINS_PID_FILE\" $JAVA_HOME\/bin\/java"],"delete":["93","\tif \/sbin\/startproc -l \/var\/log\/jenkins.rc -u \"$JENKINS_USER\" -p \"$JENKINS_PID_FILE\" $JAVA_CMD $PARAMS; then","94","\t    rc_status","95","\t    # get own session ID","96","\t    MY_SESSION_ID=`\/bin\/ps h -o sess -p $$`","97","\t    # get PID","98","\t    \/bin\/ps hww -u hudson -o sess,pid,cmd | grep java | grep -i jenkins | \\","99","\t\twhile read sess pid cmd; do [ \"$sess\" = $MY_SESSION_ID ] && echo $pid; done | \\","100","\t\thead -1 > \"$JENKINS_PID_FILE\"","101","\telse","102","\t    rc_failed 1","103","\tfi","108","\tPID=`cat \"$JENKINS_PID_FILE\" 2>\/dev\/null`","109","\tif [ -n \"$PID\" ]; then","110","\t    if \/bin\/kill -0 \"$PID\"; then","111","\t\t# process exists","112","\t\t\/bin\/kill -INT \"$PID\"","113","\t\trc=$?","114","\t\t[ \"$rc\" = \"0\" ] && \/bin\/rm -f \"$JENKINS_PID_FILE\"","115","\t\trc_failed \"$rc\"","116","\t    else","117","\t\trc_failed 7","118","\t    fi","119","\telse","120","\t    rc_failed 1","121","\tfi"]}],"changelog.html":[{"add":["69","  <li class=bug>","70","    Fixed a bug in the OpenSUSE startup script","71","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-5020\">issue 5020<\/a>)"],"delete":[]}]}},"ce48d096ab27fd3aa4d52e7f83ce576b0aefe2a2":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["384","      <version>1.160<\/version>"],"delete":["384","      <version>1.159<\/version>"]}],"changelog.html":[{"add":["62","  <li class=bug>","63","    Fixed a bug where XML API can produce malformed XML.","64","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-8988\">issue 8988<\/a>)"],"delete":["62","  <li class=>"]}]}},"d32adb9efcfd09e3f87d50a7661e19e63890d0e8":{"changes":{"core\/src\/main\/resources\/hudson\/model\/AllView\/noJob.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/AllView\/noJob.properties":[{"add":["25","  <a href=\"https:\/\/jenkins.io\/redirect\/distributed-builds\" target=\"_blank\">Learn more<\/a>.","28","  <a href=\"https:\/\/jenkins.io\/redirect\/distributed-builds\" target=\"_blank\">Learn more<\/a>."],"delete":["25","  <a href=\"https:\/\/jenkins.io\/redirects\/distributed-builds\">Learn more<\/a>.","28","  <a href=\"https:\/\/jenkins.io\/redirects\/distributed-builds\">Learn more<\/a>."]}]}},"981366696199a73980fcc9218b93afe15faad189":{"changes":{"maven-plugin\/src\/test\/java\/hudson\/maven\/reporters\/TestMojoTest.java":"MODIFY","changelog.html":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/TestMojo.java":"MODIFY"},"diff":{"maven-plugin\/src\/test\/java\/hudson\/maven\/reporters\/TestMojoTest.java":[{"add":["2","import static org.junit.Assert.assertEquals;","3","import static org.junit.Assert.assertNotNull;","4","import static org.junit.Assert.assertTrue;","11","import java.io.FileWriter;","39","    @Test","40","    public void testGetReportFilesAndroidMavenPlugin() throws ComponentConfigurationException, Exception {","41","        \/\/ no 'reportsDirectory' or so config value set:","42","        MojoInfo mojoInfo = MojoInfoBuilder.mojoBuilder(","43","        \t\t\t\"com.jayway.maven.plugins.android.generation2\",","44","        \t\t\t\"android-maven-plugin\",","45","        \t\t\t\"internal-integration-test\")","46","        \t.version(\"3.3.0\")","47","        \t.build();","48","","49","        final String testResultsName = \"TEST-emulator-5554_device2.1_unknown_google_sdk.xml\";","50","\t\t","51","\t\tFile testDir = hudson.Util.createTempDir();","52","\t\tFile targetDir = new File(testDir, \"target\");","53","\t\tFile reportsDir = new File(targetDir, \"surefire-reports\");","54","\t\tassertTrue(reportsDir.mkdirs());","55","\t\t","56","\t\tFile testResults = new File(reportsDir, testResultsName);","57","\t\tFileWriter fw = new FileWriter(testResults, false);","58","\t\tfw.write(\"this is a fake surefire reports output file\");","59","\t\tfw.close();","60","","61","        MavenProject pom = mock(MavenProject.class);","62","        when(pom.getBasedir()).thenReturn(testDir);","63","        ","64","        Build build = mock(Build.class);","65","        when(build.getDirectory()).thenReturn(targetDir.getAbsolutePath());","66","        when(pom.getBuild()).thenReturn(build);","67","        ","68","        TestMojo testMojo = TestMojo.ANDROID_MAVEN_PLUGIN;","69","        Iterable<File> files = testMojo.getReportFiles(pom, mojoInfo);","70","        assertNotNull(\"no report files returned\", files);","71","","72","        boolean found = false;","73","        for (File file : files) {","74","        \tassertEquals(testResultsName, file.getName());","75","        \tfound = true;","76","        }","77","        assertTrue(\"report file not found\", found);","78","    }"],"delete":[]}],"changelog.html":[{"add":["58","  <li class=bug>","59","    surefire-reports not detected for android-maven-plugin","60","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16776\">issue 16776<\/a>)"],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/TestMojo.java":[{"add":["116","        File reportsDir = new File(pom.getBuild().getDirectory(), \"surefire-reports\");"],"delete":["116","        File reportsDir = new File(pom.getBasedir(), pom.getBuild().getDirectory()+File.separator+\"surefire-reports\");"]}]}},"815da8aa732baa699481828dda67dd5835ba4992":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["183","        <version>3.5<\/version>"],"delete":["183","        <version>3.4.1<\/version>"]}]}},"488dbe9f25e4b4e5440e65d9e07cd4a68953ebbf":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/rssBar.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/widgets\/HistoryWidget\/index.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Job\/rssHeader.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/rssBar.jelly":[{"add":["29","      <a href=\"rssAll\" class=\"rss-bar-item-icon-link\"><img src=\"${imagesURL}\/atom.gif\" class=\"icon-rss icon-sm\" alt=\"Atom feed\"\/><\/a>","31","      <a href=\"rssAll\" class=\"rss-bar-item-link\">Atom feed ${%for all}<\/a>","34","      <a href=\"rssFailed\" class=\"rss-bar-item-icon-link\"><img src=\"${imagesURL}\/atom.gif\" class=\"icon-rss icon-sm\" alt=\"Atom feed\"\/><\/a>","36","      <a href=\"rssFailed\" class=\"rss-bar-item-link\">Atom feed ${%for failures}<\/a>","39","      <a href=\"rssLatest\" class=\"rss-bar-item-icon-link\" ><img src=\"${imagesURL}\/atom.gif\" class=\"icon-rss icon-sm\" alt=\"Atom feed\"\/><\/a>","41","      <a href=\"rssLatest\" class=\"rss-bar-item-link\">Atom feed ${%for just latest builds}<\/a>"],"delete":["29","      <a href=\"rssAll\" class=\"rss-bar-item-icon-link\"><img src=\"${imagesURL}\/atom.gif\" class=\"icon-rss icon-sm\" alt=\"Feed\"\/><\/a>","31","      <a href=\"rssAll\" class=\"rss-bar-item-link\">RSS ${%for all}<\/a>","34","      <a href=\"rssFailed\" class=\"rss-bar-item-icon-link\"><img src=\"${imagesURL}\/atom.gif\" class=\"icon-rss icon-sm\" alt=\"Feed\"\/><\/a>","36","      <a href=\"rssFailed\" class=\"rss-bar-item-link\">RSS ${%for failures}<\/a>","39","      <a href=\"rssLatest\" class=\"rss-bar-item-icon-link\" ><img src=\"${imagesURL}\/atom.gif\" class=\"icon-rss icon-sm\" alt=\"Feed\"\/><\/a>","41","      <a href=\"rssLatest\" class=\"rss-bar-item-link\">RSS ${%for just latest builds}<\/a>"]}],"core\/src\/main\/resources\/hudson\/widgets\/HistoryWidget\/index.jelly":[{"add":["43","        <a class=\"build-rss-all-icon\" href=\"${it.baseUrl}\/rssAll\"><img src=\"${imagesURL}\/atom.gif\" border=\"0\" alt=\"Atom feed\" height=\"16\" width=\"16\"\/><\/a>","45","        <a class=\"build-rss-all-link\" href=\"${it.baseUrl}\/rssAll\">Atom feed ${%for all}<\/a>","47","        <a class=\"build-rss-failed-icon\" href=\"${it.baseUrl}\/rssFailed\"><img src=\"${imagesURL}\/atom.gif\" border=\"0\" alt=\"Atom feed\" height=\"16\" width=\"16\"\/><\/a>","49","        <a class=\"build-rss-failed-link\" href=\"${it.baseUrl}\/rssFailed\">Atom feed ${%for failures}<\/a>"],"delete":["43","        <a class=\"build-rss-all-icon\" href=\"${it.baseUrl}\/rssAll\"><img src=\"${imagesURL}\/atom.gif\" border=\"0\" alt=\"Feed\" height=\"16\" width=\"16\"\/><\/a>","45","        <a class=\"build-rss-all-link\" href=\"${it.baseUrl}\/rssAll\">RSS ${%for all}<\/a>","47","        <a class=\"build-rss-failed-icon\" href=\"${it.baseUrl}\/rssFailed\"><img src=\"${imagesURL}\/atom.gif\" border=\"0\" alt=\"Feed\" height=\"16\" width=\"16\"\/><\/a>","49","        <a class=\"build-rss-failed-link\" href=\"${it.baseUrl}\/rssFailed\">RSS ${%for failures}<\/a>"]}],"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":[{"add":["31","    <link rel=\"alternate\" title=\"Jenkins:${it.viewName} (all builds)\" href=\"${rootURL}\/${it.url}rssAll\" type=\"application\/atom+xml\" \/>","33","    <link rel=\"alternate\" title=\"Jenkins:${it.viewName} (failed builds)\" href=\"${rootURL}\/${it.url}rssFailed\" type=\"application\/atom+xml\" \/>"],"delete":["31","    <link rel=\"alternate\" title=\"Jenkins:${it.viewName} (all builds)\" href=\"${rootURL}\/${it.url}rssAll\" type=\"application\/rss+xml\" \/>","33","    <link rel=\"alternate\" title=\"Jenkins:${it.viewName} (failed builds)\" href=\"${rootURL}\/${it.url}rssFailed\" type=\"application\/rss+xml\" \/>"]}],"core\/src\/main\/resources\/hudson\/model\/Job\/rssHeader.jelly":[{"add":["26","  <link rel=\"alternate\" title=\"Jenkins:${it.name} (all builds)\" href=\"rssAll\" type=\"application\/atom+xml\" \/>","28","  <link rel=\"alternate\" title=\"Jenkins:${it.name} (failed builds)\" href=\"rssFailed\" type=\"application\/atom+xml\" \/>","30","<\/j:jelly>"],"delete":["26","  <link rel=\"alternate\" title=\"Jenkins:${it.name} (all builds)\" href=\"rssAll\" type=\"application\/rss+xml\" \/>","28","  <link rel=\"alternate\" title=\"Jenkins:${it.name} (failed builds)\" href=\"rssFailed\" type=\"application\/rss+xml\" \/>","30","<\/j:jelly>"]}]}},"7414c3ed2140055aa350f91c3254103f66282c9a":{"changes":{"core\/src\/main\/resources\/hudson\/util\/NoHomeDir\/index_pt_BR.properties":"MODIFY","core\/src\/main\/resources\/hudson\/util\/NoHomeDir\/index_ja.properties":"MODIFY","core\/src\/main\/java\/hudson\/Functions.java":"MODIFY","core\/src\/main\/resources\/hudson\/util\/NoHomeDir\/index.properties":"MODIFY","core\/src\/main\/resources\/hudson\/util\/NoHomeDir\/index_de.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/util\/NoHomeDir\/index_pt_BR.properties":[{"add":["23","# Unable to create the home directory ''{0}''. This is most likely a permission problem.","24","#errorMessage.1=","31","#errorMessage.2="],"delete":["23","# Unable to create the home directory '{0}'. This is most likely a permission problem.","24","errorMessage.1=","31","errorMessage.2="]}],"core\/src\/main\/resources\/hudson\/util\/NoHomeDir\/index_ja.properties":[{"add":["2","# Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe","24","   \\u30DB\\u30FC\\u30E0\\u30C7\\u30A3\\u30EC\\u30AF\\u30C8\\u30EA ''{0}'' \\u3092\\u4F5C\\u6210\\u3067\\u304D\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F\\u3002\\u304A\\u305D\\u3089\\u304F\\u30D1\\u30FC\\u30DF\\u30C3\\u30B7\\u30E7\\u30F3\\u306E\\u554F\\u984C\\u3067\\u3059\\u3002"],"delete":["2","# Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe","24","   \\u30DB\\u30FC\\u30E0\\u30C7\\u30A3\\u30EC\\u30AF\\u30C8\\u30EA '{0}' \\u3092\\u4F5C\\u6210\\u3067\\u304D\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F\\u3002\\u304A\\u305D\\u3089\\u304F\\u30D1\\u30FC\\u30DF\\u30C3\\u30B7\\u30E7\\u30F3\\u306E\\u554F\\u984C\\u3067\\u3059\\u3002"]}],"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["1179","","1181","        Hudson h = Hudson.getInstance();","1182","        CrumbIssuer issuer = h != null ? h.getCrumbIssuer() : null;","1183","        return issuer != null ? issuer.getCrumb(req) : \"\";","1185","","1187","        Hudson h = Hudson.getInstance();","1188","        CrumbIssuer issuer = h != null ? h.getCrumbIssuer() : null;","1189","        return issuer != null ? issuer.getDescriptor().getCrumbRequestField() : \"\";"],"delete":["45","import hudson.model.User;","1180","    ","1182","        CrumbIssuer issuer = Hudson.getInstance().getCrumbIssuer();","1183","        if (issuer != null) {","1184","            return issuer.getCrumb(req);","1185","        }","1186","        ","1187","        return \"\";","1189","    ","1191","        CrumbIssuer issuer = Hudson.getInstance().getCrumbIssuer();","1192","        if (issuer != null) {","1193","            return issuer.getDescriptor().getCrumbRequestField();","1194","        }","1195","        ","1196","        return \"\";"]}],"core\/src\/main\/resources\/hudson\/util\/NoHomeDir\/index.properties":[{"add":["2","# Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe","23","   Unable to create the home directory ''{0}''. This is most likely a permission problem."],"delete":["2","# Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Seiji Sogabe","23","   Unable to create the home directory '{0}'. This is most likely a permission problem.","30",""]}],"core\/src\/main\/resources\/hudson\/util\/NoHomeDir\/index_de.properties":[{"add":["2","# Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi, Simon Wiest\r","24","  Das Stammverzeichnis ''{0}'' konnte nicht angelegt werden. In den meisten Fällen ist \\\r"],"delete":["2","# Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Simon Wiest\r","24","  Das Stammverzeichnis '{0}' konnte nicht angelegt werden. In den meisten Fällen ist \\\r"]}]}},"c5e23739fa85a6fe93ad90a35da4051a2767c874":{"changes":{"core\/src\/main\/java\/hudson\/model\/Job.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/BuildTimelineWidget.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/RunList.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/BuildTimelineWidget\/control.jelly":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/buildListTable.jelly":"MODIFY","core\/src\/main\/java\/hudson\/Functions.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Job\/buildTimeTrend.jelly":"MODIFY","core\/src\/main\/java\/jenkins\/widgets\/BuildListTable.java":"ADD","core\/src\/main\/resources\/hudson\/model\/User\/builds.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Job.java":[{"add":["1271","                for (Run r : getNewBuilds()) {"],"delete":["1271","                for (Run r : getBuilds()) {"]}],"core\/src\/main\/java\/hudson\/model\/BuildTimelineWidget.java":[{"add":["47","        this.builds = builds.limit(20); \/\/ TODO instead render lazily","50","    @Deprecated","55","    @Deprecated"],"delete":["47","        this.builds = builds;"]}],"core\/src\/main\/java\/hudson\/util\/RunList.java":[{"add":["188","     * <em>Warning:<\/em> this method mutates the original list and then returns it.","189","     * @since TODO","191","    public RunList<R> filter(Predicate<R> predicate) {"],"delete":["189","    \/\/ for compatibility reasons, this method doesn't create a new list but updates the current one","190","    private RunList<R> filter(Predicate<R> predicate) {"]}],"core\/src\/main\/resources\/hudson\/model\/BuildTimelineWidget\/control.jelly":[{"add":[],"delete":["79","        theme1.timeline_start = new Date(${it.firstBuild.timeInMillis-24*60*60*1000});","80","        theme1.timeline_stop  = new Date(${it.lastBuild.timeInMillis+24*60*60*1000});","82","        var d = new Date(${it.lastBuild.timeInMillis});"]}],"core\/src\/main\/resources\/lib\/hudson\/buildListTable.jelly":[{"add":["45","    <script>","46","        function displayBuilds(data) {","47","            var p = $$('projectStatus');","48","            for (var x = 0; data.length > x; x++) {","49","                var e = data[x];","50","                var tr = document.createElement('tr');","51","                var td = document.createElement('td');","52","                td.setAttribute('data', e.iconColorOrdinal);","53","                var a = document.createElement('a');","54","                a.href = '${jobBaseUrl}' + e.url;","55","                var img = document.createElement('img');","56","                img.src = '${imagesURL}\/${iconSize}\/' + e.buildStatusUrl;","57","                img.alt = e.iconColorDescription;","58","                img.className = 'icon${iconSize}';","59","                a.appendChild(img);","60","                td.appendChild(a);","61","                tr.appendChild(td);","62","                td = document.createElement('td');","63","                a = document.createElement('a');","64","                a.href = '${jobBaseUrl}' + e.parentUrl;","65","                a.className = 'model-link';","66","                a.innerHTML = e.parentFullDisplayName;","67","                td.appendChild(a);","68","                td.appendChild(document.createTextNode('\\u00A0')); \/\/ nbsp","69","                a = document.createElement('a');","70","                a.href = '${jobBaseUrl}' + e.url;","71","                a.className = 'model-link inside';","72","                a.appendChild(document.createTextNode(e.displayName));","73","                td.appendChild(a);","74","                tr.appendChild(td);","75","                td = document.createElement('td');","76","                td.setAttribute('data', e.timestampString2);","77","                td.tooltip = '${%Click to center timeline on event}';","78","                td.onclick = 'javascript:tl.getBand(0).scrollToCenter(Timeline.DateTime.parseGregorianDateTime(\"' + e.timestampString2 + '\"))';","79","                td.appendChild(document.createTextNode(e.timestampString));","80","                tr.appendChild(td);","81","                td = document.createElement('td');","82","                if (e.buildStatusSummaryWorse) {","83","                    td.style.color = 'red';","84","                }","85","                td.appendChild(document.createTextNode(e.buildStatusSummaryMessage));","86","                tr.appendChild(td);","87","                td = document.createElement('td');","88","                var a = document.createElement('a');","89","                a.href = '${jobBaseUrl}' + e.url + 'console';","90","                var img = document.createElement('img');","91","                img.src = '${imagesURL}\/${subIconSize}\/terminal.png';","92","                img.alt = '${%Console output}';","93","                img.border = 0;","94","                a.appendChild(img);","95","                td.appendChild(a);","96","                tr.appendChild(td);","97","                p.appendChild(tr);","98","            }","99","        }","100","    <\/script>","101","    <j:new var=\"handler\" className=\"jenkins.widgets.BuildListTable\"\/>","102","    ${handler.setBuilds(attrs.builds)}","103","    <l:progressiveRendering handler=\"${handler}\" callback=\"displayBuilds\"\/>"],"delete":["45","    <!-- TODO: support gradual expansion of the list -->","46","    <j:forEach var=\"b\" items=\"${h.subList(attrs.builds,50)}\">","47","      <tr>","48","        <td data=\"${b.iconColor.ordinal()}\">","49","          <a href=\"${jobBaseUrl}${b.url}\">","50","            <img src=\"${imagesURL}\/${iconSize}\/${b.buildStatusUrl}\"","51","                 alt=\"${b.iconColor.description}\" class=\"icon${iconSize}\"\/>","52","          <\/a>","53","        <\/td>","54","        <td>","55","          <a href=\"${jobBaseUrl}${b.parent.url}\" class=\"model-link\"><l:breakable value=\"${b.parent.fullDisplayName}\"\/><\/a>","56","          <st:nbsp\/>","57","          <a href=\"${jobBaseUrl}${b.url}\" class=\"model-link inside\">${b.displayName}<\/a>","58","        <\/td>","59","        <td data=\"${b.timestampString2}\" tooltip=\"${%Click to center timeline on event}\" onclick=\"javascript:tl.getBand(0).scrollToCenter(Timeline.DateTime.parseGregorianDateTime('${b.timestampString2}'))\">","60","          ${b.timestampString}","61","        <\/td>","62","        <td>","63","          <t:buildStatusSummary build=\"${b}\" \/>","64","        <\/td>","65","        <td>","66","          <a href=\"${jobBaseUrl}${b.url}console\">","67","            <img src=\"${imagesURL}\/${subIconSize}\/terminal.png\" title=\"${%Console output}\" alt=\"${%Console output}\" border=\"0\" \/>","68","          <\/a>","69","        <\/td>","70","      <\/tr>","71","    <\/j:forEach>"]}],"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["152","import hudson.util.RunList;","1434","     * Returns a sub-list if the given list is bigger than the specified {@code maxSize}.","1435","     * <strong>Warning:<\/strong> do not call this with a {@link RunList}, or you will break lazy loading!"],"delete":["1433","     * Returns a sub-list if the given list is bigger than the specified 'maxSize'"]}],"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["26","import com.google.common.base.Predicate;","457","    \treturn new RunList<Run<?,?>>(Jenkins.getInstance().getAllItems(Job.class)).filter(new Predicate<Run<?,?>>() {","458","            @Override public boolean apply(Run<?,?> r) {","459","                return r instanceof AbstractBuild && relatedTo((AbstractBuild<?,?>) r);","461","        });"],"delete":["453","     * ","454","     * TODO: do we need some index for this?","458","        List<AbstractBuild> r = new ArrayList<AbstractBuild>();","459","        for (AbstractProject<?,?> p : Jenkins.getInstance().getAllItems(AbstractProject.class))","460","            for (AbstractBuild<?,?> b : p.getBuilds().newBuilds()){","461","                if (relatedTo(b)) {","462","                    r.add(b);","463","                }","465","        return RunList.fromRuns(r);"]}],"core\/src\/main\/resources\/hudson\/model\/Job\/buildTimeTrend.jelly":[{"add":["51","              <j:forEach var=\"r\" items=\"${it.builds}\"> <!-- TODO progressively render this -->"],"delete":["36","      <j:choose>","37","        <j:when test=\"${it.builds.size()&gt;1}\">","53","              <j:forEach var=\"r\" items=\"${it.builds}\">","75","        <\/j:when>","76","        <j:otherwise>","77","          ${%More than 1 builds are needed for the trend report.}","78","        <\/j:otherwise>","79","      <\/j:choose>"]}],"core\/src\/main\/java\/jenkins\/widgets\/BuildListTable.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/User\/builds.jelly":[{"add":["32","      <!-- TODO consider adding a BuildTimelineWidget (cf. Job, View, Computer) -->"],"delete":[]}]}},"439426236f52f905df782c1467c96c7bda8a746a":{"changes":{"core\/src\/main\/java\/jenkins\/model\/GlobalSCMRetryCountConfiguration.java":"MODIFY","test\/src\/test\/java\/jenkins\/model\/GlobalSCMRetryCountConfigurationTest.java":"ADD"},"diff":{"core\/src\/main\/java\/jenkins\/model\/GlobalSCMRetryCountConfiguration.java":[{"add":["26","import net.sf.json.JSONException;","52","        } catch (JSONException e) {","53","            throw new FormException(e.getMessage(), \"quietPeriod\");","56","}"],"delete":["53","}"]}],"test\/src\/test\/java\/jenkins\/model\/GlobalSCMRetryCountConfigurationTest.java":[{"add":[],"delete":[]}]}},"b86770131e7ee9456567118784fba5653cab5a2e":{"changes":{"a":"ADD"},"diff":{"a":[{"add":[],"delete":[]}]}},"76da6ff28eb88b6b1237a5ba4cb6101db6e86975":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/buildCaption.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/widgets\/HistoryWidget\/entry.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/buildCaption.jelly":[{"add":["45","\t  <img src=\"buildStatus\" width=\"48\" height=\"48\" alt=\"${it.iconColor.description}\" tooltip=\"${it.iconColor.description}\" \/>","48","<\/j:jelly>"],"delete":["45","\t  <img src=\"buildStatus\" width=\"48\" height=\"48\" alt=\"${it.iconColor.description}\" \/>","48","<\/j:jelly>"]}],"core\/src\/main\/resources\/hudson\/widgets\/HistoryWidget\/entry.jelly":[{"add":["31","      <img width=\"16\" height=\"16\" src=\"${imagesURL}\/16x16\/${build.buildStatusUrl}\" alt=\"${build.iconColor.description}\" tooltip=\"${build.iconColor.description}\" \/><st:nbsp\/>","70","<\/j:jelly>"],"delete":["31","      <img width=\"16\" height=\"16\" src=\"${imagesURL}\/16x16\/${build.buildStatusUrl}\" alt=\"${build.iconColor.description}\" \/><st:nbsp\/>","70","<\/j:jelly>"]}]}},"baed3237a6b8ee88b18eed83aba8d8d3cd2b3ca2":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Run\/console_id.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Run\/console_id.properties":[{"add":["2","skipSome=Melompati {0,number,integer} KB.. <a href=\"{1}\">Log Penuh<\/a>"],"delete":["2","skipSome=Melompati {0,numer,integer) KB.. <a href=\"{1}\">Log Penuh<\/a>"]}]}},"8349cebb61a9aa73511f243465a6c5f57cfadd2f":{"changes":{"core\/src\/main\/java\/hudson\/security\/HttpSessionContextIntegrationFilter2.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/HttpSessionContextIntegrationFilter2.java":[{"add":["86","        User userFromSession;","87","        try {","88","            userFromSession = User.getById(authentication.getName(), false);","89","        } catch (IllegalStateException ise) {","90","            logger.warn(\"Encountered IllegalStateException trying to get a user. System init may not have completed yet. Invalidating user session.\");","91","            return false;","92","        }"],"delete":["86","        User userFromSession = User.getById(authentication.getName(), false);"]}]}},"17d90931655e6c67651ec371344552d7c23bdcda":{"changes":{"core\/src\/main\/java\/hudson\/tools\/InstallerTranslator.java":"MODIFY","changelog.html":"MODIFY","test\/src\/test\/java\/hudson\/tools\/InstallerTranslatorTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tools\/InstallerTranslator.java":[{"add":["55","                Semaphore semaphore;","56","                synchronized (mutexByNode) {","57","                    Map<ToolInstallation, Semaphore> mutexByTool = mutexByNode.get(node);","60","                    }","61","                    semaphore = mutexByTool.get(tool);","62","                    if (semaphore == null) {"],"delete":["55","            \tMap<ToolInstallation, Semaphore> mutexByTool;","56","            \tSemaphore semaphore;","57","            \t","58","                synchronized(mutexByNode) {","59","                    mutexByTool = mutexByNode.get(node);","63","                    } else {","64","                    \tsemaphore = mutexByTool.get(tool);","67",""]}],"changelog.html":[{"add":["57","  <li class=\"bug\">","58","    Synchronization issue during tool installation","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-17667\">issue 17667<\/a>)"],"delete":["57","  <li class=>","73","    Synchronization issue during tool installation","74","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-17667\">issue 17667<\/a>)","75","  <li class=\"bug\">"]}],"test\/src\/test\/java\/hudson\/tools\/InstallerTranslatorTest.java":[{"add":["26","import hudson.model.FreeStyleBuild;","34","import hudson.tasks.Shell;","64","    @Issue(\"JENKINS-17667\")","65","    @Test public void multipleSlavesAndTools() throws Exception {","66","        Node slave1 = r.createSlave();","67","        Node slave2 = r.createSlave();","68","        JDK jdk1 = new JDK(\"jdk1\", null, Collections.singletonList(new InstallSourceProperty(Collections.singletonList(new CommandInstaller(null, \"echo installed jdk1\", \"\/opt\/jdk1\")))));","69","        JDK jdk2 = new JDK(\"jdk2\", null, Collections.singletonList(new InstallSourceProperty(Collections.singletonList(new CommandInstaller(null, \"echo installed jdk2\", \"\/opt\/jdk2\")))));","70","        r.jenkins.getJDKs().add(jdk1);","71","        r.jenkins.getJDKs().add(jdk2);","72","        FreeStyleProject p = r.createFreeStyleProject();","73","        p.setJDK(jdk1);","74","        p.getBuildersList().add(new Shell(\"echo $JAVA_HOME\"));","75","        p.setAssignedNode(slave1);","76","        FreeStyleBuild b1 = r.buildAndAssertSuccess(p);","77","        r.assertLogContains(\"installed jdk1\", b1);","78","        r.assertLogContains(\"\/opt\/jdk1\", b1);","79","        p.setJDK(jdk2);","80","        FreeStyleBuild b2 = r.buildAndAssertSuccess(p);","81","        r.assertLogContains(\"installed jdk2\", b2);","82","        r.assertLogContains(\"\/opt\/jdk2\", b2);","83","        FreeStyleBuild b3 = r.buildAndAssertSuccess(p);","84","        \/\/ An installer is run for every build, and it is up to a CommandInstaller configuration to do any up-to-date check.","85","        r.assertLogContains(\"installed jdk2\", b3);","86","        r.assertLogContains(\"\/opt\/jdk2\", b3);","87","        p.setAssignedNode(slave2);","88","        FreeStyleBuild b4 = r.buildAndAssertSuccess(p);","89","        r.assertLogContains(\"installed jdk2\", b4);","90","        r.assertLogContains(\"\/opt\/jdk2\", b4);","91","        p.setJDK(jdk1);","92","        FreeStyleBuild b5 = r.buildAndAssertSuccess(p);","93","        r.assertLogContains(\"installed jdk1\", b5);","94","        r.assertLogContains(\"\/opt\/jdk1\", b5);","95","        FreeStyleBuild b6 = r.buildAndAssertSuccess(p);","96","        r.assertLogContains(\"installed jdk1\", b6);","97","        r.assertLogContains(\"\/opt\/jdk1\", b6);","98","    }","99",""],"delete":[]}]}},"d8cae8221e5b5ef3b5276fb53879547169a02504":{"changes":{"\/dev\/null":"DELETE","src\/findbugs\/findbugs-excludes.xml":"ADD","core\/pom.xml":"MODIFY","cli\/pom.xml":"MODIFY","pom.xml":"MODIFY"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}],"src\/findbugs\/findbugs-excludes.xml":[{"add":[],"delete":[]}],"core\/pom.xml":[{"add":["44","    <!-- Currently there is a huge number of errors => we cannot fix all of them immediately -->","45","    <findbugs.failOnError>false<\/findbugs.failOnError>","807","      <plugin>","808","        <groupId>org.codehaus.mojo<\/groupId>","809","        <artifactId>findbugs-maven-plugin<\/artifactId>","810","      <\/plugin>","886","      <!-- FindBugs has been moved to the default build flow, but here we fail the build on errors-->","888","      <properties>","889","        <!-- In the default profile we always fail the build if there FindBugs errors -->","890","        <findbugs.failOnError>true<\/findbugs.failOnError>","891","      <\/properties>"],"delete":["881","      <reporting>","882","        <plugins>","883","          <plugin>","884","            <groupId>org.codehaus.mojo<\/groupId>","885","            <artifactId>findbugs-maven-plugin<\/artifactId>","886","            <configuration>","887","              <effort>Max<\/effort>","888","              <threshold>High<\/threshold>","889","              <excludeFilterFile>src\/findbugs-filter.xml<\/excludeFilterFile>","890","            <\/configuration>","891","          <\/plugin>","892","        <\/plugins>","893","      <\/reporting>"]}],"cli\/pom.xml":[{"add":["94","      <plugin>","95","        <groupId>org.codehaus.mojo<\/groupId>","96","        <artifactId>findbugs-maven-plugin<\/artifactId>","97","      <\/plugin>"],"delete":[]}],"pom.xml":[{"add":["98","    <findbugs-maven-plugin.version>3.0.4<\/findbugs-maven-plugin.version>","99","    <findbugs.failOnError>true<\/findbugs.failOnError>","503","          <version>${findbugs-maven-plugin.version}<\/version>","504","          <configuration>","505","            <effort>Max<\/effort>","506","            <threshold>High<\/threshold>","507","            <!--Excludes file is located on the top level-->","508","            <excludeFilterFile>..\/src\/findbugs\/findbugs-excludes.xml<\/excludeFilterFile>","509","            <xmlOutput>true<\/xmlOutput>","510","            <findbugsXmlOutput>false<\/findbugsXmlOutput>","511","          <\/configuration>","512","          <executions>","513","            <execution>","514","              <id>findbugs<\/id>","515","              <goals>","516","                <goal>check<\/goal>","517","              <\/goals>","518","              <phase>verify<\/phase>","519","            <\/execution>","520","          <\/executions>","756","      ","757","      ","796","      <build>","806","      <\/build>"],"delete":["98","    <findbugs-maven-plugin.version>3.0.1<\/findbugs-maven-plugin.version>","775","      <reporting>","785","      <\/reporting>"]}]}},"1fcee97d2fdda236fea149f671d9c8a95cdb8528":{"changes":{"changelog.html":"MODIFY","core\/src\/test\/java\/hudson\/FilePathTest.java":"MODIFY","core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"changelog.html":[{"add":["66","    Tool installer which downloads and unpacks archives should not fail the build if the tool already exists and the server returns an error code.","67","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26196\">issue 26196<\/a>)","68","  <li class=bug>"],"delete":[]}],"core\/src\/test\/java\/hudson\/FilePathTest.java":[{"add":["29","import hudson.util.StreamTaskListener;","37","import java.net.ConnectException;","549","    @Issue(\"JENKINS-26196\")","550","    @Test public void installIfNecessarySkipsDownloadWhenErroneous() throws Exception {","551","        File tmp = temp.getRoot();","552","        final FilePath d = new FilePath(tmp);","553","        d.child(\".timestamp\").touch(123000);","554","        final HttpURLConnection con = mock(HttpURLConnection.class);","555","        final URL url = someUrlToZipFile(con);","556","        when(con.getResponseCode()).thenReturn(HttpURLConnection.HTTP_GATEWAY_TIMEOUT);","557","        when(con.getResponseMessage()).thenReturn(\"Gateway Timeout\");","558","        when(con.getInputStream()).thenThrow(new ConnectException());","559","        ByteArrayOutputStream baos = new ByteArrayOutputStream();","560","        String message = \"going ahead\";","561","        assertFalse(d.installIfNecessaryFrom(url, new StreamTaskListener(baos), message));","562","        verify(con).setIfModifiedSince(123000);","563","        String log = baos.toString();","564","        assertFalse(log, log.contains(message));","565","        assertTrue(log, log.contains(\"504 Gateway Timeout\"));","566","    }","567",""],"delete":[]}],"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["758","            long lastModified = timestamp.lastModified();","762","                if (lastModified != 0) {","763","                    con.setIfModifiedSince(lastModified);","778","            if (lastModified != 0 && con instanceof HttpURLConnection) {","779","                HttpURLConnection httpCon = (HttpURLConnection) con;","780","                int responseCode = httpCon.getResponseCode();","781","                if (responseCode == HttpURLConnection.HTTP_NOT_MODIFIED) {","782","                    return false;","783","                } else if (responseCode != HttpURLConnection.HTTP_OK) {","784","                    listener.getLogger().println(\"Skipping installation of \" + archive + \" to \" + remote + \" due to server error: \" + responseCode + \" \" + httpCon.getResponseMessage());","785","                    return false;","786","                }","792","                if (lastModified != 0 && sourceTimestamp == lastModified)"],"delete":["761","                if (timestamp.exists()) {","762","                    con.setIfModifiedSince(timestamp.lastModified());","777","            if (con instanceof HttpURLConnection","778","                    && ((HttpURLConnection)con).getResponseCode() == HttpURLConnection.HTTP_NOT_MODIFIED) {","779","                return false;","785","                if(timestamp.exists() && sourceTimestamp ==timestamp.lastModified())"]}]}},"5aed788deef350ffd1c4c3b1ce87ed76f48b5a4c":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["41","    <stapler.version>1.248<\/stapler.version>"],"delete":["41","    <stapler.version>1.247<\/stapler.version>"]}]}},"14161627eacfaea2f994411d073b9ec32ab96d47":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["60","  <li class=bug>","61","    NPE during in parsing POMs for Multi Module Build","62","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-8525\">issue 8525<\/a>)"],"delete":["60","  <li class=>"]}]}},"c21918df7e9b783c12d1bdc775b45b9531da7032":{"changes":{"core\/src\/main\/java\/hudson\/security\/PAMSecurityRealm.java":"MODIFY","core\/pom.xml":"MODIFY","test\/src\/test\/java\/hudson\/security\/PAMSecurityRealmTest.java":"ADD","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/PAMSecurityRealm.java":[{"add":["90","                GrantedAuthority[] groups = toAuthorities(u);","117","                    try {","118","                        UnixUser uu = new UnixUser(username);","119","                        \/\/ return some dummy instance","120","                        return new User(username,\"\",true,true,true,true, toAuthorities(uu));","121","                    } catch (PAMException e) {","122","                        throw new UsernameNotFoundException(\"Failed to load information about Unix user \"+username,e);","123","                    }","129","    private static GrantedAuthority[] toAuthorities(UnixUser u) {","130","        Set<String> grps = u.getGroups();","131","        GrantedAuthority[] groups = new GrantedAuthority[grps.size()+1];","132","        int i=0;","133","        for (String g : grps)","134","            groups[i++] = new GrantedAuthorityImpl(g);","135","        groups[i++] = AUTHENTICATED_AUTHORITY;","136","        return groups;","137","    }","138",""],"delete":["90","                Set<String> grps = u.getGroups();","91","                GrantedAuthority[] groups = new GrantedAuthority[grps.size()];","92","                int i=0;","93","                for (String g : grps)","94","                    groups[i++] = new GrantedAuthorityImpl(g);","121","                    \/\/ return some dummy instance","122","                    return new User(username,\"\",true,true,true,true,","123","                            new GrantedAuthority[]{AUTHENTICATED_AUTHORITY});"]}],"core\/pom.xml":[{"add":["765","      <version>1.4<\/version>"],"delete":["765","      <version>1.2<\/version>"]}],"test\/src\/test\/java\/hudson\/security\/PAMSecurityRealmTest.java":[{"add":[],"delete":[]}],"changelog.html":[{"add":["61","  <li class=bug>","62","    PAM authentication fails to restore group membership information on \"remember me\" tokens.","63","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-9094\">issue 9094<\/a>)"],"delete":[]}]}},"78c709e91329d4b4ba6f36f25a64412ade63c215":{"changes":{"core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":[{"add":["480","    public static class DependencyGroup extends Dependency {","488","        private void add(Dependency next) {","492","        public Set<Dependency> getGroup() {","493","            return group;","494","        }","495","        "],"delete":["480","    private static class DependencyGroup extends Dependency {","488","        void add(Dependency next) {"]}],"changelog.html":[{"add":["65","  <li class=bug>","66","    Allow building multiple downstream dependencies on a single job via DependencyGraph and BuildTrigger.","67","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-8985\">issue 8985<\/a>)"],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":[{"add":["203","        List<Dependency> depsToBuild = new ArrayList<Dependency>();","205","            if (dep instanceof DependencyGraph.DependencyGroup) {","206","                for (Dependency d : ((DependencyGraph.DependencyGroup)dep).getGroup()) {","207","                    depsToBuild.add(d);","208","                }","209","            }","210","            else {","211","                depsToBuild.add(dep);","212","            }","213","        }","214","                    ","215","        for (Dependency dep : depsToBuild) {"],"delete":[]}]}},"709c55d5de1cd8de0b69322a056e3307019b12cb":{"changes":{"core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["1768","            env.put(\"JENKINS_URL\", rootUrl);","1769","            env.put(\"HUDSON_URL\", rootUrl); \/\/ Legacy compatibility","1799","        env.put(\"JENKINS_SERVER_COOKIE\",Util.getDigestOf(\"ServerID:\"+Hudson.getInstance().getSecretKey()));","1800","        env.put(\"HUDSON_SERVER_COOKIE\",Util.getDigestOf(\"ServerID:\"+Hudson.getInstance().getSecretKey())); \/\/ Legacy compatibility"],"delete":["1768","            env.put(\"HUDSON_URL\", rootUrl);","1798","        env.put(\"HUDSON_SERVER_COOKIE\",Util.getDigestOf(\"ServerID:\"+Hudson.getInstance().getSecretKey()));"]}]}},"086410ec0e8df5ac155ca1e1da0acef97c0764c7":{"changes":{"core\/src\/main\/java\/hudson\/model\/Fingerprint.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Fingerprint.java":[{"add":["691","            if(file.exists() && file.length()==0) {","692","                \/\/ Despite the use of AtomicFile, there are reports indicating that people often see","693","                \/\/ empty XML file, presumably either due to file system corruption (perhaps by sudden","694","                \/\/ power loss, etc.) or abnormal program termination.","695","                \/\/ generally we don't want to wipe out user data just because we can't load it,","696","                \/\/ but if the file size is 0, which is what's reported in HUDSON-2012, then it seems","697","                \/\/ like recovering it silently by deleting the file is not a bad idea.","698","                logger.log(Level.WARNING, \"Size zero fingerprint. Disk corruption? \"+configFile,e);","699","                file.delete();","700","                return null;","701","            }"],"delete":[]}]}},"53f21774888e4354c367120eec56c20271184bff":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/node.jelly":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Job\/buildTimeTrend.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractBuild\/index.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/node.jelly":[{"add":["29","    <st:attribute name=\"valueStr\" use=\"optional\" type=\"String\"\/>","35","    <j:when test=\"${valueStr != null and valueStr != ''}\">","36","      ${valueStr}","37","    <\/j:when>"],"delete":[]}],"changelog.html":[{"add":["57","  <li class=bug>","58","    \u201CTook\u2026on master\u201D shown for a build which ran on a slave which was since deleted.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15042\">issue 15042<\/a>)"],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Job\/buildTimeTrend.jelly":[{"add":["68","                      <t:node value=\"${r.builtOn}\" valueStr=\"${r.builtOnStr}\"\/>"],"delete":["68","                      <t:node value=\"${r.builtOn}\"\/>"]}],"core\/src\/main\/resources\/hudson\/model\/AbstractBuild\/index.jelly":[{"add":["43","          <j:if test=\"${!empty(app.slaves) or (it.builtOnStr != null and it.builtOnStr != '')}\">","44","            ${%on} <t:node value=\"${it.builtOn}\" valueStr=\"${it.builtOnStr}\"\/>"],"delete":["43","          <j:if test=\"${!empty(app.slaves)}\">","44","            ${%on} <t:node value=\"${it.builtOn}\"\/>"]}]}},"063acce1e1886b8f30ba8657b1dbe7c7804e7796":{"changes":{"core\/src\/main\/java\/hudson\/model\/View.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/View.java":[{"add":["101","import org.kohsuke.accmod.Restricted;","102","import org.kohsuke.accmod.restrictions.NoExternalUse;","852","            return new Api(new People());","853","        }","854","","855","        \/** JENKINS-16397 workaround *\/","856","        @Restricted(NoExternalUse.class)","857","        @ExportedBean","858","        public final class People {","859","","860","            private View.People people;","861","","862","            @Exported public synchronized List<UserInfo> getUsers() {","863","                if (people == null) {","864","                    people = parent instanceof Jenkins ? new View.People((Jenkins) parent) : new View.People((View) parent);","865","                }","866","                return people.users;","867","            }"],"delete":["30","import hudson.Extension;","851","            return new Api(parent instanceof Jenkins ? new People((Jenkins) parent) : new People((View) parent));"]}],"changelog.html":[{"add":["61","    Improving responsiveness of <b>People<\/b> page.","63","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16397\">issue 16397<\/a>)"],"delete":["61","    Improving responsiveness of <b>People<\/b> page when using Gravatar plugin."]}]}},"059e6081d0be21a3a92d705c43c9e1f658347797":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/resources\/lib\/form\/textarea\/textarea.js":"MODIFY"},"diff":{"changelog.html":[{"add":["66","    Fixed a regression in the config form with some plugins","67","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-18585\">issue 18585<\/a>)","68","  <li class=bug>"],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/textarea\/textarea.js":[{"add":["17","    Element.on(e.up('form'),\"jenkins:apply\", function() {"],"delete":["17","        YAHOO.util.Event.on(e.up('form'), \"jenkins:apply\", function() {"]}]}},"7ceff586fd70689963b1e31469bfea35a567263d":{"changes":{"war\/src\/main\/js\/api\/plugins.js":"MODIFY"},"diff":{"war\/src\/main\/js\/api\/plugins.js":[{"add":[],"delete":["12","    \"build-monitor-plugin\",","41","            { \"name\": \"build-monitor-plugin\" },"]}]}},"4ec421c2e9a3cfec4d329883eff9666a0fe1b42d":{"changes":{"core\/src\/main\/java\/hudson\/EnvVars.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/EnvVars.java":[{"add":["67","    ","68","    \/**","69","     * Environmental variables that we've inherited.","70","     *\/","71","    public static final Map<String,String> masterEnvVars = new EnvVars(System.getenv());"],"delete":["64","     * Environmental variables that we've inherited.","65","     *\/","66","    public static final Map<String,String> masterEnvVars = new EnvVars(System.getenv());","67","","68","    \/**"]}]}},"22e64ab7c26313e9336f168020fbd90bd9caabbd":{"changes":{"core\/src\/main\/java\/hudson\/model\/Cause.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Cause.java":[{"add":["329","        \treturn User.get(authenticationName).getDisplayName();","370","            return userId == null ? \"anonymous\" : User.get(userId).getDisplayName();"],"delete":["329","        \tUser u = User.get(authenticationName, false);","330","            return u != null ? u.getDisplayName() : authenticationName;","371","            String userName = \"anonymous\";","372","            if (userId != null) {","373","                User user = User.get(userId, false);","374","                if (user != null)","375","                    userName = user.getDisplayName();","376","            }","377","            return userName;"]}]}},"d6558933cce554e29719ac632926c40e7f557e1d":{"changes":{"test\/src\/test\/java\/hudson\/util\/AlternativeUiTextProviderTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/ParameterizedJobMixIn.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/util\/AlternativeUiTextProviderTest.java":[{"add":["27","import hudson.model.ParametersDefinitionProperty;","28","import hudson.model.StringParameterDefinition;","34","import org.jvnet.hudson.test.Issue;","63","        Impl.oldschool = false;","66","","70","","71","    \/**","72","     * Makes sure that {@link AlternativeUiTextProvider} actually works with a parameterized Job.","73","     *\/","74","    @Test","75","    @Issue(\"JENKINS-41757\")","76","    public void basicsWithParameter() throws Exception {","77","        Impl.oldschool = false;","78","        FreeStyleProject p = j.createFreeStyleProject(\"aaa\");","79","        p.addProperty(new ParametersDefinitionProperty(new StringParameterDefinition(\"FOO\", null)));","80","        String pageText = j.createWebClient().getPage(p).asText();","81","        assertThat(pageText, containsString(\"newschool:aaa\"));","82","","83","        Impl.oldschool = true;","84","        pageText = j.createWebClient().getPage(p).asText();","85","        assertThat(pageText, containsString(\"oldschool:aaa\"));","86","    }"],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/ParameterizedJobMixIn.java":[{"add":["280","        return isParameterized() ? AlternativeUiTextProvider.get(BUILD_NOW_TEXT, asJob(), Messages.ParameterizedJobMixIn_build_with_parameters())","281","                : AlternativeUiTextProvider.get(BUILD_NOW_TEXT, asJob(), Messages.ParameterizedJobMixIn_build_now());"],"delete":["280","        return isParameterized() ? Messages.ParameterizedJobMixIn_build_with_parameters() : AlternativeUiTextProvider.get(BUILD_NOW_TEXT, asJob(), Messages.ParameterizedJobMixIn_build_now());"]}]}},"4effdb0da5e89f96b791a66b68685658ea5d805a":{"changes":{"core\/src\/main\/java\/jenkins\/diagnostics\/ooom\/BuildPtr.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/diagnostics\/ooom\/BuildPtr.java":[{"add":["91","        listener.getLogger().println(\"Renaming \"+buildDir);"],"delete":["91","        listener.getLogger().println(\"Renaming \"+dir);"]}]}},"9d29d65033ee71af4109dd15bcb0d02f3a0694e0":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/Shell.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/Shell.java":[{"add":["36","import org.apache.commons.lang.SystemUtils;","155","            if (shell == null) {","156","                return SystemUtils.IS_OS_WINDOWS ? \"sh\" : \"\/bin\/sh\";","157","            }","232","                return SystemUtils.IS_OS_WINDOWS ? \"sh\" : \"\/bin\/sh\";"],"delete":["26","import hudson.Functions;","155","            if(shell==null)","156","                return Functions.isWindows() ?\"sh\":\"\/bin\/sh\";","231","                return Functions.isWindows() ? \"sh\" : \"\/bin\/sh\";"]}]}},"5c3aae5a2a929dd726298afc46c534e09ee755af":{"changes":{"war\/resources\/scripts\/hudson-behavior.js":"MODIFY","core\/src\/main\/resources\/lib\/form\/radioBlock.jelly":"MODIFY"},"diff":{"war\/resources\/scripts\/hudson-behavior.js":[{"add":["500","var radioBlockSupport = {","501","    buttons : null,","502","","503","    updateButtons : function() {","504","        for( var i=0; i<this.buttons.length; i++ )","505","            this.buttons[i]();","506","    },","507","","508","    \/\/ update one block based on the status of the given radio button","509","    updateSingleButton : function(radio,blockStart,blockEnd) {","510","        var tbl = blockStart.parentNode;","511","        var i = false;","512","        var o = false;","513","        var show = radio.checked;","514","","515","        for( j=0; tbl.rows[j]; j++ ) {","516","          var n = tbl.rows[j];","517","","518","          if(n==blockEnd)","519","            o = true;","520","","521","          if( i && !o ) {","522","            if( show )","523","              n.style.display = \"\";","524","            else","525","              n.style.display = \"none\";","526","          }","527","","528","          if(n==blockStart)","529","            i = true;","530","        }","531","    }","532","};","533","","534","function addRadioBlock(id) {","535","    var r = document.getElementById('Rb' + id);","536","    var f = r.form;","537","    var radios = f.radios;","538","    if (radios == null)","539","        f.radios = radios = {};","540","","541","    var g = radios[r.name];","542","    if (g == null) {","543","        radios[r.name] = g = object(radioBlockSupport);","544","        g.buttons = [];","545","    }","546","","547","    var u = function() {","548","        g.updateSingleButton(r,","549","            document.getElementById(\"rb_s\"+id),","550","            document.getElementById(\"rb_e\"+id));","551","    };","552","","553","    g.buttons.push(u);","554","","555","    \/\/ apply the initial visibility","556","    u();","557","","558","    \/\/ install event handlers to update visibility.","559","    \/\/ needs to use onclick and onchange for Safari compatibility","560","    r.onclick = r.onchange = function() { g.updateButtons(); };","561","}","562",""],"delete":[]}],"core\/src\/main\/resources\/lib\/form\/radioBlock.jelly":[{"add":["17","    <\/td>","22","    <script>addRadioBlock(\"${rb_id}\");<\/script>"],"delete":["13","\t    <script>","14","\t        <!-- this is way too clumsy. there must be a better way to do it. -->","15","\t        <![CDATA[","16","\t        function showRb${rb_id}(show) {","17","\t          var tbl = document.getElementById('rb_s${rb_id}').parentNode;","18","\t          var i = false;","19","\t          var o = false;","20","","21","\t          for( j=0; tbl.rows[j]; j++ ) {","22","\t            n = tbl.rows[j];","23","","24","\t            if(n.id==\"rb_e${rb_id}\")","25","\t              o = true;","26","","27","\t            if( i && !o ) {","28","\t              if( show )","29","\t                n.style.display = \"\";","30","\t              else","31","\t                n.style.display = \"none\";","32","\t            }","33","","34","\t            if(n.id==\"rb_s${rb_id}\")","35","\t              i = true;","36","\t          }","37","\t        }","38","","39","\t        function updateRb${rb_id}() {","40","\t          \/\/ update other radios","41","\t          var x = document.getElementById('Rb${rb_id}');","42","\t          col = x.form.${name};","43","\t          for(c=0;c<col.length;c++) {","44","\t            var item = col.item(c);","45","\t            eval(\"show\"+item.id+\"(\"+(item==x)+\")\");","46","\t          }","47","\t        }","48","\t    ]]><\/script>","50","             onclick=\"javascript:updateRb${rb_id}()\" onchange=\"javascript:updateRb${rb_id}()\"","54","\t  <\/td>","59","\t  <j:if test=\"${!checked}\">","60","\t    <script>","61","\t      showRb${rb_id}(false);","62","\t    <\/script>","63","\t  <\/j:if>"]}]}},"96e795c1e80893c4f261017b29d4192a1ae0bbdb":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Job\/configure.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Job\/configure.jelly":[{"add":["33","      <j:when test=\"${it.hasPermission(it.CONFIGURE)}\">"],"delete":["33","      <j:when test=\"${app.hasPermission(it.CONFIGURE)}\">"]}]}},"a57b52ec7e16d9b9985d6303e918aa6fdfa0a141":{"changes":{"core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Executor.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["614","                    if (LOGGER.isLoggable(Level.FINE)) {","615","                        LOGGER.log(Level.FINE, \"after folding {0}, {1} includes {2}\", new Object[] {a, item, item.getAllActions()});","616","                    }","1054","            \/\/ Do not include pendings\u2014we have already finalized WorkUnitContext.actions.","1055","            if (LOGGER.isLoggable(Level.FINE)) {","1056","                List<BuildableItem> thePendings = pendings.getAll(t);","1057","                if (!thePendings.isEmpty()) {","1058","                    LOGGER.log(Level.FINE, \"ignoring {0} during scheduleInternal\", thePendings);","1059","                }","1060","            }","1425","                    makeBuildable(p); \/\/ TODO whatever this is for, the return value is being ignored, so this does nothing at all"],"delete":["1051","            result.addAll(pendings.getAll(t));","1416","                    makeBuildable(p);"]}],"core\/src\/main\/java\/hudson\/model\/Executor.java":[{"add":["391","                    if (LOGGER.isLoggable(Level.FINER)) {","392","                        LOGGER.log(FINER, \"when running {0} from {1} we are copying {2} actions whereas the item currently has {3}\", new Object[] {executable, workUnit.context.item, workUnit.context.actions, workUnit.context.item.getAllActions()});","393","                    }"],"delete":[]}]}},"c8b2f52895dad7fbc0e5aeaadbaa7f3ff2d4bdee":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractCIBase.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractCIBase.java":[{"add":["229","        for (ComputerListener cl : ComputerListener.all()) {","230","            try {","231","                cl.onConfigurationChange();","232","            } catch (Throwable t) {","233","                LOGGER.log(Level.WARNING, null, t);","234","            }","235","        }"],"delete":["229","        for (ComputerListener cl : ComputerListener.all())","230","            cl.onConfigurationChange();"]}]}},"55aa46e66d2ab5c0cbea496ff98952957fb34191":{"changes":{"core\/src\/main\/java\/hudson\/util\/LogTaskListener.java":"MODIFY","test\/src\/test\/java\/hudson\/util\/LogTaskListenerTest.java":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/util\/LogTaskListener.java":[{"add":["26","import hudson.console.PlainTextConsoleOutputStream;","49","        delegate = new StreamTaskListener(new PlainTextConsoleOutputStream(new LogOutputStream(logger, level, new Throwable().getStackTrace()[1])));","62","    \/\/ TODO a bit simpler to use LineTransformationOutputStream"],"delete":["26","import hudson.console.ConsoleNote;","49","        delegate = new StreamTaskListener(new LogOutputStream(logger, level, new Throwable().getStackTrace()[1]));","58","    @SuppressWarnings(\"rawtypes\")","59","    public void annotate(ConsoleNote ann) {","60","        \/\/ no annotation support","61","    }","62","","63","    @Override"]}],"test\/src\/test\/java\/hudson\/util\/LogTaskListenerTest.java":[{"add":[],"delete":[]}]}},"f855c5ee220969b09b686e8c80086d90fc7ea953":{"changes":{"core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["275","                    for (int j = 0; j < 3; j++) tokens.remove(i);"],"delete":["275","                    for (int j = 0; j < 2; j++) tokens.remove(i);"]}]}},"27871ce1df3cebdcffd3e2992c21c92a8696df75":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["74","  <li class=bug>","75","    Marking modules as 'not build' in maven incremental builds didn't work anymore in maven 3 jobs","76","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-9072\">issue 9072<\/a>)","77","  <li class=bug>","78","    In incremental maven builds, modules could be left unbuilt, although they had SCM changes","79","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-5764\">issue 5764<\/a>)"],"delete":[]}]}},"bc2a66582f5b657259c169fd02fa3e99d499712f":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Computer\/markOffline.jelly":"MODIFY"},"diff":{"changelog.html":[{"add":["62","  <li class=bug>","63","    Disable auto refresh in slave markOffline screen","64","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-10608\">issue 10608<\/a>)"],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Computer\/markOffline.jelly":[{"add":["26","  <l:layout title=\"${%title(it.displayName)}\" norefresh=\"true\">","43","<\/j:jelly>"],"delete":["26","  <l:layout title=\"${%title(it.displayName)}\">","43","<\/j:jelly>"]}]}},"efbb3fcc84055c854cd12dbe683304a03e88d14c":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/setIconSize.jelly":"ADD","core\/src\/main\/resources\/lib\/hudson\/projectView.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/User\/builds.jelly":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/rssBar-with-iconSize.jelly":"ADD"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/setIconSize.jelly":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/projectView.jelly":[{"add":["5","  <t:setIconSize\/>","97","      <t:rssBar-with-iconSize\/>"],"delete":["5","  <j:set var=\"iconSize\" value=\"${h.getCookie(request,'iconSize','32x32')}\" \/>","6","  <!--","7","    balls look smaller than their actual size,","8","    so we try not to make the secondary icons look bigger than the icon.","9","    we want the user's eyes to go to balls, not the clock.","10","  -->","11","  <j:set var=\"subIconSize\" value=\"${h.ifThenElse(iconSize=='32x32','24x24',iconSize)}\"\/>","12","","104","      <table style=\"width:100%\">","105","        <tr>","106","          <d:taglib uri=\"local\">","107","            <d:tag name=\"iconSizeLink\">","108","              <st:nbsp\/>","109","              <j:choose>","110","                <j:when test=\"${sz==iconSize}\">","111","                  ${title}","112","                <\/j:when>","113","                <j:otherwise>","114","                  <a href=\"${rootURL}\/iconSize?${sz}\">${title}<\/a>","115","                <\/j:otherwise>","116","              <\/j:choose>","117","            <\/d:tag>","118","          <\/d:taglib>","119","","120","          <td xmlns:local=\"local\">Icon:","121","            <local:iconSizeLink title=\"S\" sz=\"16x16\" \/>","122","            <local:iconSizeLink title=\"M\" sz=\"24x24\" \/>","123","            <local:iconSizeLink title=\"L\" sz=\"32x32\" \/>","124","          <\/td><td>","125","            <t:rssBar \/>","126","          <\/td>","127","        <\/tr>","128","      <\/table>"]}],"core\/src\/main\/resources\/hudson\/model\/User\/builds.jelly":[{"add":["9","      <t:setIconSize\/>","10","","23","                <img src=\"${rootURL}\/images\/${iconSize}\/${b.buildStatusUrl}\" \/>","39","                <img src=\"${rootURL}\/images\/${subIconSize}\/terminal.gif\" title=\"Console output\" border=\"0\" \/>","45","      <t:rssBar-with-iconSize\/>"],"delete":["21","                <img width=\"32\" height=\"32\" src=\"${rootURL}\/images\/32x32\/${b.buildStatusUrl}\" \/>","37","                <img src=\"${rootURL}\/images\/24x24\/terminal.gif\" title=\"Console output\" border=\"0\" \/>","43","      <t:rssBar \/>"]}],"core\/src\/main\/resources\/lib\/hudson\/rssBar-with-iconSize.jelly":[{"add":[],"delete":[]}]}},"10ea9941ae2449b5f4c38a30fa5459bc1b62afbb":{"changes":{"test\/src\/test\/java\/hudson\/model\/RunParameterDefinitionTest.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/RunParameterDefinitionTest.java":[{"add":["238","    @Test","239","    public void testLoadEnvironmentVariablesWhenRunParameterJobHasBeenDeleted() throws Exception {","240","","241","        FreeStyleProject project = j.createFreeStyleProject(\"project\");","242","        FreeStyleBuild successfulBuild = project.scheduleBuild2(0).get();","243","","244","        FreeStyleProject paramProject = j.createFreeStyleProject(\"paramProject\");","245","        ParametersDefinitionProperty pdp =","246","                new ParametersDefinitionProperty(new RunParameterDefinition(\"RUN\",","247","                                                                             project.getName(),","248","                                                                             \"run description\",","249","                                                                             RunParameterFilter.ALL));","250","        paramProject.addProperty(pdp);","251","","252","        FreeStyleBuild build = paramProject.scheduleBuild2(0).get();","253","        assertEquals(Integer.toString(project.getLastBuild().getNumber()),","254","                     build.getEnvironment(new LogTaskListener(LOGGER, Level.INFO)).get(\"RUN_NUMBER\"));","255","","256","        successfulBuild.delete();","257","        \/\/ We should still be able to retrieve non RunParameter environment variables for the parameterized build","258","        \/\/ even when the selected RunParameter build has been deleted.","259","        assertEquals(\"paramProject\", build.getEnvironment(new LogTaskListener(LOGGER, Level.INFO)).get(\"JOB_NAME\"));","260","    }","261",""],"delete":[]}]}},"98a39f36dda9a9439a1b29063e16edf38c54ed04":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":[{"add":["196","                    \"(?<= )(-D[^\\\" ]+)= \", \"$1=\\\"\\\" \"));"],"delete":["196","                    \"( -D[^\\\" ]+)= \", \"$1=\\\"\\\" \"));"]}]}},"7facc7733c7040536d4074a2c5805b75ee1d8f35":{"changes":{"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":"MODIFY","test\/src\/test\/groovy\/hudson\/model\/AbstractProjectTest.groovy":"MODIFY","core\/src\/main\/java\/hudson\/model\/Project.java":"MODIFY","test\/src\/test\/resources\/hudson\/model\/AbstractProjectTest\/vectorTriggers.xml":"ADD","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","changelog.html":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/AbstractMavenProject.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/matrix\/MatrixProject.java":[{"add":["431","        for (Trigger<?> trigger : triggers())"],"delete":["431","        for (Trigger<?> trigger : triggers)"]}],"test\/src\/test\/groovy\/hudson\/model\/AbstractProjectTest.groovy":[{"add":["28","import com.gargoylesoftware.htmlunit.WebRequestSettings","38","import hudson.tasks.ArtifactArchiver","39","import hudson.triggers.SCMTrigger;","41","import hudson.util.OneShotEvent","45","import org.jvnet.hudson.test.HudsonTestCase","49","import org.jvnet.hudson.test.recipes.PresetData.DataSet","51","import java.lang.ref.WeakReference","52","","437","","438","    \/**","439","     * We used to store {@link AbstractProject#triggers} as {@link Vector}, so make sure","440","     * we can still read back the configuration from that.","441","     *\/","442","    public void testVectorTriggers() {","443","        AbstractProject j = jenkins.createProjectFromXML(\"foo\", getClass().getResourceAsStream(\"AbstractProjectTest\/vectorTriggers.xml\"))","444","        assert j.triggers().size()==1","445","        def t = j.triggers()[0]","446","        assert t.class==SCMTrigger.class;","447","        assert t.spec==\"*\/10 * * * *\"","448","    }"],"delete":["28","import com.gargoylesoftware.htmlunit.WebRequestSettings;","29","import com.gargoylesoftware.htmlunit.html.HtmlForm;","30","import com.gargoylesoftware.htmlunit.html.HtmlInput;","40","import hudson.tasks.ArtifactArchiver;","42","import hudson.util.OneShotEvent;","43","import java.io.IOException;","44","","48","import org.jvnet.hudson.test.HudsonTestCase;","49","import org.jvnet.hudson.test.HudsonTestCase.WebClient;","53","import org.jvnet.hudson.test.recipes.PresetData.DataSet;","54","","55","import java.io.File;","56","import java.util.Collections;","57","import java.util.HashMap;","58","import java.util.Map;","59","import java.util.ResourceBundle;","60","import java.util.Set;","61","import java.util.concurrent.Future;","63","import java.lang.ref.WeakReference;","64","import java.net.HttpURLConnection;","65","import java.net.URL;"]}],"core\/src\/main\/java\/hudson\/model\/Project.java":[{"add":["49","import java.util.concurrent.atomic.AtomicReferenceFieldUpdater;","62","    private volatile DescribableList<Builder,Descriptor<Builder>> builders;","63","    private static final AtomicReferenceFieldUpdater<Project,DescribableList> buildersSetter","64","            = AtomicReferenceFieldUpdater.newUpdater(Project.class,DescribableList.class,\"builders\");","69","    private volatile DescribableList<Publisher,Descriptor<Publisher>> publishers;","70","    private static final AtomicReferenceFieldUpdater<Project,DescribableList> publishersSetter","71","            = AtomicReferenceFieldUpdater.newUpdater(Project.class,DescribableList.class,\"publishers\");","76","    private volatile DescribableList<BuildWrapper,Descriptor<BuildWrapper>> buildWrappers;","77","    private static final AtomicReferenceFieldUpdater<Project,DescribableList> buildWrappersSetter","78","            = AtomicReferenceFieldUpdater.newUpdater(Project.class,DescribableList.class,\"buildWrappers\");","112","    public DescribableList<Builder,Descriptor<Builder>> getBuildersList() {","114","            buildersSetter.compareAndSet(this,null,new DescribableList<Builder,Descriptor<Builder>>(this));","119","    public DescribableList<Publisher,Descriptor<Publisher>> getPublishersList() {","121","            publishersSetter.compareAndSet(this,null,new DescribableList<Publisher,Descriptor<Publisher>>(this));","130","    public DescribableList<BuildWrapper, Descriptor<BuildWrapper>> getBuildWrappersList() {","132","            buildWrappersSetter.compareAndSet(this,null,new DescribableList<BuildWrapper,Descriptor<BuildWrapper>>(this));","220","        for (Trigger trigger : triggers())"],"delete":["61","    private DescribableList<Builder,Descriptor<Builder>> builders;","66","    private DescribableList<Publisher,Descriptor<Publisher>> publishers;","71","    private DescribableList<BuildWrapper,Descriptor<BuildWrapper>> buildWrappers;","105","    public synchronized DescribableList<Builder,Descriptor<Builder>> getBuildersList() {","107","            builders = new DescribableList<Builder,Descriptor<Builder>>(this);","112","    public synchronized DescribableList<Publisher,Descriptor<Publisher>> getPublishersList() {","114","            publishers = new DescribableList<Publisher,Descriptor<Publisher>>(this);","123","    public synchronized DescribableList<BuildWrapper, Descriptor<BuildWrapper>> getBuildWrappersList() {","125","            buildWrappers = new DescribableList<BuildWrapper,Descriptor<BuildWrapper>>(this);","213","        for (Trigger trigger : getTriggers().values())"]}],"test\/src\/test\/resources\/hudson\/model\/AbstractProjectTest\/vectorTriggers.xml":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["132","import java.util.concurrent.atomic.AtomicReferenceFieldUpdater;","242","    protected volatile DescribableList<Trigger<?>,TriggerDescriptor> triggers = new DescribableList<Trigger<?>,TriggerDescriptor>(this);","243","    private AtomicReferenceFieldUpdater<AbstractProject,List> triggersUpdater","244","            = AtomicReferenceFieldUpdater.newUpdater(AbstractProject.class,List.class,\"triggers\");","313","        triggers().setOwner(this);","332","    @WithBridgeMethods(List.class)","333","    protected DescribableList<Trigger<?>,TriggerDescriptor> triggers() {","335","            triggersUpdater.compareAndSet(this,null,new DescribableList<Trigger<?>,TriggerDescriptor>(this));","1654","    public Map<TriggerDescriptor,Trigger<?>> getTriggers() {","1655","        return triggers().toMap();","1982","        triggers.replaceBy(buildDescribable(req, Trigger.for_(this)));","1983","        for (Trigger t : triggers())"],"delete":["241","    protected List<Trigger<?>> triggers = new Vector<Trigger<?>>();","328","    private synchronized List<Trigger<?>> triggers() {","330","            triggers = new Vector<Trigger<?>>();","1649","    public synchronized Map<TriggerDescriptor,Trigger> getTriggers() {","1650","        return (Map)Descriptor.toMap(triggers());","1977","        triggers = buildDescribable(req, Trigger.for_(this));","1978","        for (Trigger t : triggers)"]}],"changelog.html":[{"add":["58","    Fixed a dead lock in the <tt>Project<\/tt> class and improved the signature of the persisted XML form a bit.","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-18589\">issue 18589<\/a>)","60","  <li class=bug>"],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/AbstractMavenProject.java":[{"add":["186","        for (Trigger<?> trigger : triggers())"],"delete":["186","        for (Trigger<?> trigger : triggers)"]}]}},"7967e02ce3d5e07c700d97a2abfdfb7a5d793cfc":{"changes":{"core\/src\/main\/java\/hudson\/console\/HyperlinkNote.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/console\/HyperlinkNote.java":[{"add":["109","    private static final long serialVersionUID = 3908468829358026949L;"],"delete":[]}]}},"293403f3d10e5a14ba5d1c6050fa35ebc930ca32":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["82","  <li class=bug>","83","    Restored compatibility in <code>ArtifactArchiver<\/code> signature; broken in 1.509 and could affect plugins.","84","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-17637\">issue 17637<\/a>)"],"delete":[]}]}},"a6ce5a899364624d28f571934d22931874f632b3":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["99","      <version>1.5.1<\/version>"],"delete":["99","      <version>1.4<\/version>"]}]}},"f546ffc9ea09626e2e15bd4d9564ee32da18335d":{"changes":{"core\/src\/main\/java\/hudson\/slaves\/ComputerLauncher.java":"MODIFY","core\/src\/main\/resources\/hudson\/slaves\/Messages.properties":"MODIFY","core\/src\/test\/java\/hudson\/slaves\/ComputerLauncherTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/slaves\/ComputerLauncher.java":[{"add":["189","                    if (new DeweyDecimal(versionStr).isLessThan(new DeweyDecimal(\"1.8\"))) {"],"delete":["189","                    if (new DeweyDecimal(versionStr).isLessThan(new DeweyDecimal(\"1.6\"))) {"]}],"core\/src\/main\/resources\/hudson\/slaves\/Messages.properties":[{"add":["38","ComputerLauncher.NoJavaFound=Java version {0} was found but 1.8 or later is needed."],"delete":["38","ComputerLauncher.NoJavaFound=Java version {0} was found but 1.6 or later is needed."]}],"core\/src\/test\/java\/hudson\/slaves\/ComputerLauncherTest.java":[{"add":["38","    @Test(expected=IOException.class) public void jdk7() throws IOException {","42","    @Test(expected=IOException.class) public void openJDK7() throws IOException {","46","    @Test(expected=IOException.class) public void jdk6() throws IOException {","58","    @Test public void jdk8() throws IOException {","59","        assertChecked(\"java version \\\"1.8.0_05\\\"\\nJava(TM) SE Runtime Environment (build 1.8.0_05-b05)\\nJava HotSpot(TM) Server VM (build 23.1-b03, mixed mode)\\n\", \"1.8.0\");","60","    }","61","","62","    @Test public void openJDK8() throws IOException {","63","        assertChecked(\"openjdk version \\\"1.8.0-internal\\\"\\nOpenJDK Runtime Environment (build 1.8.0-internal-pkgsrc_2015_01_03_06_54-b00)\\nOpenJDK 64-Bit Server VM (build 17.0-b04, mixed mode)\\n\", \"1.8.0\");","64","    }","65",""],"delete":["38","    @Test public void jdk7() throws IOException {","42","    @Test public void openJDK7() throws IOException {","46","    @Test public void jdk6() throws IOException {"]}]}},"33f7ed732f10dbd76bb3147ce9a7249c4cbff416":{"changes":{"core\/src\/test\/java\/hudson\/tasks\/junit\/CaseResultTest.java":"ADD","core\/src\/main\/java\/hudson\/tasks\/junit\/CaseResult.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/tasks\/junit\/CaseResultTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/junit\/CaseResult.java":[{"add":["25","import org.jvnet.localizer.Localizable;","521","        PASSED(\"result-passed\",Messages._CaseResult_Status_Passed(),true),","526","        SKIPPED(\"result-skipped\",Messages._CaseResult_Status_Skipped(),false),","530","        FAILED(\"result-failed\",Messages._CaseResult_Status_Failed(),false),","534","        FIXED(\"result-fixed\",Messages._CaseResult_Status_Fixed(),true),","538","        REGRESSION(\"result-regression\",Messages._CaseResult_Status_Regression(),false);","541","        private final Localizable message;","544","        Status(String cssClass, Localizable message, boolean OK) {","555","            return message.toString();"],"delete":["520","        PASSED(\"result-passed\",Messages.CaseResult_Status_Passed(),true),","525","        SKIPPED(\"result-skipped\",Messages.CaseResult_Status_Skipped(),false),","529","        FAILED(\"result-failed\",Messages.CaseResult_Status_Failed(),false),","533","        FIXED(\"result-fixed\",Messages.CaseResult_Status_Fixed(),true),","537","        REGRESSION(\"result-regression\",Messages.CaseResult_Status_Regression(),false);","540","        private final String message;","543","        Status(String cssClass, String message, boolean OK) {","554","            return message;"]}]}},"b117f0ee2b91b1aa372ea128c49548939faca64d":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/project\/config-concurrentBuild_de.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/project\/config-concurrentBuild_de.properties":[{"add":["22","title.concurrentbuilds=Parallele Builds ausführen, wenn notwendig"],"delete":["22","title.concurrentbuilds=Parallele Builds ausf?hren, wenn notwendig"]}]}},"e63774decd7b8a9986e89cf2c2da393ae689a35e":{"changes":{"core\/src\/main\/java\/hudson\/lifecycle\/WindowsInstallerLink.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/lifecycle\/WindowsInstallerLink.java":[{"add":["308","            try (FileInputStream fin = new FileInputStream(new File(pwd,\"redirect.log\"))) {","309","                IOUtils.copy(fin, out.getLogger());","310","            }"],"delete":["308","            FileInputStream fin = new FileInputStream(new File(pwd,\"redirect.log\"));","309","            IOUtils.copy(fin, out.getLogger());","310","            fin.close();"]}]}},"80a65ab1385ff87211da56104831297c3f67b551":{"changes":{"core\/src\/main\/resources\/jenkins\/security\/s2m\/AdminWhitelistRule\/index.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/security\/s2m\/AdminWhitelistRule\/index.jelly":[{"add":["55","      <textarea id=\"whitelist\" name=\"whitelist\" style=\"width:100%; height:5em\">${it.whitelisted.exists() ? it.whitelisted.read() : \"\"}<\/textarea>","90","      <textarea id=\"filePathRules\" name=\"filePathRules\" style=\"width:100%; height:5em\">${it.filePathRules.exists() ? it.filePathRules.read() : \"\"}<\/textarea>"],"delete":["55","      <textarea id=\"whitelist\" name=\"whitelist\" style=\"width:100%; height:5em\">${it.whitelisted.read()}<\/textarea>","90","      <textarea id=\"filePathRules\" name=\"filePathRules\" style=\"width:100%; height:5em\">${it.filePathRules.read()}<\/textarea>"]}]}},"f091c9de34e2c8fcaf93966180226dea52f90e38":{"changes":{"core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["434","        if (u == null && !configFile.isFile() && !configFile.getParentFile().isDirectory()) {"],"delete":["434","        if (!configFile.isFile() && !configFile.getParentFile().isDirectory()) {"]}]}},"7a948d399585d201c4132597aed5723a495acf69":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["182","        <version>3.1<\/version>"],"delete":["182","        <version>3.0<\/version>"]}]}},"5f51597ad425e880ee347a8a71f39cfb38c5348d":{"changes":{"remoting\/src\/main\/java\/hudson\/remoting\/Pipe.java":"MODIFY","remoting\/src\/test\/java\/hudson\/remoting\/WithRunner.java":"ADD","remoting\/src\/main\/java\/hudson\/remoting\/SynchronousExecutorService.java":"ADD","remoting\/src\/main\/java\/hudson\/remoting\/Capability.java":"MODIFY","remoting\/src\/test\/java\/hudson\/remoting\/PipeTest.java":"MODIFY","remoting\/src\/test\/java\/hudson\/remoting\/RmiTestBase.java":"MODIFY","remoting\/src\/main\/java\/hudson\/remoting\/Channel.java":"MODIFY","remoting\/src\/main\/java\/hudson\/remoting\/PipeWindow.java":"MODIFY","remoting\/src\/main\/java\/hudson\/remoting\/ProxyOutputStream.java":"MODIFY","remoting\/src\/test\/java\/hudson\/remoting\/ChannelRunner.java":"MODIFY"},"diff":{"remoting\/src\/main\/java\/hudson\/remoting\/Pipe.java":[{"add":["177","        protected void execute(final Channel channel) {","178","            channel.pipeWriter.submit(new Runnable() {","179","                public void run() {","180","                    try {","181","                        final ProxyOutputStream ros = (ProxyOutputStream) channel.getExportedObject(oidRos);","182","                        channel.unexport(oidRos);","183","                        ros.connect(channel, oidPos);","184","                    } catch (IOException e) {","185","                        logger.log(Level.SEVERE,\"Failed to connect to pipe\",e);","186","                    }","187","                }","188","            });"],"delete":["177","        protected void execute(Channel channel) {","178","            try {","179","                ProxyOutputStream ros = (ProxyOutputStream) channel.getExportedObject(oidRos);","180","                channel.unexport(oidRos);","181","                ros.connect(channel, oidPos);","182","            } catch (IOException e) {","183","                logger.log(Level.SEVERE,\"Failed to connect to pipe\",e);","184","            }"]}],"remoting\/src\/test\/java\/hudson\/remoting\/WithRunner.java":[{"add":[],"delete":[]}],"remoting\/src\/main\/java\/hudson\/remoting\/SynchronousExecutorService.java":[{"add":[],"delete":[]}],"remoting\/src\/main\/java\/hudson\/remoting\/Capability.java":[{"add":["35","        this(MASK_MULTI_CLASSLOADER|MASK_PIPE_THROTTLING);","107","    public static final Capability NONE = new Capability(0);","108",""],"delete":["35","        this(MASK_MULTI_CLASSLOADER);"]}],"remoting\/src\/test\/java\/hudson\/remoting\/PipeTest.java":[{"add":["25","import hudson.remoting.ChannelRunner.InProcessCompatibilityMode;","28","import java.io.DataInputStream;","93","    public interface ISaturationTest {","94","        void ensureConnected() throws IOException;","95","        int readFirst() throws IOException;","96","        void readRest() throws IOException;","97","    }","98","","99","    public void testSaturation() throws Exception {","100","        if (channelRunner instanceof InProcessCompatibilityMode)","101","            return; \/\/ can't do this test without the throttling support.","102","","103","        final Pipe p = Pipe.createLocalToRemote();","104","","105","        Thread writer = new Thread() {","106","            @Override","107","            public void run() {","108","                OutputStream os = p.getOut();","109","                try {","110","                    byte[] buf = new byte[Channel.PIPE_WINDOW_SIZE*2+1];","111","                    os.write(buf);","112","                } catch (IOException e) {","113","                    e.printStackTrace();","114","                }","115","            }","116","        };","117","","118","        \/\/ 1. wait until the receiver sees the first byte. at this point the pipe should be completely clogged","119","        \/\/ 2. make sure the writer thread is still alive, blocking","120","        \/\/ 3. read the rest","121","","122","        ISaturationTest target = channel.call(new CreateSaturationTestProxy(p));","123","","124","        \/\/ make sure the pipe is connected","125","        target.ensureConnected();","126","        writer.start();","127","","128","        \/\/ make sure that some data arrived to the receiver","129","        \/\/ at this point the pipe should be fully clogged","130","        assertEquals(0,target.readFirst());","131","","132","        \/\/ the writer should be still blocked","133","        Thread.sleep(1000);","134","        assertTrue(writer.isAlive());","135","","136","        target.readRest();","137","    }","138","","139","    private static class CreateSaturationTestProxy implements Callable<ISaturationTest,IOException> {","140","        private final Pipe pipe;","141","","142","        public CreateSaturationTestProxy(Pipe pipe) {","143","            this.pipe = pipe;","144","        }","145","","146","        public ISaturationTest call() throws IOException {","147","            return Channel.current().export(ISaturationTest.class, new ISaturationTest() {","148","                private InputStream in;","149","                public void ensureConnected() throws IOException {","150","                    in = pipe.getIn();","151","                    in.available();","152","                }","153","","154","                public int readFirst() throws IOException {","155","                    return in.read();","156","                }","157","","158","                public void readRest() throws IOException {","159","                    new DataInputStream(in).readFully(new byte[Channel.PIPE_WINDOW_SIZE*2]);","160","                }","161","            });","162","        }","163","    }","164",""],"delete":[]}],"remoting\/src\/test\/java\/hudson\/remoting\/RmiTestBase.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, InfraDNA, Inc.","35","@WithRunner({","36","    ChannelRunner.InProcess.class,","37","    ChannelRunner.InProcessCompatibilityMode.class,","38","    ChannelRunner.Fork.class","39","})","43","    protected ChannelRunner channelRunner = new InProcess();","75","","76","        WithRunner wr = testClass.getAnnotation(WithRunner.class);","77","","78","        for( Class<? extends ChannelRunner> r : wr.value() ) {"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi","38","    private ChannelRunner channelRunner = new InProcess();","70","        for( Class<? extends ChannelRunner> r : ChannelRunner.LIST ) {"]}],"remoting\/src\/main\/java\/hudson\/remoting\/Channel.java":[{"add":["26","import hudson.remoting.PipeWindow.Real;","43","import java.util.WeakHashMap;","145","     * {@link PipeWindow}s keyed by their OIDs. Weak map, to simplify the GC of the instances.","146","     * Strong references are kept from {@link ProxyOutputStream}.","147","     *","148","     * I haven't thought carefully, and it might be possible for us to lose the tracking of the window size","149","     * in this way, but that will only result in a temporary spike in the effective window size,","150","     * and therefore should be OK.","151","     *\/","152","    private final WeakHashMap<Integer,PipeWindow> pipeWindows = new WeakHashMap<Integer, PipeWindow>();","153","","154","    \/**","222","    \/*package*\/ final ExecutorService pipeWriter;","223","","294","     *","322","        this(name,exec,mode,is,os,header,restricted,new Capability());","323","    }","324","","325","    \/*package*\/ Channel(String name, ExecutorService exec, Mode mode, InputStream is, OutputStream os, OutputStream header, boolean restricted, Capability capability) throws IOException {","341","        capability.writePreamble(os);","381","                                this.pipeWriter = createPipeWriter();","424","     * Creates the {@link ExecutorService} for writing to pipes.","425","     *","426","     * <p>","427","     * If the throttling is supported, use a separate thread to free up the main channel","428","     * reader thread (thus prevent blockage.) Otherwise let the channel reader thread do it,","429","     * which is the historical behaviour.","430","     *\/","431","    private ExecutorService createPipeWriter() {","432","        if (remoteCapability.supportsPipeThrottling())","433","            return Executors.newSingleThreadExecutor();","434","        return new SynchronousExecutorService();","435","    }","436","","437","    \/**","581","    \/*package*\/ PipeWindow getPipeWindow(int oid) {","582","        if (!remoteCapability.supportsPipeThrottling())","583","            return PipeWindow.FAKE;","584","","585","        synchronized (pipeWindows) {","586","            PipeWindow v = pipeWindows.get(oid);","587","            if (v==null)","588","                pipeWindows.put(oid,v = new Real(PIPE_WINDOW_SIZE));","589","            return v;","590","        }","591","    }","592","","593","","942","                pipeWriter.shutdown();","975","    public static final int PIPE_WINDOW_SIZE = Integer.getInteger(Channel.class+\".pipeWindowSize\",128*1024);","976",""],"delete":["280","     * ","323","        new Capability().writePreamble(os);"]}],"remoting\/src\/main\/java\/hudson\/remoting\/PipeWindow.java":[{"add":["0","\/*","1"," * The MIT License","2"," *","3"," * Copyright (c) 2010, InfraDNA, Inc.","4"," *","5"," * Permission is hereby granted, free of charge, to any person obtaining a copy","6"," * of this software and associated documentation files (the \"Software\"), to deal","7"," * in the Software without restriction, including without limitation the rights","8"," * to use, copy, modify, merge, publish, distribute, sublicense, and\/or sell","9"," * copies of the Software, and to permit persons to whom the Software is","10"," * furnished to do so, subject to the following conditions:","11"," *","12"," * The above copyright notice and this permission notice shall be included in","13"," * all copies or substantial portions of the Software.","14"," *","15"," * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR","16"," * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,","17"," * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE","18"," * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER","19"," * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,","20"," * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN","21"," * THE SOFTWARE.","22"," *\/","25","import java.io.OutputStream;","26","","28"," * Keeps track of the number of bytes that the sender can send without overwhelming the receiver of the pipe.","29"," *","30"," * <p>","31"," * {@link OutputStream} is a blocking operation in Java, so when we send byte[] to the remote to write to","32"," * {@link OutputStream}, it needs to be done in a separate thread (or else we'll fail to attend to the channel","33"," * in timely fashion.) This in turn means the byte[] being sent needs to go to a queue between a","34"," * channel reader thread and I\/O processing thread, and thus in turn means we need some kind of throttling","35"," * mechanism, or else the queue can grow too much.","36"," *","37"," * <p>","38"," * This implementation solves the problem by using TCP\/IP like window size tracking. The sender allocates","39"," * a fixed length window size. Every time the sender sends something we reduce this value. When the receiver","40"," * writes data to {@link OutputStream}, it'll send back the \"ack\" command, which adds to this value, allowing","41"," * the sender to send more data.","42"," *","60","    static final PipeWindow FAKE = new PipeWindow() {","80","        Real(int initialSize) {","81","            this.available = initialSize;","82","        }","83",""],"delete":["20","    PipeWindow FAKE = new PipeWindow() {"]}],"remoting\/src\/main\/java\/hudson\/remoting\/ProxyOutputStream.java":[{"add":["29","import java.util.logging.Level;","30","import java.util.logging.Logger;","89","            _write(b);","102","        _write(b, off, len);","103","    }","104","","105","    private void _write(byte[] b, int off, int len) throws IOException {","107","            _write(b);","111","            _write(buf);","118","        _write(b);","119","    }","120","","121","    \/**","122","     * {@link #write(byte[])} without the close check.","123","     *\/","124","    private void _write(byte[] b) throws IOException {","142","                _write(b,0,sendable);","143","                _write(b,sendable,b.length-sendable);","193","        protected void execute(final Channel channel) {","194","            final OutputStream os = (OutputStream) channel.getExportedObject(oid);","195","            channel.pipeWriter.submit(new Runnable() {","196","                public void run() {","197","                    try {","198","                        os.write(buf);","199","                    } catch (IOException e) {","200","                        \/\/ ignore errors","201","                        LOGGER.log(Level.WARNING, \"Failed to write to stream\",e);","202","                    } finally {","203","                        if (channel.remoteCapability.supportsPipeThrottling()) {","204","                            try {","205","                                channel.send(new Ack(oid,buf.length));","206","                            } catch (IOException e) {","207","                                \/\/ ignore errors","208","                                LOGGER.log(Level.WARNING, \"Failed to ack the stream\",e);","209","                            }","210","                        }","211","                    }","212","                }","213","            });","235","            final OutputStream os = (OutputStream) channel.getExportedObject(oid);","236","            channel.pipeWriter.submit(new Runnable() {","237","                public void run() {","238","                    try {","239","                        os.flush();","240","                    } catch (IOException e) {","241","                        \/\/ ignore errors","242","                    }","243","                }","244","            });","267","        protected void execute(final Channel channel) {","268","            channel.pipeWriter.submit(new Runnable() {","269","                public void run() {","270","                    channel.unexport(oid);","271","                }","272","            });","293","        protected void execute(final Channel channel) {","294","            final OutputStream os = (OutputStream) channel.getExportedObject(oid);","295","            channel.pipeWriter.submit(new Runnable() {","296","                public void run() {","297","                    channel.unexport(oid);","298","                    try {","299","                        os.close();","300","                    } catch (IOException e) {","301","                        \/\/ ignore errors","302","                    }","303","                }","304","            });","313","","314","    \/**","315","     * {@link Command} to notify the sender that it can send some more data.","316","     *\/","317","    private static class Ack extends Command {","318","        \/**","319","         * The oid of the {@link OutputStream} on the receiver side of the data.","320","         *\/","321","        private final int oid;","322","        \/**","323","         * The number of bytes that were freed up.","324","         *\/","325","        private final int size;","326","","327","        private Ack(int oid, int size) {","328","            this.oid = oid;","329","            this.size = size;","330","        }","331","","332","        protected void execute(Channel channel) {","333","            channel.getPipeWindow(oid).increase(size);","334","        }","335","","336","        public String toString() {","337","            return \"Pipe.Ack(\"+oid+','+size+\")\";","338","        }","339","","340","        private static final long serialVersionUID = 1L;","341","    }","342","","343","    private static final Logger LOGGER = Logger.getLogger(ProxyOutputStream.class.getName());"],"delete":["87","            write(b);","101","            write(b);","105","            write(buf);","129","                write(b,0,sendable);","130","                write(b,sendable,b.length-sendable);","180","        protected void execute(Channel channel) {","181","            OutputStream os = (OutputStream) channel.getExportedObject(oid);","182","            try {","183","                os.write(buf);","184","            } catch (IOException e) {","185","                \/\/ ignore errors","186","            }","208","            OutputStream os = (OutputStream) channel.getExportedObject(oid);","209","            try {","210","                os.flush();","211","            } catch (IOException e) {","212","                \/\/ ignore errors","213","            }","236","        protected void execute(Channel channel) {","237","            channel.unexport(oid);","258","        protected void execute(Channel channel) {","259","            OutputStream os = (OutputStream) channel.getExportedObject(oid);","260","            channel.unexport(oid);","261","            try {","262","                os.close();","263","            } catch (IOException e) {","264","                \/\/ ignore errors","265","            }"]}],"remoting\/src\/test\/java\/hudson\/remoting\/ChannelRunner.java":[{"add":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, InfraDNA, Inc.","25","import hudson.remoting.Channel.Mode;","63","            final FastPipedInputStream in1 = new FastPipedInputStream();","64","            final FastPipedOutputStream out1 = new FastPipedOutputStream(in1);","66","            final FastPipedInputStream in2 = new FastPipedInputStream();","67","            final FastPipedOutputStream out2 = new FastPipedOutputStream(in2);","74","                        Channel s = new Channel(\"south\", executor, Mode.BINARY, in2, out1, null, false, createCapability());","88","            return new Channel(\"north\", executor, Mode.BINARY, in1, out2, null, false, createCapability());","105","","106","        protected Capability createCapability() {","107","            return new Capability();","108","        }","109","    }","110","","111","    static class InProcessCompatibilityMode extends InProcess {","112","        public String getName() {","113","            return \"local-compatibility\";","114","        }","115","","116","        @Override","117","        protected Capability createCapability() {","118","            return Capability.NONE;","119","        }"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi","51","    Class<? extends ChannelRunner>[] LIST = new Class[] {","52","        InProcess.class,","53","        Fork.class","54","    };","55","","56","","68","            final PipedInputStream in1 = new PipedInputStream();","69","            final PipedOutputStream out1 = new PipedOutputStream(in1);","71","            final PipedInputStream in2 = new PipedInputStream();","72","            final PipedOutputStream out2 = new PipedOutputStream(in2);","79","                        Channel s = new Channel(\"south\", executor, in2, out1);","93","            return new Channel(\"north\", executor, in1, out2);"]}]}},"bdbac284723940e5b2dfd37dd194524305de29c2":{"changes":{"core\/src\/main\/java\/hudson\/model\/ListView.java":"MODIFY","changelog.html":"MODIFY","test\/src\/test\/java\/hudson\/model\/ListViewTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ListView.java":[{"add":["188","        for (TopLevelItem item : items) {","190","                ItemGroup<? extends Item> ig = (ItemGroup<? extends Item>) item;","191","                expand(Util.filter(ig.getItems(), TopLevelItem.class), allItems);","193","            allItems.add(item);"],"delete":["188","        for (Item item : items) {","190","                ItemGroup<TopLevelItem> ig = (ItemGroup<TopLevelItem>) item;","191","                expand(ig.getItems(), allItems);","193","            if (item instanceof TopLevelItem) {","194","                allItems.add((TopLevelItem) item);","195","            }"]}],"changelog.html":[{"add":["71","  <li class=bug>","72","      <code>ClassCastException<\/code>s sometimes shown from views set to be recursive.","73","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-20415\">issue 20415<\/a>)"],"delete":[]}],"test\/src\/test\/java\/hudson\/model\/ListViewTest.java":[{"add":["42","import hudson.matrix.AxisList;","43","import hudson.matrix.MatrixProject;","44","import hudson.matrix.TextAxis;","45","import java.util.Collections;","101","    @Bug(20415)","102","    @Test public void nonTopLevelItemGroup() throws Exception {","103","        MatrixProject mp = j.createMatrixProject();","104","        mp.setAxes(new AxisList(new TextAxis(\"axis\", \"one\", \"two\")));","105","        assertEquals(2, mp.getItems().size());","106","        ListView v = new ListView(\"v\");","107","        j.jenkins.addView(v);","108","        v.setIncludeRegex(\".*\");","109","        v.setRecurse(true);","110","        \/\/ Note: did not manage to reproduce CCE until I changed expand to use \u2018for (TopLevelItem item : items)\u2019 rather than \u2018for (Item item : items)\u2019; perhaps a compiler-specific issue?","111","        assertEquals(Collections.singletonList(mp), v.getItems());","112","    }","113",""],"delete":[]}]}},"e135651539ccf7d0b7da08d42ccc0f9324362306":{"changes":{"core\/src\/main\/resources\/lib\/hudson\/failed-test.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/hudson\/failed-test.jelly":[{"add":["93","  <a href=\"${url}\" class=\"model-link inside\"><st:out value=\"${result.displayName}\"\/><\/a>"],"delete":["93","  <a href=\"${url}\" class=\"model-link inside\"><st:out value=\"${result.fullDisplayName}\"\/><\/a>"]}]}},"69aec235a2ea620caf06583d395869f8c6818c1a":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["43","    <groovy.version>2.4.12<\/groovy.version>"],"delete":["43","    <groovy.version>2.4.11<\/groovy.version>"]}]}},"eac8ea4a7673ddafabcff61d9ca6c6ab70554883":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["122","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15493\">issue 15493<\/a>)"],"delete":[]}]}},"3e2e01717976a1f1221874bfd576429c5c48b8a6":{"changes":{"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":[{"add":["27","import static org.hamcrest.Matchers.greaterThan;","29","import static org.hamcrest.Matchers.hasItem;","30","import static org.hamcrest.Matchers.not;","80","import java.util.Arrays;","81","import java.util.Collections;","82","import java.util.HashSet;","83","import java.util.Iterator;","84","import java.util.Set;","85","import org.junit.Assume;","482","    ","483","    @Test","484","    @Issue(\"JENKINS-39465\")","485","    public void agentProtocols_singleEnable_roundtrip() throws Exception {","486","        final Set<String> defaultProtocols = Collections.unmodifiableSet(j.jenkins.getAgentProtocols());","487","        Assume.assumeThat(\"We assume that JNLP3-connect is disabled\", ","488","                defaultProtocols, not(hasItem(\"JNLP3-connect\")));","489","        ","490","        final Set<String> newProtocols = new HashSet<>(defaultProtocols);","491","        newProtocols.add(\"JNLP3-connect\");","492","        j.jenkins.setAgentProtocols(newProtocols);","493","        j.jenkins.save();","494","        final Set<String> agentProtocolsBeforeReload = j.jenkins.getAgentProtocols();","495","        assertThat(\"JNLP3-connect must be enabled before the roundtrip\", ","496","                j.jenkins.getAgentProtocols(), hasItem(\"JNLP3-connect\"));","497","        ","498","        j.jenkins.reload();","499","        ","500","        final Set<String> reloadedProtocols = j.jenkins.getAgentProtocols();","501","        assertFalse(\"The protocol list must have been really reloaded\", agentProtocolsBeforeReload == reloadedProtocols);","502","        assertThat(\"We should have additional enabled protocol\", ","503","                reloadedProtocols.size(), equalTo(defaultProtocols.size() + 1));","504","        assertThat(\"JNLP3-connect must be enabled after the roundtrip\", ","505","                reloadedProtocols, hasItem(\"JNLP3-connect\"));","506","    }","507","    ","508","    @Test","509","    @Issue(\"JENKINS-39465\")","510","    public void agentProtocols_multipleDisable_roundtrip() throws Exception {","511","        final Set<String> defaultProtocols = Collections.unmodifiableSet(j.jenkins.getAgentProtocols());","512","        Assume.assumeThat(\"At least one protocol is enabled\", defaultProtocols.size(), greaterThan(0));","513","        ","514","        final String protocolToDisable = defaultProtocols.iterator().next();","515","        ","516","        final Set<String> newProtocols = new HashSet<>(defaultProtocols);","517","        newProtocols.remove(protocolToDisable);","518","        j.jenkins.setAgentProtocols(newProtocols);","519","        j.jenkins.save();","520","        assertThat(protocolToDisable + \" must be disabled before the roundtrip\", ","521","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable)));","522","        final Set<String> agentProtocolsBeforeReload = j.jenkins.getAgentProtocols();","523","        j.jenkins.reload();","524","        ","525","        assertFalse(\"The protocol list must have been really refreshed\", agentProtocolsBeforeReload == j.jenkins.getAgentProtocols());","526","        assertThat(\"We should have disabled one protocol\", ","527","                j.jenkins.getAgentProtocols().size(), equalTo(defaultProtocols.size() - 1));","528","        assertThat(protocolToDisable + \" must be disabled after the roundtrip\", ","529","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable)));","530","    }","531","    ","532","    @Test","533","    @Issue(\"JENKINS-39465\")","534","    public void agentProtocols_multipleEnable_roundtrip() throws Exception {","535","        final Set<String> defaultProtocols = Collections.unmodifiableSet(j.jenkins.getAgentProtocols());","536","        Assume.assumeThat(\"We assume that JNLP3-connect is disabled\", ","537","                defaultProtocols, not(hasItem(\"JNLP3-connect\")));","538","        Assume.assumeThat(\"We assume that JNLP4-connect is disabled\", ","539","                defaultProtocols, not(hasItem(\"JNLP4-connect\")));","540","        ","541","        final Set<String> newProtocols = new HashSet<>(defaultProtocols);","542","        newProtocols.add(\"JNLP3-connect\");","543","        newProtocols.add(\"JNLP4-connect\");","544","        j.jenkins.setAgentProtocols(newProtocols);","545","        j.jenkins.save();","546","        final Set<String> agentProtocolsBeforeReload = j.jenkins.getAgentProtocols();","547","        assertThat(\"JNLP3-connect must be enabled before the roundtrip\", ","548","                j.jenkins.getAgentProtocols(), hasItem(\"JNLP3-connect\"));","549","        assertThat(\"JNLP4-connect must be enabled before the roundtrip\", ","550","                j.jenkins.getAgentProtocols(), hasItem(\"JNLP4-connect\"));","551","        ","552","        j.jenkins.reload();","553","        ","554","        final Set<String> reloadedProtocols = j.jenkins.getAgentProtocols();","555","        assertFalse(\"The protocol list must have been really reloaded\", agentProtocolsBeforeReload == reloadedProtocols);","556","        assertThat(\"We should have two additional enabled protocols\", ","557","                reloadedProtocols.size(), equalTo(defaultProtocols.size() + 2));","558","        assertThat(\"JNLP3-connect must be enabled after the roundtrip\", ","559","                reloadedProtocols, hasItem(\"JNLP3-connect\"));","560","        assertThat(\"JNLP3-connect must be enabled after the roundtrip\", ","561","                reloadedProtocols, hasItem(\"JNLP4-connect\"));","562","    }","563","    ","564","    @Test","565","    @Issue(\"JENKINS-39465\")","566","    public void agentProtocols_singleDisable_roundtrip() throws Exception {","567","        final Set<String> defaultProtocols = Collections.unmodifiableSet(j.jenkins.getAgentProtocols());","568","        Assume.assumeThat(\"At least two protocol should be enabled\", defaultProtocols.size(), greaterThan(1));","569","        ","570","        Iterator<String> iterator = defaultProtocols.iterator();","571","        final String protocolToDisable1 = iterator.next();","572","        final String protocolToDisable2 = iterator.next();","573","        ","574","        final Set<String> newProtocols = new HashSet<>(defaultProtocols);","575","        newProtocols.remove(protocolToDisable1);","576","        newProtocols.remove(protocolToDisable2);","577","        j.jenkins.setAgentProtocols(newProtocols);","578","        j.jenkins.save();","579","        assertThat(protocolToDisable1 + \" must be disabled before the roundtrip\", ","580","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable1)));","581","        assertThat(protocolToDisable2 + \" must be disabled before the roundtrip\", ","582","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable2)));","583","        final Set<String> agentProtocolsBeforeReload = j.jenkins.getAgentProtocols();","584","        j.jenkins.reload();","585","        ","586","        assertFalse(\"The protocol list must have been really reloaded\", agentProtocolsBeforeReload == j.jenkins.getAgentProtocols());","587","        assertThat(\"We should have disabled two protocols\", ","588","                j.jenkins.getAgentProtocols().size(), equalTo(defaultProtocols.size() - 2));","589","        assertThat(protocolToDisable1 + \" must be disaabled after the roundtrip\", ","590","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable1)));","591","        assertThat(protocolToDisable2 + \" must be disaabled after the roundtrip\", ","592","                j.jenkins.getAgentProtocols(), not(hasItem(protocolToDisable2)));","593","    }"],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["619","    \/**","620","     * @deprecated Just a temporary buffer for XSTream migration code from JENKINS-39465, do not use","621","     *\/","622","    @Deprecated","623","    private transient String[] _disabledAgentProtocols;","633","    \/**","634","     * @deprecated Just a temporary buffer for XSTream migration code from JENKINS-39465, do not use","635","     *\/","636","    @Deprecated","637","    private transient String[] _enabledAgentProtocols;","1022","        if (disabledAgentProtocols == null && _disabledAgentProtocols != null) {","1023","            disabledAgentProtocols = Arrays.asList(_disabledAgentProtocols);","1024","            _disabledAgentProtocols = null;","1025","        }","1026","        if (enabledAgentProtocols == null && _enabledAgentProtocols != null) {","1027","            enabledAgentProtocols = Arrays.asList(_enabledAgentProtocols);","1028","            _enabledAgentProtocols = null;","1029","        }","1030","        \/\/ Invalidate the protocols cache after the reload","1031","        agentProtocols = null;","5049","            XSTREAM.addImplicitArray(Jenkins.class, \"_disabledAgentProtocols\", \"disabledAgentProtocol\");","5050","            XSTREAM.addImplicitArray(Jenkins.class, \"_enabledAgentProtocols\", \"enabledAgentProtocol\");"],"delete":["5029","            XSTREAM.addImplicitCollection(Jenkins.class, \"disabledAgentProtocols\", \"disabledAgentProtocol\", String.class);","5030","            XSTREAM.addImplicitCollection(Jenkins.class, \"enabledAgentProtocols\", \"enabledAgentProtocol\", String.class);"]}]}},"d6f7e4101f055e14009bc4407b508fe5457e69c0":{"changes":{"core\/src\/main\/java\/hudson\/security\/AccessDeniedException2.java":"MODIFY","test\/src\/test\/java\/hudson\/security\/AccessDeniedException2Test.java":"ADD"},"diff":{"core\/src\/main\/java\/hudson\/security\/AccessDeniedException2.java":[{"add":["14","","15","    private static final int MAX_REPORTED_AUTHORITIES = 10;","16","","43","        GrantedAuthority[] authorities = authentication.getAuthorities();","44","        for (int i = 0; i < authorities.length; i++) {","45","            if (i == MAX_REPORTED_AUTHORITIES) {","46","                rsp.addHeader(\"X-You-Are-In-Group\", \"<\" + (authorities.length - i) + \" more>\");","47","                break;","48","            } else {","49","                rsp.addHeader(\"X-You-Are-In-Group\", authorities[i].getAuthority());","50","            }"],"delete":["40","        for (GrantedAuthority auth : authentication.getAuthorities()) {","41","            rsp.addHeader(\"X-You-Are-In-Group\",auth.getAuthority());"]}],"test\/src\/test\/java\/hudson\/security\/AccessDeniedException2Test.java":[{"add":[],"delete":[]}]}},"60a23e5bcad490ed3267bc418849d44da5ec791d":{"changes":{"core\/src\/main\/java\/hudson\/model\/Descriptor.java":"MODIFY","test\/src\/test\/java\/hudson\/model\/RunParameterDefinitionTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Descriptor.java":[{"add":["580","                    if (oldInterceptor instanceof NewInstanceBindInterceptor) {","586","                    interceptor.processed.put(formData, true);","614","        private final Map<JSONObject,Boolean> processed = new IdentityHashMap<>();","630","            if (Boolean.TRUE.equals(processed.put(json, true))) {"],"delete":["580","                    if ((oldInterceptor instanceof NewInstanceBindInterceptor)) {","586","                    interceptor.processed.put(formData, null);","614","        private final Map<JSONObject,Void> processed = new IdentityHashMap<>();","630","            if (processed.containsKey(json)) {"]}],"test\/src\/test\/java\/hudson\/model\/RunParameterDefinitionTest.java":[{"add":["51","    @Issue(\"JENKINS-31954\")","52","    @Test public void configRoundtrip() throws Exception {","53","        FreeStyleProject p = j.createFreeStyleProject();","54","        p.addProperty(new ParametersDefinitionProperty(new RunParameterDefinition(\"build\", \"p\", \"\", RunParameterFilter.COMPLETED)));","55","        j.configRoundtrip(p);","56","        RunParameterDefinition rpd = (RunParameterDefinition) p.getProperty(ParametersDefinitionProperty.class).getParameterDefinition(\"build\");","57","        assertEquals(\"p\", rpd.getProjectName());","58","        assertEquals(RunParameterFilter.COMPLETED, rpd.getFilter());","59","    }","60",""],"delete":[]}]}},"c79f3f719c3f320ff6f0b17fae7d15ee2c1cbbcb":{"changes":{"core\/src\/test\/java\/jenkins\/util\/UrlHelperTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/util\/UrlHelper.java":"MODIFY"},"diff":{"core\/src\/test\/java\/jenkins\/util\/UrlHelperTest.java":[{"add":["12","    public void regularCases() {","14","        \/\/ trailing slash is optional","16","        \/\/ path is allowed","18","        \/\/ port is allowed to be precised","21","        \/\/ http or https are only valid schemes","23","        \/\/ also with their UPPERCASE equivalent","24","        assertTrue(UrlHelper.isValidRootUrl(\"HTTP:\/\/www.google.com:8080\/jenkins\"));","25","        assertTrue(UrlHelper.isValidRootUrl(\"HTTPS:\/\/www.google.com:8080\/jenkins\"));","26","","32","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/j\"));","33","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/j.io\"));","34","","37","        \/\/ scheme must be correctly spelled (missing :)","39","","40","        \/\/ scheme is mandatory","42","        \/\/ spaces are forbidden","44","","53","    }","54","    ","55","    @Test","56","    public void fragmentIsForbidden(){","57","        \/\/ this url will be used as a root url and so will be concatenated with other part, fragment part is not allowed","59","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenkins.com#fragment\"));","60","    }","61","    ","62","    @Test","63","    public void queryIsForbidden(){","64","        \/\/ this url will be used as a root url and so will be concatenated with other part, query part is not allowed","65","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenkins?param=test\"));","66","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenkins.com?param=test\"));","67","    }","68","    ","69","    @Test","70","    public void otherCharactersAreForbidden(){","71","        \/\/ other characters are not allowed","72","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenk@ins.com\"));","73","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenk(ins.com\"));","74","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenk)ins.com\"));","75","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenk[ins.com\"));","76","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenk]ins.com\"));","77","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenk%ins.com\"));","78","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenk$ins.com\"));","79","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenk!ins.com\"));","80","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenk?ins.com\"));","81","    }","82","    ","83","    @Test","84","    public void ipv4Allowed(){","85","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/172.52.125.12\"));","86","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/172.52.125.12\/jenkins\"));","87","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/172.52.125.12:8080\"));","88","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/172.52.125.12:8080\/jenkins\"));","89","    }","90","    ","91","    @Test","92","    public void ipv6Allowed() {","93","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/[FEDC:BA98:7654:3210:FEDC:BA98:7654:3210]\"));","94","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/[FEDC:0000:0000:3210:FEDC:BA98:7654:3210]\"));","95","        \/\/ 0000 can be reduced to 0","96","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/[FEDC:0:0:3210:FEDC:BA98:7654:3210]\"));","97","        \/\/ an unique sequence of multiple fragments with 0's could be omitted completely","98","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/[FEDC::3210:FEDC:BA98:7654:3210]\"));","99","        \/\/ but only one sequence","100","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/[2001::85a3::ac1f]\"));","101","        ","102","        \/\/ port and path are still allowed","103","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/[FEDC:0:0:3210:FEDC:BA98:7654:3210]:8001\/jenkins\"));","104","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/[FEDC:0:0:3210:FEDC:BA98:7654:3210]:8001\"));","105","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/[FEDC:0:0:3210:FEDC:BA98:7654:3210]\/jenkins\"));","106","        \/\/ dashes are not allowed inside ipv6","107","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/[FEDC:0:0:32-10:FEDC:BA98:7654:3210]:8001\/jenkins\"));","108","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/[FEDC:0:0:3210:-FEDC:BA98:7654:3210]:8001\/jenkins\"));","113","    public void withCustomDomain() {","120","        ","125","        ","126","        \/\/ allowed to have multiple dots in chain","127","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/jen..kins.com\"));","128","    }","130","    @Test","131","    public void multipleConsecutiveDashesAreAllowed() {","132","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/jenk--ins.internal\/\"));","133","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/www.go-----ogle.com\/\"));","134","        \/\/ even with subdomain being just a dash","135","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/www.go.-.--.--ogle.com\/\"));","136","    }","137","    ","138","    @Test","139","    @Issue(\"JENKINS-51158\")","140","    public void trailingDotsAreAccepted() {","141","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/jenkins.internal.\/\"));","142","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/jenkins.internal.......\/\"));","143","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/my-server.domain.:8080\/jenkins\"));","144","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/my-server.domain......:8080\/jenkins\"));","145","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/jenkins.com.\"));","146","        assertTrue(UrlHelper.isValidRootUrl(\"http:\/\/jenkins.com......\"));"],"delete":["12","    public void isValid() {","24","        ","28","        ","31","        ","36","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/com.\"));","41","        \/\/ this url will be used as a root url and so will be concatenated with other part, fragments are not allowed","47","    public void isAlsoValid() {","54","    ","59","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jenkins.com.\"));","61","        \/\/ forbidden to have multiple dots in chain","62","        assertFalse(UrlHelper.isValidRootUrl(\"http:\/\/jen..kins.com\"));"]}],"core\/src\/main\/java\/jenkins\/util\/UrlHelper.java":[{"add":["30","\/**","31"," * Objective is to validate an URL in a lenient way sufficiently strict to avoid too weird URL","32"," * but to still allow particular internal URL to be accepted","33"," *\/","37","     * Authorize the {@code _} and {@code -} characters in *domain*","39","     * Avoid {@code -} to be first or last, and {@code .} to be first (but can be last)","40","     * ","41","     * Lenient version of ","42","     * - https:\/\/tools.ietf.org\/html\/rfc952 GRAMMATICAL HOST TABLE SPECIFICATION","43","     * - https:\/\/www.ietf.org\/rfc\/rfc1034.txt 3.5","44","     * - https:\/\/www.ietf.org\/rfc\/rfc1738.txt 3.1, host","45","     * - https:\/\/tools.ietf.org\/html\/rfc1123 2.1","46","     * ","47","     * Deliberately allow:","48","     * - short domain name (often there are rules like minimum of 3 characters)","49","     * - long domain name (normally limit on whole domain of 255 and for each subdomain\/label of 63)","50","     * - starting by numbers (disallowed by RFC-952 and RFC-1034, but nowadays it's supported by RFC-1123)","51","     * - use of underscore (not explicitly allowed in RFC but could occur in internal network, we do not speak about path here, just domain)","52","     * - custom TLD like \"intern\" that is not standard but could be registered locally in a network","56","            \"^\" + ","57","            \"\\\\w\" + \/\/ must start with letter \/ number \/ underscore","58","                \"(-*(\\\\.|\\\\w))*\" +\/\/ dashes are allowed but not as last character","59","                \"\\\\.*\" + \/\/ can end with zero (most common), one or multiple dots ","60","                \"(:\\\\d{1,5})?\" + \/\/ and potentially the port specification","61","                \"$\"","77","            if(superResult && authority.contains(\"[\")){","78","                \/\/ to support ipv6","79","                return true;","80","            }","87","    ","88","        @Override ","89","        protected boolean isValidQuery(String query) {","90","            \/\/ does not accept query","91","            return query == null;","92","        }"],"delete":["33","     * Authorize the {@code _} and {@code -} characters in domain","35","     * Avoid {@code -} and {@code .} to be first or last","39","            \"(\\\\w(\\\\.?-?\\\\w+)*)(:\\\\d{1,5})?\"","54","            \/\/ to support ipv6"]}]}},"11953750ab422bcec28d12a436867d0888313aaa":{"changes":{"core\/src\/main\/java\/hudson\/Util.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/ExecutedMojo.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/MavenArtifact.java":"MODIFY","core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/MavenArtifactArchiver.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Util.java":[{"add":["591","     * Computes the MD5 digest of a file.","592","     * @param file a file","593","     * @return a 32-character string","594","     * @throws IOException in case reading fails","595","     * @since 1.525","596","     *\/","597","    public static String getDigestOf(File file) throws IOException {","598","        InputStream is = new FileInputStream(file);","599","        try {","600","            return getDigestOf(new BufferedInputStream(is));","601","        } finally {","602","            is.close();","603","        }","604","    }","605","","606","    \/**"],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/ExecutedMojo.java":[{"add":["102","                    digest = Util.getDigestOf(jarFile);"],"delete":["32","import java.io.FileInputStream;","103","                    digest = Util.getDigestOf(new FileInputStream(jarFile));"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/MavenArtifact.java":[{"add":["120","        this.md5sum = Util.getDigestOf(a.getFile());"],"delete":["50","import java.io.FileInputStream;","121","        this.md5sum = Util.getDigestOf(new FileInputStream(a.getFile()));"]}],"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["1683","     * @see Util#getDigestOf(File)","1689","                return Util.getDigestOf(f);"],"delete":["1688","                FileInputStream is = new FileInputStream(f);","1689","                try {","1690","                    return Util.getDigestOf(new BufferedInputStream(is));","1691","                } finally {","1692","                    is.close();","1693","                }"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/reporters\/MavenArtifactArchiver.java":[{"add":["100","                    pom.getGroupId(), pom.getArtifactId(), pom.getVersion(), null, \"pom\", pom.getFile().getName(), Util.getDigestOf(pom.getFile()));"],"delete":["35","import java.io.FileInputStream;","101","                    pom.getGroupId(), pom.getArtifactId(), pom.getVersion(), null, \"pom\", pom.getFile().getName(), Util.getDigestOf(new FileInputStream(pom.getFile())));"]}]}},"38d14deb0c44c0be7edf1c08a3892dc75dde19d3":{"changes":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["1118","        if (SLAVE_AGENT_PORT_ENFORCE) {","1119","            LOGGER.log(Level.WARNING, \"setSlaveAgentPort({0}) call ignored because system property {1} is true\", new String[] { Integer.toString(port), Jenkins.class.getName()+\".slaveAgentPortEnforce\" });","1120","        } else {"],"delete":["1118","        if (!SLAVE_AGENT_PORT_ENFORCE) {"]}]}},"3b8258fd0c653854e1708f6c492d6dd1f060ee42":{"changes":{"core\/src\/main\/java\/hudson\/security\/HudsonPrivateSecurityRealm.java":"MODIFY","core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/_entryForm.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/HudsonPrivateSecurityRealm.java":[{"add":["393","     * SignupInfo#errors} containing errors (keyed by field name), if any of the supported fields are invalid","555","         * To display a general error message, set it here.","556","         *","560","        \/**","561","         * Add field-specific error messages here.","562","         * Keys are field names (e.g. {@code password2}), values are the messages.","563","         *\/","564","        \/\/ TODO i18n?"],"delete":["393","     * SignupInfo#errors} set to a non-null value if any of the supported fields are invalid","555","         * To display an error message, set it here."]}],"core\/src\/main\/resources\/hudson\/security\/HudsonPrivateSecurityRealm\/_entryForm.jelly":[{"add":["34","    <j:forEach var=\"error\" items=\"${data.errors}\">","35","      <div class=\"error\" style=\"margin-bottom:1em\">","36","        ${error.value}","37","      <\/div>","38","    <\/j:forEach>"],"delete":[]}]}},"e9e5a3af349296b8f92e2edb32e16426afbb2227":{"changes":{"core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["473","        return state.equals(State.BUILDING) || state.equals(State.POST_PRODUCTION);"],"delete":["473","        return state.equals(State.BUILDING);"]}]}},"f63407a87e9dc1c1f79c9a7d885cdd58a55ed657":{"changes":{"core\/src\/main\/resources\/lib\/form\/select\/select.js":"MODIFY","core\/src\/main\/resources\/lib\/form\/confirm.js":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/select\/select.js":[{"add":["43","","44","        function hasChanged(selectEl, originalValue) {","45","            var firstValue = selectEl.options[0].value;","46","            var selectedValue = selectEl.value;","47","            if (originalValue == \"\" && selectedValue == firstValue) {","48","                \/\/ There was no value pre-selected but after the call to updateListBox the first value is selected by","49","                \/\/ default. This must not be considered a change.","50","                return false;","51","            } else {","52","                return originalValue != selectedValue;","53","            }","54","        };","55","","75","                    if (hasChanged(e, value)) {","76","                        fireEvent(e,\"change\");","77","                    }"],"delete":["62","                    if (e.value!=value) fireEvent(e,\"change\");"]}],"core\/src\/main\/resources\/lib\/form\/confirm.js":[{"add":[],"delete":["35","      \/\/ Timeout is needed since some events get sent on page load for some reason.","36","      \/\/ Shouldn't hurt anything for this to only start monitoring events after a few millis;.","37","      setTimeout(function() {","80","      }, 100);"]}]}},"1cc6c13f9de047a55da74729ba9f1c869ed757e7":{"changes":{"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel_fr.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel_fr.properties":[{"add":["23","People=Utilisateurs"],"delete":["23","People=Utlisateurs"]}]}},"acaf91c585e0b97d2b3dc93ec26f327d0abd9319":{"changes":{"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel_sl.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel_sl.properties":[{"add":[],"delete":["23","Check\\ File\\ Fingerprint=Otisci guza","28","Project\\ Relationship=With my ass"]}]}},"2476d1417ecfbfb9864b86d544056421e67b0679":{"changes":{"core\/src\/main\/java\/jenkins\/install\/InstallUtil.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/install\/InstallUtil.java":[{"add":["72","    @Restricted(NoExternalUse.class)"],"delete":[]}]}},"d2b1f15fc56f382f1d578c9317fca917ddabac92":{"changes":{"core\/src\/main\/java\/hudson\/model\/DownloadService.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/DownloadService.java":[{"add":["397","            boolean toolInstallerMetadataExists = false;","402","                    toolInstallerMetadataExists = true;","411","                        LOGGER.log(Level.WARNING, \"signature check failed for \" + site, e );","417","            if (jsonList.size() == 0 && toolInstallerMetadataExists) {","418","                return FormValidation.warning(\"None of the tool installer metadata passed the signature check\");","419","            } else if (!toolInstallerMetadataExists) {","420","                LOGGER.log(Level.WARNING, \"No tool installer metadata found for \" + id);","421","                return FormValidation.ok();"],"delete":["414","            if (jsonList.size() == 0) {","415","                return FormValidation.warning(\"None of the Update Sites passed the signature check\");"]}]}},"040c15a2503692c9c7321041a6ac0eef95c57746":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["121","      <version>1.35<\/version>"],"delete":["121","      <version>1.34<\/version>"]}]}},"0cc7fda64934eeb3eecef6fe903bfbed5606f370":{"changes":{"core\/src\/main\/resources\/hudson\/model\/MyViewsProperty\/newView_fr.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Hudson\/_safeRestart_fr.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Hudson\/fingerprintCheck_fr.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/User\/builds_fr.properties":"ADD","core\/src\/main\/resources\/hudson\/views\/DefaultViewsTabBar\/viewTabs_fr.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Hudson\/_restart_fr.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/User\/delete_fr.properties":"ADD","core\/src\/main\/resources\/hudson\/model\/Hudson\/configure_fr.properties":"MODIFY","core\/src\/main\/resources\/hudson\/views\/DefaultMyViewsTabBar\/myViewTabs_fr.properties":"ADD"},"diff":{"core\/src\/main\/resources\/hudson\/model\/MyViewsProperty\/newView_fr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Hudson\/_safeRestart_fr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Hudson\/fingerprintCheck_fr.properties":[{"add":["25","description=Vous avez un fichier jar mais vous ne connaissez pas sa version ?<br \/>Vous pourrez la trouver en comparant l''empreinte num\\u00E9rique avec celles dans la base de donn\\u00E9es de Jenkins "],"delete":["25","description=Vous avez un fichier jar mais vous ne connaissez pas sa version ?<br \/>Vous pourrez la trouver en comparant l''''empreinte num\\u00E9rique avec celles dans la base de donn\\u00E9es de Jenkins "]}],"core\/src\/main\/resources\/hudson\/model\/User\/builds_fr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/views\/DefaultViewsTabBar\/viewTabs_fr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Hudson\/_restart_fr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/User\/delete_fr.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Hudson\/configure_fr.properties":[{"add":["49","LOADING=CHARGEMENT"],"delete":[]}],"core\/src\/main\/resources\/hudson\/views\/DefaultMyViewsTabBar\/myViewTabs_fr.properties":[{"add":[],"delete":[]}]}},"6ae32202576a24a7272ed29a4c7c59ac4551d5a7":{"changes":{"core\/src\/main\/resources\/hudson\/atom.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/rss20.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/atom.jelly":[{"add":["25","<j:jelly xmlns:j=\"jelly:core\" xmlns:l=\"\/lib\/layout\">","26","  <l:view contentType=\"application\/atom+xml;charset=UTF-8\"><!-- No whitespace before xml header: -->&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;","27","    <!-- ATOM. See http:\/\/atompub.org\/rfc4287.html for the format -->","28","    <feed xmlns=\"http:\/\/www.w3.org\/2005\/Atom\">","29","      <title>${title}<\/title>","30","      <link rel=\"alternate\" type=\"text\/html\" href=\"${rootURL}${url}\"\/>","32","      <j:choose>","33","        <j:when test=\"${empty(entries)}\">","34","          <updated>2001-01-01T00:00:00Z<\/updated>","35","        <\/j:when>","36","        <j:otherwise>","37","          <updated>${h.xsDate(adapter.getEntryTimestamp(entries[0]))}<\/updated>","38","        <\/j:otherwise>","39","      <\/j:choose>","40","      <author>","41","        <name>Jenkins Server<\/name>","42","      <\/author>","43","      <id>urn:uuid:903deee0-7bfa-11db-9fe1-0800200c9a66<\/id>","45","      <j:forEach var=\"e\" items=\"${entries}\" >","46","        <entry>","47","          <title>${adapter.getEntryTitle(e)}<\/title>","48","          <link rel=\"alternate\" type=\"text\/html\" href=\"${rootURL}${h.encode(adapter.getEntryUrl(e))}\"\/>","49","          <id>${adapter.getEntryID(e)}<\/id>","50","          <published>${h.xsDate(adapter.getEntryTimestamp(e))}<\/published>","51","          <updated>${h.xsDate(adapter.getEntryTimestamp(e))}<\/updated>","52","          <j:set var=\"desc\" value=\"${adapter.getEntryDescription(e)}\"\/>","53","          <j:if test=\"${desc!=null}\">","54","            <content>${desc}<\/content>","55","          <\/j:if>","56","        <\/entry>","57","      <\/j:forEach>","58","    <\/feed>","59","  <\/l:view>"],"delete":["25","<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\"><st:contentType value=\"application\/atom+xml;charset=UTF-8\" \/><!-- No whitespace before xml header: -->&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;","27","  <!-- ATOM. See http:\/\/atompub.org\/rfc4287.html for the format -->","28","  <feed xmlns=\"http:\/\/www.w3.org\/2005\/Atom\">","29","    <title>${title}<\/title>","30","    <link rel=\"alternate\" type=\"text\/html\" href=\"${rootURL}${url}\"\/>","32","    <j:choose>","33","      <j:when test=\"${empty(entries)}\">","34","        <updated>2001-01-01T00:00:00Z<\/updated>","35","      <\/j:when>","36","      <j:otherwise>","37","        <updated>${h.xsDate(adapter.getEntryTimestamp(entries[0]))}<\/updated>","38","      <\/j:otherwise>","39","    <\/j:choose>","40","    <author>","41","      <name>Jenkins Server<\/name>","42","    <\/author>","43","    <id>urn:uuid:903deee0-7bfa-11db-9fe1-0800200c9a66<\/id>","44","","45","    <j:forEach var=\"e\" items=\"${entries}\" >","46","      <entry>","47","        <title>${adapter.getEntryTitle(e)}<\/title>","48","        <link rel=\"alternate\" type=\"text\/html\" href=\"${rootURL}${h.encode(adapter.getEntryUrl(e))}\"\/>","49","        <id>${adapter.getEntryID(e)}<\/id>","50","        <published>${h.xsDate(adapter.getEntryTimestamp(e))}<\/published>","51","        <updated>${h.xsDate(adapter.getEntryTimestamp(e))}<\/updated>","52","        <j:set var=\"desc\" value=\"${adapter.getEntryDescription(e)}\"\/>","53","        <j:if test=\"${desc!=null}\">","54","          <content>${desc}<\/content>","55","        <\/j:if>","56","      <\/entry>","57","    <\/j:forEach>","58","  <\/feed>"]}],"core\/src\/main\/resources\/hudson\/rss20.jelly":[{"add":["25","<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:l=\"\/lib\/layout\">","26","  <l:view contentType=\"text\/xml;charset=UTF-8\"><!-- No whitespace before xml header: -->&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;","27","    <!-- RSS 2.0 feed. See http:\/\/cyber.law.harvard.edu\/rss\/rss.html for the format -->","28","    <rss version=\"2.0\">","29","      <channel>","30","        <title>${title}<\/title>","31","        <link>${rootURL}${url}<\/link>","32","        <description>${title}<\/description>","34","        <j:forEach var=\"e\" items=\"${entries}\" >","35","          <item>","36","            <title>${adapter.getEntryTitle(e)}<\/title>","37","            <link>${rootURL}${h.encode(adapter.getEntryUrl(e))}<\/link>","38","            <guid isPermaLink=\"false\">${adapter.getEntryID(e)}<\/guid>","39","            <pubDate>${h.rfc822Date(adapter.getEntryTimestamp(e))}<\/pubDate>","40","            <author><st:out value=\"${adapter.getEntryAuthor(e)}\"\/><\/author>","41","            <j:set var=\"desc\" value=\"${adapter.getEntryDescription(e)}\"\/>","42","            <j:if test=\"${desc!=null}\">","43","              <description>${desc}<\/description>","44","            <\/j:if>","45","          <\/item>","46","        <\/j:forEach>","47","      <\/channel>","48","    <\/rss>","49","  <\/l:view>"],"delete":["25","<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\"><st:contentType value=\"text\/xml;charset=UTF-8\" \/><!-- No whitespace before xml header: -->&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;","27","  <!-- RSS 2.0 feed. See http:\/\/cyber.law.harvard.edu\/rss\/rss.html for the format -->","28","  <rss version=\"2.0\">","29","    <channel>","30","      <title>${title}<\/title>","31","      <link>${rootURL}${url}<\/link>","32","      <description>${title}<\/description>","33","","34","      <j:forEach var=\"e\" items=\"${entries}\" >","35","        <item>","36","          <title>${adapter.getEntryTitle(e)}<\/title>","37","          <link>${rootURL}${h.encode(adapter.getEntryUrl(e))}<\/link>","38","          <guid isPermaLink=\"false\">${adapter.getEntryID(e)}<\/guid>","39","          <pubDate>${h.rfc822Date(adapter.getEntryTimestamp(e))}<\/pubDate>","40","          <author><st:out value=\"${adapter.getEntryAuthor(e)}\"\/><\/author>","41","          <j:set var=\"desc\" value=\"${adapter.getEntryDescription(e)}\"\/>","42","          <j:if test=\"${desc!=null}\">","43","            <description>${desc}<\/description>","44","          <\/j:if>","45","        <\/item>","46","      <\/j:forEach>","47","    <\/channel>","48","  <\/rss>"]}]}},"85e9e126773c0bb20a8529a2e6591dde17d7e209":{"changes":{"test\/src\/test\/groovy\/hudson\/model\/AbstractProjectTest.groovy":"MODIFY"},"diff":{"test\/src\/test\/groovy\/hudson\/model\/AbstractProjectTest.groovy":[{"add":["280","    \/* TODO too slow, seems capable of causing testWorkspaceLock to time out:","289","    *\/"],"delete":[]}]}},"e56c9d7802c8e271b10d3935603d2b0211781568":{"changes":{"test\/pom.xml":"MODIFY"},"diff":{"test\/pom.xml":[{"add":["48","          <argLine>-XX:MaxPermSize=128m -Dfile.encoding=UTF-8<\/argLine>"],"delete":["48","          <argLine>-XX:MaxPermSize=128m<\/argLine>"]}]}},"6ce5b797cca2f8b3c32c10d93bcf5535fa7394b7":{"changes":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/TreeView.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/ViewGroup.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":"MODIFY","core\/src\/main\/java\/hudson\/model\/MyViewsProperty.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["1282","    public boolean canDelete(View view) {","1283","        return !view.isDefault();  \/\/ Cannot delete primary view","1284","    }","1285","","1287","        if (views.size() <= 1)","1288","            throw new IllegalStateException(\"Cannot delete last view\");"],"delete":["1283","        if(views.size()<=1)","1284","            throw new IllegalStateException();"]}],"core\/src\/main\/java\/hudson\/model\/TreeView.java":[{"add":["3"," * Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi","126","    public boolean canDelete(View view) {","127","        return true;","128","    }","129",""],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi","41","import java.text.ParseException;"]}],"core\/src\/main\/java\/hudson\/model\/ViewGroup.java":[{"add":["3"," * Copyright (c) 2004-2010, Sun Microsystems, Inc., Kohsuke Kawaguchi,","4"," * Tom Huybrechts, Alan Harder","39","     * Determine whether a view may be deleted.","40","     * @since 1.365","41","     *\/","42","    boolean canDelete(View view);","43","","44","    \/**"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi, Tom Huybrechts","33"," * <h2>STILL EXPERIMENTAL: DO NOT IMPLEMENT<\/h2>","34"," * "]}],"core\/src\/main\/resources\/hudson\/model\/Messages.properties":[{"add":["269","MyViewsProperty.DisplayName=My Views"],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":[{"add":["37","      <l:task icon=\"images\/24x24\/new-package.gif\" href=\"${rootURL}\/${it.viewUrl}newJob\" title=\"${%New Job}\" permission=\"${it.itemCreatePermission}\" it=\"${app}\" \/>","38","      <l:task icon=\"images\/24x24\/setting.gif\" href=\"${rootURL}\/manage\" title=\"${%Manage Hudson}\" permission=\"${app.ADMINISTER}\" it=\"${app}\" \/>","52","      <j:if test=\"${it.owner.canDelete(it)!=false}\"><!-- !=false for backward compatibility -->"],"delete":["37","      <l:task icon=\"images\/24x24\/new-package.gif\" href=\"${rootURL}\/${it.viewUrl}newJob\" title=\"${%New Job}\" permission=\"${it.itemCreatePermission}\" \/>","38","      <l:task icon=\"images\/24x24\/setting.gif\" href=\"${rootURL}\/manage\" title=\"${%Manage Hudson}\" permission=\"${app.ADMINISTER}\" \/>","52","      <j:if test=\"${!it.isDefault()}\">","53","        <!-- this is ugly, but Hudson delegates the rendering of its pages to its primary view -->"]}],"core\/src\/main\/java\/hudson\/model\/MyViewsProperty.java":[{"add":["3"," * Copyright (c) 2004-2010, Sun Microsystems, Inc., Tom Huybrechts","115","    public boolean canDelete(View view) {","116","        return views.size() > 1;  \/\/ Cannot delete last view","117","    }","118","","121","            throw new IllegalStateException(\"Cannot delete last view\");","200","        return Messages.MyViewsProperty_DisplayName();","216","            return Messages.MyViewsProperty_DisplayName();"],"delete":["3"," * Copyright (c) 2004-2009, Sun Microsystems, Inc., Tom Huybrechts","117","            throw new IllegalStateException();","196","        return \"My Views\";","212","            return \"My Views\";"]}]}},"922617509eccbcb89ad3bb8b5f6e33bd5a8182c0":{"changes":{"core\/src\/main\/java\/hudson\/model\/Fingerprint.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Fingerprint.java":[{"add":["1368","            Object loaded = configFile.read();","1369","            if (!(loaded instanceof Fingerprint)) {","1370","                throw new IOException(\"Unexpected Fingerprint type. Expected \" + Fingerprint.class + \" or subclass but got \"","1371","                        + (loaded != null ? loaded.getClass() : \"null\"));","1372","            }","1373","            Fingerprint f = (Fingerprint) loaded;"],"delete":["1368","            Fingerprint f = (Fingerprint) configFile.read();"]}]}},"a3bf6a9801a755c2b62e9b11e513b5cc616d3e47":{"changes":{"war\/src\/main\/js\/pluginSetupWizardGui.js":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":"MODIFY"},"diff":{"war\/src\/main\/js\/pluginSetupWizardGui.js":[{"add":["463","\t\t","464","\t\tvar attachScrollEvent = function() {","465","\t\t\tvar $c = $('.install-console-scroll');","466","\t\t\tif (!$c.length) {","467","\t\t\t\tsetTimeout(attachScrollEvent, 50);","468","\t\t\t\treturn;","469","\t\t\t}","470","\t\t\tvar events = $._data($c[0], \"events\");","471","\t\t\tif (!events || !events.scroll) {","472","\t\t\t\t$c.on('scroll', function() {","473","\t\t\t\t    if (!$c.data('wasAutoScrolled')) {","474","\t\t\t\t    \tvar top = $c[0].scrollHeight - $c.height();","475","\t\t\t\t        if ($c.scrollTop() === top) {","476","\t\t\t\t        \t\/\/ resume auto-scroll","477","\t\t\t\t        \t$c.data('userScrolled', false);","478","\t\t\t\t        } else {","479","\t\t\t\t        \t\/\/ user scrolled up","480","\t\t\t\t\t    \t$c.data('userScrolled', true);","481","\t\t\t\t        }","482","\t\t\t\t    } else {","483","\t\t\t\t    \t$c.data('wasAutoScrolled', false);","484","\t\t\t\t    }","485","\t\t\t\t});","486","\t\t\t}","487","\t\t};","488","\t\t","490","\t\tsetPanel(progressPanel, { installingPlugins : installingPlugins }, attachScrollEvent);","518","\t\t\t\tvar $txt = $('.install-text');","519","\t\t\t\t$txt.children().remove();","565","\t\t\t\t\t\t$txt.append($div);","574","\t\t\t\tvar $c = $('.install-console-scroll');","575","\t\t\t\tif($c && $c.is(':visible') && !$c.data('userScrolled')) {","576","\t\t\t\t\t$c.data('wasAutoScrolled', true);","581","\t\t\t\tif(complete < total && data.state === 'INITIAL_PLUGINS_INSTALLING') {"],"delete":["463","","465","\t\tsetPanel(progressPanel, { installingPlugins : installingPlugins });","493","\t\t\t\tvar $c = $('.install-text');","494","\t\t\t\t$c.children().remove();","540","\t\t\t\t\t\t$c.append($div);","549","\t\t\t\t$c = $('.install-console-scroll');","550","\t\t\t\tif($c.is(':visible')) {","555","\t\t\t\tif(complete < total || data.state === 'INITIAL_PLUGINS_INSTALLING') {"]}],"core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":[{"add":["1936","                                \/\/ Must check for success, otherwise may have failed installation","1937","                                if (ij.status instanceof Success) {","1938","                                    return true;","1939","                                }"],"delete":["1937","                            return true;"]}]}},"f5e60d5cdab741b5daefcb9965ffb43e43685012":{"changes":{"core\/src\/main\/java\/hudson\/security\/HudsonPrivateSecurityRealm.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/HudsonPrivateSecurityRealm.java":[{"add":["168","        if(si.username==null || si.username.length()==0)","176","        if(si.fullname==null || si.fullname.length()==0)","179","        if(si.email==null || !si.email.contains(\"@\"))"],"delete":["168","        if(si.username.length()==0)","176","        if(si.fullname.length()==0)","179","        if(!si.email.contains(\"@\"))","182",""]}]}},"815c24321579f544ec2156e91d2d9f17e46aad99":{"changes":{"core\/src\/main\/java\/hudson\/util\/DescriptorList.java":"MODIFY","core\/src\/main\/java\/hudson\/DescriptorExtensionList.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/DescriptorList.java":[{"add":["31","import net.sf.json.JSONException;","175","        try {","176","            return newInstanceFromRadioList(parent.getJSONObject(name));","177","        } catch (JSONException ex) {","178","            throw new FormException(ex, name);","179","        }"],"delete":["174","        return newInstanceFromRadioList(parent.getJSONObject(name));"]}],"core\/src\/main\/java\/hudson\/DescriptorExtensionList.java":[{"add":["49","import net.sf.json.JSONException;","147","        try {","148","            return newInstanceFromRadioList(parent.getJSONObject(name));","149","        } catch (JSONException ex) {","150","            throw new FormException(ex, name);","151","        }"],"delete":["146","        return newInstanceFromRadioList(parent.getJSONObject(name));"]}]}},"5ad11a0dbc0856ad4014f5dd8afa13927610b58f":{"changes":{"core\/src\/test\/java\/hudson\/FilePathTest.java":"MODIFY","core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/FilePathTest.java":[{"add":["63","    public void testRepeatCopyRecursiveTo() throws Exception {","64","        \/\/ local->local copy used to return 0 if all files were \"up to date\"","65","        \/\/ should return number of files processed, whether or not they were copied or already current","66","        File tmp = Util.createTempDir(), src = new File(tmp, \"src\"), dst = new File(tmp, \"dst\");","67","        try {","68","            assertTrue(src.mkdir());","69","            assertTrue(dst.mkdir());","70","            File f = File.createTempFile(\"foo\", \".tmp\", src);","71","            FilePath fp = new FilePath(src);","72","            assertEquals(1, fp.copyRecursiveTo(new FilePath(dst)));","73","            \/\/ copy again should still report 1","74","            assertEquals(1, fp.copyRecursiveTo(new FilePath(dst)));","75","        } finally {","76","            Util.deleteRecursive(tmp);","77","        }","78","    }","79",""],"delete":[]}],"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["1438","                        copyTask.setOverwrite(true);"],"delete":[]}]}},"01daea2fbffcb8e67d1f322ef1305f2b67573d0f":{"changes":{"core\/src\/main\/java\/hudson\/model\/View.java":"MODIFY","test\/src\/main\/java\/org\/jvnet\/hudson\/test\/HudsonTestCase.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/View\/delete.jelly":"MODIFY","core\/src\/main\/java\/hudson\/model\/ProxyView.java":"MODIFY","test\/src\/test\/java\/hudson\/model\/ViewTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/View.java":[{"add":["506","    public synchronized void doDoDelete(StaplerRequest req, StaplerResponse rsp) throws IOException, ServletException {","512","        rsp.sendRedirect2(req.getContextPath()+\"\/\" + owner.getUrl());"],"delete":["506","    public synchronized HttpResponse doDoDelete() throws IOException, ServletException {","512","        return new HttpRedirect(\"\/\" + owner.getUrl());"]}],"test\/src\/main\/java\/org\/jvnet\/hudson\/test\/HudsonTestCase.java":[{"add":["54","import hudson.model.View;","886","        public HtmlPage getPage(View view) throws IOException, SAXException {","887","            return goTo(view.getUrl());","888","        }","889","","890","        public HtmlPage getPage(View view, String relative) throws IOException, SAXException {","891","            return goTo(view.getUrl()+relative);","892","        }","893",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/View\/delete.jelly":[{"add":["29","\t\t  <form method=\"post\" action=\"doDelete\" name=\"delete\">"],"delete":["29","\t\t  <form method=\"post\" action=\"doDelete\">"]}],"core\/src\/main\/java\/hudson\/model\/ProxyView.java":[{"add":["40"," * ","41"," * TODO: this does not respond to renaming or deleting the proxied view.","42"," * "],"delete":[]}],"test\/src\/test\/java\/hudson\/model\/ViewTest.java":[{"add":["40","","41","\t\/**","95","    ","96","    public void testDeleteView() throws Exception {","97","    \tWebClient wc = new WebClient();","98","","99","    \tListView v = new ListView(\"list\", hudson);","100","\t\thudson.addView(v);","101","    \tHtmlPage delete = wc.getPage(v, \"delete\");","102","    \tsubmit(delete.getFormByName(\"delete\"));","103","    \tassertNull(hudson.getView(\"list\"));","104","    \t","105","    \tUser user = User.get(\"user\", true);","106","    \tMyViewsProperty p = user.getProperty(MyViewsProperty.class);","107","    \tv = new ListView(\"list\", p);","108","\t\tp.addView(v);","109","    \tdelete = wc.getPage(v, \"delete\");","110","    \tsubmit(delete.getFormByName(\"delete\"));","111","    \tassertNull(p.getView(\"list\"));","112","    \t","113","    }"],"delete":["40","    \/**"]}]}},"e429b6979b5d736bbbb1168a743c9e32801e2a9b":{"changes":{"core\/src\/main\/java\/hudson\/widgets\/HistoryWidget.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/widgets\/HistoryWidget.java":[{"add":["28","import hudson.util.Iterators;","29","","137","            return updateFirstTransientBuildKey(Iterators.wrap(baseList));"],"delete":["135","            return updateFirstTransientBuildKey(baseList);"]}],"changelog.html":[{"add":["65","  <li class='major bug'>","66","    HistoryWidget\/entry.jelly throws NullPointerException","67","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15499\">issue 15499<\/a>)"],"delete":[]}]}},"eebe7307b6c34410570416c990f08432402ae595":{"changes":{"core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/security\/SecurityRealm.java":[{"add":["327","        Cookie[] cookies = req.getCookies();","328","        if (cookies != null) {","329","            for (Cookie cookie : cookies) {","330","                if (cookie.getName().startsWith(cookieName)) {","331","                    LOGGER.log(Level.FINE, \"Removing cookie {0} during logout\", cookie.getName());","332","                    \/\/ one reason users log out is to clear their session(s)","333","                    \/\/ so tell the browser to drop all old sessions","334","                    cookie.setMaxAge(0);","335","                    cookie.setValue(\"\");","336","                    rsp.addCookie(cookie);","337","                }"],"delete":["327","        for (Cookie cookie : req.getCookies()) {","328","            if (cookie.getName().startsWith(cookieName)) {","329","                LOGGER.log(Level.FINE, \"Removing cookie {0} during logout\", cookie.getName());","330","                \/\/ one reason users log out is to clear their session(s)","331","                \/\/ so tell the browser to drop all old sessions","332","                cookie.setMaxAge(0);","333","                cookie.setValue(\"\");","334","                rsp.addCookie(cookie);"]}]}},"c4dd892ea3067be942d4a89778029ed1522512ff":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["63","  <li class=bug>","64","    Update JavaMail to 1.4.4.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-1152\">issue 1152<\/a>, <a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-3983\">issue 3983<\/a>)"],"delete":[]}]}},"d33df0f2e4cbe5a6e35f34ece96059826aa7471d":{"changes":{"core\/src\/main\/java\/hudson\/scm\/SCM.java":"MODIFY","core\/src\/main\/java\/hudson\/scm\/SCMDescriptor.java":"MODIFY","core\/src\/main\/java\/hudson\/scm\/AutoBrowserHolder.java":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/config-scm.jelly":"MODIFY","core\/src\/main\/java\/hudson\/scm\/NullSCM.java":"MODIFY","core\/src\/main\/java\/hudson\/scm\/SCMS.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/SCM.java":[{"add":["60","import jenkins.util.SystemProperties;","87","","88","    \/** JENKINS-35098: discouraged *\/","89","    @SuppressWarnings(\"FieldMayBeFinal\")","90","    private static boolean useAutoBrowserHolder = SystemProperties.getBoolean(SCM.class.getName() + \".useAutoBrowserHolder\");","93","     * @deprecated Unused by default.","133","    @SuppressWarnings(\"deprecation\")","139","        if (useAutoBrowserHolder) {","140","            if (autoBrowserHolder == null) {","141","                autoBrowserHolder = new AutoBrowserHolder(this);","142","            }","143","            return autoBrowserHolder.get();","144","        } else {","145","            return guessBrowser();","146","        }"],"delete":["126","     * @see SCMDescriptor#isBrowserReusable","133","        if(autoBrowserHolder==null)","134","            autoBrowserHolder = new AutoBrowserHolder(this);","135","        return autoBrowserHolder.get();","136",""]}],"core\/src\/main\/java\/hudson\/scm\/SCMDescriptor.java":[{"add":["55","     * @deprecated No longer used by default.","57","    @Deprecated","106","     * @deprecated No longer used by default. {@link SCM#getKey} could be used to implement similar features if needed.","108","    @Deprecated"],"delete":[]}],"core\/src\/main\/java\/hudson\/scm\/AutoBrowserHolder.java":[{"add":["39"," * @deprecated Disabled by default: JENKINS-35098","41","@Deprecated"],"delete":[]}],"core\/src\/main\/resources\/lib\/hudson\/project\/config-scm.jelly":[{"add":["28","    <!-- Could use f:descriptorRadioList were it not for scm\/scmd compatibility code; pending JENKINS-20959 would not help with performance -->","29","    <j:forEach var=\"descriptor\" items=\"${h.getSCMDescriptors(instance)}\" varStatus=\"loop\">","31","      <f:radioBlock name=\"scm\" help=\"${descriptor.helpFile}\" value=\"${loop.index}\" title=\"${descriptor.displayName}\" checked=\"${instance.scm.descriptor == descriptor}\">","32","        <j:set var=\"instance\" value=\"${instance.scm.descriptor == descriptor ? it.scm : null}\"\/>","34","        <f:class-entry descriptor=\"${descriptor}\" \/>","35","        <st:include from=\"${descriptor}\" page=\"${descriptor.configPage}\" optional=\"true\"\/>"],"delete":["28","    <j:set var=\"scms\" value=\"${h.getSCMDescriptors(it)}\" \/>","29","    <j:forEach var=\"idx\" begin=\"0\" end=\"${size(scms)-1}\">","30","      <j:set var=\"descriptor\" value=\"${scms[idx]}\" \/>","32","      <f:radioBlock name=\"scm\" value=\"${idx}\" title=\"${scmd.displayName}\" checked=\"${it.scm.descriptor==scmd}\">","33","        <j:set var=\"instance\" value=\"${it.scm.descriptor==descriptor ? it.scm : null}\"\/>","35","        <st:include from=\"${scmd}\" page=\"${scmd.configPage}\"\/>"]}],"core\/src\/main\/java\/hudson\/scm\/NullSCM.java":[{"add":["34","import org.kohsuke.stapler.DataBoundConstructor;","42","","43","    @DataBoundConstructor","44","    public NullSCM() {}","45",""],"delete":["33","import net.sf.json.JSONObject;","35","import org.kohsuke.stapler.StaplerRequest;","71","        @Override","72","        public SCM newInstance(StaplerRequest req, JSONObject formData) throws FormException {","73","            return new NullSCM();","74","        }"]}],"core\/src\/main\/java\/hudson\/scm\/SCMS.java":[{"add":["56","    @SuppressWarnings(\"deprecation\")","58","        SCM scm = req.bindJSON(SCM.class, req.getSubmittedForm().getJSONObject(\"scm\"));","59","        scm.getDescriptor().generation++;","60","        return scm;"],"delete":["57","        String scm = req.getParameter(\"scm\");","58","        if(scm==null)   return new NullSCM();","59","","60","        int scmidx = Integer.parseInt(scm);","61","        SCMDescriptor<?> d = SCM._for(target).get(scmidx);","62","        d.generation++;","63","        return d.newInstance(req, req.getSubmittedForm().getJSONObject(\"scm\"));"]}]}},"ff4beb2c78390ae15a6305e92880d4357fc44988":{"changes":{"core\/src\/main\/java\/hudson\/scm\/browsers\/ViewCVS.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/browsers\/ViewCVS.java":[{"add":["37","        return new URL(","38","            new URL(url,trimHeadSlash(file.getFullName())),","39","            \"Attic\/\"+file.getSimpleName()+param());"],"delete":["37","        return new URL(url,trimHeadSlash(file.getFullName())+param());"]}]}},"8dbee911c39343c3085a4f56f6e597719ba0c0ca":{"changes":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":"MODIFY","changelog.html":"MODIFY"},"diff":{"war\/src\/main\/webapp\/scripts\/hudson-behavior.js":[{"add":["501","            c = c.\/*JENKINS-15494*\/lastChild.firstChild;"],"delete":["501","            c = c.firstChild.firstChild;"]}],"changelog.html":[{"add":["67","  <li class=bug>","68","    <code>Uncaught TypeError: Cannot read property 'firstChild' of null<\/code> breaks certain forms at least on Chrome.","69","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15494\">issue 15494<\/a>)"],"delete":[]}]}},"4e7a43c5863b5e7ad637a5034f75d3c144c45129":{"changes":{"core\/src\/main\/resources\/hudson\/model\/EnvironmentContributor\/EnvVarsHtml\/index.groovy":"MODIFY","test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/EnvironmentContributor\/EnvVarsHtml\/index.groovy":[{"add":["0","package hudson.model.EnvironmentContributor.EnvVarsHtml;"],"delete":[]}],"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":[{"add":["25","import com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException;","26","import hudson.model.InvisibleAction;","27","import hudson.model.RootAction;","28","import hudson.model.UnprotectedRootAction;","29","import hudson.security.FullControlOnceLoggedInAuthorizationStrategy;","30","import hudson.util.HttpResponses;","36","import org.jvnet.hudson.test.Bug;","38","import org.jvnet.hudson.test.TestExtension;","39","import org.kohsuke.stapler.HttpResponse;","40","import org.xml.sax.SAXException;","41","","42","import java.io.IOException;","175","","176","    \/**","177","     * Makes sure access to \"\/foobar\" for UnprotectedRootAction gets through.","178","     *\/","179","    @Bug(14113)","180","    public void testUnprotectedRootAction() throws Exception {","181","        jenkins.setSecurityRealm(createDummySecurityRealm());","182","        jenkins.setAuthorizationStrategy(new FullControlOnceLoggedInAuthorizationStrategy());","183","        WebClient wc = createWebClient();","184","        wc.goTo(\"\/foobar\");","185","        wc.goTo(\"\/foobar\/\");","186","        wc.goTo(\"\/foobar\/zot\");","187","","188","        \/\/ and make sure this fails","189","        try {","190","            wc.goTo(\"\/foobar-zot\/\");","191","            fail();","192","        } catch (FailingHttpStatusCodeException e) {","193","            assertEquals(500,e.getStatusCode());","194","        }","195","","196","        assertEquals(3,jenkins.getExtensionList(RootAction.class).get(RootActionImpl.class).count);","197","    }","198","","199","    @TestExtension(\"testUnprotectedRootAction\")","200","    public static class RootActionImpl implements UnprotectedRootAction {","201","        private int count;","202","","203","        public String getIconFileName() {","204","            return null;","205","        }","206","","207","        public String getDisplayName() {","208","            return null;","209","        }","210","","211","        public String getUrlName() {","212","            return \"foobar\";","213","        }","214","","215","        public HttpResponse doDynamic() {","216","            assertTrue(Jenkins.getInstance().getAuthentication().getName().equals(\"anonymous\"));","217","            count++;","218","            return HttpResponses.html(\"OK\");","219","        }","220","    }","221","","222","    @TestExtension(\"testUnprotectedRootAction\")","223","    public static class ProtectedRootActionImpl implements RootAction {","224","        public String getIconFileName() {","225","            return null;","226","        }","227","","228","        public String getDisplayName() {","229","            return null;","230","        }","231","","232","        public String getUrlName() {","233","            return \"foobar-zot\";","234","        }","235","","236","        public HttpResponse doDynamic() {","237","            throw new AssertionError();","238","        }","239","    }"],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["3522","                    if (rest.startsWith(\"\/\"+a.getUrlName()+\"\/\") || rest.equals(\"\/\"+a.getUrlName()))"],"delete":["3522","                    if (rest.startsWith(\"\/\"+a.getUrlName()+\"\/\"))"]}]}},"80ea8982f35119a19e2d5b36ba3cfefe125d367d":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["202","      <version>1.6.2<\/version>"],"delete":["202","      <version>1.5<\/version>"]}]}},"b17d0763709be35d39f16d6af7afaf765ac6cf92":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["117","      <version>build217-jenkins-9<\/version>"],"delete":["117","      <version>build217-jenkins-8<\/version>"]}]}},"68f4bd5dcfa5cf186065697d17dc76ade211846b":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["58","\tFixed extra ' character in french translation.","59","\t(<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-9197\">issue 9197<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"84f03aa2f02a749ac9217fbb385b448938d3e724":{"changes":{"remoting\/src\/main\/java\/hudson\/remoting\/RemoteClassLoader.java":"MODIFY"},"diff":{"remoting\/src\/main\/java\/hudson\/remoting\/RemoteClassLoader.java":[{"add":["197","        File tmpFile = File.createTempFile(\"hudson-remoting\", \"\");","198","        tmpFile.delete();","199","        File resource = new File(tmpFile, name);","200","        resource.getParentFile().mkdirs();","201","","202","        FileOutputStream fos = new FileOutputStream(resource);","205","        resource.deleteOnExit();","207","        return resource;"],"delete":["197","        int idx = name.lastIndexOf('\/');","198","        File f = File.createTempFile(\"hudson-remoting\",\".\"+name.substring(idx+1));","199","        FileOutputStream fos = new FileOutputStream(f);","202","        f.deleteOnExit();","204","        return f;"]}]}},"91ad59214234e7724d586f64f8fb6db35104857b":{"changes":{"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_zh_TW.properties":"MODIFY","core\/src\/main\/java\/jenkins\/model\/CauseOfInterruption.java":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary.groovy":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_pl.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_sr.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_ja.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_zh_TW.properties":[{"add":["24","userNotFound=\\u7531\\u4f7f\\u7528\\u8005 {0} \\u4e2d\\u6b62"],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/CauseOfInterruption.java":[{"add":["35","import javax.annotation.Nonnull;","77","        ","78","        @Nonnull","81","        public UserInterruption(@Nonnull User user) {","85","        public UserInterruption(@Nonnull String userId) {","89","        \/**","90","         * Gets ID of the user, who interrupted the build.","91","         * @return User ID","92","         * @since TODO","93","         *\/","94","        @Nonnull","95","        public String getUserId() {","96","            return user;","97","        }","98","        ","99","        \/**","100","         * Gets user, who caused the interruption.","101","         * @return User instance if it can be located.","102","         *         Result of {@link User#getUnknown()} otherwise","103","         *\/","104","        @Nonnull","106","            final User userInstance = getUserOrNull();","107","            return userInstance != null ? userInstance : User.getUnknown();","108","        }","109","        ","110","        \/**","111","         * Gets user, who caused the interruption.","112","         * @return User or {@code null} if it has not been found","113","         * @since TODO","114","         *\/","115","        @CheckForNull","116","        public User getUserOrNull() {"],"delete":["78","        public UserInterruption(User user) {","82","        public UserInterruption(String userId) {","86","        @CheckForNull"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary.groovy":[{"add":["3","def user = my.userOrNull","4","if (user != null) {","5","  raw(_(\"blurb\", user.fullName, rootURL+'\/'+user.url))","6","} else {","7","  raw(_(\"userNotFound\", my.userId))","8","}"],"delete":["3","raw(_(\"blurb\",my.user.fullName, rootURL+'\/'+my.user.url))"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_pl.properties":[{"add":["0","blurb=Przerwane przez u\\u017cytkownika <a href=\"{1}\">{0}<\/a>","1","userNotFound=Przerwane przez u\\u017cytkownika {0}"],"delete":["0","blurb=Przerwane przez u\\u017Cytkownika <a href=\"{1}\">{0}<\/a>"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary.properties":[{"add":["0","blurb=Aborted by user <a href=\"{1}\">{0}<\/a>","1","userNotFound=Aborted by user {0}"],"delete":["0","blurb=Aborted by user <a href=\"{1}\">{0}<\/a>"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_sr.properties":[{"add":["2","blurb=\\u041e\\u0442\\u043a\\u0430\\u0437\\u0430\\u043d\\u043e \\u043a\\u043e\\u0440\\u0438\\u0441\\u043d\\u0438\\u043a\\u043e\\u043c <a href=\"{1}\">{0}<\/a>","3","userNotFound=\\u041e\\u0442\\u043a\\u0430\\u0437\\u0430\\u043d\\u043e \\u043a\\u043e\\u0440\\u0438\\u0441\\u043d\\u0438\\u043a\\u043e\\u043c {0}"],"delete":["2","blurb=\\u041E\\u0442\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E \\u043A\\u043E\\u0440\\u0438\\u0441\\u043D\\u0438\\u043A\\u043E\\u043C <a href=\"{1}\">{0}<\/a>"]}],"core\/src\/main\/resources\/jenkins\/model\/CauseOfInterruption\/UserInterruption\/summary_ja.properties":[{"add":["0","blurb=\\u30e6\\u30fc\\u30b6\\u30fc <a href=\"{1}\">{0}<\/a> \\u306b\\u3088\\u308a\\u4e2d\\u65ad","1","userNotFound=\\u30e6\\u30fc\\u30b6\\u30fc {0} \\u306b\\u3088\\u308a\\u4e2d\\u65ad"],"delete":["0","blurb=\\u30e6\\u30fc\\u30b6\\u30fc <a href=\"{1}\">{0}<\/a> \\u306b\\u3088\\u308a\\u4e2d\\u65ad"]}]}},"ff34532460d2ef50eee9f82cae9d983ea5095c58":{"changes":{"core\/src\/main\/java\/hudson\/model\/ParametersAction.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ParametersAction.java":[{"add":["89","    private @Nonnull List<ParameterValue> parameters;","101","    public ParametersAction(@Nonnull List<ParameterValue> parameters) {","286","        if (parameters == null) { \/\/ JENKINS-39495","287","            parameters = Collections.emptyList();","288","        }"],"delete":["89","    private final List<ParameterValue> parameters;","101","    public ParametersAction(List<ParameterValue> parameters) {"]}]}},"51d5220f6c19c4e7d5c35a07b62219472b2a7870":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/RedeployPublisher.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/RedeployPublisher.java":[{"add":["211","        File tmpSettings = null;","271","                m = mavenModuleSet.getMaven().forNode(buildNode, listener);","278","","279","                \/\/ we copy this file in the master in a temporary file","281","                if (remoteSettings != null) {","282","                    listener.getLogger().println( \"Maven RedeployPublisher use \" + (buildNode != null ? buildNode.getNodeName() : \"local\" )","283","                                                + \" maven settings from : \" + remoteSettings.getRemote() );","284","                    tmpSettings = File.createTempFile( \"jenkins\", \"temp-settings.xml\" );","285","                    FilePath filePath = new FilePath( tmpSettings );","286","                    remoteSettings.copyTo( filePath );","287","                    settingsLoc = tmpSettings;","289",""],"delete":["211","        File tmpSettings = File.createTempFile( \"jenkins\", \"temp-settings.xml\" );","277","                ","278","                \/\/ we copy this file in the master in a  temporary file ","279","                FilePath filePath = new FilePath( tmpSettings );","281","                if (!remoteSettings.exists()) {","282","                    \/\/ JENKINS-9084 we finally use $M2_HOME\/conf\/settings.xml as maven do","283","                    ","284","                    String mavenHome = ","285","                        ((MavenModuleSet) project).getMaven().forNode(buildNode, listener ).getHome();","286","                    String settingsPath = mavenHome + \"\/conf\/settings.xml\";","287","                    remoteSettings = build.getWorkspace().child( settingsPath);","289","                listener.getLogger().println( \"Maven RedeployPublisher use remote \" + (buildNode != null ? buildNode.getNodeName() : \"local\" )","290","                                              + \" maven settings from : \" + remoteSettings.getRemote() );","291","                remoteSettings.copyTo( filePath );","292","                settingsLoc = tmpSettings;","293","                "]}]}},"01479e2bbc2176706741949284cbae6816d0fe9b":{"changes":{"core\/src\/main\/java\/jenkins\/management\/SystemLogLink.java":"MODIFY","core\/src\/main\/java\/jenkins\/management\/SystemInfoLink.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/management\/SystemLogLink.java":[{"add":["41","        return Messages.SystemLogLink_DisplayName();","46","        return Messages.SystemLogLink_Description();"],"delete":["41","        return Messages.CliLink_DisplayName();","46","        return Messages.CliLink_Description();"]}],"core\/src\/main\/java\/jenkins\/management\/SystemInfoLink.java":[{"add":["41","        return Messages.SystemInfoLink_DisplayName();","46","        return Messages.SystemInfoLink_Description();"],"delete":["41","        return Messages.CliLink_DisplayName();","46","        return Messages.CliLink_Description();"]}]}},"7cf9e5771c4c481e5fd74496008a1eb26d689828":{"changes":{"war\/resources\/scripts\/hudson-behavior.js":"MODIFY","core\/src\/main\/resources\/lib\/form\/checkbox.jelly":"MODIFY","core\/src\/main\/resources\/lib\/form\/optionalBlock.jelly":"MODIFY"},"diff":{"war\/resources\/scripts\/hudson-behavior.js":[{"add":["152","}","153","","154","","155","\/\/ used by optionalBlock.jelly to update the form status","156","\/\/   @param sid     ID of the start marker","157","\/\/   @param sid     ID of the end marker","158","\/\/   @param cid     ID of the check box","159","function updateOptionalBlock(sid, eid, cid) {","160","    var tbl = document.getElementById(sid).parentNode;","161","    var i = false;","162","    var o = false;","163","","164","    var checked = document.getElementById(cid).checked;","165","","166","    for (var j = 0; tbl.rows[j]; j++) {","167","        var n = tbl.rows[j];","168","","169","        if (n.id == eid)","170","            o = true;","171","","172","        if (i && !o) {","173","            if (checked)","174","                n.style.display = \"\";","175","            else","176","                n.style.display = \"none\";","177","        }","178","","179","        if (n.id == sid) {","180","            if (n.getAttribute('hasHelp') == 'true')","181","                j++;","182","            i = true;","183","        }","184","    }","185","}"],"delete":["152","}"]}],"core\/src\/main\/resources\/lib\/form\/checkbox.jelly":[{"add":["3","<input type=\"checkbox\" name=\"${attrs.name}\" onclick=\"${attrs.onclick}\" id=\"${attrs.id}\""],"delete":["3","<input type=\"checkbox\" name=\"${attrs.name}\" onclick=\"${attrs.onclick}\""]}],"core\/src\/main\/resources\/lib\/form\/optionalBlock.jelly":[{"add":["1","  Foldable block expanded when the menu item is checked.","15","  <tr id=\"oe_s${oe_id}\" hasHelp=\"${help!=null}\"><!-- this ID marks the beginning -->","17","      <f:checkbox name=\"${name}\" onclick=\"javascript:updateOptionalBlock('oe_s${oe_id}','oe_e${oe_id}','oe_c${oe_id}')\"","18","                  id=\"oe_c${oe_id}\" checked=\"${checked}\" \/>","33","    <script>","34","      updateOptionalBlock('oe_s${oe_id}','oe_e${oe_id}','oe_c${oe_id}');","35","    <\/script>"],"delete":["1","  Outer-most tag that forms a form tag.","15","  <tr id=\"oe_s${oe_id}\"><!-- this ID marks the beginning -->","17","      <script>","18","          function toggle${oe_id}() {","19","            var tbl = document.getElementById('oe_s${oe_id}').parentNode;","20","            var i = false;","21","            var o = false;","22","","23","            for( j=0; tbl.rows[j]; j++ ) {","24","              n = tbl.rows[j];","25","","26","              if(n.id==\"oe_e${oe_id}\")","27","                o = true;","28","","29","              if( i &amp;&amp; !o ) {","30","                if( n.style.display!=\"none\" )","31","                  n.style.display = \"none\";","32","                else","33","                  n.style.display = \"\";","34","              }","35","","36","              if(n.id==\"oe_s${oe_id}\") {","37","                <j:if test=\"${help!=null}\">","38","                  j++;","39","                <\/j:if>","40","                i = true;","41","              }","42","            }","43","          }","44","      <\/script>","45","      <f:checkbox name=\"${name}\" onclick=\"javascript:toggle${oe_id}()\" checked=\"${checked}\" \/>","60","    <j:if test=\"${checked=='false'}\">","61","      <script>","62","        toggle${oe_id}();","63","      <\/script>","64","    <\/j:if>"]}]}},"95fdd493485f262648346ef8be42786f4579fe43":{"changes":{"core\/src\/main\/java\/hudson\/scm\/SubversionSCM.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/SubversionSCM.java":[{"add":["348","    public static final class SvnInfo implements Serializable, Comparable<SvnInfo> {","368","        public int compareTo(SvnInfo that) {","369","            int d = this.url.compareTo(that.url);","370","            if(d!=0)    return d;","371","            long e = this.revision-that.revision;","372","            if(e<0) return -1;","373","            if(e>0) return 1;","374","            return 0;","375","        }","376",""],"delete":["348","    public static final class SvnInfo implements Serializable {"]}]}},"9e9c20c4a1a9dce3a3a237cd7057c7344d69b0d5":{"changes":{"core\/src\/main\/resources\/lib\/form\/repeatable.jelly":"MODIFY","war\/resources\/scripts\/prototype.js":"MODIFY","war\/resources\/scripts\/behavior.js":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/repeatable.jelly":[{"add":["20","","21","      Behaviour.applySubtree(nc);","22","    }"],"delete":["20","\t  }"]}],"war\/resources\/scripts\/prototype.js":[{"add":["474","  },","475","","476","  pushAll: function(items) {","477","    for(var i=0; i<items.length; i++)","478","      this.push(items[i]);"],"delete":[]}],"war\/resources\/scripts\/behavior.js":[{"add":["53","        this.applySubtree(document);","54","    },","56","    applySubtree : function(startNode) {","57","        Behaviour.list.each(function(sheet) {","58","            for (var selector in sheet){","59","                var list = findElementsBySelector(startNode,selector);","60","                list.each(sheet[selector]);","61","            }","62","        });","63","    },","65","    addLoadEvent : function(func){","108","function isAncestor(p,c) {","109","  while(true) {","110","    if(p==c)      return true;","111","    if(c==null)   return false;","112","    c = c.parentNode;","114","}","115","","116","function findElementsBySelector(startNode,selector) {","119","  var currentContext = new Array(startNode);","121","    var token = tokens[i].replace(\/^\\s+\/,'').replace(\/\\s+$\/,'');;","130","        return [];","132","","133","      \/\/ make sure this node is a descendant of the current context","134","      if(currentContext.find(function(n) {return isAncestor(n,element)})==null)","135","        return []; \/\/ not a descendant","136","","138","      currentContext = $A(element);","145","      var className = new RegExp('\\\\b'+bits[1]+'\\\\b');","150","      var found = [];","159","          found.push(elements[j]);","162","","163","      currentContext = [];","165","        if (found[k].className && found[k].className.match(className)) {","166","          currentContext.push(found[k]);","191","          found.push(elements[j]);","194","","219","","220","      currentContext = found.findAll(checkFunction);","226","    \treturn [];","235","        found.push(elements[j]);","243","document.getElementsBySelector = function(selector) {","244","    return findElementsBySelector(document,selector);","245","}","246",""],"delete":["53","\t\tfor (h=0;sheet=Behaviour.list[h];h++){","54","\t\t\tfor (selector in sheet){","55","\t\t\t\tlist = document.getElementsBySelector(selector);","57","\t\t\t\tif (!list){","58","\t\t\t\t\tcontinue;","59","\t\t\t\t}","61","\t\t\t\tfor (i=0;element=list[i];i++){","62","\t\t\t\t\tsheet[selector](element);","63","\t\t\t\t}","64","\t\t\t}","65","\t\t}","66","\t},","67","","68","\taddLoadEvent : function(func){","111","document.getElementsBySelector = function(selector) {","112","  \/\/ Attempt to fail gracefully in lesser browsers","113","  if (!document.getElementsByTagName) {","114","    return new Array();","118","  var currentContext = new Array(document);","120","    token = tokens[i].replace(\/^\\s+\/,'').replace(\/\\s+$\/,'');;","129","        return new Array();","132","      currentContext = new Array(element);","139","      var className = bits[1];","144","      var found = new Array;","145","      var foundCount = 0;","154","          found[foundCount++] = elements[j];","157","      currentContext = new Array;","158","      var currentContextIndex = 0;","160","        if (found[k].className && found[k].className.match(new RegExp('\\\\b'+className+'\\\\b'))) {","161","          currentContext[currentContextIndex++] = found[k];","186","          found[foundCount++] = elements[j];","189","      currentContext = new Array;","190","      var currentContextIndex = 0;","215","      currentContext = new Array;","216","      var currentContextIndex = 0;","217","      for (var k = 0; k < found.length; k++) {","218","        if (checkFunction(found[k])) {","219","          currentContext[currentContextIndex++] = found[k];","220","        }","221","      }","227","    \treturn;","233","    var foundCount = 0;","237","        found[foundCount++] = elements[j];"]}]}},"39cb6f709d6ae9beab59fd875da0c4ad6a5920a2":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/junit\/History.java":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/junit\/CaseResult\/list.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/junit\/History\/index.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/list.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/junit\/ClassResult\/list.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/junit\/History.java":[{"add":["28","import hudson.tasks.test.TestResult;","29","import hudson.util.ChartUtil;","30","import hudson.util.ColorPalette;","31","import hudson.util.DataSetBuilder;","32","import hudson.util.Graph;","33","import hudson.util.ShiftedCategoryAxis;","34","import hudson.util.StackedAreaRenderer2;","35","","36","import java.awt.Color;","37","import java.awt.Paint;","38","import java.util.ArrayList;","39","import java.util.List;","40","","51","import org.kohsuke.stapler.Stapler;","52","import org.kohsuke.stapler.StaplerRequest;","77","    public List<TestResult> getList(int start, int end) {","78","    \tList<TestResult> list = new ArrayList<TestResult>();","79","    \tend = Math.min(end, testObject.getOwner().getParent().getBuilds().size());","80","    \tfor (AbstractBuild<?,?> b: testObject.getOwner().getParent().getBuilds().subList(start, end)) {","81","    \t\tif (b.isBuilding()) continue;","82","    \t\tTestResult o = testObject.getResultInBuild(b);","83","    \t\tif (o != null) {","84","    \t\t\tlist.add(o);","85","    \t\t}","86","    \t}","87","    \treturn list;","88","    }","89","    ","91","\t\treturn getList(0, testObject.getOwner().getParent().getBuilds().size());","99","    \t   ","102","               ","103","               List<TestResult> list;","104","               try {","105","               \tlist = getList(","106","               \t\t\tInteger.parseInt(Stapler.getCurrentRequest().getParameter(\"start\")), ","107","               \t\t\tInteger.parseInt(Stapler.getCurrentRequest().getParameter(\"end\")));","108","               } catch (NumberFormatException e) {","109","               \tlist = getList();","110","               }","111","               ","112","\t\t\tfor (hudson.tasks.test.TestResult o: list) {","127","           ","139","                List<TestResult> list;","140","                try {","141","                \tlist = getList(","142","                \t\t\tInteger.parseInt(Stapler.getCurrentRequest().getParameter(\"start\")), ","143","                \t\t\tInteger.parseInt(Stapler.getCurrentRequest().getParameter(\"end\")));","144","                } catch (NumberFormatException e) {","145","                \tlist = getList();","146","                }","147","                ","148","                for (TestResult o: list) {","162","            super(-1,600,300); \/\/ cannot use timestamp, since ranges may change"],"delete":["27","import hudson.tasks.test.TestResult;","29","import hudson.util.*;","40","","41","import java.awt.*;","42","import java.util.ArrayList;","43","import java.util.List;","69","\t\tList<TestResult> list = new ArrayList<TestResult>();","70","\t\tfor (AbstractBuild<?,?> b: testObject.getOwner().getParent().getBuilds()) {","71","\t\t\tif (b.isBuilding()) continue;","72","\t\t\tTestResult o = testObject.getResultInBuild(b);","73","\t\t\tif (o != null) {","74","\t\t\t\tlist.add(o);","75","\t\t\t}","76","\t\t}","77","\t\treturn list;","87","               for (hudson.tasks.test.TestResult o: getList()) {","113","                for (TestResult o: getList()) {","127","            super(testObject.getOwner().getTimestamp(),600,300);"]}],"core\/src\/main\/resources\/hudson\/tasks\/junit\/CaseResult\/list.jelly":[{"add":["37","      <j:forEach var=\"b\" items=\"${it.owner.parent.builds}\" begin=\"${start}\" end=\"${end}\">"],"delete":["37","      <j:forEach var=\"b\" items=\"${it.owner.parent.builds}\">"]}],"core\/src\/main\/resources\/hudson\/tasks\/junit\/History\/index.jelly":[{"add":["27","\t\t<j:set var=\"start\" value=\"${request.getParameter('start')?:0}\"\/>","28","\t\t<j:set var=\"end\" value=\"${request.getParameter('end')?:start+24}\"\/>","29","\t\t<j:set var=\"rangeParameters\" value=\"start=${start}&amp;end=${end+1}\"\/>","32","\t\t\t\tdocument.getElementById(\"graph\").src = \"countGraph\/png?${rangeParameters}\";","33","\t\t\t\tdocument.getElementById(\"graph\").lazyMap = \"countGraph\/map?${rangeParameters}\";","39","\t\t\t\tdocument.getElementById(\"graph\").src = \"durationGraph\/png?${rangeParameters}\"","40","\t\t\t\tdocument.getElementById(\"graph\").lazyMap = \"durationGraph\/map?${rangeParameters}\"","53","            <img id=\"graph\" src=\"durationGraph\/png?${rangeParameters}\" width=\"600\" height=\"300\" lazymap=\"durationGraph\/map?${rangeParameters}\" alt=\"[Duration graph]\"\/>","66","      \t<div>","67","\t      <j:if test=\"${start > 0}\">","68","\t      \t\t<a href=\"${app.rootUrl}${it.testObject.owner.url}testReport${it.testObject.url}\/history${(start-25)>0?'?start='+(start-25):''}\">${%Newer}<\/a>","69","\t      <\/j:if>","70","\t       ","71","\t      <j:if test=\"${it.testObject.owner.project.builds.size() > end}\">","72","\t      \t\t<a href=\"${app.rootUrl}${it.testObject.owner.url}testReport${it.testObject.url}\/history?start=${end+1}\">${%Older}<\/a>","73","\t      <\/j:if>","74","      \t<\/div>"],"delete":["27","","30","\t\t\t\tdocument.getElementById(\"graph\").src = \"countGraph\/png\";","31","\t\t\t\tdocument.getElementById(\"graph\").lazyMap = \"countGraph\/map\";","37","\t\t\t\tdocument.getElementById(\"graph\").src = \"durationGraph\/png\"","38","\t\t\t\tdocument.getElementById(\"graph\").lazyMap = \"durationGraph\/map\"","51","            <img id=\"graph\" src=\"durationGraph\/png\" width=\"600\" height=\"300\" lazymap=\"durationGraph\/map\" alt=\"[Duration graph]\"\/>"]}],"core\/src\/main\/resources\/hudson\/tasks\/test\/MetaTabulatedResult\/list.jelly":[{"add":["36","\t        <j:forEach var=\"b\" items=\"${it.owner.parent.builds}\" begin=\"${start}\" end=\"${end}\">"],"delete":["36","\t        <j:forEach var=\"b\" items=\"${it.owner.parent.builds}\">"]}],"core\/src\/main\/resources\/hudson\/tasks\/junit\/ClassResult\/list.jelly":[{"add":["36","\t        <j:forEach var=\"b\" items=\"${it.owner.parent.builds}\" begin=\"${start}\" end=\"${end}\">"],"delete":["36","\t        <j:forEach var=\"b\" items=\"${it.owner.parent.builds}\">"]}]}},"482f7c301d8e00fea8fd17a847b6e53c8ad0ba0a":{"changes":{"opensuse\/SPECS\/jenkins.spec":"MODIFY"},"diff":{"opensuse\/SPECS\/jenkins.spec":[{"add":["130","%config(noreplace) \/etc\/logrotate.d\/%{name}","132","%config(noreplace) \/etc\/sysconfig\/%{name}"],"delete":["130","%config \/etc\/logrotate.d\/%{name}","132","%config \/etc\/sysconfig\/%{name}"]}]}},"7b0ca0b41db897904145521339049e3d3eb78423":{"changes":{"core\/src\/main\/resources\/lib\/form\/option.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/form\/option.jelly":[{"add":["35","  <j:set var=\"optionBody\"><d:invokeBody\/><\/j:set>","36","  <option value=\"${attrs.value!=null?attrs.value:optionBody}\" selected=\"${attrs.selected?'true':null}\">${optionBody}<\/option>","37","<\/j:jelly>"],"delete":["35","  <option value=\"${attrs.value}\" selected=\"${attrs.selected?'true':null}\">","36","    <d:invokeBody\/>","37","  <\/option>","38","<\/j:jelly>"]}]}},"d44f2aee665f04b47a5da934a103515003b09672":{"changes":{"README.md":"MODIFY"},"diff":{"README.md":[{"add":["4","Copyright © 2004\u2013, Kohsuke Kawaguchi, Sun Microsystems, Inc., and a number of other contributors. Licensed under [MIT License]."],"delete":["4","Copyright © 2004\u2013, Kohsuke Kawaguchi, Sun Microsystems, Inc., and a number of other of contributors. Licensed under [MIT License]."]}]}},"5bd9d53592bb8e87490426ae1a10f7f1f9c215d5":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":[{"add":["565","                        String msg = \"Publisher \" + bs.getClass().getName() + \" aborted due to exception\";","566","                        e.printStackTrace(listener.error(msg));","567","                        LOGGER.log(Level.WARNING, msg, e);"],"delete":["565","                        Logger.getLogger(getClass().getName()).warning(\"Publisher \" + bs.getClass().getName() + \" skipped due to error: \" + e.getMessage());"]}]}},"8e2328df329e4abb1946c61eff240136315613cd":{"changes":{"core\/src\/main\/resources\/hudson\/model\/EnvironmentContributor\/EnvVarsHtml\/index.groovy":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/EnvironmentContributor\/EnvVarsHtml\/index.groovy":[{"add":["6","st.contentType(value: \"text\/html;charset=UTF-8\")","7",""],"delete":[]}]}},"cab3d5daa7d8486ec6da3eed2be8424f12bfb046":{"changes":{"debian\/debian\/jenkins.postinst":"MODIFY"},"diff":{"debian\/debian\/jenkins.postinst":[{"add":["54","        # re-explode war.","55","        chown -R $JENKINS_USER:adm \/var\/cache\/jenkins","56","        chmod -R 750               \/var\/cache\/jenkins","57","","58","        # older installations may use \/var\/run\/jenkins","60","        if test -d \/var\/run\/jenkins ; then","61","            chown -R $JENKINS_USER:adm \/var\/run\/jenkins","62","            chmod -R 750               \/var\/run\/jenkins","63","        fi"],"delete":["54","        # re-explode war. older installations may use \/var\/run\/jenkins","56","        mkdir -p \/var\/run\/jenkins","57","        chown -R $JENKINS_USER:adm \/var\/cache\/jenkins \/var\/run\/jenkins","58","        chmod -R 750               \/var\/cache\/jenkins \/var\/run\/jenkins"]}]}},"d7b59bfc7d726e80d29e6c7ae5c2927744f727f3":{"changes":{"\/dev\/null":"DELETE","core\/src\/main\/resources\/hudson\/tasks\/Maven\/help-settings.html":"ADD","core\/src\/main\/java\/hudson\/tasks\/Maven.java":"MODIFY","core\/src\/main\/resources\/hudson\/tasks\/Maven\/config.jelly":"MODIFY"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/Maven\/help-settings.html":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/Maven.java":[{"add":["396","        @Override","397","        public String getHelpFile(String fieldName) {","398","            if (fieldName.equals(\"globalSettings\")) fieldName = \"settings\"; \/\/ same help file","399","            return super.getHelpFile(fieldName);","400","        }","401",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/tasks\/Maven\/config.jelly":[{"add":["52","    <f:dropdownDescriptorSelector title=\"${%Settings file}\" descriptors=\"${descriptor.settingsProviders}\" field=\"settings\"\/>","53","<!--","54","    <f:entry   help=\"\/help\/tasks\/maven\/maven-settings.html\">","55","","57","    <f:entry   help=\"\/help\/tasks\/maven\/maven-settings.html\">","58","    <\/f:entry>","59","-->","60","    <f:dropdownDescriptorSelector title=\"${%Global Settings file}\" field=\"globalSettings\" descriptors=\"${descriptor.globalSettingsProviders}\"\/>"],"delete":["52","    <f:entry title=\"${%Settings file}\" field=\"settings\" help=\"\/help\/tasks\/maven\/maven-settings.html\">","53","       <f:dropdownDescriptorSelector descriptors=\"${descriptor.settingsProviders}\"\/>","55","    <f:entry title=\"${%Global Settings file}\" field=\"globalSettings\" help=\"\/help\/tasks\/maven\/maven-settings.html\">","56","       <f:dropdownDescriptorSelector descriptors=\"${descriptor.globalSettingsProviders}\"\/>","57","    <\/f:entry>          "]}]}},"a5e84268ca093bc9a81d72e5abf71b300fc9e3ab":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Hudson\/sidepanel2.jelly":"MODIFY","core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Hudson\/sidepanel2.jelly":[{"add":["2","\t  <l:task icon=\"images\/24x24\/search.gif\" href=\"${rootUrl}\/projectRelationship\" title=\"${%Project Relationship}\" \/>","3","\t  <l:task icon=\"images\/24x24\/fingerprint.gif\" href=\"${rootUrl}\/fingerprintCheck\" title=\"${%Check File Fingerprint}\" \/>"],"delete":["2","\t  <l:task icon=\"images\/24x24\/search.gif\" href=\"${it.rootUrl}projectRelationship\" title=\"${%Project Relationship}\" \/>  ","3","\t  <l:task icon=\"images\/24x24\/fingerprint.gif\" href=\"${it.rootUrl}fingerprintCheck\" title=\"${%Check File Fingerprint}\" \/>"]}],"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":[{"add":["12","      <l:task icon=\"images\/24x24\/new-package.gif\" href=\"${rootUrl}\/newJob\" title=\"${%New Job}\" permission=\"${it.itemCreatePermission}\" \/>","15","        <l:task icon=\"images\/24x24\/user.gif\" href=\"${rootUrl}\/people\/\" title=\"${%People}\" \/>"],"delete":["12","      <l:task icon=\"images\/24x24\/new-package.gif\" href=\"${it.rootUrl}newJob\" title=\"${%New Job}\" permission=\"${it.itemCreatePermission}\" \/>","15","        <l:task icon=\"images\/24x24\/user.gif\" href=\"${it.rootUrl}people\/\" title=\"${%People}\" \/>"]}]}},"4b2b1523b9114dc6ccc0aee558a7818b0f9affb3":{"changes":{"core\/src\/main\/java\/hudson\/scm\/browsers\/ViewCVS.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/browsers\/ViewCVS.java":[{"add":["37","        return new URL(url,trimHeadSlash(file.getFullName())+param());"],"delete":["37","        return new URL(","38","            new URL(url,trimHeadSlash(file.getFullName())),","39","            \"Attic\/\"+file.getSimpleName()+param());"]}]}},"588e9cb7e122bda1e2aa2453fa99b8d4a94f418c":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/Maven3Builder.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/Maven3Builder.java":[{"add":["190","            PrintStreamLogger logger = new PrintStreamLogger( \/* maven3Builder.listener.getLogger() *\/ System.out );"],"delete":["131","            if (!mavenExecutionResult.getThrowables().isEmpty() && isDebug()) {","132","                logger.println( \"mavenExecutionResult exceptions not empty\");","133","                for(Throwable throwable : mavenExecutionResult.getThrowables()) {","134","                    logger.println(\"message : \" + throwable.getMessage());","135","                    if (throwable.getCause()!=null) {","136","                        logger.println(\"cause : \" + throwable.getCause().getMessage());","137","                    }","138","                    logger.println(\"Stack trace : \");","139","                    throwable.printStackTrace( logger );","140","                }","141","                ","142","            }","202","            PrintStreamLogger logger = new PrintStreamLogger( maven3Builder.listener.getLogger() );"]}]}},"4089cd9cc77a38999b2cf494169e4a655c724401":{"changes":{"core\/src\/main\/java\/jenkins\/util\/JSONSignatureValidator.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/util\/JSONSignatureValidator.java":[{"add":["206","        \/\/ We can only make one call to Signature#verify here.","207","        \/\/ Since we need to potentially check two values (one decoded from hex, the other decoded from base64),","208","        \/\/ try hex first: It's almost certainly going to fail decoding if a base64 string was passed.","209","        \/\/ It is extremely unlikely for base64 strings to be a valid hex string.","210","        \/\/ This way, if it's base64, the #verify call will be skipped, and we continue with the #verify for decoded base64.","211","        \/\/ This approach might look unnecessarily clever, but short of having redundant Signature instances,","212","        \/\/ there doesn't seem to be a better approach for this.","220","","221","        try {","222","            if (signature.verify(Base64.decode(providedSignature.toCharArray()))) {","223","                return true;","224","            }","225","        } catch (SignatureException|IOException ignore) {","226","            \/\/ ignore","227","        }"],"delete":["206","        try {","207","            if (signature.verify(Base64.decode(providedSignature.toCharArray()))) {","208","                return true;","209","            }","210","        } catch (SignatureException|IOException ignore) {","211","            \/\/ ignore","212","        }","213",""]}]}},"8a92fe8eb151e699e00c2187df63241235ee5b1b":{"changes":{"core\/src\/main\/java\/jenkins\/security\/ClassFilterImpl.java":"MODIFY","core\/src\/main\/java\/jenkins\/install\/InstallState.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/security\/ClassFilterImpl.java":[{"add":["159","                    LOGGER.warning(\"JENKINS-49573: attempt to (de-)serialize anonymous \" + c + \" in \" + location);","161","                    LOGGER.warning(\"JENKINS-49573: attempt to (de-)serialize local \" + c + \" in \" + location);","163","                    LOGGER.warning(\"JENKINS-49573: attempt to (de-)serialize synthetic \" + c + \" in \" + location);"],"delete":["159","                    LOGGER.warning(\"JENKINS-49573: attempt to serialize anonymous \" + c + \" in \" + location);","161","                    LOGGER.warning(\"JENKINS-49573: attempt to serialize local \" + c + \" in \" + location);","163","                    LOGGER.warning(\"JENKINS-49573: attempt to serialize synthetic \" + c + \" in \" + location);"]}],"core\/src\/main\/java\/jenkins\/install\/InstallState.java":[{"add":["47","","48","    \/**","49","     * Only here for XStream compatibility.","50","     * @see #readResolve","51","     *\/","52","    @Deprecated","53","    @SuppressWarnings(\"MismatchedReadAndWriteOfArray\")","54","    private static final InstallState[] UNUSED_INNER_CLASSES = {","55","        new InstallState(\"UNKNOWN\", false) {},","56","        new InstallState(\"INITIAL_SETUP_COMPLETED\", false) {},","57","        new InstallState(\"CREATE_ADMIN_USER\", false) {},","58","        new InstallState(\"INITIAL_SECURITY_SETUP\", false) {},","59","        new InstallState(\"RESTART\", false) {},","60","        new InstallState(\"DOWNGRADE\", false) {},","61","    };","62","","67","    public static final InstallState UNKNOWN = new Unknown();","68","    private static class Unknown extends InstallState {","69","        Unknown() {","70","            super(\"UNKNOWN\", true);","71","        }","76","    }","88","    public static final InstallState INITIAL_SETUP_COMPLETED = new InitialSetupCompleted();","89","    private static final class InitialSetupCompleted extends InstallState {","90","        InitialSetupCompleted() {","91","            super(\"INITIAL_SETUP_COMPLETED\", true);","92","        }","108","    public static final InstallState CREATE_ADMIN_USER = new CreateAdminUser();","109","    private static final class CreateAdminUser extends InstallState {","110","        CreateAdminUser() {","111","            super(\"CREATE_ADMIN_USER\", false);","112","        }","134","    public static final InstallState INITIAL_SECURITY_SETUP = new InitialSecuritySetup();","135","    private static final class InitialSecuritySetup extends InstallState {","136","        InitialSecuritySetup() {","137","            super(\"INITIAL_SECURITY_SETUP\", false);","138","        }","160","    public static final InstallState RESTART = new Restart();","161","    private static final class Restart extends InstallState {","162","        Restart() {","163","            super(\"RESTART\", true);","164","        }","180","    public static final InstallState DOWNGRADE = new Downgrade();","181","    private static final class Downgrade extends InstallState {","182","        Downgrade() {","183","            super(\"DOWNGRADE\", true);","184","        }","203","    private final transient boolean isSetupComplete;","216","","217","    \/**","218","     * The actual class name is irrelevant; this is functionally an enum.","219","     * <p>Creating a {@code writeReplace} does not help much since XStream then just saves:","220","     * {@code <installState class=\"jenkins.install.InstallState$CreateAdminUser\" resolves-to=\"jenkins.install.InstallState\">}","221","     * @see #UNUSED_INNER_CLASSES","222","     *\/"],"delete":["51","    public static final InstallState UNKNOWN = new InstallState(\"UNKNOWN\", true) {","56","    };","68","    public static final InstallState INITIAL_SETUP_COMPLETED = new InstallState(\"INITIAL_SETUP_COMPLETED\", true) {","84","    public static final InstallState CREATE_ADMIN_USER = new InstallState(\"CREATE_ADMIN_USER\", false) {","106","    public static final InstallState INITIAL_SECURITY_SETUP = new InstallState(\"INITIAL_SECURITY_SETUP\", false) {","128","    public static final InstallState RESTART = new InstallState(\"RESTART\", true) {","144","    public static final InstallState DOWNGRADE = new InstallState(\"DOWNGRADE\", true) {","163","    private final boolean isSetupComplete;","176","    "]}]}},"81e00cc67957018b0d355740a1eeb2bcd21c0609":{"changes":{"core\/src\/main\/resources\/hudson\/ProxyConfiguration\/help-name.html":"MODIFY","core\/src\/main\/java\/hudson\/ProxyConfiguration.java":"MODIFY","core\/src\/main\/resources\/hudson\/Messages.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/ProxyConfiguration\/help-name.html":[{"add":["3","  (<a  href=\"http:\/\/download.oracle.com\/javase\/7\/docs\/technotes\/guides\/net\/properties.html\">See JDK networking properties for more details<\/a>)"],"delete":["3","  (<a  href=\"http:\/\/download.oracle.com\/javase\/6\/docs\/technotes\/guides\/net\/properties.html\">See JDK networking properties for more details<\/a>)"]}],"core\/src\/main\/java\/hudson\/ProxyConfiguration.java":[{"add":["42","import java.net.MalformedURLException;","56","import org.apache.commons.httpclient.NTCredentials;","344","","345","            String host = testUrl;","346","            try {","347","                URL url = new URL(testUrl);","348","                host = url.getHost();","349","            } catch (MalformedURLException e) {","350","                return FormValidation.error(Messages.ProxyConfiguration_MalformedTestUrl(testUrl));","351","            }","352","","359","                if (Util.fixEmptyAndTrim(name) != null && !isNoProxyHost(host, noProxyHost)) {","361","                    Credentials credentials = createCredentials(userName, password);","380","","381","        private boolean isNoProxyHost(String host, String noProxyHost) {","382","            if (host!=null && noProxyHost!=null) {","383","                for (Pattern p : getNoProxyHostPatterns(noProxyHost)) {","384","                    if (p.matcher(host).matches()) {","385","                        return true;","386","                    }","387","                }","388","            }","389","            return false;","390","        }","391","","392","        private Credentials createCredentials(String userName, String password) {","393","            if (userName.indexOf('\\\\') >= 0){","394","                final String domain = userName.substring(0, userName.indexOf('\\\\'));","395","                final String user = userName.substring(userName.indexOf('\\\\') + 1);","396","                return new NTCredentials(user, Secret.fromString(password).getPlainText(), domain, \"\");","397","            } else {","398","                return new UsernamePasswordCredentials(userName, Secret.fromString(password).getPlainText());","399","            }","400","        }"],"delete":["342","            ","349","                if (Util.fixEmptyAndTrim(name) != null) {","351","                    Credentials credentials = ","352","                            new UsernamePasswordCredentials(userName, Secret.fromString(password).getPlainText());"]}],"core\/src\/main\/resources\/hudson\/Messages.properties":[{"add":["68","ProxyConfiguration.MalformedTestUrl=Malformed Test URL {0}."],"delete":[]}]}},"490e42b0b7d915b378d4ba510e693222aad4036d":{"changes":{"\/dev\/null":"DELETE","test\/src\/test\/java\/hudson\/console\/AnnotatedLargeTextTest.java":"ADD","core\/src\/main\/java\/hudson\/console\/ConsoleNote.java":"MODIFY","core\/src\/test\/java\/hudson\/model\/TaskActionTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/security\/ConfidentialStore.java":"MODIFY","core\/src\/test\/java\/jenkins\/security\/ConfidentialStoreRule.java":"MODIFY"},"diff":{"\/dev\/null":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/console\/AnnotatedLargeTextTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/console\/ConsoleNote.java":[{"add":["193","            if (Jenkins.getInstance() != null) { \/\/ else we are in another JVM and cannot sign; TODO 1.653+ use getInstanceOrNull","194","                byte[] mac = MAC.mac(buf.toByteArray());","195","                dos.writeInt(- mac.length); \/\/ negative to differentiate from older form","196","                dos.write(mac);","197","            }"],"delete":["193","            byte[] mac = MAC.mac(buf.toByteArray());","194","            dos.writeInt(- mac.length); \/\/ negative to differentiate from older form","195","            dos.write(mac);"]}],"core\/src\/test\/java\/hudson\/model\/TaskActionTest.java":[{"add":["2","import static org.junit.Assert.assertTrue;","65","        assertTrue(os.toString(\"UTF-8\").startsWith(\"a linkCompleted\"));"],"delete":["2","import static org.junit.Assert.*;","9","import jenkins.security.ConfidentialStoreRule;","11","import static org.hamcrest.CoreMatchers.startsWith;","12","import org.junit.Rule;","20","    @Rule","21","    public ConfidentialStoreRule confidentialStoreRule = new ConfidentialStoreRule();","22","","71","        assertThat(os.toString(\"UTF-8\"), startsWith(\"a linkCompleted\"));"]}],"core\/src\/main\/java\/jenkins\/security\/ConfidentialStore.java":[{"add":["63","        if (TEST!=null) return TEST.get();","97","    \/*package*\/ static ThreadLocal<ConfidentialStore> TEST = null;"],"delete":["63","        if (TEST != null) {","64","            return TEST;","65","        }","99","    \/*package*\/ static ConfidentialStore TEST = null;"]}],"core\/src\/test\/java\/jenkins\/security\/ConfidentialStoreRule.java":[{"add":["16","        ConfidentialStore.TEST.set(new DefaultConfidentialStore(tmp.getRoot()));","21","        ConfidentialStore.TEST.set(null);","25","    static {","26","        ConfidentialStore.TEST = new ThreadLocal<ConfidentialStore>();","27","    }"],"delete":["16","        ConfidentialStore.TEST = new DefaultConfidentialStore(tmp.getRoot());","21","        ConfidentialStore.TEST = null;"]}]}},"5974981064ceca1a66f5eb9a5b3eb18888097918":{"changes":{"core\/pom.xml":"MODIFY","core\/src\/main\/java\/hudson\/model\/DirectoryBrowserSupport.java":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["348","      <version>1.141<\/version>"],"delete":["348","      <version>1.140<\/version>"]}],"core\/src\/main\/java\/hudson\/model\/DirectoryBrowserSupport.java":[{"add":["290","        long contentLength;","294","            contentLength = f.length();"],"delete":["290","        int contentLength;","294","            contentLength = (int) f.length();"]}]}},"27f1fd142499654c26302bf260a6cd534dd16047":{"changes":{"core\/src\/test\/java\/hudson\/model\/BuildStatusSummaryTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/model\/BuildStatusSummaryTest.java":[{"add":["180","","181","    @Test","182","    public void testBuildGotNoTests() {","183","        \/\/ previous build has no tests at all","184","        mockBuilds(AbstractBuild.class);","185","","186","        when(this.build.getResult()).thenReturn(Result.UNSTABLE);","187","        when(this.prevBuild.getResult()).thenReturn(Result.UNSTABLE);","188","        \/\/ Null test result action recorded","189","        when(((AbstractBuild) this.build).getTestResultAction()).thenReturn(null);","190","","191","        Summary summary = this.build.getBuildStatusSummary();","192","","193","        assertFalse(summary.isWorse);","194","        assertEquals(Messages.Run_Summary_Unstable(), summary.message);","195","","196","        \/\/ same thing should happen if previous build has tests, but no failing ones:","197","        buildHasTestResult((AbstractBuild) this.prevBuild, 0);","198","        summary = this.build.getBuildStatusSummary();","199","        assertFalse(summary.isWorse);","200","        assertEquals(Messages.Run_Summary_Unstable(), summary.message);","201","    }"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["1836","                if(trN!=null && trN.getFailCount()!= 0) {"],"delete":["1836","                if(trN.getFailCount()!= 0) {"]}],"changelog.html":[{"add":["82","  <li class=bug>","83","    Missing build title in \/rssAll when build has no test result.","84","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16770\">issue 16770<\/a>)"],"delete":[]}]}},"782ef0cc6fb4f66b7b85af709ffd1bcc62272120":{"changes":{"core\/src\/main\/java\/hudson\/model\/Fingerprint.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Fingerprint.java":[{"add":["459","        if(original!=null && original.isAlive())"],"delete":["459","        if(original.isAlive())"]}]}},"7831263d4c6820c69129b98b6f8fe2aa32c4c872":{"changes":{"core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsMonitor\/message.properties":"ADD","test\/src\/test\/resources\/plugins\/warnings-update-center-malformed.json":"ADD","core\/src\/main\/resources\/hudson\/PluginManager\/table.jelly":"MODIFY","core\/src\/main\/java\/jenkins\/security\/UpdateSiteWarningsMonitor.java":"ADD","core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/help.html":"ADD","war\/src\/main\/webapp\/css\/style.css":"MODIFY","core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/config.groovy":"ADD","core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/config.properties":"ADD","core\/src\/main\/resources\/jenkins\/security\/Messages.properties":"MODIFY","core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsMonitor\/message.groovy":"ADD","core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/style.css":"ADD","test\/src\/test\/java\/hudson\/model\/UpdateSiteTest.java":"MODIFY","core\/src\/main\/resources\/hudson\/PluginManager\/table.properties":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateSite.java":"MODIFY","core\/src\/main\/java\/jenkins\/security\/UpdateSiteWarningsConfiguration.java":"ADD"},"diff":{"core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsMonitor\/message.properties":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/plugins\/warnings-update-center-malformed.json":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/hudson\/PluginManager\/table.jelly":[{"add":["112","                      <j:if test=\"${p.hasWarnings()}\">","113","                        <div class=\"securityWarning\">${%securityWarning}","114","                          <ul>","115","                            <j:forEach var=\"warning\" items=\"${p.getWarnings()}\">","116","                              <li><a href=\"${warning.url}\" target=\"_blank\">${warning.message}<\/a><\/li>","117","                            <\/j:forEach>","118","                          <\/ul>","119","                        <\/div>","120","                      <\/j:if>"],"delete":[]}],"core\/src\/main\/java\/jenkins\/security\/UpdateSiteWarningsMonitor.java":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/help.html":[{"add":[],"delete":[]}],"war\/src\/main\/webapp\/css\/style.css":[{"add":["1582","#plugins .securityWarning {","1583","    white-space: normal;","1584","    margin-top: 0.5em;","1585","    padding-left: 2em;","1586","    color: #FF0000;","1587","}","1588",""],"delete":[]}],"core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/config.groovy":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/config.properties":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/security\/Messages.properties":[{"add":["26","RekeySecretAdminMonitor.DisplayName=Re-keying","27","UpdateSiteWarningsMonitor.DisplayName=Update Site Warnings"],"delete":["26","RekeySecretAdminMonitor.DisplayName=Re-keying"]}],"core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsMonitor\/message.groovy":[{"add":[],"delete":[]}],"core\/src\/main\/resources\/jenkins\/security\/UpdateSiteWarningsConfiguration\/style.css":[{"add":[],"delete":[]}],"test\/src\/test\/java\/hudson\/model\/UpdateSiteTest.java":[{"add":["35","import java.util.Collections;","44","import jenkins.security.UpdateSiteWarningsConfiguration;","45","import jenkins.security.UpdateSiteWarningsMonitor;","57","import org.jvnet.hudson.test.recipes.LocalData;","133","","134","    @Test public void lackOfDataDoesNotFailWarningsCode() throws Exception {","135","        assertNull(\"plugin data is not present\", j.jenkins.getUpdateCenter().getSite(\"default\").getData());","136","","137","        \/\/ nothing breaking?","138","        j.jenkins.getExtensionList(UpdateSiteWarningsMonitor.class).get(0).getActivePluginWarningsByPlugin();","139","        j.jenkins.getExtensionList(UpdateSiteWarningsMonitor.class).get(0).getActiveCoreWarnings();","140","        j.jenkins.getExtensionList(UpdateSiteWarningsConfiguration.class).get(0).getAllWarnings();","141","    }","142","","143","    @Test public void incompleteWarningsJson() throws Exception {","144","        PersistedList<UpdateSite> sites = j.jenkins.getUpdateCenter().getSites();","145","        sites.clear();","146","        URL url = new URL(baseUrl, \"\/plugins\/warnings-update-center-malformed.json\");","147","        UpdateSite site = new UpdateSite(UpdateCenter.ID_DEFAULT, url.toString());","148","        sites.add(site);","149","        assertEquals(FormValidation.ok(), site.updateDirectly(false).get());","150","        assertEquals(\"number of warnings\", 7, site.getData().getWarnings().size());","151","        assertNotEquals(\"plugin data is present\", Collections.emptyMap(), site.getData().plugins);","152","    }"],"delete":["129","    "]}],"core\/src\/main\/resources\/hudson\/PluginManager\/table.properties":[{"add":["37","securityWarning=\\","38","  Warning: This plugin version may not be safe to use. Please review the following security notices:"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/UpdateSite.java":[{"add":["28","import hudson.ExtensionList;","49","import java.util.HashSet;","51","import java.util.Locale;","60","import java.util.regex.Pattern;","61","import java.util.regex.PatternSyntaxException;","64","import javax.annotation.Nullable;","65","","68","import jenkins.security.UpdateSiteWarningsConfiguration;","71","import net.sf.json.JSONArray;","77","import org.kohsuke.accmod.restrictions.DoNotUse;","525","        \/**","526","         * List of warnings (mostly security) published with the update site.","527","         *","528","         * @since TODO","529","         *\/","530","        private final Set<Warning> warnings = new HashSet<Warning>();","546","","547","            JSONArray w = o.optJSONArray(\"warnings\");","548","            if (w != null) {","549","                for (int i = 0; i < w.size(); i++) {","550","                    try {","551","                        warnings.add(new Warning(w.getJSONObject(i)));","552","                    } catch (JSONException ex) {","553","                        LOGGER.log(Level.WARNING, \"Failed to parse JSON for warning\", ex);","554","                    }","555","                }","556","            }","557","","576","         * Returns the set of warnings","577","         * @return the set of warnings","578","         * @since TODO","579","         *\/","580","        @Restricted(NoExternalUse.class)","581","        public Set<Warning> getWarnings() {","582","            return this.warnings;","583","        }","584","","585","        \/**","686","    \/**","687","     * A version range for {@code Warning}s indicates which versions of a given plugin are affected","688","     * by it.","689","     *","690","     * {@link #name}, {@link #firstVersion} and {@link #lastVersion} fields are only used for administrator notices.","691","     *","692","     * The {@link #pattern} is used to determine whether a given warning applies to the current installation.","693","     *","694","     * @since TODO","695","     *\/","696","    @Restricted(NoExternalUse.class)","697","    public static final class WarningVersionRange {","698","        \/**","699","         * Human-readable English name for this version range, e.g. 'regular', 'LTS', '2.6 line'.","700","         *\/","701","        @Nullable","702","        public final String name;","703","","704","        \/**","705","         * First version in this version range to be subject to the warning.","706","         *\/","707","        @Nullable","708","        public final String firstVersion;","709","","710","        \/**","711","         * Last version in this version range to be subject to the warning.","712","         *\/","713","        @Nullable","714","        public final String lastVersion;","715","","716","        \/**","717","         * Regular expression pattern for this version range that matches all included version numbers.","718","         *\/","719","        @Nonnull","720","        private final Pattern pattern;","721","","722","        public WarningVersionRange(JSONObject o) {","723","            this.name = Util.fixEmpty(o.optString(\"name\"));","724","            this.firstVersion = Util.fixEmpty(o.optString(\"firstVersion\"));","725","            this.lastVersion = Util.fixEmpty(o.optString(\"lastVersion\"));","726","            Pattern p;","727","            try {","728","                p = Pattern.compile(o.getString(\"pattern\"));","729","            } catch (PatternSyntaxException ex) {","730","                LOGGER.log(Level.WARNING, \"Failed to compile pattern '\" + o.getString(\"pattern\") + \"', using '.*' instead\", ex);","731","                p = Pattern.compile(\".*\");","732","            }","733","            this.pattern = p;","734","        }","735","","736","        public boolean includes(VersionNumber number) {","737","            return pattern.matcher(number.toString()).matches();","738","        }","739","    }","740","","741","    \/**","742","     * Represents a warning about a certain component, mostly related to known security issues.","743","     *","744","     * @see UpdateSiteWarningsConfiguration","745","     * @see jenkins.security.UpdateSiteWarningsMonitor","746","     *","747","     * @since TODO","748","     *\/","749","    @Restricted(NoExternalUse.class)","750","    public static final class Warning {","751","","752","        public enum Type {","753","            CORE,","754","            PLUGIN,","755","            UNKNOWN","756","        }","757","","758","        \/**","759","         * The type classifier for this warning.","760","         *\/","761","        @Nonnull","762","        public \/* final *\/ Type type;","763","","764","        \/**","765","         * The globally unique ID of this warning.","766","         *","767","         * <p>This is typically the CVE identifier or SECURITY issue (Jenkins project);","768","         * possibly with a unique suffix (e.g. artifactId) if either applies to multiple components.<\/p>","769","         *\/","770","        @Exported","771","        @Nonnull","772","        public final String id;","773","","774","        \/**","775","         * The name of the affected component.","776","         * <ul>","777","         *   <li>If type is 'core', this is 'core' by convention.","778","         *   <li>If type is 'plugin', this is the artifactId of the affected plugin","779","         * <\/ul>","780","         *\/","781","        @Exported","782","        @Nonnull","783","        public final String component;","784","","785","        \/**","786","         * A short, English language explanation for this warning.","787","         *\/","788","        @Exported","789","        @Nonnull","790","        public final String message;","791","","792","        \/**","793","         * A URL with more information about this, typically a security advisory. For use in administrator notices","794","         * only, so","795","         *\/","796","        @Exported","797","        @Nonnull","798","        public final String url;","799","","800","        \/**","801","         * A list of named version ranges specifying which versions of the named component this warning applies to.","802","         *","803","         * If this list is empty, all versions of the component are considered to be affected by this warning.","804","         *\/","805","        @Exported","806","        @Nonnull","807","        public final List<WarningVersionRange> versionRanges;","808","","809","        \/**","810","         *","811","         * @param o the {@link JSONObject} representing the warning","812","         * @throws JSONException if the argument does not match the expected format","813","         *\/","814","        @Restricted(NoExternalUse.class)","815","        public Warning(JSONObject o) {","816","            try {","817","                this.type = Type.valueOf(o.getString(\"type\").toUpperCase(Locale.US));","818","            } catch (IllegalArgumentException ex) {","819","                this.type = Type.UNKNOWN;","820","            }","821","            this.id = o.getString(\"id\");","822","            this.component = o.getString(\"name\");","823","            this.message = o.getString(\"message\");","824","            this.url = o.getString(\"url\");","825","","826","            if (o.has(\"versions\")) {","827","                List<WarningVersionRange> ranges = new ArrayList<>();","828","                JSONArray versions = o.getJSONArray(\"versions\");","829","                for (int i = 0; i < versions.size(); i++) {","830","                    WarningVersionRange range = new WarningVersionRange(versions.getJSONObject(i));","831","                    ranges.add(range);","832","                }","833","                this.versionRanges = Collections.unmodifiableList(ranges);","834","            } else {","835","                this.versionRanges = Collections.emptyList();","836","            }","837","        }","838","","839","        \/**","840","         * Two objects are considered equal if they are the same type and have the same ID.","841","         *","842","         * @param o the other object","843","         * @return true iff this object and the argument are considered equal","844","         *\/","845","        @Override","846","        public boolean equals(Object o) {","847","            if (this == o) return true;","848","            if (!(o instanceof Warning)) return false;","849","","850","            Warning warning = (Warning) o;","851","","852","            return id.equals(warning.id);","853","        }","854","","855","        @Override","856","        public int hashCode() {","857","            return id.hashCode();","858","        }","859","","860","        public boolean isPluginWarning(@Nonnull String pluginName) {","861","            return type == Type.PLUGIN && pluginName.equals(this.component);","862","        }","863","","864","        \/**","865","         * Returns true if this warning is relevant to the current configuration","866","         * @return true if this warning is relevant to the current configuration","867","         *\/","868","        public boolean isRelevant() {","869","            switch (this.type) {","870","                case CORE:","871","                    VersionNumber current = Jenkins.getVersion();","872","","873","                    if (!isRelevantToVersion(current)) {","874","                        return false;","875","                    }","876","                    return true;","877","                case PLUGIN:","878","","879","                    \/\/ check whether plugin is installed","880","                    PluginWrapper plugin = Jenkins.getInstance().getPluginManager().getPlugin(this.component);","881","                    if (plugin == null) {","882","                        return false;","883","                    }","884","","885","                    \/\/ check whether warning is relevant to installed version","886","                    VersionNumber currentCore = plugin.getVersionNumber();","887","                    if (!isRelevantToVersion(currentCore)) {","888","                        return false;","889","                    }","890","                    return true;","891","                case UNKNOWN:","892","                default:","893","                    return false;","894","            }","895","        }","896","","897","        public boolean isRelevantToVersion(@Nonnull VersionNumber version) {","898","            if (this.versionRanges.isEmpty()) {","899","                \/\/ no version ranges specified, so all versions are affected","900","                return true;","901","            }","902","","903","            for (UpdateSite.WarningVersionRange range : this.versionRanges) {","904","                if (range.includes(version)) {","905","                    return true;","906","                }","907","            }","908","            return false;","909","        }","910","    }","911","","1130","         * @since TODO","1131","         *\/","1132","        @CheckForNull","1133","        @Restricted(NoExternalUse.class)","1134","        public Set<Warning> getWarnings() {","1135","            ExtensionList<UpdateSiteWarningsConfiguration> list = ExtensionList.lookup(UpdateSiteWarningsConfiguration.class);","1136","            if (list.size() == 0) {","1137","                return Collections.emptySet();","1138","            }","1139","","1140","            Set<Warning> warnings = new HashSet<>();","1141","","1142","            UpdateSiteWarningsConfiguration configuration = list.get(0);","1143","","1144","            for (Warning warning: configuration.getAllWarnings()) {","1145","                if (configuration.isIgnored(warning)) {","1146","                    \/\/ warning is currently being ignored","1147","                    continue;","1148","                }","1149","                if (!warning.isPluginWarning(this.name)) {","1150","                    \/\/ warning is not about this plugin","1151","                    continue;","1152","                }","1153","","1154","                if (!warning.isRelevantToVersion(new VersionNumber(this.version))) {","1155","                    \/\/ warning is not relevant to this version","1156","                    continue;","1157","                }","1158","                warnings.add(warning);","1159","            }","1160","","1161","            return warnings;","1162","        }","1163","","1164","        \/**","1165","         * @since TODO","1166","         *\/","1167","        @Restricted(DoNotUse.class)","1168","        public boolean hasWarnings() {","1169","            return getWarnings().size() > 0;","1170","        }","1171","","1172","        \/**"],"delete":[]}],"core\/src\/main\/java\/jenkins\/security\/UpdateSiteWarningsConfiguration.java":[{"add":[],"delete":[]}]}},"1e308c2a7457c5e9d5929b1de39328e2e27ab3b8":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["69","  <li class=rfe>","70","    OS X installer now starts Jenkins upon system boot","71","    (<a href=\"https:\/\/github.com\/jenkinsci\/jenkins\/pull\/166\">pull request #166<\/a>)"],"delete":[]}]}},"33d1ac6782ccb9ba43aac2daa5d9f92f32bece22":{"changes":{"changelog.html":"MODIFY"},"diff":{"changelog.html":[{"add":["63","    <li class=bug>","64","    Breadcrumb bar moves away from header when scrolling past end of page on OS X.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-19803\">issue 19803<\/a>)"],"delete":[]}]}},"447765a21102329058a37977ae2f12cbc29813e5":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["121","                <resolveArtifact groupId=\"org.jvnet.hudson.winstone\" artifactId=\"winstone\" version=\"0.9.10-hudson-23\" type=\"jar\" tofile=\"${basedir}\/target\/generated-resources\/winstone.jar\" \/>"],"delete":["121","                <resolveArtifact groupId=\"org.jvnet.hudson.winstone\" artifactId=\"winstone\" version=\"0.9.10-hudson-22\" type=\"jar\" tofile=\"${basedir}\/target\/generated-resources\/winstone.jar\" \/>"]}]}},"d5b8cf4a28ea41caf84528656f9b931695cb3fb5":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/NeedsFullBuildAction.java":"ADD","changelog.html":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["376","     *      null if this build is done by earlier version of Jenkins that didn't record this information","409","     * (when individual modules are built, a new ModuleSetBuild is not created,","674","                            LOGGER.info( \"using maven 2 \" + mavenVersion );","683","                        ","684","                        \/\/ If incrementalBuild is set","685","                        \/\/ and the previous build didn't specify that we need a full build","686","                        \/\/ and we're on Maven 2.1 or later","687","                        \/\/ and there's at least one module listed in changedModules,","688","                        \/\/ then do the Maven incremental build commands.","689","                        \/\/ If there are no changed modules, we're building everything anyway.","691","                        boolean needsFullBuild = getPreviousCompletedBuild() != null &&","692","                            getPreviousCompletedBuild().getAction(NeedsFullBuildAction.class) != null;","693","                        if (project.isIncrementalBuild() && !needsFullBuild && maven2_1orLater && !changedModules.isEmpty()) {","825","                if (project.isIncrementalBuild()) {","826","                    \/\/ If POM parsing failed we should do a full build next time.","827","                    \/\/ Otherwise only the modules which have a SCM change for the next build might","828","                    \/\/ be build next time.","829","                    getActions().add(new NeedsFullBuildAction());","830","                }","831","                ","838","                if (project.isIncrementalBuild()) {","839","                    getActions().add(new NeedsFullBuildAction());","840","                }"],"delete":["376","     *      null if this build is done by earlier version of Hudson that didn't record this information","409","     * (when indivudual modules are built, a new ModuleSetBuild is not created,","682","                        \/\/ If incrementalBuild is set, and we're on Maven 2.1 or later, *and* there's at least one module","683","                        \/\/ listed in changedModules, do the Maven incremental build commands - if there are no changed modules,","684","                        \/\/ We're building everything anyway.","686","                        if (project.isIncrementalBuild() && maven2_1orLater && !changedModules.isEmpty()) {"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/NeedsFullBuildAction.java":[{"add":[],"delete":[]}],"changelog.html":[{"add":["61","  <li class=bug>","62","    Incremental maven jobs: if POM parsing failed, do a full build next time.","63","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-9848\">issue 9848<\/a>)"],"delete":[]}]}},"4af5c22134a05b6e885cbf1a721412711325c92e":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":[{"add":["489","            targetDir = \"builds\" + File.separator + target.getId();","491","            targetDir = getProject().getBuildDir() + File.separator + target.getId();"],"delete":["489","            targetDir = \"builds\/\" + target.getId();","491","            targetDir = getProject().getBuildDir()+\"\/\"+target.getId();"]}]}},"de9b5580445afc75a29044097fd67dbe070f440c":{"changes":{"core\/src\/main\/resources\/hudson\/model\/AbstractBuild\/index_hu.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/AbstractBuild\/index_hu.properties":[{"add":["27","beingExecuted=A build {0} perce fut"],"delete":["27","beingExecuted=A build {} perce fut"]}]}},"7744bbf4973add74bd1bdfcfed7c43abbd30359c":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["112","      <version>1.11<\/version>"],"delete":["112","      <version>1.10.0<\/version>"]}]}},"e6aecfed2c1abaf04a9a2ea8152d29ac2b2ad4d0":{"changes":{"core\/src\/main\/java\/jenkins\/install\/SetupWizard.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/install\/SetupWizard.java":[{"add":["609","            if (request instanceof HttpServletRequest && !Jenkins.get().getInstallState().isSetupComplete()) {"],"delete":["609","            if (request instanceof HttpServletRequest) {"]}]}},"3fa9ce5845727edec8181d7f1523340a9fa25764":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages.properties":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":[{"add":["725","        if (item==null) {","726","            AbstractProject project = AbstractProject.findNearest(name);","727","            throw new CmdLineException(null, project == null ? Messages.AbstractItem_NoSuchJobExistsWithoutSuggestion(name)","728","                    : Messages.AbstractItem_NoSuchJobExists(name, project.getFullName()));","729","        }"],"delete":["725","        if (item==null)","726","            throw new CmdLineException(null,Messages.AbstractItem_NoSuchJobExists(name,AbstractProject.findNearest(name).getFullName()));"]}],"core\/src\/main\/resources\/hudson\/model\/Messages.properties":[{"add":["31","AbstractItem.NoSuchJobExistsWithoutSuggestion=No such job \\u2018{0}\\u2019 exists."],"delete":[]}]}},"633e5c36b3672654bc96913b6a9df1ebc0edfe0e":{"changes":{"core\/src\/main\/java\/jenkins\/model\/lazy\/AbstractLazyLoadRunMap.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/hudson\/model\/RunMap.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/lazy\/AbstractLazyLoadRunMap.java":[{"add":["504","    public R put(R value) {","505","        return _put(value);","506","    }","507","","508","    protected R _put(R value) {"],"delete":["504","    public final R put(R value) {"]}],"changelog.html":[{"add":["58","    Fixed <tt>java.lang.NoSuchMethodError: hudson.model.RunMap.put(Lhudson\/model\/Run;)Lhudson\/model\/Run;<\/tt>","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-15487\">issue 15487<\/a>)","60","  <li class=bug>"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/RunMap.java":[{"add":["174","    @Override","175","    public R put(R r) {","176","        return super._put(r);","177","    }","178",""],"delete":[]}]}},"fbc072ee6c2bda1b069d0d4241617b432faf206b":{"changes":{"core\/src\/main\/resources\/hudson\/slaves\/SlaveComputer\/slave-agent.jnlp.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/slaves\/SlaveComputer\/slave-agent.jnlp.jelly":[{"add":[],"delete":["59","        <property name=\"hudson.showWindowsServiceInstallLink\" value=\"true\" \/>"]}]}},"3871d7778e30828d7c69076e7536dd7e106eb96a":{"changes":{"core\/src\/main\/java\/hudson\/Util.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/IOUtils.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":"MODIFY","core\/src\/main\/java\/hudson\/WebAppMain.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY","core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY","core\/src\/main\/java\/jenkins\/util\/io\/FileBoolean.java":"MODIFY","core\/src\/main\/java\/hudson\/lifecycle\/WindowsInstallerLink.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/TextFile.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/SecretRewriter.java":"MODIFY","core\/src\/main\/java\/hudson\/FileSystemProvisioner.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/AtomicFileWriter.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/StreamTaskListener.java":"MODIFY","core\/src\/main\/java\/hudson\/tools\/JDKInstaller.java":"MODIFY","cli\/src\/main\/java\/hudson\/cli\/PrivateKeyProvider.java":"MODIFY","core\/src\/main\/java\/jenkins\/util\/xml\/XMLUtils.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/FileParameterValue.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/io\/ReopenableFileOutputStream.java":"MODIFY","core\/src\/main\/java\/hudson\/Main.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/CompressedFile.java":"MODIFY","core\/src\/main\/java\/jenkins\/diagnosis\/HsErrPidList.java":"MODIFY","core\/src\/main\/java\/jenkins\/util\/JSONSignatureValidator.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/io\/ZipArchiver.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/io\/TarArchiver.java":"MODIFY","core\/src\/main\/java\/jenkins\/security\/DefaultConfidentialStore.java":"MODIFY","core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":"MODIFY","core\/src\/main\/java\/hudson\/PluginWrapper.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/io\/RewindableFileOutputStream.java":"MODIFY","core\/src\/main\/java\/hudson\/XmlFile.java":"MODIFY","core\/src\/main\/java\/jenkins\/util\/VirtualFile.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Util.java":[{"add":["25","import java.nio.file.InvalidPathException;","205","        } catch (InvalidPathException e) {","206","            throw new IOException(e);","288","                try {","289","                    Files.deleteIfExists(f.toPath());","290","                } catch (InvalidPathException e) {","291","                    throw new IOException(e);","292","                }","820","        } catch (InvalidPathException e) {","821","            throw new IOException(e);","1154","        try {","1155","            Files.newOutputStream(file.toPath()).close();","1156","        } catch (InvalidPathException e) {","1157","            throw new IOException(e);","1158","        }"],"delete":["285","                Files.deleteIfExists(f.toPath());","1145","        Files.newOutputStream(file.toPath()).close();"]}],"core\/src\/main\/java\/hudson\/util\/IOUtils.java":[{"add":["6","import java.nio.file.InvalidPathException;","32","        } catch (InvalidPathException e) {","33","            throw new IOException(e);","40","        } catch (InvalidPathException e) {","41","            throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["44","import java.nio.file.InvalidPathException;","1370","            try {","1371","                InputStream fis = Files.newInputStream(logFile.toPath());","1372","                if (logFile.getName().endsWith(\".gz\")) {","1373","                    return new GZIPInputStream(fis);","1374","                } else {","1375","                    return fis;","1376","                }","1377","            } catch (InvalidPathException e) {","1378","                throw new IOException(e);","1379","            }","1811","        OutputStream logger;","1812","        try {","1813","            logger = Files.newOutputStream(getLogFile().toPath(), StandardOpenOption.CREATE, StandardOpenOption.APPEND);","1814","        } catch (InvalidPathException e) {","1815","            throw new IOException(e);","1816","        }"],"delete":["1369","    \t    InputStream fis = Files.newInputStream(logFile.toPath());","1370","    \t    if (logFile.getName().endsWith(\".gz\")) {","1371","    \t        return new GZIPInputStream(fis);","1372","    \t    } else {","1373","    \t        return fis;","1374","    \t    }","1806","        OutputStream logger = Files.newOutputStream(getLogFile().toPath(), StandardOpenOption.CREATE, StandardOpenOption.APPEND);"]}],"core\/src\/main\/java\/hudson\/model\/UpdateCenter.java":[{"add":["34","import java.nio.file.InvalidPathException;","1140","                } catch (IOException | InvalidPathException e) {"],"delete":["1139","                } catch (IOException e) {"]}],"core\/src\/main\/java\/hudson\/WebAppMain.java":[{"add":["28","import java.nio.file.InvalidPathException;","281","        } catch (IOException | InvalidPathException e) {"],"delete":["280","        } catch (IOException e) {"]}],"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["66","import java.nio.file.InvalidPathException;","387","                } catch (InvalidPathException e) {","388","                    throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["80","import java.nio.file.InvalidPathException;","1472","                if(!f.exists()) {","1473","                    try {","1474","                        Files.newOutputStream(creating(f).toPath()).close();","1475","                    } catch (InvalidPathException e) {","1476","                        throw new IOException(e);","1477","                    }","1478","                }","1758","        if(channel==null) {","1759","            try {","1760","                return Files.newInputStream(reading(new File(remote)).toPath());","1761","            } catch (InvalidPathException e) {","1762","                throw new IOException(e);","1763","            }","1764","        }","1775","                } catch (InvalidPathException e) {","1776","                    p.error(new IOException(e));","1877","            try {","1878","                return Files.newOutputStream(writing(f).toPath());","1879","            } catch (InvalidPathException e) {","1880","                throw new IOException(e);","1881","            }","1889","                try {","1890","                    OutputStream fos = Files.newOutputStream(writing(f).toPath());","1891","                    return new RemoteOutputStream(fos);","1892","                } catch (InvalidPathException e) {","1893","                    throw new IOException(e);","1894","                }","1914","                } catch (InvalidPathException e) {","1915","                    throw new IOException(e);","2019","                } catch (InvalidPathException e) {","2020","                    throw new IOException(e);"],"delete":["1471","                if(!f.exists())","1472","                    Files.newOutputStream(creating(f).toPath()).close();","1752","        if(channel==null)","1753","            return Files.newInputStream(reading(new File(remote)).toPath());","1864","            return Files.newOutputStream(writing(f).toPath());","1872","                OutputStream fos = Files.newOutputStream(writing(f).toPath());","1873","                return new RemoteOutputStream(fos);"]}],"core\/src\/main\/java\/jenkins\/util\/io\/FileBoolean.java":[{"add":["3","import java.nio.file.InvalidPathException;","62","        } catch (IOException | InvalidPathException e) {"],"delete":["61","        } catch (IOException e) {"]}],"core\/src\/main\/java\/hudson\/lifecycle\/WindowsInstallerLink.java":[{"add":["35","import java.nio.file.InvalidPathException;","313","            } catch (InvalidPathException e) {","314","                \/\/ ignore;"],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/TextFile.java":[{"add":["28","import java.nio.file.InvalidPathException;","74","        } catch (InvalidPathException e) {","75","            throw new IOException(e);","106","                } catch (IOException | InvalidPathException e) {"],"delete":["103","                } catch (IOException e) {"]}],"core\/src\/main\/java\/hudson\/util\/SecretRewriter.java":[{"add":["8","import java.nio.file.InvalidPathException;","115","                } catch (InvalidPathException e) {","116","                    throw new IOException(e);","146","        } catch (IOException | InvalidPathException e) {"],"delete":["143","        } catch (IOException e) {"]}],"core\/src\/main\/java\/hudson\/FileSystemProvisioner.java":[{"add":["34","import java.nio.file.InvalidPathException;","221","            } catch (InvalidPathException e) {","222","                throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/AtomicFileWriter.java":[{"add":["35","import java.nio.file.InvalidPathException;","74","        try {","75","            core = new BufferedWriter(new OutputStreamWriter(Files.newOutputStream(tmpFile.toPath()), encoding));","76","        } catch (InvalidPathException e) {","77","            throw new IOException(e);","78","        }"],"delete":["73","        core = new BufferedWriter(new OutputStreamWriter(Files.newOutputStream(tmpFile.toPath()),encoding));"]}],"core\/src\/main\/java\/hudson\/util\/StreamTaskListener.java":[{"add":["44","import java.nio.file.InvalidPathException;","46","import java.nio.file.Path;","100","        this(Files.newOutputStream(asPath(out)), charset);","101","    }","102","","103","    private static Path asPath(File out) throws IOException {","104","        try {","105","            return out.toPath();","106","        } catch (InvalidPathException e) {","107","            throw new IOException(e);","108","        }","125","                asPath(out),"],"delete":["98","        this(Files.newOutputStream(out.toPath()),charset);","115","                out.toPath(),"]}],"core\/src\/main\/java\/hudson\/tools\/JDKInstaller.java":[{"add":["42","import java.nio.file.InvalidPathException;","522","                        } catch (InvalidPathException e) {","523","                            throw new IOException(e);"],"delete":[]}],"cli\/src\/main\/java\/hudson\/cli\/PrivateKeyProvider.java":[{"add":["34","import java.nio.file.InvalidPathException;","137","        } catch (InvalidPathException e) {","138","            throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/jenkins\/util\/xml\/XMLUtils.java":[{"add":["4","import java.nio.file.InvalidPathException;","145","        } catch (InvalidPathException e) {","146","            throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/FileParameterValue.java":[{"add":["37","import java.nio.file.InvalidPathException;","215","                } catch (InvalidPathException e) {","216","                    throw new IOException(e);","246","            try {","247","                return Files.newInputStream(file.toPath());","248","            } catch (InvalidPathException e) {","249","                throw new IOException(e);","250","            }","274","            } catch (IOException | InvalidPathException e) {","311","            try {","312","                return Files.newOutputStream(file.toPath());","313","            } catch (InvalidPathException e) {","314","                throw new IOException(e);","315","            }"],"delete":["243","            return Files.newInputStream(file.toPath());","267","            } catch (IOException e) {","304","            return Files.newOutputStream(file.toPath());"]}],"core\/src\/main\/java\/hudson\/util\/io\/ReopenableFileOutputStream.java":[{"add":["31","import java.nio.file.InvalidPathException;","60","            } catch (FileNotFoundException | NoSuchFileException | InvalidPathException e) {"],"delete":["59","            } catch (FileNotFoundException | NoSuchFileException e) {"]}],"core\/src\/main\/java\/hudson\/Main.java":[{"add":["28","import java.nio.file.InvalidPathException;","158","            } catch (InvalidPathException e) {","159","                throw new IOException(e);","178","                    } catch (InvalidPathException e) {","179","                        throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/CompressedFile.java":[{"add":["35","import java.nio.file.InvalidPathException;","81","        try {","82","            return Files.newOutputStream(file.toPath());","83","        } catch (InvalidPathException e) {","84","            throw new IOException(e);","85","        }","93","            try {","94","                return Files.newInputStream(file.toPath());","95","            } catch (InvalidPathException e) {","96","                throw new IOException(e);","97","            }","101","            try {","102","                return new GZIPInputStream(Files.newInputStream(gz.toPath()));","103","            } catch (InvalidPathException e) {","104","                throw new IOException(e);","105","            }"],"delete":["80","        return Files.newOutputStream(file.toPath());","88","            return Files.newInputStream(file.toPath());","92","            return new GZIPInputStream(Files.newInputStream(gz.toPath()));"]}],"core\/src\/main\/java\/jenkins\/diagnosis\/HsErrPidList.java":[{"add":["9","import java.nio.file.InvalidPathException;","58","            } catch (InvalidPathException e) {","59","                throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/jenkins\/util\/JSONSignatureValidator.java":[{"add":["5","import java.nio.file.InvalidPathException;","180","                } catch (InvalidPathException e) {","181","                    throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/io\/ZipArchiver.java":[{"add":["30","import java.nio.file.InvalidPathException;","78","            } catch (InvalidPathException e) {","79","                throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/io\/TarArchiver.java":[{"add":["38","import java.nio.file.InvalidPathException;","111","                } catch (IOException | InvalidPathException e) {\/\/ log the exception in any case"],"delete":["110","                } catch (IOException e) {\/\/ log the exception in any case"]}],"core\/src\/main\/java\/jenkins\/security\/DefaultConfidentialStore.java":[{"add":["9","import java.nio.file.InvalidPathException;","85","        } catch (InvalidPathException e) {","86","            throw new IOException(e);","111","        } catch (InvalidPathException e) {","112","            throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/ClassicPluginStrategy.java":[{"add":["27","import java.nio.file.InvalidPathException;","130","                } catch (InvalidPathException e) {","131","                    throw new IOException(e);","143","                } catch (InvalidPathException e) {","144","                    throw new IOException(e);","178","            } catch (InvalidPathException e) {","179","                throw new IOException(e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/PluginWrapper.java":[{"add":["32","import java.nio.file.InvalidPathException;","499","        try (OutputStream os = Files.newOutputStream(disableFile.toPath())) {","500","            os.close();","501","        } catch (InvalidPathException e) {","502","            throw new IOException(e);","503","        }"],"delete":["498","        OutputStream os = Files.newOutputStream(disableFile.toPath());","499","        os.close();"]}],"core\/src\/main\/java\/hudson\/util\/io\/RewindableFileOutputStream.java":[{"add":["31","import java.nio.file.InvalidPathException;","58","                } catch (FileNotFoundException | NoSuchFileException | InvalidPathException e) {"],"delete":["57","                } catch (FileNotFoundException | NoSuchFileException e) {"]}],"core\/src\/main\/java\/hudson\/XmlFile.java":[{"add":["36","import java.nio.file.InvalidPathException;","143","        } catch (XStreamException | Error | InvalidPathException e) {","160","        } catch (XStreamException | Error | InvalidPathException e) {","205","            InputStream fileInputStream = Files.newInputStream(file.toPath());","206","            try {","207","                return new InputStreamReader(fileInputStream, sniffEncoding());","208","            } catch (IOException ex) {","209","                \/\/ Exception may happen if we fail to find encoding or if this encoding is unsupported.","210","                \/\/ In such case we close the underlying stream and rethrow.","211","                Util.closeAndLogFailures(fileInputStream, LOGGER, \"FileInputStream\", file.toString());","212","                throw ex;","213","            }","214","        } catch (InvalidPathException e) {","215","            throw new IOException(e);","295","            throw new IOException(\"Failed to detect encoding of \" + file, e);","296","        } catch (InvalidPathException e) {","297","            throw new IOException(e);"],"delete":["142","        } catch (XStreamException | Error e) {","159","        } catch (XStreamException | Error e) {","203","        InputStream fileInputStream = Files.newInputStream(file.toPath());","205","            return new InputStreamReader(fileInputStream, sniffEncoding());","206","        } catch(IOException ex) {","207","            \/\/ Exception may happen if we fail to find encoding or if this encoding is unsupported.","208","            \/\/ In such case we close the underlying stream and rethrow.","209","            Util.closeAndLogFailures(fileInputStream, LOGGER, \"FileInputStream\", file.toString());","210","            throw ex;","290","            throw new IOException(\"Failed to detect encoding of \"+file,e);"]}],"core\/src\/main\/java\/jenkins\/util\/VirtualFile.java":[{"add":["297","                try {","298","                    return Files.newInputStream(f.toPath());","299","                } catch (InvalidPathException e) {","300","                    throw new IOException(e);","301","                }"],"delete":["297","                return Files.newInputStream(f.toPath());"]}]}},"be1e2bea7e647146920b1f6649687a6b1cca94ed":{"changes":{"test\/src\/test\/java\/hudson\/util\/FormValidationTest.java":"ADD","core\/src\/main\/java\/hudson\/util\/DOSToUnixPathHelper.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/util\/FormValidationTest.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/util\/DOSToUnixPathHelper.java":[{"add":["67","                    if (checkPrefix(_dir + File.separator + exe, helper))"],"delete":["67","                    if (checkPrefix(_dir + File.pathSeparator + exe, helper))"]}]}},"462e533a3d6418307baca4b5d9e3a38243efebf7":{"changes":{"core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["5","import hudson.CopyOnWrite;","41","    @CopyOnWrite","58","        \/\/ allocate default instances if needed.","59","        \/\/ doing so after load makes sure that newly added user properties do get reflected","60","        for (UserPropertyDescriptor d : UserProperties.LIST) {","61","            if(getProperty(d.clazz)==null) {","62","                UserProperty up = d.newInstance(this);","63","                if(up!=null)","64","                    properties.add(up);","65","            }","66","        }","67",""],"delete":["39","     * Copy-on-write semantics.","48","        for (UserPropertyDescriptor d : UserProperties.LIST) {","49","            UserProperty up = d.newInstance(this);","50","            if(up!=null)","51","                properties.add(up);","52","        }","53",""]}]}},"edb9bc5aca56cb521d58b30a53cea203e673efc1":{"changes":{"core\/src\/main\/java\/jenkins\/util\/DirectedGraph.java":"ADD","core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/util\/DirectedGraph.java":[{"add":[],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":[{"add":["30","import jenkins.util.DirectedGraph;","31","import jenkins.util.DirectedGraph.SCC;","112","        DirectedGraph<AbstractProject> g = new DirectedGraph<AbstractProject>() {","114","            protected Collection<AbstractProject> nodes() {","115","                final Set<AbstractProject> nodes = new HashSet<AbstractProject>();","116","                nodes.addAll(forward.keySet());","117","                nodes.addAll(backward.keySet());","118","                return nodes;","120","","121","            @Override","122","            protected Collection<AbstractProject> forward(AbstractProject node) {","123","                return getDownstream(node);","124","            }","125","        };","126","","127","        List<SCC<AbstractProject>> sccs = g.getStronglyConnectedComponents();","130","        topologicallySorted = new ArrayList<AbstractProject<?,?>>();","132","        for (SCC<AbstractProject> scc : sccs) {","133","            for (AbstractProject n : scc) {","134","                topoOrder.put(n,idx++);","135","                topologicallySorted.add(n);","136","            }"],"delete":["32","import org.apache.commons.collections.map.HashedMap;","35","import java.util.Arrays;","112","        \/**","113","         * Node of the cyclic graph, which is primarily {@link AbstractProject} but with additional","114","         * data structures needed for the Tarjan's algorithm.","115","         *\/","116","        class Node {","117","            final AbstractProject project;","118","            \/**","119","             * DFS visit order.","120","             *\/","121","            int index = -1;","122","            \/**","123","             * The smallest index of any nodes reachable from this node transitively.","124","             *\/","125","            int lowlink;","126","","127","            \/**","128","             * Strongly connected component index.","129","             * All the {@link Node}s that have the same SCC number belongs to the same strongly-connected","130","             * component, and more over, the Tarjan's algorithm is such that the scc index constitutes","131","             * the reverse topological order of the topological sort of the SCC DAG.","132","             *","133","             * Smallest SCC# means everyone depends on you.","134","             *\/","135","            int scc = -1;","136","","137","            Node(AbstractProject project) {","138","                this.project = project;","139","            }","140","            ","141","            Collection<AbstractProject> edges() {","142","                return getDownstream(project);","143","            }","144","        }","145","        ","146","        final Map<AbstractProject, Node> nodes = new HashMap<AbstractProject, Node>();","147","        for (AbstractProject p : forward.keySet()) {","148","            if (!nodes.containsKey(p))","149","                nodes.put(p,new Node(p));","150","        }","151","        for (AbstractProject p : backward.keySet()) {","152","            if (!nodes.containsKey(p))","153","                nodes.put(p,new Node(p));","154","        }","155","","156","        class Tarjan {","157","            int index = 0;","158","            int scc = 0;","159","            \/**","160","             * Nodes not yet classified for the strongly connected components","161","             *\/","162","            Stack<Node> pending = new Stack<Node>();","163","            ","164","            void traverse() {","165","                for (Node n : nodes.values()) {","166","                    if (n.index==-1)","167","                        visit(n);","168","                }","169","            }","170","            ","171","            void visit(Node v) {","172","                v.index = v.lowlink = index++;","173","                pending.push(v);","174","","175","                for (AbstractProject q : v.edges()) {","176","                    Node w = nodes.get(q);","177","                    if (w.index==-1) {","178","                        visit(w);","179","                        v.lowlink = Math.min(v.lowlink,w.lowlink);","180","                    } else","181","                    if (pending.contains(w)) {","182","                        v.lowlink = Math.min(v.lowlink,w.index);","183","                    }","184","                }","185","","186","                if (v.lowlink==v.index) {","187","                    Node w;","188","                    do {","189","                        w = pending.pop();","190","                        w.scc = scc;","191","                    } while(w!=v);","192","                    scc++;","193","                }","194","            }","195","        }","196","","197","        new Tarjan().traverse();","198","","199","        \/\/ sort nodes in the topological order","200","        Node[] a = nodes.values().toArray(new Node[nodes.size()]);","201","        Arrays.sort(a,new Comparator<Node>() {","203","            public int compare(Node o1, Node o2) {","204","                return o2.scc-o1.scc; \/\/ Tarjan finds them backward, so the order is swapped here","206","        });","210","        for (Node n : a) {","211","            topoOrder.put(n.project,idx++);","221","        topologicallySorted = new ArrayList<AbstractProject<?,?>>(a.length);","222","        for (Node n : a)","223","            topologicallySorted.add(n.project);"]}]}},"2a6fc653ee7b13adde18515b21f7e6dc1200fa8a":{"changes":{"core\/src\/main\/java\/hudson\/util\/ClassLoaderSanityThreadFactory.java":"ADD","core\/src\/test\/java\/jenkins\/util\/TimerTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/util\/Timer.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/ClassLoaderSanityThreadFactory.java":[{"add":[],"delete":[]}],"core\/src\/test\/java\/jenkins\/util\/TimerTest.java":[{"add":["2","import static org.junit.Assert.assertEquals;","5","import groovy.lang.GroovyClassLoader;","7","import org.junit.Assert;","11","import java.net.URLClassLoader;","13","import java.util.concurrent.ScheduledExecutorService;","14","import java.util.concurrent.ScheduledFuture;","52","","53","    \/**","54","     * Launch two tasks which can only complete","55","     * by running doRun() concurrently.","56","     *\/","57","    @Test","58","    @Issue(\"JENKINS-49206\")","59","    public void timerBogusClassloader() throws Exception {","60","        final int threadCount = 10;  \/\/ Twice Timer pool size to ensure we end up creating at least one new thread","61","        final CountDownLatch startLatch = new CountDownLatch(threadCount);","62","","63","        final ClassLoader[] contextClassloaders = new ClassLoader[threadCount];","64","        ScheduledFuture[] futures = new ScheduledFuture[threadCount];","65","        final ClassLoader bogusClassloader = new GroovyClassLoader();","66","","67","        Runnable timerTest = new Runnable() {","68","            @Override","69","            public void run() {","70","                ClassLoader cl = Thread.currentThread().getContextClassLoader();","71","                Thread.currentThread().setContextClassLoader(bogusClassloader);","72","                ScheduledExecutorService exec = Timer.get();","73","                for (int i=0; i<threadCount; i++) {","74","                    final int j = i;","75","                    futures[j] = exec.schedule(new Runnable() {","76","                        @Override","77","                        public void run() {","78","                            try {","79","                                startLatch.countDown();","80","                                contextClassloaders[j] = Thread.currentThread().getContextClassLoader();","81","                            } catch (Exception ex) {","82","                                throw  new RuntimeException(ex);","83","                            }","84","                        }","85","                    }, 0, TimeUnit.SECONDS);","86","                }","87","                Thread.currentThread().setContextClassLoader(cl);","88","            }","89","        };","90","","91","        Thread t = new Thread(timerTest);","92","        t.run();","93","        t.join(1000L);","94","","95","        for (int i=0; i<threadCount; i++) {","96","            futures[i].get();","97","            Assert.assertEquals(Timer.class.getClassLoader(), contextClassloaders[i]);","98","        }","99","    }"],"delete":[]}],"core\/src\/main\/java\/jenkins\/util\/Timer.java":[{"add":["3","import hudson.util.ClassLoaderSanityThreadFactory;","32","    static ScheduledExecutorService executorService;","33","","46","             executorService = new ImpersonatingScheduledExecutorService(new ErrorLoggingScheduledThreadPoolExecutor(10, new NamingThreadFactory(new ClassLoaderSanityThreadFactory(new DaemonThreadFactory()), \"jenkins.util.Timer\")), ACL.SYSTEM);"],"delete":["31","    private static ScheduledExecutorService executorService;","44","            executorService = new ImpersonatingScheduledExecutorService(new ErrorLoggingScheduledThreadPoolExecutor(10, new NamingThreadFactory(new DaemonThreadFactory(), \"jenkins.util.Timer\")), ACL.SYSTEM);"]}]}},"ef588be4f264b5ba285110f472f031e2bd771c71":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["183","        <version>3.3<\/version>"],"delete":["183","        <version>3.2<\/version>"]}]}},"69cdef29118d14cc8e619adb6fe0c144af9c0724":{"changes":{"core\/src\/main\/resources\/hudson\/model\/MyViewsProperty\/config_fr.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/MyViewsProperty\/config_fr.properties":[{"add":["23","description=La vue s\\u00E9lectionn\\u00E9e par d\\u00E9faut lors de la navigation dans les vues priv\\u00E9es de l''utilisateur"],"delete":["23","description=La vue s\\u00E9lectionn\\u00E9e par d\\u00E9faut lors de la navigation dans les vues priv\\u00E9es de l''''utilisateur"]}]}},"c59e4c5896c192e6a0810c9162ad483599fa8dc6":{"changes":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["3115","        return System.getProperty(\"os.name\").toLowerCase().startsWith(\"mac\");"],"delete":["3115","        return System.getProperty(\"os.name\").startsWith(\"mac\");"]}]}},"cf31426daaa6e19f30bea0ee98ab270a2bf1c407":{"changes":{"core\/src\/main\/resources\/hudson\/node_monitors\/Messages_fr.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/node_monitors\/Messages_fr.properties":[{"add":["23","ClockMonitor.DisplayName=Diff\\u00e9rence entre les horloges","25","DiskSpaceMonitor.MarkedOffline=D\\u00e9connexion temporaire de {0} par cause de manque d''espace disque","26","ResponseTimeMonitor.DisplayName=Temps de r\\u00e9ponse","27","ResponseTimeMonitor.MarkedOffline={0} est marqu\\u00e9 comme d\\u00e9connect\\u00e9 temporairement, parce qu''il ne r\\u00e9pond pas"],"delete":["23","ClockMonitor.DisplayName=Différence entre les horloges","25","DiskSpaceMonitor.MarkedOffline=Déconnexion temporaire de {0} par cause de manque d''espace disque","26","ResponseTimeMonitor.DisplayName=Temps de réponse","27","ResponseTimeMonitor.MarkedOffline={0} est marqué comme déconnecté temporairement, parce qu''il ne répond pas"]}]}},"7d5a2e3f367499af6f3be3fb4fe9137d8d00e053":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","core\/src\/main\/java\/jenkins\/model\/BlockedBecauseOfBuildInProgress.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["1107","        public BecauseOfBuildInProgress(@Nonnull AbstractBuild<?, ?> build) {","1148","            final R lastBuild = getLastBuild();","1149","            if (lastBuild != null) {","1150","                return new BlockedBecauseOfBuildInProgress(lastBuild);","1151","            } else {","1152","                \/\/ The build has been likely deleted after the isLogUpdated() call.","1153","                \/\/ Another cause may be an API implemetation glit?h in the implementation for AbstractProject. ","1154","                \/\/ Anyway, we should let the code go then.","1155","                LOGGER.log(Level.FINE, \"The last build has been deleted during the non-concurrent cause creation. The build is not blocked anymore\");","1156","            }"],"delete":["1107","        public BecauseOfBuildInProgress(AbstractBuild<?, ?> build) {","1148","            return new BlockedBecauseOfBuildInProgress(getLastBuild());"]}],"core\/src\/main\/java\/jenkins\/model\/BlockedBecauseOfBuildInProgress.java":[{"add":["30","import javax.annotation.Nonnull;","39","    @Nonnull","42","    \/**","43","     * Creates a cause for the specified build.","44","     * @param build Build, which is already in progress","45","     *\/","46","    public BlockedBecauseOfBuildInProgress(@Nonnull Run<?, ?> build) {"],"delete":["40","    public BlockedBecauseOfBuildInProgress(Run<?, ?> build) {"]}]}},"83e0fbf0a95f24b1669ead05f5e1c68e30ab8ddc":{"changes":{"core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/wizard-ui.jelly":"MODIFY","war\/src\/test\/js\/pluginSetupWizard-spec.js":"MODIFY","war\/src\/main\/js\/pluginSetupWizardGui.js":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/install\/SetupWizard\/wizard-ui.jelly":[{"add":["3","    <j:getStatic var=\"defaultUpdateSiteId\" className=\"hudson.model.UpdateCenter\" field=\"ID_DEFAULT\"\/>","4","    var defaultUpdateSiteId = '${defaultUpdateSiteId ? defaultUpdateSiteId.replace(\"'\", \"\") : \"default\"}';"],"delete":[]}],"war\/src\/test\/js\/pluginSetupWizard-spec.js":[{"add":["11","\/* globals defaultUpdateSiteId: true *\/","12","defaultUpdateSiteId = 'default';","13",""],"delete":[]}],"war\/src\/main\/js\/pluginSetupWizardGui.js":[{"add":["1032","\t\t\/\/ check for connectivity to the configured default update site","1033","\t\t\/* globals defaultUpdateSiteId: true *\/","1034","\t\tjenkins.testConnectivity(defaultUpdateSiteId, handleGenericError(function(isConnected, isFatal, errorMessage) {"],"delete":["1032","\t\t\/\/ check for connectivity","1033","\t\t\/\/TODO: make the Update Center ID configurable","1034","\t\tvar siteId = 'default';","1035","\t\tjenkins.testConnectivity(siteId, handleGenericError(function(isConnected, isFatal, errorMessage) {"]}]}},"986a7a452e422a7fde2b8cd52c3d3f86345c0d53":{"changes":{"war\/src\/main\/webapp\/scripts\/respond.js":"ADD","war\/src\/main\/webapp\/scripts\/msie.js":"MODIFY","core\/src\/main\/resources\/lib\/layout\/layout.jelly":"MODIFY"},"diff":{"war\/src\/main\/webapp\/scripts\/respond.js":[{"add":[],"delete":[]}],"war\/src\/main\/webapp\/scripts\/msie.js":[{"add":["26","    if (YAHOO.env.ua.ie && YAHOO.env.ua.ie !== document.documentMode) {","28","            alert(\"WARNING: Your Internet Explorer appears to be set to a non-default 'Document Mode' (see Developer Tools - press F12).\\n\" +","29","                \"\\n\" +","30","                \"Jenkins may not display properly in this browser.\");","37","\/\/ IE 8 and before tweaks....","38","if (YAHOO.env.ua.ie && YAHOO.env.ua.ie < 9) {","39","    function loadRespondJS() {","40","        var head = document.getElementsByTagName('head')[0];","41","        var script = document.createElement('script');","42","","43","        script.setAttribute('src', head.getAttribute('resURL') + '\/scripts\/respond.js');","44","        head.appendChild(script);","45","    }","46","","47","    loadRespondJS();","48","}"],"delete":["26","    if (YAHOO.env.ua.ie) {","28","            if (YAHOO.env.ua.ie !== document.documentMode) {","29","                alert(\"WARNING: Your Internet Explorer appears to be set to a non-default 'Document Mode' (see Developer Tools - press F12).\\n\" +","30","                      \"\\n\" +","31","                      \"Jenkins may not display properly in this browser.\");","32","            }"]}],"core\/src\/main\/resources\/lib\/layout\/layout.jelly":[{"add":["80","  <head resURL=\"${resURL}\">","132","","149","","150","    <j:if test=\"${isMSIE}\">","151","      <script src=\"${resURL}\/scripts\/msie.js\" type=\"text\/javascript\"\/>","152","    <\/j:if>","153",""],"delete":["80","  <head>","129","    <j:if test=\"${isMSIE}\">","130","      <script src=\"${resURL}\/scripts\/msie.js\" type=\"text\/javascript\"\/>","131","    <\/j:if>","132","","136","    "]}]}},"9fe9a7ee6687f5d61db7bb49534ea9e39d90171c":{"changes":{"core\/src\/main\/resources\/hudson\/PluginManager\/_api.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/PluginManager\/_api.jelly":[{"add":["53","    Whereas <a href=\"..\/prevalidateConfig\">prevalidateConfig<\/a> call runs without any side-effect, you can also"],"delete":["53","    Whereas <a href=\"..\/pevalidateConfig\">prevalidateConfig<\/a> call runs without any side-effect, you can also"]}]}},"2b12abbda235507a20d69869952e985ff035e05d":{"changes":{"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/configure-entries.jelly":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenModuleSet\/configure-entries.jelly":[{"add":["75","                   checkUrl=\"'checkFileRelative?value='+escape(this.value)\""],"delete":["75","                   checkUrl=\"'checkFileInWorkspace?value='+escape(this.value)\""]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSet.java":[{"add":["36","import static hudson.Util.fixEmpty;","37","import static hudson.Util.fixEmptyAndTrim;","705","    \/**","706","     * Check that the provided file is a relative path. And check that it exists, just in case.","707","     *\/","708","    public FormValidation doCheckFileRelative(@QueryParameter String value) throws IOException, ServletException {","709","        String v = fixEmpty(value);","710","        if ((v == null) || (v.length() == 0)) {","711","            \/\/ Null values are allowed.","712","            return FormValidation.ok();","713","        }","714","        if ((v.startsWith(\"\/\")) || (v.startsWith(\"\\\\\")) || (v.matches(\"^\\\\w\\\\:\\\\\\\\.*\"))) {","715","            return FormValidation.error(\"Alternate settings file must be a relative path.\");","716","        }","717","        ","718","        MavenModuleSetBuild lb = getLastBuild();","719","        if (lb!=null) {","720","            FilePath ws = lb.getModuleRoot();","721","            if(ws!=null)","722","                return ws.validateRelativePath(value,true,true);","723","        }","724","        return FormValidation.ok();","725","    }","726",""],"delete":[]}]}},"4f2a31956d2ca394dcf6a6e82963bb3bf383cd52":{"changes":{"core\/src\/main\/resources\/lib\/layout\/layout.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/layout\/layout.jelly":[{"add":["17","<!-- Use st:header here rather than st:contentType because Jetty 5.x appears to ignore the latter. -->","18","<st:header name=\"Content-Type\" value=\"text\/html;charset=UTF-8\" \/>"],"delete":["17","<st:contentType value=\"text\/html;charset=UTF-8\" \/>"]}]}},"1a9a05d3e9e4d8374e643a5f834e883538a9627e":{"changes":{"core\/src\/main\/resources\/hudson\/model\/AbstractBuild\/tasks_ru.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/AbstractBuild\/index_ru.properties":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/AbstractBuild\/tasks_ru.properties":[{"add":["23","Changes=\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F","27","Status=\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441"],"delete":["23","Changes=\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F.","27","Status=\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441."]}],"core\/src\/main\/resources\/hudson\/model\/AbstractBuild\/index_ru.properties":[{"add":["23","startedAgo=\\u0417\\u0430\\u043F\\u0443\\u0449\\u0435\\u043D\\u0430 {0} \\u043D\\u0430\\u0437\\u0430\\u0434"],"delete":["23","startedAgo=\\u0417\\u0430\\u043f\\u0443\\u0449\\u0435\\u043d\\u0430 {0} \\u0434\\u043d\\u0435\\u0439 \\u043d\\u0430\\u0437\\u0430\\u0434."]}]}},"d95d16209a8cbe1e7fc2933b2ece061fb4cb3f34":{"changes":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Hudson.java":[{"add":["247","            for (Computer c : computers.values()) {","248","                if(c.getNode()==null)","249","                    continue;   \/\/ this computer is gone","251","            }"],"delete":["247","            for (Computer c : computers.values())"]}]}},"8f094a41bc94053403bf65cac5f9183a192ce03a":{"changes":{"core\/src\/main\/resources\/lib\/layout\/layout.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/lib\/layout\/layout.jelly":[{"add":[],"delete":["160","\t<j:invokeStatic var=\"j\" className=\"jenkins.model.Jenkins\" method=\"getActiveInstance\" \/>","161","    <j:set var=\"installState\" value=\"${j.installState.name()}\" \/>","162",""]}]}},"5843ae03d31ee59782b966cd6e162f12bf322340":{"changes":{"core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/MailSender.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["27","import java.io.BufferedReader;","30","import java.io.FileReader;","42","import java.util.LinkedList;","213","     * Gets the subset of {@link #getActions()} that consists of {@link BuildBadgeAction}s.","323","","603","         * by {@link Job#getLastSuccessfulBuild()}.","768","     * @deprecated Use {@link #getLog(int)} instead as it avoids loading","769","     * the whole log into memory unnecessarily.","771","    @Deprecated","776","    \/**","777","     * Gets the log of the build as a list of strings (one per log line).","778","     * The number of lines returned is constrained by the maxLines parameter.","779","     *","780","     * @param maxLines The maximum number of log lines to return.  If the log","781","     * is bigger than this, only the most recent lines are returned.","782","     * @return A list of log lines.  Will have no more than maxLines elements.","783","     * @throws IOException If there is a problem reading the log file.","784","     *\/","785","    public List<String> getLog(int maxLines) throws IOException {","786","        int lineCount = 0;","787","        List<String> logLines = new LinkedList<String>();","788","        BufferedReader reader = new BufferedReader(new FileReader(getLogFile()));","789","        for (String line = reader.readLine(); line != null; line = reader.readLine())","790","        {","791","            logLines.add(line);","792","            ++lineCount;","793","            \/\/ If we have too many lines, remove the oldest line.  This way we","794","            \/\/ never have to hold the full contents of a huge log file in memory.","795","            \/\/ Adding to and removing from the ends of a linked list are cheap","796","            \/\/ operations.","797","            if (lineCount > maxLines)","798","                logLines.remove(0);","799","        }","800","","801","        \/\/ If the log has been truncated, include that information.","802","        \/\/ Use set (replaces the first element) rather than add so that","803","        \/\/ the list doesn't grow beyond the specified maximum number of lines.","804","        if (lineCount > maxLines)","805","            logLines.set(0, \"[...truncated \" + (lineCount - (maxLines - 1)) + \" lines...]\");","806","","807","        return logLines;","808","    }","809",""],"delete":["210","     * Gets the subset of {@link #getActions()} that consists of {@link BuildBadgeAction}s. ","320","        ","600","         * by {@link Job#getLastSuccessfulBuild()}. ","765","     * I know, this isn't terribly efficient!"]}],"core\/src\/main\/java\/hudson\/tasks\/MailSender.java":[{"add":["19","import java.util.List;","173","            \/\/ Restrict max log size to avoid sending enormous logs over email.","174","            \/\/ Interested users can always look at the log on the web server.","175","            List<String> lines = build.getLog(MAX_LOG_LINES);","176","","199","            for (String line : lines) {"],"delete":["172","            String log = build.getLog();","173","            String[] lines = log.split(\"\\n\");","174","            int start = 0;","175","            if (lines.length > MAX_LOG_LINES) {","176","                \/\/ Avoid sending enormous logs over email.","177","                \/\/ Interested users can always look at the log on the web server.","178","                buf.append(\"[...truncated \" + (lines.length - MAX_LOG_LINES) + \" lines...]\\n\");","179","                start = lines.length - MAX_LOG_LINES;","180","            }","203","            for (int i = start; i < lines.length; i++) {","204","                String line = lines[i];"]}]}},"2a80399f2e3afd9644266aa4a782229dd63e8817":{"changes":{"core\/src\/main\/resources\/hudson\/model\/User\/builds.jelly":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/User\/builds.jelly":[{"add":["19","            <td data=\"${b.iconColor.ordinal()}\">"],"delete":["19","            <td data=\"${b.iconColor}\">"]}]}},"0d3d6b65bf134ba01d67908db63212dc54aa1c58":{"changes":{"core\/src\/main\/java\/hudson\/cli\/GroovyCommand.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/cli\/GroovyCommand.java":[{"add":["73","","74","        if (channel != null) {","75","            String j = getClientEnvironmentVariable(\"JOB_NAME\");","76","            if (j != null) {","77","                Item job = Jenkins.getActiveInstance().getItemByFullName(j);","78","                binding.setProperty(\"currentJob\", job);","79","                String b = getClientEnvironmentVariable(\"BUILD_NUMBER\");","80","                if (b != null && job instanceof AbstractProject) {","81","                    Run r = ((AbstractProject) job).getBuildByNumber(Integer.parseInt(b));","82","                    binding.setProperty(\"currentBuild\", r);","83","                }"],"delete":["73","        String j = getClientEnvironmentVariable(\"JOB_NAME\");","74","        if (j!=null) {","75","            Item job = Jenkins.getActiveInstance().getItemByFullName(j);","76","            binding.setProperty(\"currentJob\", job);","77","            String b = getClientEnvironmentVariable(\"BUILD_NUMBER\");","78","            if (b!=null && job instanceof AbstractProject) {","79","                Run r = ((AbstractProject) job).getBuildByNumber(Integer.parseInt(b));","80","                binding.setProperty(\"currentBuild\", r);"]}]}},"10a52c102b4c95e8c2827ff81a15d9be238cc530":{"changes":{"core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":[{"add":["78","import javax.annotation.CheckReturnValue;","473","     * @return Requested value or {@code -1} if the agent is offline.","476","    @CheckReturnValue","478","        if (channel == null) {","479","            return -1;","480","        }","486","     * @return Requested value or {@code -1} in case that capability is not supported or if the agent is offline.","489","    @CheckReturnValue","491","        if (channel == null) {","492","            return -1;","493","        }","502","     * @return Requested value or {@code -1} if the agent is offline.","505","    @CheckReturnValue","507","        if (channel == null) {","508","            return -1;","509","        }","515","     * @return Requested value or {@code -1} if the agent is offline.","518","    @CheckReturnValue","520","        if (channel == null) {","521","            return -1;","522","        }","528","     * @return Requested value or {@code -1} if the agent is offline.","531","    @CheckReturnValue","533","        if (channel == null) {","534","            return -1;","535","        }","790","","921","    @CheckReturnValue","923","        if (channel == null) {","924","            return \"Unknown (agent is offline)\";","925","        }","932","    @CheckReturnValue","934","        if (channel == null) {","935","            return \"Unknown (agent is offline)\";","936","        }","943","    @CheckReturnValue","945","        if (channel == null) {","950","            return channel.call(new ListFullEnvironment());"],"delete":["480","     * @return -1 in case that capability is not supported","765","            ","911","        if(getChannel() == null) {","916","            return getChannel().call(new ListFullEnvironment());"]}]}},"5a6cf8ec047435867ee18269058a5d9e08ca3d1e":{"changes":{"core\/src\/main\/java\/hudson\/PluginManager.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/PluginManager.java":[{"add":["697","                        UpdateSite.Plugin plugin = updateSite.getPlugin(pluginName);","698","                        if (plugin != null) {","699","                            if (p != null) {","700","                                throw new Failure(\"Ambiguous plugin: \" + n);","701","                            }","702","                            p = plugin;"],"delete":["697","                        if (p != null) {","698","                            throw new Failure(\"Ambiguous plugin: \" + n);","700","                        p = updateSite.getPlugin(pluginName);"]}]}},"e942555fd4a746b7193af71653e62553ff2d4caf":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/ExecutedMojo.java":"MODIFY","maven-plugin\/src\/test\/java\/hudson\/maven\/ExecutedMojoTest.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/ExecutedMojo.java":[{"add":["31","import java.io.File;","101","                File jarFile = Which.jarFile(clazz);","102","                if (jarFile.isFile()) {","103","                    digest = Util.getDigestOf(new FileInputStream(jarFile));","104","                } else {","105","                    \/\/ Maybe mojo was loaded from a classes dir instead of from a jar (JENKINS-5044)","106","                    LOGGER.log(Level.WARNING, \"Cannot calculate digest of mojo class, because mojo wasn't loaded from a jar, but from: \"","107","                            + jarFile);","108","                }","118","            LOGGER.log(Level.WARNING, \"Failed to calculate digest for \"+md.getImplementation(),e);"],"delete":["32","import java.io.FileNotFoundException;","101","                digest = Util.getDigestOf(new FileInputStream(Which.jarFile(clazz)));    ","111","            \/\/ Maybe mojo was loaded from a classes dir instead of from a jar (JENKINS-5044)","112","            LOGGER.log(Level.WARNING, \"Failed to caculate digest for \"+md.getImplementation(),e);"]}],"maven-plugin\/src\/test\/java\/hudson\/maven\/ExecutedMojoTest.java":[{"add":["40","        \/\/ suppress the WARNING logs we expect"],"delete":[]}]}},"25da480fab1da7d2a01ab68a56faf00cae0c23b1":{"changes":{"core\/src\/main\/java\/jenkins\/security\/apitoken\/LegacyApiTokenAdministrativeMonitor.java":"MODIFY","test\/src\/test\/java\/jenkins\/security\/apitoken\/LegacyApiTokenAdministrativeMonitorTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/security\/apitoken\/LegacyApiTokenAdministrativeMonitor.java":[{"add":["102","        if (legacyToken != null) {","118","        if (legacyStats == null) {","142","        if (legacyStats == null) {","147","        ","163","            if (value.userId == null) {","164","                \/\/ special case not managed by JSONObject","165","                value.userId = \"null\";","166","            }","172","                if (apiTokenProperty == null) {","174","                } else {","176","                    if (revokedToken == null) {","178","                    } else {"],"delete":["102","        if(legacyToken != null){","118","        if(legacyStats == null){","142","        if(legacyStats == null){","147","    ","168","                if(apiTokenProperty == null){","170","                }else{","172","                    if(revokedToken == null){","174","                    }else{"]}],"test\/src\/test\/java\/jenkins\/security\/apitoken\/LegacyApiTokenAdministrativeMonitorTest.java":[{"add":["40","import org.jvnet.hudson.test.Issue;","54","    private enum SelectFilter {","55","        ALL(0),","56","        ONLY_FRESH(1),","57","        ONLY_RECENT(2);","58","        ","59","        int index;","60","        ","61","        SelectFilter(int index) {","62","            this.index = index;","63","        }","64","    }","65","    ","92","    @Issue(\"JENKINS-52441\")","93","    public void takeCareOfUserWithIdNull() throws Exception {","94","        ApiTokenPropertyConfiguration config = ApiTokenPropertyConfiguration.get();","95","        config.setCreationOfLegacyTokenEnabled(true);","96","        config.setTokenGenerationOnCreationEnabled(false);","97","        ","98","        \/\/ user created without legacy token","99","        User user = User.getById(\"null\", true);","100","        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);","101","        assertFalse(apiTokenProperty.hasLegacyToken());","102","        ","103","        LegacyApiTokenAdministrativeMonitor monitor = j.jenkins.getExtensionList(AdministrativeMonitor.class).get(LegacyApiTokenAdministrativeMonitor.class);","104","        assertFalse(monitor.isActivated());","105","        ","106","        apiTokenProperty.changeApiToken();","107","        assertTrue(monitor.isActivated());","108","        ","109","        {\/\/revoke the legacy token","110","            JenkinsRule.WebClient wc = j.createWebClient();","111","            ","112","            HtmlPage page = wc.goTo(monitor.getUrl() + \"\/manage\");","113","            {\/\/ select all (only one user normally)","114","                HtmlAnchor filterAll = getFilterByIndex(page, SelectFilter.ALL);","115","                HtmlElementUtil.click(filterAll);","116","            }","117","            \/\/ revoke them","118","            HtmlButton revokeSelected = getRevokeSelected(page);","119","            HtmlElementUtil.click(revokeSelected);","120","        }","121","        ","122","        assertFalse(monitor.isActivated());","123","    }","124","    ","125","    @Test","303","            HtmlAnchor filterOnlyFresh = getFilterByIndex(page, SelectFilter.ONLY_FRESH);","314","            HtmlAnchor filterAll = getFilterByIndex(newPage, SelectFilter.ALL);","324","    private HtmlAnchor getFilterByIndex(HtmlPage page, SelectFilter selectFilter) {","330","        HtmlAnchor filter = (HtmlAnchor) filters.get(selectFilter.index);","390","            return;"],"delete":["256","            HtmlAnchor filterOnlyFresh = getFilterByIndex(page, 1);","267","            HtmlAnchor filterAll = getFilterByIndex(newPage, 0);","277","    private HtmlAnchor getFilterByIndex(HtmlPage page, int index) {","283","        HtmlAnchor filter = (HtmlAnchor) filters.get(index);","343","            return ;"]}]}},"8ca803819bbd7f5ecaf44179680d6694999e74d4":{"changes":{"core\/src\/main\/java\/hudson\/model\/queue\/WorkUnitContext.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Queue.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/queue\/WorkUnitContext.java":[{"add":["69","        \/\/ JENKINS-51584 do not use item.getAllActions() here.","70","        this.actions = new ArrayList<Action>(item.getActions());"],"delete":["69","        this.actions = new ArrayList<Action>(item.getAllActions());","70","        "]}],"core\/src\/main\/java\/hudson\/model\/Queue.java":[{"add":["2198","        @SuppressWarnings(\"deprecation\") \/\/ JENKINS-51584","2200","            \/\/ do not use item.getAllActions() here as this will persist actions from a TransientActionFactory","2201","            this(item.task, new ArrayList<Action>(item.getActions()), item.id, item.future, item.inQueueSince);"],"delete":["2199","        \tthis(item.task, new ArrayList<Action>(item.getAllActions()), item.id, item.future, item.inQueueSince);"]}]}},"be4ea04cc672aea849f175482822c32c15670385":{"changes":{"core\/pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["121","      <version>1.32<\/version>"],"delete":["121","      <version>1.31<\/version>"]}]}},"a4a1847d74280c46a6566d7966d7fdbc60ff8e2e":{"changes":{"core\/src\/main\/java\/jenkins\/security\/UserDetailsCache.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/security\/UserDetailsCache.java":[{"add":[],"delete":["52","@Restricted(NoExternalUse.class) \/\/TODO Keep for LTS, Remove when in weekly"]}]}},"892bdf124ebd3b8a386c7e019ce4ebe74262b819":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["109","    <remoting.version>3.29<\/remoting.version>"],"delete":["109","    <remoting.version>3.30<\/remoting.version>"]}]}},"4dd7f71ec2cd5841d5e0685d7df45466c145bc5e":{"changes":{"core\/src\/main\/resources\/hudson\/security\/GlobalSecurityConfiguration\/index.groovy":"MODIFY","core\/src\/main\/java\/hudson\/security\/GlobalSecurityConfiguration.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/security\/GlobalSecurityConfiguration\/index.groovy":[{"add":["24","            set(\"descriptor\", my.descriptor);"],"delete":[]}],"core\/src\/main\/java\/hudson\/security\/GlobalSecurityConfiguration.java":[{"add":["32","import hudson.model.Describable;","58","public class GlobalSecurityConfiguration extends ManagementLink implements Describable<GlobalSecurityConfiguration> {","129","        return getDescriptor().getDisplayName();","157","","158","    \/**","159","     * @return","160","     * @see hudson.model.Describable#getDescriptor()","161","     *\/","162","    @SuppressWarnings(\"unchecked\")","163","    @Override","164","    public Descriptor<GlobalSecurityConfiguration> getDescriptor() {","165","        return Jenkins.getInstance().getDescriptorOrDie(getClass());","166","    }","167","    ","168","    @Extension","169","    public static final class DescriptorImpl extends Descriptor<GlobalSecurityConfiguration> {","170","        @Override","171","        public String getDisplayName() {","172","            return Messages.GlobalSecurityConfiguration_DisplayName();","173","        }","174","    }"],"delete":["57","public class GlobalSecurityConfiguration extends ManagementLink {","128","        return Messages.GlobalSecurityConfiguration_DisplayName();"]}]}},"6cf67767b80b2f458a00eef6842b6f9fb42a43c5":{"changes":{"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections4.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Groovy1.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/Security232Test.java":"ADD","test-pom\/pom.xml":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/Serializer.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JenkinsListener.java":"ADD","test-jdk8\/pom.xml":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections5.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JRMPClient.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JRMPListener.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/Serializables.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/annotation\/Dependencies.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/PayloadRunner.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/Reflections.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/secmgr\/ExecCheckingSecurityManager.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/secmgr\/DelegateSecurityManager.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/Reflections.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/JavaVersion.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/JsonLibSignedObject.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/ReleaseableObjectPayload.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/ClassFiles.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/RMIRegistryExploit.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/DynamicDependencies.java":"ADD","test\/pom.xml":"MODIFY","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/JRMPListener.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/Gadgets.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JenkinsCLI.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Spring2.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/JRMPClient.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections1.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/GeneratePayload.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Jdk7u21.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JSF.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/FileUpload1.java":"ADD","pom.xml":"MODIFY","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/ExecBlockingSecurityManager.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections2.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/Security218BlackBoxTest.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JRMPClassLoadingListener.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/Payload.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/secmgr\/ThreadLocalSecurityManager.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/Gadgets.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/PayloadRunner.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/Deserializer.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Ldap.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/ObjectPayload.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Spring1.java":"ADD","\/dev\/null":"DELETE","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsBeanutils1.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JenkinsReverse.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections6.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/ClassFiles.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/Security218CliTest.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/annotation\/PayloadTest.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/JSON1.java":"ADD","test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections3.java":"ADD"},"diff":{"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections4.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Groovy1.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/Security232Test.java":[{"add":[],"delete":[]}],"test-pom\/pom.xml":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/Serializer.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JenkinsListener.java":[{"add":[],"delete":[]}],"test-jdk8\/pom.xml":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections5.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JRMPClient.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JRMPListener.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/Serializables.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/annotation\/Dependencies.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/PayloadRunner.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/Reflections.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/secmgr\/ExecCheckingSecurityManager.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/secmgr\/DelegateSecurityManager.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/Reflections.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/JavaVersion.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/JsonLibSignedObject.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/ReleaseableObjectPayload.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/ClassFiles.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/RMIRegistryExploit.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/DynamicDependencies.java":[{"add":[],"delete":[]}],"test\/pom.xml":[{"add":["29","    <artifactId>jenkins-test-parent<\/artifactId>","31","    <relativePath>..\/test-pom<\/relativePath>"],"delete":["29","    <artifactId>jenkins-parent<\/artifactId>","38","  <properties>","39","    <concurrency>2<\/concurrency> <!-- may use e.g. 2C for 2 × (number of cores) -->","40","    <mavenDebug>false<\/mavenDebug>","41","    <jacocoSurefireArgs \/><!-- empty by default -->","42","  <\/properties>","43","","44","  <dependencies>","45","    <dependency>","46","      <groupId>${project.groupId}<\/groupId>","47","      <artifactId>jenkins-war<\/artifactId>","48","      <version>${project.version}<\/version>","49","      <type>executable-war<\/type>","50","      <scope>test<\/scope>","51","    <\/dependency>","52","    <dependency>","53","      <groupId>${project.groupId}<\/groupId>","54","      <artifactId>jenkins-test-harness<\/artifactId>","55","      <version>2.41.1<\/version>","56","      <scope>test<\/scope>","57","      <exclusions>","58","        <exclusion>","59","          <groupId>${project.groupId}<\/groupId>","60","          <artifactId>jenkins-war<\/artifactId>","61","        <\/exclusion>","62","      <\/exclusions>","63","    <\/dependency>","64","    <dependency>","65","      <groupId>${project.groupId}<\/groupId>","66","      <artifactId>jenkins-test-harness-tools<\/artifactId>","67","      <version>2.0<\/version>","68","      <scope>test<\/scope>","69","    <\/dependency>","70","    <dependency>","71","      <groupId>${project.groupId}<\/groupId>","72","      <artifactId>maven-plugin<\/artifactId>","73","      <version>${maven-plugin.version}<\/version>","74","      <exclusions>","75","        <exclusion> <!-- perhaps unnecessary as of JENKINS-35445? -->","76","          <groupId>org.apache.httpcomponents<\/groupId>","77","          <artifactId>httpclient<\/artifactId>","78","        <\/exclusion>","79","        <exclusion>","80","          <groupId>org.apache.httpcomponents<\/groupId>","81","          <artifactId>httpcore<\/artifactId>","82","        <\/exclusion>","83","        <exclusion>","84","          <groupId>commons-codec<\/groupId>","85","          <artifactId>commons-codec<\/artifactId>","86","        <\/exclusion>","87","        <exclusion>","88","          <groupId>com.google.inject<\/groupId>","89","          <artifactId>guice<\/artifactId>","90","        <\/exclusion>","91","        <exclusion>","92","          <groupId>org.apache.ant<\/groupId>","93","          <artifactId>ant<\/artifactId>","94","        <\/exclusion>","95","      <\/exclusions>","96","    <\/dependency>","97","    <dependency>","98","      <groupId>org.jenkins-ci.plugins<\/groupId>","99","      <artifactId>matrix-auth<\/artifactId>","100","      <version>1.0.2<\/version>","101","    <\/dependency>","102","    <dependency>","103","      <groupId>org.jenkins-ci.plugins<\/groupId>","104","      <artifactId>antisamy-markup-formatter<\/artifactId>","105","      <version>1.0<\/version>","106","      <scope>test<\/scope>","107","    <\/dependency>","108","    <dependency>","109","      <groupId>org.jenkins-ci.plugins<\/groupId>","110","      <artifactId>matrix-project<\/artifactId>","111","      <version>${matrix-project.version}<\/version>","112","    <\/dependency>","113","    <dependency>","114","      <groupId>org.jenkins-ci.plugins<\/groupId>","115","      <artifactId>junit<\/artifactId>","116","      <version>1.6<\/version>","117","      <scope>test<\/scope>","118","    <\/dependency>","119","    <dependency>","120","      <groupId>org.jenkins-ci.plugins<\/groupId>","121","      <artifactId>structs<\/artifactId>","122","      <version>1.2<\/version>","123","      <scope>test<\/scope>","124","    <\/dependency>","125","    <dependency>","126","      <groupId>org.jvnet.mock-javamail<\/groupId>","127","      <artifactId>mock-javamail<\/artifactId>","128","      <version>1.7<\/version>","129","      <exclusions>","130","        <exclusion>","131","          <groupId>javax.mail<\/groupId>","132","          <artifactId>mail<\/artifactId>","133","        <\/exclusion>","134","      <\/exclusions>","135","    <\/dependency>","136","    <dependency>","137","      <groupId>org.hamcrest<\/groupId>","138","      <artifactId>hamcrest-core<\/artifactId>","139","      <version>1.3<\/version>","140","    <\/dependency>","141","    <dependency><!-- we exclude this transient dependency from htmlunit, which we actually need in the test -->","142","      <groupId>xalan<\/groupId>","143","      <artifactId>xalan<\/artifactId>","144","      <version>2.7.2<\/version>","145","      <exclusions>","146","        <exclusion>","147","          <groupId>xml-apis<\/groupId>","148","          <artifactId>xml-apis<\/artifactId>","149","        <\/exclusion>","150","      <\/exclusions>","151","    <\/dependency>","152","    <dependency>","153","      <!-- for testing JNLP launch. -->","154","      <groupId>org.jvnet.hudson<\/groupId>","155","      <artifactId>netx<\/artifactId>","156","      <version>0.5-hudson-2<\/version>","157","    <\/dependency>","158","    <dependency>","159","      <groupId>org.easymock<\/groupId>","160","      <artifactId>easymock<\/artifactId>","161","      <version>2.4<\/version>","162","    <\/dependency>","163","    <dependency>","164","      <groupId>org.mockito<\/groupId>","165","      <artifactId>mockito-core<\/artifactId>","166","      <scope>test<\/scope>","167","    <\/dependency>","168","    <dependency>","169","      <groupId>org.reflections<\/groupId>","170","      <artifactId>reflections<\/artifactId>","171","      <version>0.9.9<\/version>","172","      <exclusions>","173","        <exclusion> <!-- TODO requests 15; apparently works well enough with the 11 we bundle -->","174","          <groupId>com.google.guava<\/groupId>","175","          <artifactId>guava<\/artifactId>","176","        <\/exclusion>","177","        <exclusion> <!-- pick up from Stapler -->","178","          <groupId>com.google.code.findbugs<\/groupId>","179","          <artifactId>jsr305<\/artifactId>","180","        <\/exclusion>","181","      <\/exclusions>","182","    <\/dependency>","183","    <dependency>","184","      <groupId>org.codehaus.geb<\/groupId>","185","      <artifactId>geb-implicit-assertions<\/artifactId>","186","      <version>0.7.2<\/version>","187","    <\/dependency>","188","    <dependency>","189","      <groupId>org.javassist<\/groupId>","190","      <artifactId>javassist<\/artifactId>","191","      <version>3.19.0-GA<\/version>","192","      <scope>test<\/scope>","193","    <\/dependency>","194","    <dependency>","195","      <groupId>org.apache.commons<\/groupId>","196","      <artifactId>commons-collections4<\/artifactId>","197","      <version>4.0<\/version>","198","      <scope>test<\/scope>","199","    <\/dependency>","200","    <dependency>","201","      <groupId>org.awaitility<\/groupId>","202","      <artifactId>awaitility<\/artifactId>","203","      <version>3.0.0<\/version>","204","      <scope>test<\/scope>","205","    <\/dependency>","206","    <dependency>","207","      <groupId>org.objenesis<\/groupId>","208","      <artifactId>objenesis<\/artifactId>","209","      <scope>test<\/scope>","210","    <\/dependency>","211","  <\/dependencies>","212","","213","  <build>","214","    <plugins>","215","      <plugin>","216","        <groupId>org.jenkins-ci.tools<\/groupId>","217","        <artifactId>maven-hpi-plugin<\/artifactId>","218","        <extensions>true<\/extensions>","219","      <\/plugin>","220","      <plugin>","221","        <groupId>org.kohsuke.stapler<\/groupId>","222","        <artifactId>maven-stapler-plugin<\/artifactId>","223","        <!-- version specified in grandparent pom -->","224","        <extensions>true<\/extensions>","225","      <\/plugin>","226","      <plugin>","227","        <artifactId>maven-dependency-plugin<\/artifactId>","228","        <executions>","229","          <execution>","230","            <id>old-remoting-for-test<\/id>","231","            <phase>generate-test-resources<\/phase>","232","            <goals>","233","              <!-- we use copy as this is a dependency from outside the reactor -->","234","              <goal>copy<\/goal>","235","            <\/goals>","236","            <configuration>","237","              <artifactItems>","238","                <artifactItem>","239","                  <groupId>org.jenkins-ci.main<\/groupId>","240","                  <artifactId>remoting<\/artifactId>","241","                  <version>${remoting.minimum.supported.version}<\/version>","242","                  <type>jar<\/type>","243","                  <outputDirectory>${project.build.outputDirectory}\/old-remoting<\/outputDirectory>","244","                  <destFileName>remoting-minimal-supported.jar<\/destFileName>","245","                <\/artifactItem>","246","              <\/artifactItems>","247","            <\/configuration>","248","          <\/execution>","249","        <\/executions>","250","      <\/plugin>","251","      <plugin>","252","        <groupId>org.apache.maven.plugins<\/groupId>","253","        <artifactId>maven-surefire-plugin<\/artifactId>","254","        <!-- version specified in grandparent pom -->","255","        <configuration>","256","          <argLine>${jacocoSurefireArgs} -Dfile.encoding=UTF-8 -Xmx1g -Djdk.net.URLClassPath.disableClassPathURLCheck=true<\/argLine>","257","          <systemPropertyVariables>","258","              <!-- use AntClassLoader that supports predictable file handle release -->","259","              <hudson.ClassicPluginStrategy.useAntClassLoader>true<\/hudson.ClassicPluginStrategy.useAntClassLoader>","260","              <hudson.maven.debug>${mavenDebug}<\/hudson.maven.debug>","261","              <buildDirectory>${project.build.directory}<\/buildDirectory>","262","          <\/systemPropertyVariables>","263","          <reuseForks>false<\/reuseForks>","264","          <forkCount>${concurrency}<\/forkCount>","265","        <\/configuration>","266","      <\/plugin>","267","      <plugin>","268","        <artifactId>maven-deploy-plugin<\/artifactId>","269","        <configuration>","270","          <skip>true<\/skip>","271","        <\/configuration>","272","      <\/plugin>","273","      <plugin> <!-- TODO pending JENKINS-45271 fix, would be best to finish moving MavenModuleSet-specific tests to maven-plugin and delete the test dep here -->","274","        <groupId>org.apache.maven.plugins<\/groupId>","275","        <artifactId>maven-enforcer-plugin<\/artifactId>","276","        <configuration>","277","          <rules>","278","            <requireUpperBoundDeps>","279","              <excludes combine.children=\"append\">","280","                <exclude>org.apache.maven:maven-embedder<\/exclude>","281","                <exclude>org.codehaus.plexus:plexus-classworlds<\/exclude>","282","                <exclude>org.apache.maven:maven-core<\/exclude>","283","                <exclude>org.apache.maven:maven-aether-provider<\/exclude>","284","                <exclude>org.codehaus.plexus:plexus-utils<\/exclude>","285","              <\/excludes>","286","            <\/requireUpperBoundDeps>","287","          <\/rules>","288","        <\/configuration>","289","      <\/plugin>","290","      <plugin> <!-- https:\/\/stackoverflow.com\/a\/19503679\/12916 ysoserial deliberately uses internal APIs; suppress warnings about them -->","291","        <groupId>org.apache.maven.plugins<\/groupId>","292","        <artifactId>maven-compiler-plugin<\/artifactId>","293","        <configuration>","294","          <compilerArgument>-XDignore.symbol.file<\/compilerArgument>","295","          <fork>true<\/fork>","296","        <\/configuration>","297","      <\/plugin>","298","    <\/plugins>","299","  <\/build>","300","","301","  <profiles>","302","    <profile>","303","      <!-- Profile, which allows skipping all integration tests -->","304","      <id>light-test<\/id>","305","      <properties>","306","        <skipTests>true<\/skipTests>","307","      <\/properties>","308","    <\/profile>","309","    <profile>","310","      <!-- Profile, which runs only a number of quick integration tests so that the build takes less than 5 minutes -->","311","      <id>smoke-test<\/id>","312","      <properties>","313","        <test>jenkins.model.StartupTest,jenkins.model.JenkinsTest,jenkins.install.*,jenkins.security.CustomClassFilterTest,hudson.AboutJenkinsTest,hudson.ClassicPluginStrategyTest,hudson.LauncherTest,hudson.slaves.JNLPLauncherTest,hudson.model.RunTest,hudson.model.UserTest,hudson.model.FreeStyleProjectTest,hudson.model.HudsonTest,hudson.model.ComputerTest,hudson.CLI.BuildCommandTest#sync,*.smokes<\/test>","314","      <\/properties>","315","    <\/profile>","316","    <profile>","317","      <id>all-tests<\/id>","318","      <activation>","319","        <property>","320","          <name>!test<\/name>","321","        <\/property>","322","      <\/activation>","323","      <properties>","324","        <maven.test.redirectTestOutputToFile>true<\/maven.test.redirectTestOutputToFile>","325","        <surefire.rerunFailingTestsCount>4<\/surefire.rerunFailingTestsCount>","326","        <surefire.skipAfterFailureCount>100<\/surefire.skipAfterFailureCount>","327","      <\/properties>","328","    <\/profile>","329","    <profile>","330","      <id>jacoco<\/id>","331","      <build>","332","        <plugins>","333","          <plugin>","334","            <groupId>org.jacoco<\/groupId>","335","            <artifactId>jacoco-maven-plugin<\/artifactId>","336","            <version>0.6.3.201306030806<\/version>","337","            <executions>","338","              <!--","339","                Prepares the property pointing to the JaCoCo runtime agent which","340","                is passed as VM argument when Maven the Surefire plugin is executed.","341","              -->","342","              <execution>","343","                <id>pre-unit-test<\/id>","344","                <goals>","345","                  <goal>prepare-agent<\/goal>","346","                <\/goals>","347","                <configuration>","348","                  <!-- Sets the path to the file which contains the execution data. -->","349","                  <destFile>${project.build.directory}\/coverage-reports\/jacoco-ut.exec<\/destFile>","350","                  <propertyName>jacocoSurefireArgs<\/propertyName>","351","                <\/configuration>","352","              <\/execution>","353","              <!--","354","                Ensures that the code coverage report for unit tests is created after","355","                unit tests have been run.","356","              -->","357","              <execution>","358","                <id>post-unit-test<\/id>","359","                <phase>test<\/phase>","360","                <goals>","361","                  <goal>report<\/goal>","362","                <\/goals>","363","                <configuration>","364","                  <!-- Sets the path to the file which contains the execution data. -->","365","                  <dataFile>${project.build.directory}\/coverage-reports\/jacoco-ut.exec<\/dataFile>","366","                  <!-- Sets the output directory for the code coverage report. -->","367","                  <outputDirectory>${project.reporting.outputDirectory}\/jacoco-ut<\/outputDirectory>","368","                <\/configuration>","369","              <\/execution>","370","            <\/executions>","371","          <\/plugin>","372","        <\/plugins>","373","      <\/build>","374","    <\/profile>","375","  <\/profiles>"]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/JRMPListener.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/Gadgets.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JenkinsCLI.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Spring2.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/JRMPClient.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections1.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/GeneratePayload.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Jdk7u21.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JSF.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/FileUpload1.java":[{"add":[],"delete":[]}],"pom.xml":[{"add":["53","    <module>test-pom<\/module>","774","    <profile>","775","      <id>jdk8<\/id>","776","      <modules>","777","        <module>test-jdk8<\/module>","778","      <\/modules>","779","      <activation>","780","        <jdk>1.8<\/jdk>","781","      <\/activation>","782","    <\/profile>"],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/ExecBlockingSecurityManager.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections2.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/Security218BlackBoxTest.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JRMPClassLoadingListener.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/Payload.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/secmgr\/ThreadLocalSecurityManager.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/Gadgets.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/util\/PayloadRunner.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/Deserializer.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Ldap.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/ObjectPayload.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/Spring1.java":[{"add":[],"delete":[]}],"\/dev\/null":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsBeanutils1.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/exploit\/JenkinsReverse.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections6.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/util\/ClassFiles.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/Security218CliTest.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/annotation\/PayloadTest.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/JSON1.java":[{"add":[],"delete":[]}],"test-jdk8\/src\/test\/java\/jenkins\/security\/security218\/ysoserial\/payloads\/CommonsCollections3.java":[{"add":[],"delete":[]}]}},"585eb87c2d1fdd93c585efca2b993ad734afdb20":{"changes":{"core\/pom.xml":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/pom.xml":[{"add":["221","      <version>1.4.7-jenkins-1<\/version>"],"delete":["221","      <version>1.4.4-jenkins-5<\/version>"]}],"changelog.html":[{"add":["58","    Fixed <tt>ArrayIndexOutOfBoundsException<\/tt> in XStream with Oracle JDK8 release version","59","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-18537\">issue 18537<\/a>)","60","  <li class=bug>"],"delete":[]}]}},"24df43fa448efae530da9ed8d816a1ba3541bbcb":{"changes":{"war\/pom.xml":"MODIFY"},"diff":{"war\/pom.xml":[{"add":["106","      <version>1.4<\/version>"],"delete":["106","      <version>1.2<\/version>"]}]}},"0b8febbdc3a927839a7505fa361dc8e38cafc635":{"changes":{"test\/src\/test\/java\/hudson\/tasks\/MavenTest.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/tasks\/MavenTest.java":[{"add":["224","        \/\/ This test implements legacy behavior, when Build Variables are injected by default","225","        project.getBuildersList().add(new Maven(\"--help\", null, null, properties, null,","226","                false, null, null, true));"],"delete":["224","        project.getBuildersList().add(new Maven(\"--help\",null,null,properties,null));"]}]}},"89c18838a1c7b78fe7b3985b1c5bf7b4a83bfdc1":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/ArtifactArchiver.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/ArtifactArchiver.java":[{"add":["101","            if (ws==null) { \/\/ #3330: slave down?","102","                return true;","103","            }"],"delete":["33","import hudson.model.Descriptor;"]}]}},"709586c539f0d89c69493b17be40681b4e1e860e":{"changes":{"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":[{"add":["142","     *      null, for example if the slave that this build run no longer exists.","152","     * Returns the name of the slave it was built on; null or \"\" if built by the master.","153","     * (null happens when we read old record that didn't have this information.)"],"delete":["142","     *      null, for example if the slave that this build run no logner exists.","152","     * Returns the name of the slave it was built on, or null if it was the master."]}]}},"4def416224074c611f41185bd4e2dd0b68bcba5d":{"changes":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["856","                try {","857","                    l.onLoaded();","858","                } catch (RuntimeException x) {","859","                    LOGGER.log(Level.WARNING, null, x);","860","                }"],"delete":["856","                l.onLoaded();"]}]}},"0ee10d77e1a784cdb37416c8633478850ad05c44":{"changes":{"core\/src\/main\/java\/hudson\/model\/View.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/View.java":[{"add":["265","","266","    \/\/ to simplify access from Jelly","267","    public static Permission getItemCreatePermission() {","268","        return Item.CREATE;","269","    }"],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/View\/sidepanel.jelly":[{"add":["12","      <l:task icon=\"images\/24x24\/new-package.gif\" href=\"${it.rootUrl}newJob\" title=\"${%New Job}\" permission=\"${it.itemCreatePermission}\" \/>","13","      <l:task icon=\"images\/24x24\/setting.gif\" href=\"${rootURL}\/manage\" title=\"${%Manage Hudson}\" permission=\"${app.ADMINISTER}\" \/>","14","      <j:if test=\"${it.hasPeople()}\">","15","        <l:task icon=\"images\/24x24\/user.gif\" href=\"${it.rootUrl}people\/\" title=\"${%People}\" \/>","16","      <\/j:if>","17","      <st:include page=\"sidepanel2.jelly\" \/>"],"delete":["12","      <l:isAdmin>","13","        <l:task icon=\"images\/24x24\/new-package.gif\" href=\"${it.rootUrl}newJob\" title=\"${%New Job}\" \/>","14","        <l:task icon=\"images\/24x24\/setting.gif\" href=\"${rootURL}\/manage\" title=\"${%Manage Hudson}\" \/>","15","        <j:if test=\"${it.hasPeople()}\">","16","          <l:task icon=\"images\/24x24\/user.gif\" href=\"${it.rootUrl}people\/\" title=\"${%People}\" \/>","17","        <\/j:if>","18","        <st:include page=\"sidepanel2.jelly\" \/>","19","      <\/l:isAdmin>"]}]}},"2e81fba4f2bdd67b9744a4de6a61f91fdb02ab05":{"changes":{"war\/resources\/scripts\/hudson-behavior.js":"MODIFY"},"diff":{"war\/resources\/scripts\/hudson-behavior.js":[{"add":["744","                \/\/ Reselect anything unselected by browser before names uniquified:","745","                if (inputs[i].defaultChecked) inputs[i].checked = true;"],"delete":["1584",""]}]}},"76ecab77331312891eaae6f1fceb032e4de0a0c9":{"changes":{"test\/src\/test\/java\/hudson\/model\/AbstractProjectTest.java":"MODIFY","core\/src\/main\/java\/hudson\/matrix\/MatrixRun.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/FreeStyleBuild.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractProject.java":"MODIFY","core\/src\/main\/java\/hudson\/slaves\/WorkspaceList.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenBuild.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/AbstractProjectTest.java":[{"add":["31","import hudson.scm.SCM;","32","import hudson.scm.ChangeLogParser;","33","import hudson.scm.NullSCM;","34","import hudson.Launcher;","35","import hudson.FilePath;","36","import hudson.util.StreamTaskListener;","37","import hudson.util.OneShotEvent;","39","import org.jvnet.hudson.test.Bug;","43","import java.io.IOException;","44","import java.io.File;","45","import java.util.concurrent.Future;","46","","131","","132","    \/**","133","     * Unless the concurrent build option is enabled, polling and build should be mutually exclusive","134","     * to avoid allocating unnecessary workspaces.","135","     *\/","136","    @Bug(4202)","137","    public void testPollingAndBuildExclusion() throws Exception {","138","        final OneShotEvent sync = new OneShotEvent();","139","","140","        final FreeStyleProject p = createFreeStyleProject();","141","        FreeStyleBuild b1 = assertBuildStatusSuccess(p.scheduleBuild2(0).get());","142","","143","        p.setScm(new NullSCM() {","144","            @Override","145","            public boolean pollChanges(AbstractProject project, Launcher launcher, FilePath workspace, TaskListener listener) {","146","                try {","147","                    sync.block();","148","                } catch (InterruptedException e) {","149","                    e.printStackTrace();","150","                }","151","                return true;","152","            }","153","","154","            public boolean requiresWorkspaceForPolling() {","155","                return true;","156","            }","157","        });","158","        Thread t = new Thread() {","159","            public void run() {","160","                p.pollSCMChanges(new StreamTaskListener(System.out));","161","            }","162","        };","163","        try {","164","            t.start();","165","            Future<FreeStyleBuild> f = p.scheduleBuild2(0);","166","","167","            \/\/ add a bit of delay to make sure that the blockage is happening","168","            Thread.sleep(3000);","169","","170","            \/\/ release the polling","171","            sync.signal();","172","","173","            FreeStyleBuild b2 = assertBuildStatusSuccess(f.get());","174","","175","            \/\/ they should have used the same workspace.","176","            assertEquals(b1.getWorkspace(), b2.getWorkspace());","177","        } finally {","178","            t.interrupt();","179","        }","180","    }"],"delete":[]}],"core\/src\/main\/java\/hudson\/matrix\/MatrixRun.java":[{"add":["131","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) throws InterruptedException, IOException {"],"delete":["131","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) {"]}],"core\/src\/main\/java\/hudson\/model\/FreeStyleBuild.java":[{"add":["50","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) throws IOException, InterruptedException {"],"delete":["50","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) {"]}],"core\/src\/main\/java\/hudson\/model\/AbstractProject.java":[{"add":["947","                    \/\/ if doing non-concurrent build, acquite a workspace in a way that causes builds to block for this workspace.","948","                    \/\/ this prevents multiple workspaces of the same job --- the behavior of Hudson < 1.319.","949","                    \/\/","950","                    \/\/ OTOH, if a concurrent build is chosen, the user is willing to create a multiple workspace,","951","                    \/\/ so better throughput is achieved over time (modulo the initial cost of creating that many workspaces)","952","                    \/\/ by having multiple workspaces","953","                    l.acquire(ws,!concurrentBuild);"],"delete":["947","                    l.acquire(ws);"]}],"core\/src\/main\/java\/hudson\/slaves\/WorkspaceList.java":[{"add":["26","import hudson.Util;","27","import hudson.Functions;","32","import java.util.Map;","33","import java.util.HashMap;","34","import java.util.Date;","49","    \/**","50","     * Book keeping for workspace allocation.","51","     *\/","52","    public static final class Entry {","53","        \/**","54","         * Who acquired this workspace?","55","         *\/","56","        public final Thread holder = Thread.currentThread();","57","","58","        \/**","59","         * When?","60","         *\/","61","        public final long time = System.currentTimeMillis();","62","","63","        \/**","64","         * From where?","65","         *\/","66","        public final Exception source = new Exception();","67","","68","        \/**","69","         * True makes the caller of {@link WorkspaceList#allocate(FilePath)} wait","70","         * for this workspace.","71","         *\/","72","        public final boolean quick;","73","","74","        public final FilePath path;","75","","76","        private Entry(FilePath path, boolean quick) {","77","            this.path = path;","78","            this.quick = quick;","79","        }","80","","81","        @Override","82","        public String toString() {","83","            String s = path+\" owned by \"+holder.getName()+\" from \"+new Date(time);","84","            if(quick) s+=\" (quick)\";","85","            s+=\"\\n\"+Functions.printThrowable(source);","86","            return s;","87","        }","88","    }","89","","90","    private final Map<FilePath,Entry> inUse = new HashMap<FilePath,Entry>();","96","     * Allocates a workspace by adding some variation to the given base to make it unique.","98","    public synchronized FilePath allocate(FilePath base) throws InterruptedException {","101","            Entry e = inUse.get(candidate);","102","            if(e!=null && !e.quick)","104","            return acquire(candidate);","113","        Entry old = inUse.put(p, new Entry(p, false));","114","        if (old!=null)","115","            throw new AssertionError(\"Tried to record a workspace already owned: \"+old);","123","        Entry old = inUse.remove(p);","124","        if (old==null)","136","        return acquire(p,false);","137","    }","138","","139","    \/**","140","     * See {@link #acquire(FilePath)}","141","     *","142","     * @param quick","143","     *      If true, indicates that the acquired workspace will be returned quickly.","144","     *      This makes other calls to {@link #allocate(FilePath)} to wait for the release of this workspace.","145","     *\/","146","    public synchronized FilePath acquire(FilePath p, boolean quick) throws InterruptedException {","147","        while (inUse.containsKey(p))","150","        inUse.put(p,new Entry(p,quick));"],"delete":["44","    private final Set<FilePath> inUse = new HashSet<FilePath>();","50","     * Allocates some workspace by adding some variation to the given base if necessary.","52","    public synchronized FilePath allocate(FilePath base) {","55","            if(inUse.contains(candidate))","57","            inUse.add(candidate);","58","            log(\"allocated  \" + candidate);","59","            return candidate;","68","        if (!inUse.add(p))","69","            throw new AssertionError(\"Tried to record a workspace already owned\");","77","        if (!inUse.remove(p))","89","        while (inUse.contains(p))","92","        inUse.add(p);"]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenBuild.java":[{"add":["479","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) throws InterruptedException, IOException {"],"delete":["479","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) {"]}],"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":[{"add":["318","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) throws InterruptedException, IOException {"],"delete":["318","        protected FilePath decideWorkspace(Node n, WorkspaceList wsl) {"]}]}},"260004eb105dbf94f32a811db6b7d237313765b9":{"changes":{"core\/src\/main\/java\/hudson\/model\/Project.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Project.java":[{"add":["174","                    if(existing!=null && existing.hasSame(newChildProjects))","175","                        continue;   \/\/ no need to touch"],"delete":[]}],"core\/src\/main\/java\/hudson\/tasks\/BuildTrigger.java":[{"add":["22","import java.util.Collection;","73","    \/**","74","     * Checks if this trigger has the exact same set of children as the given list.","75","     *\/","76","    public boolean hasSame(Collection<? extends AbstractProject> projects) {","77","        List<AbstractProject> children = getChildProjects();","78","        return children.size()==projects.size() && children.containsAll(projects);","79","    }","80",""],"delete":[]}]}},"69a524ab0b248593fa0ebd42dc5447db91d8d55c":{"changes":{"core\/src\/test\/java\/jenkins\/security\/apitoken\/ApiTokenStatsTest.java":"MODIFY","core\/src\/test\/java\/hudson\/model\/ListViewTest.java":"MODIFY","core\/src\/test\/java\/hudson\/slaves\/ChannelPingerTest.java":"MODIFY","core\/src\/test\/java\/jenkins\/security\/DefaultConfidentialStoreTest.java":"MODIFY","core\/src\/test\/java\/hudson\/util\/TextFileTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/install\/InstallUtil.java":"MODIFY","core\/src\/test\/java\/jenkins\/model\/lazy\/FakeMap.java":"MODIFY","core\/src\/main\/java\/hudson\/PluginManager.java":"MODIFY","core\/src\/test\/java\/hudson\/util\/SecretRewriterTest.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/DoubleLaunchChecker.java":"MODIFY","core\/src\/test\/java\/hudson\/PluginWrapperTest.java":"MODIFY","core\/src\/test\/java\/jenkins\/model\/JenkinsGetRootUrlTest.java":"MODIFY","core\/src\/test\/java\/hudson\/slaves\/NodeListTest.java":"MODIFY","core\/src\/test\/java\/jenkins\/model\/RunIdMigratorTest.java":"MODIFY","core\/src\/test\/java\/jenkins\/model\/NewViewLinkTest.java":"MODIFY","core\/src\/test\/java\/hudson\/slaves\/DelegatingComputerLauncherTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/security\/s2m\/AdminWhitelistRule.java":"MODIFY","core\/src\/test\/java\/hudson\/LauncherTest.java":"MODIFY","cli\/src\/main\/java\/hudson\/cli\/CLI.java":"MODIFY","core\/src\/test\/java\/hudson\/util\/AtomicFileWriterTest.java":"MODIFY","core\/src\/test\/java\/jenkins\/triggers\/SCMTriggerItemTest.java":"MODIFY"},"diff":{"core\/src\/test\/java\/jenkins\/security\/apitoken\/ApiTokenStatsTest.java":[{"add":["41","import java.nio.charset.Charset;","192","            String content = FileUtils.readFileToString(statsFile.getFile(), Charset.defaultCharset());"],"delete":["191","            String content = FileUtils.readFileToString(statsFile.getFile());"]}],"core\/src\/test\/java\/hudson\/model\/ListViewTest.java":[{"add":["3","import static org.mockito.ArgumentMatchers.any;","4","import static org.mockito.ArgumentMatchers.eq;","42","        when(Items.getAllItems(eq(itemGroupOwner), eq(TopLevelItem.class))).thenReturn(Arrays.asList(ig));","62","        List<TopLevelItem> igContent = Arrays.asList(it);"],"delete":["3","import static org.mockito.Matchers.any;","4","import static org.mockito.Matchers.eq;","42","        when(Items.getAllItems(eq(itemGroupOwner), eq(TopLevelItem.class))).thenReturn(Arrays.asList((TopLevelItem) ig));","62","        List<TopLevelItem> igContent = Arrays.asList((TopLevelItem) it);"]}],"core\/src\/test\/java\/hudson\/slaves\/ChannelPingerTest.java":[{"add":["2","import static org.mockito.ArgumentMatchers.eq;"],"delete":["2","import static org.mockito.Matchers.eq;"]}],"core\/src\/test\/java\/jenkins\/security\/DefaultConfidentialStoreTest.java":[{"add":["5","import java.nio.charset.Charset;","6","","35","        assertThat(FileUtils.readFileToString(new File(tmp, \"test\"), Charset.defaultCharset()), not(containsString(\"Hello\"))); \/\/ the data shouldn't be a plain text, obviously"],"delete":["33","        assertThat(FileUtils.readFileToString(new File(tmp, \"test\")), not(containsString(\"Hello\"))); \/\/ the data shouldn't be a plain text, obviously"]}],"core\/src\/test\/java\/hudson\/util\/TextFileTest.java":[{"add":["32","        FileUtils.write(f, \"hello\", Charset.defaultCharset());","42","        String whole = FileUtils.readFileToString(f, Charset.defaultCharset());","51","        FileUtils.write(f, \"hello\", Charset.defaultCharset());"],"delete":["32","        FileUtils.write(f, \"hello\");","42","        String whole = FileUtils.readFileToString(f);","51","        FileUtils.write(f, \"hello\");"]}],"core\/src\/main\/java\/jenkins\/install\/InstallUtil.java":[{"add":["30","import java.nio.charset.Charset;","227","                String version = FileUtils.readFileToString(lastExecVersionFile, Charset.defaultCharset());","270","            FileUtils.write(lastExecVersionFile, version, Charset.defaultCharset());"],"delete":["226","                String version = FileUtils.readFileToString(lastExecVersionFile);","269","            FileUtils.write(lastExecVersionFile, version);"]}],"core\/src\/test\/java\/jenkins\/model\/lazy\/FakeMap.java":[{"add":["29","import java.nio.charset.Charset;","46","        String n = FileUtils.readFileToString(new File(dir, \"n\"), Charset.defaultCharset()).trim();"],"delete":["45","        String n = FileUtils.readFileToString(new File(dir, \"n\")).trim();"]}],"core\/src\/main\/java\/hudson\/PluginManager.java":[{"add":["210","            @Nonnull ","211","            PluginManager doCreate(@Nonnull Class<? extends PluginManager> klass,","212","                                   @Nonnull Jenkins jenkins) throws ReflectiveOperationException {"],"delete":["210","            @Nonnull PluginManager doCreate(@Nonnull Class<? extends PluginManager> klass,","211","                                            @Nonnull Jenkins jenkins) throws ReflectiveOperationException {"]}],"core\/src\/test\/java\/hudson\/util\/SecretRewriterTest.java":[{"add":["7","import java.nio.charset.Charset;","8","import java.nio.charset.StandardCharsets;","55","        FileUtils.write(f, before, Charset.defaultCharset());","58","        return FileUtils.readFileToString(f, Charset.defaultCharset()).replaceAll(System.getProperty(\"line.separator\"), \"\\n\").trim();","64","        return new String(Base64.getEncoder().encode(cipher.doFinal((str + HistoricalSecrets.MAGIC).getBytes(StandardCharsets.UTF_8))));","91","                FileUtils.write(new File(d, \"foo.xml\"), payload, Charset.defaultCharset());","99","        FileUtils.write(new File(t2, \"foo.xml\"), payload, Charset.defaultCharset());","109","            assertTrue(MSG_PATTERN.matcher(FileUtils.readFileToString(new File(t, p + \"\/foo.xml\"), Charset.defaultCharset()).trim()).matches());","113","        assertTrue(MSG_PATTERN.matcher(FileUtils.readFileToString(new File(t2, \"foo.xml\"), Charset.defaultCharset()).trim()).matches());"],"delete":["53","        FileUtils.write(f, before);","56","        return FileUtils.readFileToString(f).replaceAll(System.getProperty(\"line.separator\"), \"\\n\").trim();","62","        return new String(Base64.getEncoder().encode(cipher.doFinal((str + HistoricalSecrets.MAGIC).getBytes(\"UTF-8\"))));","81","        String answer = \"<msg>\" + n + \"<\/msg>\";","90","                FileUtils.write(new File(d, \"foo.xml\"), payload);","98","        FileUtils.write(new File(t2, \"foo.xml\"), payload);","108","            assertTrue(MSG_PATTERN.matcher(FileUtils.readFileToString(new File(t, p + \"\/foo.xml\")).trim()).matches());","112","        assertTrue(MSG_PATTERN.matcher(FileUtils.readFileToString(new File(t2, \"foo.xml\")).trim()).matches());"]}],"core\/src\/main\/java\/hudson\/util\/DoubleLaunchChecker.java":[{"add":["41","import java.nio.charset.Charset;","103","                collidingId = FileUtils.readFileToString(timestampFile, Charset.defaultCharset());","115","            FileUtils.writeStringToFile(timestampFile, getId(), Charset.defaultCharset());"],"delete":["102","                collidingId = FileUtils.readFileToString(timestampFile);","114","            FileUtils.writeStringToFile(timestampFile, getId());"]}],"core\/src\/test\/java\/hudson\/PluginWrapperTest.java":[{"add":["19","import static org.mockito.ArgumentMatchers.any;","36","        assertFalse(dependency.optional);","45","        assertTrue(dependency.optional);"],"delete":["19","import static org.mockito.Matchers.any;","36","        assertEquals(false, dependency.optional);","45","        assertEquals(true, dependency.optional);"]}],"core\/src\/test\/java\/jenkins\/model\/JenkinsGetRootUrlTest.java":[{"add":["39","import static org.mockito.ArgumentMatchers.anyString;"],"delete":["39","import static org.mockito.Matchers.anyString;"]}],"core\/src\/test\/java\/hudson\/slaves\/NodeListTest.java":[{"add":["42","import java.nio.charset.Charset;","134","            String xml = FileUtils.readFileToString(tmp, Charset.defaultCharset());"],"delete":["133","            String xml = FileUtils.readFileToString(tmp);"]}],"core\/src\/test\/java\/jenkins\/model\/RunIdMigratorTest.java":[{"add":["163","        FileUtils.write(new File(dir, file), text, Charset.defaultCharset());","175","        Map<String,String> m = new TreeMap<>();","182","                notation = \"'\" + FileUtils.readFileToString(kid, Charset.defaultCharset()) + \"'\";"],"delete":["163","        FileUtils.write(new File(dir, file), text);","175","        Map<String,String> m = new TreeMap<String,String>();","182","                notation = \"'\" + FileUtils.readFileToString(kid) + \"'\";"]}],"core\/src\/test\/java\/jenkins\/model\/NewViewLinkTest.java":[{"add":["4","import static org.mockito.ArgumentMatchers.any;"],"delete":["4","import static org.mockito.Matchers.any;"]}],"core\/src\/test\/java\/hudson\/slaves\/DelegatingComputerLauncherTest.java":[{"add":["15","import static org.mockito.ArgumentMatchers.eq;"],"delete":["15","import static org.mockito.Matchers.eq;"]}],"core\/src\/main\/java\/jenkins\/security\/s2m\/AdminWhitelistRule.java":[{"add":["28","import java.nio.charset.Charset;","99","            return Boolean.parseBoolean(FileUtils.readFileToString(f, Charset.defaultCharset()).trim());","216","            FileUtils.writeStringToFile(f, Boolean.toString(state), Charset.defaultCharset());"],"delete":["98","            return Boolean.parseBoolean(FileUtils.readFileToString(f).trim());","215","            FileUtils.writeStringToFile(f, Boolean.toString(state));"]}],"core\/src\/test\/java\/hudson\/LauncherTest.java":[{"add":["32","import java.nio.charset.Charset;","68","            assertNull(\"process should be gone\",ProcessTree.get().get(Integer.parseInt(FileUtils.readFileToString(tmp, Charset.defaultCharset()).trim())));","104","        assertFalse(decorated.isUnix());","107","        assertTrue(decorated.isUnix());","116","        assertFalse(decorated.isUnix());","119","        assertTrue(decorated.isUnix());"],"delete":["67","            assertNull(\"process should be gone\",ProcessTree.get().get(Integer.parseInt(FileUtils.readFileToString(tmp).trim())));","103","        assertEquals(false, decorated.isUnix());","106","        assertEquals(true, decorated.isUnix());","115","        assertEquals(false, decorated.isUnix());","118","        assertEquals(true, decorated.isUnix());"]}],"cli\/src\/main\/java\/hudson\/cli\/CLI.java":[{"add":["266","            factory = factory.basicAuth(auth.startsWith(\"@\") ? FileUtils.readFileToString(new File(auth.substring(1)), Charset.defaultCharset()).trim() : auth);"],"delete":["266","            factory = factory.basicAuth(auth.startsWith(\"@\") ? FileUtils.readFileToString(new File(auth.substring(1))).trim() : auth);"]}],"core\/src\/test\/java\/hudson\/util\/AtomicFileWriterTest.java":[{"add":["70","        FileUtils.writeStringToFile(af, PREVIOUS, Charset.defaultCharset());","119","        assertEquals(expectedContent+\"hey\", FileUtils.readFileToString(af, Charset.defaultCharset()));","132","        assertEquals(PREVIOUS, FileUtils.readFileToString(af, Charset.defaultCharset()));","144","        assertEquals(PREVIOUS, FileUtils.readFileToString(af, Charset.defaultCharset()));"],"delete":["70","        FileUtils.writeStringToFile(af, PREVIOUS);","119","        assertEquals(expectedContent+\"hey\", FileUtils.readFileToString(af));","132","        assertEquals(PREVIOUS, FileUtils.readFileToString(af));","144","        assertEquals(PREVIOUS, FileUtils.readFileToString(af));"]}],"core\/src\/test\/java\/jenkins\/triggers\/SCMTriggerItemTest.java":[{"add":["2","import static org.mockito.ArgumentMatchers.any;"],"delete":["2","import static org.mockito.Matchers.any;"]}]}},"fdda9ca65689423794a8378c1f28faca7dffddf0":{"changes":{"core\/src\/main\/java\/hudson\/model\/User.java":"MODIFY","test\/src\/test\/java\/hudson\/model\/UserTest.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/User.java":[{"add":["352","            } else if (!id.equals(fullName) && !getConfigFileFor(id).exists()) {","353","                \/\/ JENKINS-16332: since the fullName may not be recoverable from the id, and various code may store the id only, we must save the fullName","354","                try {","355","                    u.save();","356","                } catch (IOException x) {","357","                    LOGGER.log(Level.WARNING, null, x);","358","                }"],"delete":["352","            }","353","            if (LOGGER.isLoggable(Level.FINE) && id.equals(fullName) && fullName.matches(\".+ _\\\\S+@\\\\S+_\")) {","354","                LOGGER.log(Level.FINE, \"[JENKINS-16332] Suspicious fullName being stored: \" + fullName, new Throwable());"]}],"test\/src\/test\/java\/hudson\/model\/UserTest.java":[{"add":["34","import hudson.tasks.MailAddressResolver;","269","    @Bug(16332)","270","    @Test public void unrecoverableFullName() throws Throwable {","271","        User u = User.get(\"John Smith <jsmith@nowhere.net>\");","272","        assertEquals(\"jsmith@nowhere.net\", MailAddressResolver.resolve(u));","273","        String id = u.getId();","274","        User.clear(); \/\/ simulate Jenkins restart","275","        u = User.get(id);","276","        assertEquals(\"jsmith@nowhere.net\", MailAddressResolver.resolve(u));","277","    }","278",""],"delete":[]}],"changelog.html":[{"add":["65","    After restarting Jenkins, users known only from changelogs could be shown as <code>First Last _first.last@some.org_<\/code>, breaking mail delivery.","66","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16332\">issue 16332<\/a>)","67","  <li class=bug>"],"delete":[]}]}},"c757e65431ad1aec9a3bebe81ac919577e51ac58":{"changes":{"core\/src\/main\/java\/hudson\/model\/View.java":"MODIFY","changelog.html":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/View.java":[{"add":["580","        \/** @see UserAvatarResolver *\/","581","        String avatar;","582","","784","                                UserInfo info = users.get(user);","785","                                if (info == null) {","786","                                    UserInfo userInfo = new UserInfo(user, p, build.getTimestamp());","787","                                    userInfo.avatar = UserAvatarResolver.resolve(user, iconSize);","788","                                    synchronized (this) {","789","                                        users.put(user, userInfo);","791","                                    }","792","                                } else if (info.getLastChange().before(build.getTimestamp())) {","793","                                    synchronized (this) {","818","                        UserInfo userInfo = new UserInfo(u, null, null);","819","                        userInfo.avatar = UserAvatarResolver.resolve(u, iconSize);","821","                            users.put(u, userInfo);","837","                        accumulate(\"avatar\", i.avatar)."],"delete":["781","                                synchronized (this) {","782","                                    UserInfo info = users.get(user);","783","                                    if (info == null) {","784","                                        users.put(user, new UserInfo(user, p, build.getTimestamp()));","786","                                    } else if (info.getLastChange().before(build.getTimestamp())) {","812","                            users.put(u, new UserInfo(u, null, null));","828","                        accumulate(\"avatar\", UserAvatarResolver.resolve(u, iconSize))."]}],"changelog.html":[{"add":["61","    Improving responsiveness of <b>People<\/b> page when using Gravatar plugin.","62","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16342\">issue 16342<\/a>)","63","  <li class=bug>"],"delete":[]}]}},"17fb4a4ffb41b44ff54a0233afeb64ee3a34469f":{"changes":{"war\/src\/main\/webapp\/css\/style.css":"MODIFY"},"diff":{"war\/src\/main\/webapp\/css\/style.css":[{"add":["1581","  text-decoration: none;","1688","}"],"delete":["1687","}"]}]}},"0260547d3809b557a350f39e051b5e2564eb917b":{"changes":{"war\/src\/main\/js\/util\/jenkins.js":"MODIFY"},"diff":{"war\/src\/main\/js\/util\/jenkins.js":[{"add":["286","\t\treturn $form.serialize() + jquery.param({","287","\t\t\t'core:apply': '',","288","\t\t\t'Submit': 'Save',","289","\t\t\t'json': $form.find('input[name=json]').val()","290","\t\t});"],"delete":["286","\t\treturn $form.serialize() +","287","\t\t\t'&core:apply=&Submit=Save&json=' + $form.find('input[name=json]').val();"]}]}},"374ce3a0d8a65d8e5e74111f5da9488e9a46c2ca":{"changes":{".github\/release-drafter.yml":"MODIFY"},"diff":{".github\/release-drafter.yml":[{"add":["18","","26","","27","# Categories will be commented out, because we use YAML","28","# Now we use categories only for sorting","29","categories:","30","  - title: Major BUGs and regressions","31","    labels: ","32","      - major-bug","33","      - regression-fix","34","  - title: Major RFE","35","    label: major-rfe","36","  - title: RFEs","37","    label: enhancement","38","  - title: Bug fixes","39","    label: bug","40","  - title: Localization","41","    label: localization","42","  # TODO: consider merging category or changing emojis","43","  - title: Internal\/Developer changes","44","    label: internal","45","","56","","57","  - search: \"##\"","58","    replace: \"#\""],"delete":["6","# TODO: categories are YAGNI for now, until we can extract `type` somehow"]}]}},"86bac90fcbc6f3720242fa0db8836e562d4113d7":{"changes":{"core\/src\/main\/java\/hudson\/model\/LoadStatistics.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/LoadStatistics.java":[{"add":["53","import javax.annotation.CheckForNull;","617","            public Builder with(@CheckForNull Node node) {","618","                if (node != null) {","619","                    return with(node.toComputer());","620","                }","624","            public Builder with(@CheckForNull Computer computer) {","625","                if (computer == null) {","626","                    return this;","627","                }"],"delete":["616","            public Builder with(Node node) {","617","                if (node != null)","618","                return with(node.toComputer());","622","            public Builder with(Computer computer) {"]}]}},"f0e56875d08b436a6c7f8e23afca7e59c55d33fc":{"changes":{"core\/src\/main\/java\/hudson\/model\/ChoiceParameterDefinition.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ChoiceParameterDefinition.java":[{"add":["94","        if (choices instanceof List) {","96","            for (Object o : (List) choices) {","104","        throw new IllegalArgumentException(\"expected String or List, but got \" + choices.getClass().getName());"],"delete":["18","import java.util.Collection;","95","        if (choices instanceof Collection) {","97","            for (Object o : (Collection) choices) {","105","        throw new IllegalArgumentException(\"expected String or Collection, but got \" + choices.getClass().getName());"]}]}},"e41b55cdf90bac1da8dffc2e1e8620a44bb2ee0c":{"changes":{"core\/src\/test\/java\/hudson\/util\/ArgumentListBuilderTest.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/ArgumentListBuilder.java":"MODIFY"},"diff":{"core\/src\/test\/java\/hudson\/util\/ArgumentListBuilderTest.java":[{"add":["115","                \"-Dfoo2=foo bar\", \"-Dfoo3=\/u*r\", \"-Dfoo4=\/us?\",  \/\/ add quotes","117","                \"-Dfoo5=foo;bar^baz\", \"-Dfoo6=<xml>&here;<\/xml>\", \/\/ add quotes","118","                \"-Dfoo7=foo|bar\\\"baz\", \/\/ add quotes and \"\" for \"","123","                + \" \\\"-Dfoo3=\/u*r\\\" \\\"-Dfoo4=\/us?\\\" \\\"-Dfoo10=bar,baz\\\" \\\"-Dfoo5=foo;bar^baz\\\"\"","124","                + \" \\\"-Dfoo6=<xml>&here;<\/xml>\\\" \\\"-Dfoo7=foo|bar\\\"\\\"baz\\\"\""],"delete":["115","                \"-Dfoo2=foo bar\", \"-Dfoo3=\/u*r\", \"-Dfoo4=\/us?\",  \/\/ add quotes, no other escaping","117","                \"-Dfoo5=foo;bar^baz\", \"-Dfoo6=<xml>&here;<\/xml>\", \/\/ add quotes and ^ escaping","118","                \"-Dfoo7=foo|bar\\\"baz\", \/\/ add quotes, ^| for | and \"\" for \"","123","                + \" \\\"-Dfoo3=\/u*r\\\" \\\"-Dfoo4=\/us?\\\" \\\"-Dfoo10=bar,baz\\\" \\\"-Dfoo5=foo;bar^^baz\\\"\"","124","                + \" \\\"-Dfoo6=^<xml^>^&here;^<\/xml^>\\\" \\\"-Dfoo7=foo^|bar\\\"\\\"baz\\\"\""]}],"core\/src\/main\/java\/hudson\/util\/ArgumentListBuilder.java":[{"add":["288","     * <br\/> When testing from command prompt, these characters also need to be","289","     * prepended with a ^ character: ^&<>|  -- however, invoking cmd.exe from","290","     * Hudson does not seem to require this extra escaping so it is not added by","291","     * this method.","298","     * Example: \"-Dfoo=*abc?def;ghi^jkl&mno<pqr>stu|vwx\"\"yz%\"e\"nd\"","299","     * @return new ArgumentListBuilder that runs given command through cmd.exe \/C","313","                    \/\/ quotedArgs.append('^'); See note in javadoc above"],"delete":["288","     * <br\/> These characters are also prepended with a ^ character: ^&<>|","295","     * Example: \"-Dfoo=*abc?def;ghi^^jkl^&mno^<pqr^>stu^|vwx\"\"yz%\"e\"nd\"","296","     * @return","310","                    quotedArgs.append('^');"]}]}},"c99e53c534db0b33896cd42200eca323fd5d0d4f":{"changes":{"core\/src\/main\/java\/hudson\/model\/Job.java":"MODIFY","core\/src\/main\/java\/hudson\/scm\/SubversionSCM.java":"MODIFY","core\/src\/main\/java\/hudson\/maven\/MavenModule.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Job\/configure.jelly":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Job.java":[{"add":["177","    \/**","178","     * True if this instance supports log rotation configuration.","179","     *\/","180","    public boolean supportsLogRotator() {","181","        return true;","182","    }","183",""],"delete":[]}],"core\/src\/main\/java\/hudson\/scm\/SubversionSCM.java":[{"add":["83","     *","130","     *","174","        if(!new SubversionChangeLogBuilder(build,listener,this).run(externals,new StreamResult(changelogFile)))","180","","183","        {\/\/ read the revision file of the last build","184","            File file = getRevisionFile(build);","185","            if(!file.exists())","186","                \/\/ nothing to compare against","187","                return revisions;","189","            BufferedReader br = new BufferedReader(new FileReader(file));","260","","334","    public static final class SvnInfo implements Serializable {","338","        final String url;","339","        final long revision;","396","                        SvnInfo info = new SvnInfo(svnWc.doInfo(new File(ws,module.local),SVNRevision.WORKING));","409","","467","","470","","689","                if(cred==null)  return null;","835","                        error(\"Invalid URL syntax. See \"","856","                        message += \"Unable to access \"+url+\" : \"+Util.escape( e.getErrorMessage().getFullMessage());","862","                        message += \" (Maybe you need to <a href='\"+req.getContextPath()+\"\/scm\/SubversionSCM\/enterCredential?\"+url+\"'>enter credential<\/a>?)\";","865","                        error(message);","940",""],"delete":["14","import hudson.triggers.SCMTrigger;","35","import org.tmatesoft.svn.core.auth.SVNUserNameAuthentication;","51","import java.io.BufferedOutputStream;","57","import java.io.OutputStream;","87","     * ","134","     * ","165","    @Override","171","     * Sets the <tt>SVN_REVISION<\/tt> environment variable during the build.","172","     *\/","173","    @Override","174","    public void buildEnvVars(AbstractBuild build, Map<String, String> env) {","175","        super.buildEnvVars(build, env);","176","","177","        try {","178","            Map<String,Long> revisions = parseRevisionFile(build);","179","            if(locations.length==1) {","180","                Long rev = revisions.get(locations[0].remote);","181","                if(rev!=null)","182","                    env.put(\"SVN_REVISION\",rev.toString());","183","            }","184","            \/\/ it's not clear what to do if there are more than one modules.","185","            \/\/ if we always return locations[0].remote, it'll be difficult","186","            \/\/ to change this later (to something more sensible, such as","187","            \/\/ choosing the \"root module\" or whatever), so let's not set","188","            \/\/ anything for now.","189","        } catch (IOException e) {","190","            \/\/ ignore this error","191","        }","192","    }","193","","194","    \/**","203","        OutputStream os = new BufferedOutputStream(new FileOutputStream(changelogFile));","204","        boolean r;","205","        try {","206","            r = new SubversionChangeLogBuilder(build, listener, this).run(externals, new StreamResult(changelogFile));","207","        } finally {","208","            os.close();","209","        }","210","","211","        if(!r)","217","    \/**","218","     * Reads the revision file of the specified build.","219","     *","220","     * @return","221","     *      map from {@link SvnInfo#url Subversion URL} to its revision.","222","     *\/","226","        File file = getRevisionFile(build);","227","        if(!file.exists())","228","            \/\/ nothing to compare against","229","            return revisions;","230","","231","        BufferedReader br = new BufferedReader(new FileReader(file));","232","        try {","245","        } finally {","246","            br.close();","292","            build.addAction(new SubversionTagAction(build,revMap.values()));","306","        ","338","                            \/\/ trouble-shooting probe for #591","339","                            if(e.getErrorMessage().getErrorCode()==SVNErrorCode.WC_NOT_LOCKED) {","340","                                listener.getLogger().println(\"Polled jobs are \"+SCMTrigger.DESCRIPTOR.getItemsBeingPolled());","341","                            }","384","    public static final class SvnInfo implements Serializable, Comparable<SvnInfo> {","388","        public final String url;","389","        public final long revision;","404","        public int compareTo(SvnInfo that) {","405","            int r = this.url.compareTo(that.url);","406","            if(r!=0)    return r;","407","","408","            if(this.revision<that.revision) return -1;","409","            if(this.revision>that.revision) return +1;","410","            return 0;","411","        }","412","","413","        public boolean equals(Object o) {","414","            if (this == o) return true;","415","            if (o == null || getClass() != o.getClass()) return false;","416","","417","            SvnInfo svnInfo = (SvnInfo) o;","418","","419","            if (revision != svnInfo.revision) return false;","420","            if (!url.equals(svnInfo.url)) return false;","421","","422","            return true;","423","        }","424","","425","        public int hashCode() {","426","            int result;","427","            result = url.hashCode();","428","            result = 31 * result + (int) (revision ^ (revision >>> 32));","429","            return result;","430","        }","431","","432","        public String toString() {","433","            return String.format(\"%s (rev.%s)\",url,revision);","434","        }","435","","477","                    File moduleFile = new File(ws,module.local).getCanonicalFile(); \/\/ canonicalize to remove \"..\" and \".\". See #474","479","                        SvnInfo info = new SvnInfo(svnWc.doInfo(moduleFile,SVNRevision.WORKING));","492","                \t","550","    \t","553","    \t","772","                if(cred==null) {","773","                    \/\/ this happens with file:\/\/ URL. The base class does this, too.","774","                    if (ISVNAuthenticationManager.USERNAME.equals(kind))","775","                        \/\/ user auth shouldn't be null.","776","                        return new SVNUserNameAuthentication(\"\",false);","777","                    return null;","778","                }","779","                ","925","                        errorWithMarkup(\"Invalid URL syntax. See \"","946","                        message += \"Unable to access \"+Util.escape(url)+\" : \"+Util.escape( e.getErrorMessage().getFullMessage());","952","                        message += \" (Maybe you need to <a href='\"+req.getContextPath()+\"\/scm\/SubversionSCM\/enterCredential?\"+Util.escape(url)+\"'>enter credential<\/a>?)\";","955","                        errorWithMarkup(message);","1030","    "]}],"core\/src\/main\/java\/hudson\/maven\/MavenModule.java":[{"add":["5","import hudson.tasks.LogRotator;","69","     * {@link MavenModule} follows the same log rotation schedule as its parent. ","70","     *\/","71","    @Override","72","    public LogRotator getLogRotator() {","73","        return getParent().getLogRotator();","74","    }","75","","76","    \/**","77","     * @deprecated","78","     *      Not allowed to configure log rotation per module.","79","     *\/","80","    @Override","81","    public void setLogRotator(LogRotator logRotator) {","82","        throw new UnsupportedOperationException();","83","    }","84","","85","    @Override","86","    public boolean supportsLogRotator() {","87","        return false;","88","    }","89","","90","    \/**"],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Job\/configure.jelly":[{"add":["16","        <j:if test=\"${it.supportsLogRotator()}\">","17","          <!-- log rotator -->","18","          <f:optionalBlock name=\"logrotate\"","19","            help=\"\/help\/project-config\/log-rotation.html\"","20","            title=\"Discard Old Builds\" checked=\"${it.logRotator!=null}\">","21","            <st:include page=\"\/hudson\/tasks\/LogRotator\/config.jelly\"\/>","22","          <\/f:optionalBlock>","23","        <\/j:if>"],"delete":["16","        <!-- log rotator -->","17","        <f:optionalBlock name=\"logrotate\"","18","          help=\"\/help\/project-config\/log-rotation.html\"","19","          title=\"Discard Old Builds\" checked=\"${it.logRotator!=null}\">","20","          <st:include page=\"\/hudson\/tasks\/LogRotator\/config.jelly\"\/>","21","        <\/f:optionalBlock>"]}]}},"51562a2a92126299e30c7105ccd5d56eb36a708d":{"changes":{"changelog.html":"MODIFY","core\/src\/main\/grammar\/labelExpr.g":"MODIFY","test\/src\/test\/java\/hudson\/model\/labels\/LabelExpressionTest.java":"MODIFY"},"diff":{"changelog.html":[{"add":["62","  <li class=bug>","63","    Label expression logic wasn't supporting a binary operator sequence like \"a || b || c\"","64","    (<a href=\"http:\/\/issues.jenkins-ci.org\/browse\/JENKINS-8537\">issue 8537<\/a>)"],"delete":["62","  <li class=>"]}],"core\/src\/main\/grammar\/labelExpr.g":[{"add":["43","  : l=term2( IFF r=term2 {l=l.iff(r);} )*","46","\/\/ (a->b)->c != a->(b->c) (for example in case of a=F,b=T,c=F) so don't allow chaining","56","  : l=term4 ( OR r=term4 {l=l.or(r);} )*","62","  : l=term5 ( AND r=term5 {l=l.and(r);} )*"],"delete":["43","  : l=term2( IFF r=term2 {l=l.iff(r);} )?","55","  : l=term4 ( OR r=term4 {l=l.or(r);} )?","61","  : l=term5 ( AND r=term5 {l=l.and(r);} )?"]}],"test\/src\/test\/java\/hudson\/model\/labels\/LabelExpressionTest.java":[{"add":["36","import org.jvnet.hudson.test.Bug;","138","    @Bug(8537)","139","    public void testParser2() throws Exception {","140","        parseAndVerify(\"aaa&&bbb&&ccc\",\"aaa&&bbb&&ccc\");","141","    }","142",""],"delete":[]}]}},"012a92e7de75d10a90afa580badb843a7c5efb0d":{"changes":{"core\/src\/main\/java\/jenkins\/install\/SetupWizard.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/install\/SetupWizard.java":[{"add":["87","","89","        String ls = System.lineSeparator();","90","        LOGGER.info(ls + ls + \"*************************************************************\" + ls","91","                + \"*************************************************************\" + ls","92","                + \"*************************************************************\" + ls","93","                + ls","95","                + \"a password generated.\" + ls","96","                + \"Please use the following password to proceed to installation:\" + ls","97","                + ls","98","                + setupKey + ls","99","                + ls","100","                + \"This may also be found at: \" + iapf.getRemote() + ls","101","                + ls","102","                + \"*************************************************************\" + ls","103","                + \"*************************************************************\" + ls","104","                + \"*************************************************************\" + ls);"],"delete":["87","        ","89","        ","90","        LOGGER.info(\"\\n\\n*************************************************************\\n\"","91","                + \"*************************************************************\\n\"","92","                + \"*************************************************************\\n\"","93","                + \"\\n\"","95","                + \"a password generated. \\n\"","96","                + \"Please use the following password to proceed to installation: \\n\"","97","                + \"\\n\"","98","                + \"\" + setupKey + \"\\n\"","99","                + \"\\n\"","100","                + \"This may also be found at: \" + iapf.getRemote() + \"\\n\"","101","                + \"\\n\"","102","                + \"*************************************************************\\n\"","103","                + \"*************************************************************\\n\"","104","                + \"*************************************************************\\n\");"]}]}},"1e9720dc55738471e84fbbdcda7aeaad7f6f0dca":{"changes":{"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenProbeAction\/envVars_fr.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Hudson\/legend_fr.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages_fr.properties":"MODIFY","core\/src\/main\/resources\/hudson\/util\/DoubleLaunchChecker\/index_fr.properties":"MODIFY","core\/src\/main\/resources\/lib\/hudson\/project\/config-retryCount_fr.properties":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Run\/confirmDelete_fr.properties":"MODIFY"},"diff":{"maven-plugin\/src\/main\/resources\/hudson\/maven\/MavenProbeAction\/envVars_fr.properties":[{"add":["22","Environment\\ Variables=Variables d''Environnement"],"delete":["22","Environment\\ Variables=Variables d'Environnement"]}],"core\/src\/main\/resources\/hudson\/model\/Hudson\/legend_fr.properties":[{"add":["33","health-80plus=La stabilité du projet est d''au moins 80%. Placez la souris au-dessus de l''icône du projet pour plus de détails."],"delete":["33","health-80plus=La stabilité du projet est d'au moins 80%. Placez la souris au-dessus de l''icône du projet pour plus de détails."]}],"core\/src\/main\/resources\/hudson\/model\/Messages_fr.properties":[{"add":["43","    Merci de fournir un XPath qui ne correspond qu''\\u00e0 un seul noeud, ou utilisez le param\\u00e8tre de requ\\u00e8te \"wrapper\" pour les encapsuler tous dans un \\u00e9l\\u00e9ment racine.","136","Slave.Terminated={0} l''agent esclave a \\u00e9t\\u00e9 termin\\u00e9"],"delete":["43","    Merci de fournir un XPath qui ne correspond qu'\\u00e0 un seul noeud, ou utilisez le param\\u00e8tre de requ\\u00e8te \"wrapper\" pour les encapsuler tous dans un \\u00e9l\\u00e9ment racine.","136","Slave.Terminated={0} l'agent esclave a \\u00e9t\\u00e9 termin\\u00e9"]}],"core\/src\/main\/resources\/hudson\/util\/DoubleLaunchChecker\/index_fr.properties":[{"add":["30","Other\\ Jenkins=L''autre instance de Jenkins"],"delete":["30","Other\\ Jenkins=L'autre instance de Jenkins"]}],"core\/src\/main\/resources\/lib\/hudson\/project\/config-retryCount_fr.properties":[{"add":["24","Number\\ of\\ Retrys\\ needed\\ if\\ checkout\\ fails="],"delete":["24","Number\\ of\\ Retrys\\ needed\\ if\\ checkout\\ fails=Nombre de Réessayer n'est pas nécessaire si la caisse"]}],"core\/src\/main\/resources\/hudson\/model\/Run\/confirmDelete_fr.properties":[{"add":["23","cannotMsg=Impossible de supprimer ce build, parce qu''il est {0}"],"delete":["23","cannotMsg=Impossible de supprimer ce build, parce qu'il est {0}"]}]}},"9999516aa826dd34986204a508a6bda7124e889d":{"changes":{"core\/src\/main\/java\/jenkins\/install\/InstallUtil.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/install\/InstallUtil.java":[{"add":["71","        \/\/ Support a simple state override. Useful for testing.","72","        String stateOverride = System.getenv(\"jenkins.install.state\");","73","        if (stateOverride != null) {","74","            try {","75","                return InstallState.valueOf(stateOverride.toUpperCase());","76","            } catch (RuntimeException e) {","77","                throw new IllegalStateException(\"Unknown install state override specified on the commandline: '\" + stateOverride + \"'.\");","78","            }","79","        }","80",""],"delete":[]}]}},"7b0d9086f7d19c9104ed532f634bceb518ed978b":{"changes":{"core\/src\/main\/java\/hudson\/scm\/SubversionChangeLogSet.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/SubversionChangeLogSet.java":[{"add":["28","import hudson.scm.SubversionSCM.ModuleLocation;","29","","158","                    return preparePath(paths.get(index).value);","165","        ","166","        private String preparePath(String path) {","167","            SubversionSCM scm = (SubversionSCM) getParent().build.getProject().getScm();","168","            ModuleLocation[] locations = scm.getLocations();","169","            for (int i = 0; i < locations.length; i++) {","170","                String commonPart = findCommonPart(locations[i].remote, path);","171","                if (commonPart != null) {","172","                    if (path.startsWith(\"\/\")) {","173","                        path = path.substring(1);","174","                    }","175","                    String newPath = path.substring(commonPart.length());","176","                    if (newPath.startsWith(\"\/\")) {","177","                        newPath = newPath.substring(1);","178","                    }","179","                    return newPath;","180","                }","181","            }","182","            return path;","183","        }","184","        ","185","        private String findCommonPart(String folder, String filePath) {","186","            if (folder == null || filePath == null) {","187","                return null;","188","            }","189","            if (filePath.startsWith(\"\/\")) {","190","                filePath = filePath.substring(1);","191","            }","192","            for (int i = 0; i < folder.length(); i++) {","193","                String part = folder.substring(i);","194","                if (filePath.startsWith(part)) {","195","                    return part;","196","                }","197","            }","198","            return null;","199","        }"],"delete":["156","                    return paths.get(index).value;"]}]}},"5f756c61706911f8db10897956657c7a2e50eda0":{"changes":{"changelog.html":"MODIFY","cli\/src\/main\/java\/hudson\/cli\/CLI.java":"MODIFY"},"diff":{"changelog.html":[{"add":["73","    If CLI fails to connect via a JNLP Slave port, fall back to HTTP full-duplex.","74","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-10611\">issue 10611<\/a>)","75","  <li class=rfe>"],"delete":[]}],"cli\/src\/main\/java\/hudson\/cli\/CLI.java":[{"add":["65","import java.util.logging.Level;","92","        Channel channel = null;","96","            try {","97","                channel = connectViaCliPort(jenkins, url, clip);","98","            } catch (IOException e) {","99","                LOGGER.log(Level.FINE,\"Failed to connect via CLI port. Falling back to HTTP\",e);","100","            }","102","        if (channel==null) {","103","            \/\/ connect via HTTP","104","            channel = connectViaHttp(url);","105","        }","106","        this.channel = channel;","115","    private Channel connectViaHttp(String url) throws IOException {","116","        LOGGER.fine(\"Trying to connect to \"+url+\" via HTTP\");","117","        url+=\"cli\";","118","        URL jenkins = new URL(url);","119","","120","        FullDuplexHttpStream con = new FullDuplexHttpStream(jenkins);","121","        Channel ch = new Channel(\"Chunked connection to \"+jenkins,","122","                pool,con.getInputStream(),con.getOutputStream());","123","        new PingThread(ch,30*1000) {","124","            protected void onDead() {","125","                \/\/ noop. the point of ping is to keep the connection alive","126","                \/\/ as most HTTP servers have a rather short read time out","127","            }","128","        }.start();","129","        return ch;","130","    }","131","","132","    private Channel connectViaCliPort(URL jenkins, String url, int clip) throws IOException {","133","        String host = new URL(url).getHost();","134","        LOGGER.fine(\"Trying to connect directly via TCP\/IP to port \"+clip+\" of \"+host);","135","        Socket s = new Socket(host,clip);","136","        DataOutputStream dos = new DataOutputStream(s.getOutputStream());","137","        dos.writeUTF(\"Protocol:CLI-connect\");","138","","139","        return new Channel(\"CLI connection to \"+jenkins, pool,","140","                new BufferedInputStream(new SocketInputStream(s)),","141","                new BufferedOutputStream(new SocketOutputStream(s)));","142","    }","143",""],"delete":["94","            String host = new URL(url).getHost();","95","            LOGGER.fine(\"Trying to connect directly via TCP\/IP to port \"+clip+\" of \"+host);","96","            Socket s = new Socket(host,clip);","97","            DataOutputStream dos = new DataOutputStream(s.getOutputStream());","98","            dos.writeUTF(\"Protocol:CLI-connect\");","99","","100","            channel = new Channel(\"CLI connection to \"+jenkins, pool,","101","                    new BufferedInputStream(new SocketInputStream(s)),","102","                    new BufferedOutputStream(new SocketOutputStream(s)));","103","        } else {","104","            \/\/ connect via HTTP","105","            LOGGER.fine(\"Trying to connect to \"+url+\" via HTTP\");","106","            url+=\"cli\";","107","            jenkins = new URL(url);","108","","109","            FullDuplexHttpStream con = new FullDuplexHttpStream(jenkins);","110","            channel = new Channel(\"Chunked connection to \"+jenkins,","111","                    pool,con.getInputStream(),con.getOutputStream());","112","            new PingThread(channel,30*1000) {","113","                protected void onDead() {","114","                    \/\/ noop. the point of ping is to keep the connection alive","115","                    \/\/ as most HTTP servers have a rather short read time out","116","                }","117","            }.start();"]}]}},"5f655a59b6d263061d6c5c1d05ac8d5d1d1d391f":{"changes":{"core\/src\/main\/java\/hudson\/lifecycle\/UnixLifecycle.java":"MODIFY","core\/src\/main\/java\/hudson\/lifecycle\/WindowsServiceLifecycle.java":"MODIFY","core\/src\/main\/java\/hudson\/lifecycle\/SolarisSMFLifecycle.java":"MODIFY","core\/src\/main\/java\/hudson\/WebAppMain.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/lifecycle\/UnixLifecycle.java":[{"add":["30","import java.util.logging.Level;","31","import java.util.logging.Logger;","69","        Jenkins jenkins = Jenkins.getInstanceOrNull(); \/\/ guard against repeated concurrent calls to restart","70","        try {","71","            if (jenkins != null) {","72","                jenkins.cleanUp();","73","            }","74","        } catch (Exception e) {","75","            LOGGER.log(Level.SEVERE, \"Failed to clean up. Restart will continue.\", e);","76","        }","105","","106","    private static final Logger LOGGER = Logger.getLogger(UnixLifecycle.class.getName());"],"delete":["67","        Jenkins h = Jenkins.getInstanceOrNull(); \/\/ guard against repeated concurrent calls to restart","68","        if (h != null)","69","            h.cleanUp();"]}],"core\/src\/main\/java\/hudson\/lifecycle\/WindowsServiceLifecycle.java":[{"add":["119","        Jenkins jenkins = Jenkins.getInstanceOrNull();","120","        try {","121","            if (jenkins != null) {","122","                jenkins.cleanUp();","123","            }","124","        } catch (Exception e) {","125","            LOGGER.log(Level.SEVERE, \"Failed to clean up. Restart will continue.\", e);","126","        }","127",""],"delete":[]}],"core\/src\/main\/java\/hudson\/lifecycle\/SolarisSMFLifecycle.java":[{"add":["28","import java.util.logging.Level;","29","import java.util.logging.Logger;","42","        Jenkins jenkins = Jenkins.getInstanceOrNull(); \/\/ guard against repeated concurrent calls to restart","43","        try {","44","            if (jenkins != null) {","45","                jenkins.cleanUp();","46","            }","47","        } catch (Exception e) {","48","            LOGGER.log(Level.SEVERE, \"Failed to clean up. Restart will continue.\", e);","49","        }","52","","53","    private static final Logger LOGGER = Logger.getLogger(SolarisSMFLifecycle.class.getName());"],"delete":["40","        Jenkins h = Jenkins.getInstanceOrNull(); \/\/ guard against repeated concurrent calls to restart","41","        if (h != null)","42","            h.cleanUp();"]}],"core\/src\/main\/java\/hudson\/WebAppMain.java":[{"add":["378","            try {","379","                if (instance != null) {","380","                    instance.cleanUp();","381","                }","382","            } catch (Exception e) {","383","                LOGGER.log(Level.SEVERE, \"Failed to clean up. Restart will continue.\", e);","384","            }","385","","386","            terminated = true;"],"delete":["377","            terminated = true;","379","            if (instance != null)","380","                instance.cleanUp();"]}]}},"20c458d9933b5d25fc472f84ba8dbbf4eae5edee":{"changes":{"core\/src\/main\/java\/jenkins\/security\/s2m\/FilePathRuleConfig.java":"MODIFY","test\/src\/test\/java\/jenkins\/security\/DefaultFilePathFilterTest.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/security\/s2m\/FilePathRuleConfig.java":[{"add":["42","        line = line.replace(\"<BUILDID>\",\"(?:[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]_[0-9][0-9]-[0-9][0-9]-[0-9][0-9]|[0-9]+)\");"],"delete":["42","        line = line.replace(\"<BUILDID>\",\"[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]_[0-9][0-9]-[0-9][0-9]-[0-9][0-9]\");"]}],"test\/src\/test\/java\/jenkins\/security\/DefaultFilePathFilterTest.java":[{"add":["43","import org.jvnet.hudson.test.Issue;","113","","114","    @Issue(\"JENKINS-27055\")","115","    @Test public void matchBuildDir() throws Exception {","116","        File f = new File(r.buildAndAssertSuccess(r.createFreeStyleProject()).getRootDir(), \"whatever\");","117","        rule.setMasterKillSwitch(false);","118","        assertTrue(rule.checkFileAccess(\"write\", f));","119","    }","120",""],"delete":["35","import jenkins.security.s2m.MasterKillSwitchConfiguration;"]}]}},"86e510a92f5b3d910adcefd72b6f66da0416987a":{"changes":{"test\/src\/test\/java\/hudson\/model\/AbstractItemTest.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractItem.java":"MODIFY","core\/src\/main\/resources\/hudson\/model\/Messages.properties":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/model\/AbstractItemTest.java":[{"add":["65","        j.createFreeStyleProject(\"foo-exists\");","70","        assertThat(checkNameAndReturnError(p, \"foo\"), equalTo(Messages.AbstractItem_NewNameUnchanged()));","71","        assertThat(checkNameAndReturnError(p, \"foo-exists\"), equalTo(Messages.AbstractItem_NewNameInUse(\"foo-exists\")));","88","        j.createFreeStyleProject(\"foo-exists\");","91","            assertThat(checkNameAndReturnError(p, \"foo-exists\"), equalTo(Messages.AbstractItem_NewNameInUse(\"foo-exists\")));","94","            assertThat(checkNameAndReturnError(p, \"foo-exists\"), equalTo(Messages.Jenkins_NotAllowedName(\"foo-exists\")));"],"delete":["69","        assertThat(checkNameAndReturnError(p, \"foo\"), equalTo(Messages.AbstractItem_NewNameInUse(\"foo\")));","88","            assertThat(checkNameAndReturnError(p, \"foo\"), equalTo(Messages.AbstractItem_NewNameInUse(\"foo\")));","91","            assertThat(checkNameAndReturnError(p, \"foo\"), equalTo(Messages.Jenkins_NotAllowedName(\"foo\")));"]}],"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":[{"add":["286","            if (newName.equals(name)) {","287","                return FormValidation.warning(Messages.AbstractItem_NewNameUnchanged());","288","            }"],"delete":[]}],"core\/src\/main\/resources\/hudson\/model\/Messages.properties":[{"add":["38","AbstractItem.NewNameUnchanged=The new name is the same as the current name."],"delete":[]}]}},"9bf265e5762f1d27e8560b716a25e2dbb031c8fc":{"changes":{"core\/src\/main\/java\/hudson\/model\/ReconfigurableDescribable.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ReconfigurableDescribable.java":[{"add":["27","import javax.annotation.CheckForNull;","28","import javax.annotation.Nonnull;","81","    @CheckForNull T reconfigure(@Nonnull StaplerRequest req, @CheckForNull JSONObject form) throws FormException;"],"delete":["79","    T reconfigure(StaplerRequest req, JSONObject form) throws FormException;"]}]}},"7e5063937c31ee33de29254f1f13f5d4aa0d6174":{"changes":{"test\/pom.xml":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractItem.java":"MODIFY","core\/pom.xml":"MODIFY","cli\/pom.xml":"MODIFY","debian\/debian\/changelog":"MODIFY","changelog.html":"MODIFY","pom.xml":"MODIFY","plugins\/pom.xml":"MODIFY","war\/pom.xml":"MODIFY"},"diff":{"test\/pom.xml":[{"add":["30","    <version>1.605-SNAPSHOT<\/version>"],"delete":["30","    <version>1.604-SNAPSHOT<\/version>"]}],"core\/src\/main\/java\/hudson\/model\/AbstractItem.java":[{"add":["218","        String oldName = this.name;","219","        String oldFullName = getFullName();","327","        ItemListener.fireLocationChange(this, oldFullName);"],"delete":["250","","251","                String oldName = this.name;","252","                String oldFullName = getFullName();","326","","327","                ItemListener.fireLocationChange(this, oldFullName);"]}],"core\/pom.xml":[{"add":["31","    <version>1.605-SNAPSHOT<\/version>"],"delete":["31","    <version>1.604-SNAPSHOT<\/version>"]}],"cli\/pom.xml":[{"add":["7","    <version>1.605-SNAPSHOT<\/version>"],"delete":["7","    <version>1.604-SNAPSHOT<\/version>"]}],"debian\/debian\/changelog":[{"add":["0","jenkins (1.604) unstable; urgency=low","1","","2","  * See http:\/\/jenkins-ci.org\/changelog for more details.","3","","4"," -- Kohsuke Kawaguchi <kk@kohsuke.org>  Sun, 15 Mar 2015 12:22:07 -0700","5",""],"delete":[]}],"changelog.html":[{"add":["60","<h3><a name=v1.604>What's new in 1.604<\/a> (2015\/03\/15)<\/h3>","65","  <li class=bug>","66","    Avoid deadlock when using build-monitor-plugin.","67","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-27183\">issue 27183<\/a>)","68","  <li class=rfe>","69","    As security hardening, mark \"remember me\" cookie as HTTP only","70","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-27277\">issue 27277<\/a>)","71","  <li class=\"rfe\">","72","    Show displayName in build remote API.","73","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26723\">issue 26723<\/a>)","74","<\/ul>","75","<h3><a name=v1.602>What's new in 1.602<\/a> (2015\/03\/08)<\/h3>","76","<ul class=image>","77","  <li class=\"rfe\">","78","    Show Check Now button also on Available and Updates tabs of plugin manager.","79","    (<a href=\"https:\/\/github.com\/jenkinsci\/jenkins\/pull\/1593\">PR 1593<\/a>)","92","  <li class=bug>","93","    Robustness improvement when setting up Archive Artifacts programmatically.","94","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-25779\">issue 25779<\/a>)"],"delete":["60","","61","<!-- these changes are controlled by the release process. DO NOT MODIFY -->","62","<div id=\"rc\" style=\"display:none;\"><!--=BEGIN=-->","63","<h3><a name=v1.603>What's new in 1.603<\/a> <!--=DATE=--><\/h3>","66","    As security hardening, mark \"remember me\" cookie as HTTP only","67","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-27277\">issue 27277<\/a>)","68","<\/ul>","69","<\/div><!--=END=-->","70","<h3><a name=v1.602>What's new in 1.602<\/a> (2015\/03\/08)<\/h3>","71","<ul class=image>","72","  <li class=\"major bug\">","73","    Regression with environment variables in 1.600.","74","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-27188\">issue 27188<\/a>)","75","  <li class=\"major bug\">","76","    Errors with concurrent matrix builds since 1.597.","77","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26739\">issue 26739<\/a>)","78","  <li class=\"rfe\">","79","    Show displayName in build remote API.","80","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-26723\">issue 26723<\/a>)","81","  <li class=rfe>"]}],"pom.xml":[{"add":["35","  <version>1.605-SNAPSHOT<\/version>"],"delete":["35","  <version>1.604-SNAPSHOT<\/version>"]}],"plugins\/pom.xml":[{"add":["14","  <version>1.605-SNAPSHOT<\/version>","43","      <version>1.605-SNAPSHOT<\/version>","49","      <version>1.605-SNAPSHOT<\/version>","55","      <version>1.605-SNAPSHOT<\/version>"],"delete":["14","  <version>1.604-SNAPSHOT<\/version>","43","      <version>1.604-SNAPSHOT<\/version>","49","      <version>1.604-SNAPSHOT<\/version>","55","      <version>1.604-SNAPSHOT<\/version>"]}],"war\/pom.xml":[{"add":["30","    <version>1.605-SNAPSHOT<\/version>"],"delete":["30","    <version>1.604-SNAPSHOT<\/version>"]}]}},"9c23a30e674137bc9d8fbed4cc31f9098266949f":{"changes":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["3046","            g.requires(loadJenkins).attains(JOB_LOADED).notFatal().add(\"Loading item \" + subdir.getName(), new Executable() {","3059","        g.requires(JOB_LOADED).add(\"Cleaning up obsolete items deleted from the disk\", new Executable() {"],"delete":["3046","            g.requires(loadJenkins).attains(JOB_LOADED).notFatal().add(\"Loading job \"+subdir.getName(),new Executable() {","3059","        g.requires(JOB_LOADED).add(\"Cleaning up old builds\",new Executable() {"]}]}},"a0d6e5286d9412c929335a985af8caa1d961d5a4":{"changes":{"core\/src\/main\/java\/hudson\/cli\/ConsoleCommand.java":"MODIFY","core\/src\/main\/java\/hudson\/util\/TextFile.java":"MODIFY","core\/src\/main\/java\/jenkins\/security\/DefaultConfidentialStore.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/DownloadService.java":"MODIFY","core\/src\/main\/resources\/META-INF\/upgrade\/IOUtils.hint":"MODIFY","core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":"MODIFY","core\/src\/test\/java\/jenkins\/RemotingJarSignatureTest.java":"MODIFY","core\/src\/main\/java\/jenkins\/diagnosis\/HsErrPidList.java":"MODIFY","core\/src\/main\/java\/hudson\/FilePath.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/UpdateSite.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/cli\/ConsoleCommand.java":[{"add":["79","                org.apache.commons.io.IOUtils.copy(new InputStreamReader(in,run.getCharset()),w);","136","            org.apache.commons.io.IOUtils.closeQuietly(in);"],"delete":["79","                IOUtils.copy(new InputStreamReader(in,run.getCharset()),w);","136","            IOUtils.closeQuietly(in);"]}],"core\/src\/main\/java\/hudson\/util\/TextFile.java":[{"add":["110","            org.apache.commons.io.IOUtils.closeQuietly(r);"],"delete":["110","            IOUtils.closeQuietly(r);"]}],"core\/src\/main\/java\/jenkins\/security\/DefaultConfidentialStore.java":[{"add":["18","import org.apache.commons.io.IOUtils;"],"delete":["4","import hudson.util.IOUtils;"]}],"core\/src\/main\/java\/hudson\/model\/DownloadService.java":[{"add":["46","import org.apache.commons.io.IOUtils;"],"delete":["30","import hudson.util.IOUtils;"]}],"core\/src\/main\/resources\/META-INF\/upgrade\/IOUtils.hint":[{"add":["1","hudson.util.IOUtils.DIR_SEPARATOR_UNIX => org.apache.commons.io.IOUtils.DIR_SEPARATOR_UNIX;;","2","hudson.util.IOUtils.DIR_SEPARATOR_WINDOWS => org.apache.commons.io.IOUtils.DIR_SEPARATOR_WINDOWS;;","3","hudson.util.IOUtils.DIR_SEPARATOR => org.apache.commons.io.IOUtils.DIR_SEPARATOR;;","4","hudson.util.IOUtils.LINE_SEPARATOR_UNIX => org.apache.commons.io.IOUtils.LINE_SEPARATOR_UNIX;;","5","hudson.util.IOUtils.LINE_SEPARATOR_WINDOWS => org.apache.commons.io.IOUtils.LINE_SEPARATOR_WINDOWS;;","6","hudson.util.IOUtils.LINE_SEPARATOR => org.apache.commons.io.IOUtils.LINE_SEPARATOR;;","7","hudson.util.IOUtils.closeQuietly($args$) => org.apache.commons.io.IOUtils.closeQuietly($args$);;","8","hudson.util.IOUtils.toByteArray($args$) => org.apache.commons.io.IOUtils.toByteArray($args$);;","9","hudson.util.IOUtils.toCharArray($args$) => org.apache.commons.io.IOUtils.toCharArray($args$);;","10","hudson.util.IOUtils.toString($args$) => org.apache.commons.io.IOUtils.toString($args$);;","11","hudson.util.IOUtils.readLines($args$) => org.apache.commons.io.IOUtils.readLines($args$);;","12","hudson.util.IOUtils.lineIterator($args$) => org.apache.commons.io.IOUtils.lineIterator($args$);;","13","hudson.util.IOUtils.toInputStream($args$) => org.apache.commons.io.IOUtils.toInputStream($args$);;","14","hudson.util.IOUtils.write($args$) => org.apache.commons.io.IOUtils.write($args$);;","15","hudson.util.IOUtils.writeLines($args$) => org.apache.commons.io.IOUtils.writeLines($args$);;","17","hudson.util.IOUtils.copy($input, $output) :: $input instanceof java.io.InputStream && $output instanceof java.io.OutputStream => org.apache.commons.io.IOUtils.copy($input, $output);;","18","hudson.util.IOUtils.copy($input, $output) :: $input instanceof java.io.InputStream && $output instanceof java.io.Writer => org.apache.commons.io.IOUtils.copy($input, $output);;","19","hudson.util.IOUtils.copy($input, $output, $encoding) :: $input instanceof java.io.InputStream && $output instanceof java.io.Writer && $encoding instanceof java.lang.String => org.apache.commons.io.IOUtils.copy($input, $output, $encoding);;","20","hudson.util.IOUtils.copy($input, $output) :: $input instanceof java.io.Reader && $output instanceof java.io.Writer => org.apache.commons.io.IOUtils.copy($input, $output);;","21","hudson.util.IOUtils.copy($input, $output) :: $input instanceof java.io.Reader && $output instanceof java.io.OutputStream => org.apache.commons.io.IOUtils.copy($input, $output);;","22","hudson.util.IOUtils.copy($input, $output, $encoding) :: $input instanceof java.io.Reader && $output instanceof java.io.OutputStream && $encoding instanceof java.lang.String => org.apache.commons.io.IOUtils.copy($input, $output, $encoding);;","23","hudson.util.IOUtils.copyLarge($args$) => org.apache.commons.io.IOUtils.copyLarge($args$);;","24","hudson.util.IOUtils.contentEquals($args$) => org.apache.commons.io.IOUtils.contentEquals($args$);;"],"delete":["1","hudson.util.IOUtils.DIR_SEPARATOR_UNIX => org.apache.commons.io.IOUtils.DIR_SEPARATOR_UNIX;","2","hudson.util.IOUtils.DIR_SEPARATOR_WINDOWS => org.apache.commons.io.IOUtils.DIR_SEPARATOR_WINDOWS;","3","hudson.util.IOUtils.DIR_SEPARATOR => org.apache.commons.io.IOUtils.DIR_SEPARATOR;","4","hudson.util.IOUtils.LINE_SEPARATOR_UNIX => org.apache.commons.io.IOUtils.LINE_SEPARATOR_UNIX;","5","hudson.util.IOUtils.LINE_SEPARATOR_WINDOWS => org.apache.commons.io.IOUtils.LINE_SEPARATOR_WINDOWS;","6","hudson.util.IOUtils.LINE_SEPARATOR => org.apache.commons.io.IOUtils.LINE_SEPARATOR;","7","hudson.util.IOUtils.closeQuietly($args$) => org.apache.commons.io.IOUtils.closeQuietly($args$);","8","hudson.util.IOUtils.toByteArray($args$) => org.apache.commons.io.IOUtils.toByteArray($args$);","9","hudson.util.IOUtils.toCharArray($args$) => org.apache.commons.io.IOUtils.toCharArray($args$);","10","hudson.util.IOUtils.toString($args$) => org.apache.commons.io.IOUtils.toString($args$);","11","hudson.util.IOUtils.readLines($args$) => org.apache.commons.io.IOUtils.readLines($args$);","12","hudson.util.IOUtils.lineIterator($args$) => org.apache.commons.io.IOUtils.lineIterator($args$);","13","hudson.util.IOUtils.toInputStream($args$) => org.apache.commons.io.IOUtils.toInputStream($args$);","14","hudson.util.IOUtils.write($args$) => org.apache.commons.io.IOUtils.write($args$);","15","hudson.util.IOUtils.writeLines($args$) => org.apache.commons.io.IOUtils.writeLines($args$);","17","hudson.util.IOUtils.copy($input, $output) :: $input instanceof java.io.InputStream && $output instanceof java.io.OutputStream => org.apache.commons.io.IOUtils.copy($input, $output);","18","hudson.util.IOUtils.copy($input, $output) :: $input instanceof java.io.InputStream && $output instanceof java.io.Writer => org.apache.commons.io.IOUtils.copy($input, $output);","19","hudson.util.IOUtils.copy($input, $output, $encoding) :: $input instanceof java.io.InputStream && $output instanceof java.io.Writer && $encoding instanceof java.lang.String => org.apache.commons.io.IOUtils.copy($input, $output, $encoding);","20","hudson.util.IOUtils.copy($input, $output) :: $input instanceof java.io.Reader && $output instanceof java.io.Writer => org.apache.commons.io.IOUtils.copy($input, $output);","21","hudson.util.IOUtils.copy($input, $output) :: $input instanceof java.io.Reader && $output instanceof java.io.OutputStream => org.apache.commons.io.IOUtils.copy($input, $output);","22","hudson.util.IOUtils.copy($input, $output, $encoding) :: $input instanceof java.io.Reader && $output instanceof java.io.OutputStream && $encoding instanceof java.lang.String => org.apache.commons.io.IOUtils.copy($input, $output, $encoding);","23","hudson.util.IOUtils.copyLarge($args$) => org.apache.commons.io.IOUtils.copyLarge($args$);","24","hudson.util.IOUtils.contentEquals($args$) => org.apache.commons.io.IOUtils.contentEquals($args$);"]}],"core\/src\/main\/java\/hudson\/slaves\/SlaveComputer.java":[{"add":["83","import org.apache.commons.io.IOUtils;"],"delete":["26","import hudson.util.IOUtils;"]}],"core\/src\/test\/java\/jenkins\/RemotingJarSignatureTest.java":[{"add":["12","import org.apache.commons.io.IOUtils;"],"delete":["4","import hudson.util.IOUtils;"]}],"core\/src\/main\/java\/jenkins\/diagnosis\/HsErrPidList.java":[{"add":["25","import org.apache.commons.io.IOUtils;"],"delete":["7","import hudson.util.IOUtils;"]}],"core\/src\/main\/java\/hudson\/FilePath.java":[{"add":["667","            org.apache.commons.io.IOUtils.closeQuietly(_in);","817","            org.apache.commons.io.IOUtils.copy(in, os);","848","                org.apache.commons.io.IOUtils.copy(i,o);","1642","                    org.apache.commons.io.IOUtils.closeQuietly(fis);","1643","                    org.apache.commons.io.IOUtils.closeQuietly(p.getOut());","1657","            return org.apache.commons.io.IOUtils.toString(in);","1817","                    org.apache.commons.io.IOUtils.closeQuietly(fis);","1818","                    org.apache.commons.io.IOUtils.closeQuietly(out);"],"delete":["667","            IOUtils.closeQuietly(_in);","817","            IOUtils.copy(in, os);","848","                IOUtils.copy(i,o);","1642","                    IOUtils.closeQuietly(fis);","1643","                    IOUtils.closeQuietly(p.getOut());","1657","            return IOUtils.toString(in);","1817","                    IOUtils.closeQuietly(fis);","1818","                    IOUtils.closeQuietly(out);"]}],"core\/src\/main\/java\/hudson\/model\/UpdateSite.java":[{"add":["70","import org.apache.commons.io.IOUtils;"],"delete":["35","import hudson.util.IOUtils;"]}]}},"b89baa56bf06b2a0f6b67a3e521236e476fe5a9d":{"changes":{"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"test\/src\/test\/java\/jenkins\/model\/JenkinsTest.java":[{"add":["29","import com.gargoylesoftware.htmlunit.html.HtmlPage;","32","import hudson.model.Failure;","35","import hudson.model.User;","37","import hudson.security.HudsonPrivateSecurityRealm;","50","import org.jvnet.hudson.test.JenkinsRule.DummySecurityRealm;","60","public class JenkinsTest extends HudsonTestCase implements UnprotectedRootAction {","361","","362","    @Bug(20866)","363","    public void testErrorPageShouldBeAnonymousAccessible() throws Exception {","364","        HudsonPrivateSecurityRealm s = new HudsonPrivateSecurityRealm(false, false, null);","365","        User alice = s.createAccount(\"alice\", \"alice\");","366","        jenkins.setSecurityRealm(s);","367","","368","        GlobalMatrixAuthorizationStrategy auth = new GlobalMatrixAuthorizationStrategy();","369","        jenkins.setAuthorizationStrategy(auth);","370","","371","        \/\/ no anonymous read access","372","        assertTrue(!Jenkins.getInstance().getACL().hasPermission(Jenkins.ANONYMOUS,Jenkins.READ));","373","","374","        WebClient wc = createWebClient();","375","        wc.setThrowExceptionOnFailingStatusCode(false);","376","        HtmlPage p = wc.goTo(\"\/self\/reportError\");","377","","378","        assertEquals(400, p.getWebResponse().getStatusCode());  \/\/ not 403 forbidden","379","        assertTrue(p.getWebResponse().getContentAsString().contains(\"My car is black\"));","380","    }","381","","382","    public HttpResponse doReportError() {","383","        return new Failure(\"My car is black\");","384","    }","385",""],"delete":["55","public class JenkinsTest extends HudsonTestCase {"]}],"changelog.html":[{"add":["63","  <li class=bug>","64","    Error page should be visible even if the anonymous user does not have overall\/read access.","65","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-20866\">issue 20866<\/a>)"],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["3670","            || rest.startsWith(\"\/error\")"],"delete":[]}]}},"35e507ee385e866a45b9418f734fc594d9eea1f0":{"changes":{"war\/src\/main\/webapp\/css\/layout-common.css":"MODIFY","war\/src\/main\/webapp\/css\/responsive-grid.css":"MODIFY","war\/src\/main\/webapp\/css\/style.css":"MODIFY","core\/src\/main\/resources\/lib\/layout\/breadcrumbs.css":"MODIFY"},"diff":{"war\/src\/main\/webapp\/css\/layout-common.css":[{"add":["95","  display:block;","115","    display:block;","126","    display:block;"],"delete":[]}],"war\/src\/main\/webapp\/css\/responsive-grid.css":[{"add":["15","h1.build-caption.page-headline {","16","    max-width: 1200px;","17","    overflow: hidden;","18","    white-space: nowrap;","19","    text-overflow: ellipsis;","20","}"],"delete":[]}],"war\/src\/main\/webapp\/css\/style.css":[{"add":["28","  display: inline-block;","34","  max-width: 325px;","35","  overflow: hidden;","37","  text-overflow: ellipsis;"],"delete":[]}],"core\/src\/main\/resources\/lib\/layout\/breadcrumbs.css":[{"add":["26","    display:block;","34","    display:inline-block;","50","    display: block;","51","    max-width: 1330px;","52","    float: left;","53","    text-overflow: ellipsis;","54","    overflow: hidden;","55","    white-space: nowrap;"],"delete":[]}]}},"869f58ab07efb416dff95200f613b287ca83b735":{"changes":{"core\/src\/main\/resources\/hudson\/model\/Messages.properties":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/hudson\/model\/Messages.properties":[{"add":["23","AbstractBuild.BuildingOnMaster=Building on master"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":[{"add":["261","                listener.getLogger().println(node instanceof Hudson ? Messages.AbstractBuild_BuildingOnMaster() : Messages.AbstractBuild_BuildingRemotely(builtOn));"],"delete":["261","                listener.getLogger().println(Messages.AbstractBuild_BuildingRemotely(node.getNodeName()));"]}]}},"085c015b4cf090d7133cc1e726d59d74fced4061":{"changes":{"core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["1289","            \/\/ may not have the action.. tell browsers to redirect up to the build page.","1296","            \/\/ Compromise to handle both browsers (auto-redirect) and programmatic access","1297","            \/\/ (want accurate 404 response).. send 404 with javscript to redirect browsers.","1298","            rsp.setStatus(HttpServletResponse.SC_NOT_FOUND);","1299","            rsp.setContentType(\"text\/html;charset=UTF-8\");","1300","            PrintWriter out = rsp.getWriter();","1301","            out.println(\"<html><head>\" +","1302","                \"<meta http-equiv='refresh' content='1;url=..'\/>\" +","1303","                \"<script>window.location.replace('..');<\/script>\" +","1304","                \"<\/head>\" +","1305","                \"<body style='background-color:white; color:white;'>\" +","1306","                \"Not found<\/body><\/html>\");","1307","            out.flush();"],"delete":["1289","            \/\/ may not have the action.. rather than 404, redirect up to the build page.","1296","            rsp.sendRedirect(\"..\");"]}]}},"a19afb186b2cef50862543618dd7fd12befafce6":{"changes":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY"},"diff":{"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["208","                    if (FilenameUtils.separatorsToUnix(path).startsWith(normalizePath(sub.getRelativePath())))","218","                    if (FilenameUtils.separatorsToUnix(path).startsWith(normalizePath(mod.getRelativePath())))","283","","311","    private static String normalizePath(String relPath) {","312","        \/\/ JENKINS-8525 FilenameUtils.normalize for ..\/foo returns null","313","        if (StringUtils.isEmpty(relPath) || StringUtils.startsWith( relPath, \"..\/\" )) {","314","            LOGGER.config(\"No need to normalize \" + (StringUtils.isEmpty(relPath) ? \"an empty path\" : relPath));","315","        } else {","316","            String tmp = FilenameUtils.normalize( relPath );","317","            LOGGER.config(\"Normalized path \" + relPath + \" to \"+tmp);","318","            relPath = tmp;","319","        }","320","        return relPath;","321","    }","322","","506","                ","1223","            relPath = normalizePath(relPath);","1224",""],"delete":["208","                    if (FilenameUtils.separatorsToUnix(path).startsWith(FilenameUtils.normalize(sub.getRelativePath())))","218","                    if (FilenameUtils.separatorsToUnix(path).startsWith(FilenameUtils.normalize(mod.getRelativePath())))","283","    ","494","","1211","            ","1212","            \/\/ JENKINS-8525 FilenameUtils.normalize for ..\/foo returns null ","1213","            if (!StringUtils.startsWith( relPath, \"..\/\" )) {","1214","                relPath = FilenameUtils.normalize( relPath );","1215","            }"]}]}},"404384eefe9e5abf65ae68b4b1bf0accf3dff8eb":{"changes":{"test\/src\/test\/resources\/hudson\/model\/ViewTest\/testAllViewCreatedIfNoPrimary.zip":"ADD","test\/src\/test\/resources\/hudson\/model\/ViewTest\/testAllViewNotCreatedIfPrimary.zip":"ADD","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY","test\/src\/test\/java\/hudson\/model\/ViewTest.java":"MODIFY"},"diff":{"test\/src\/test\/resources\/hudson\/model\/ViewTest\/testAllViewCreatedIfNoPrimary.zip":[{"add":[],"delete":[]}],"test\/src\/test\/resources\/hudson\/model\/ViewTest\/testAllViewNotCreatedIfPrimary.zip":[{"add":[],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["2870","                if(views.size()==0 || primaryView==null) {"],"delete":["2870","                if(views.size()==0) {","2876","                if (primaryView==null) {","2877","                    primaryView = views.get(0).getViewName();","2878","                }"]}],"test\/src\/test\/java\/hudson\/model\/ViewTest.java":[{"add":["66","import org.jvnet.hudson.test.recipes.LocalData;","508","    ","509","    ","510","    @Test","511","    @Issue(\"JENKINS-36908\")","512","    @LocalData","513","    public void testAllViewCreatedIfNoPrimary() throws Exception {","514","        assertNotNull(j.getInstance().getView(\"All\"));","515","    }","516","    ","517","    @Test","518","    @Issue(\"JENKINS-36908\")","519","    @LocalData","520","    public void testAllViewNotCreatedIfPrimary() throws Exception {","521","        assertNull(j.getInstance().getView(\"All\"));","522","    }"],"delete":[]}]}},"30025bbf0b9398afe63cc709010eb8755f964326":{"changes":{"test\/src\/test\/java\/hudson\/maven\/MavenMultiModuleTest.java":"MODIFY","maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY"},"diff":{"test\/src\/test\/java\/hudson\/maven\/MavenMultiModuleTest.java":[{"add":["68","     * NPE in {@code getChangeSetFor(m)} in {@link MavenModuleSetBuild} when incremental build is","69","     * enabled and a new module is added.","70","     *\/","71","    public void testNewModMultiModMaven() throws Exception {","72","        configureDefaultMaven(\"apache-maven-2.2.1\");","73","        MavenModuleSet m = createMavenProject();","74","        m.getReporters().add(new TestReporter());","75","\tm.setScm(new ExtractResourceWithChangesSCM(getClass().getResource(\"maven-multimod.zip\"),","76","\t\t\t\t\t\t   getClass().getResource(\"maven-multimod-changes.zip\")));","77","","78","\tm.setIncrementalBuild(true);","79","","80","\tassertBuildStatusSuccess(m.scheduleBuild2(0).get());","81","    }","82","","83","    \/**"],"delete":[]}],"maven-plugin\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["429","\t\t\t\t\/\/ Also add it if we've never seen this module before,","430","\t\t\t\t\/\/ or if the previous build of this module failed or was unstable.","431","                                if ((mb.getPreviousBuiltBuild() == null) ||","432","                                    (!getChangeSetFor(m).isEmpty()) ","433","                                    || (mb.getPreviousBuiltBuild().getResult().isWorseThan(Result.SUCCESS))) {"],"delete":["429","                                if ((!getChangeSetFor(m).isEmpty()) ","430","\t\t\t\t    \/\/ If the last actually-built build of this module wasn't a success,","431","\t\t\t\t    \/\/ add it - i.e., rebuild anything that failed\/was unstable in the past.","432","\t\t\t\t    || (mb.getPreviousBuiltBuild().getResult().isWorseThan(Result.SUCCESS))) {"]}]}},"9447289c87522d96d54228e817c5aa3cd04744c6":{"changes":{"core\/src\/main\/java\/hudson\/console\/HyperlinkNote.java":"MODIFY","core\/src\/main\/java\/hudson\/Functions.java":"MODIFY","changelog.html":"MODIFY","core\/src\/main\/java\/jenkins\/model\/Jenkins.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/console\/HyperlinkNote.java":[{"add":["28","import org.kohsuke.stapler.Stapler;","29","import org.kohsuke.stapler.StaplerRequest;","57","        if (url.startsWith(\"\/\")) {","58","            StaplerRequest req = Stapler.getCurrentRequest();","59","            if (req!=null) {","60","                \/\/ if we are serving HTTP request, we want to use app relative URL","61","                url = req.getContextPath()+url;","62","            } else {","63","                \/\/ otherwise presumably this is rendered for e-mails and other non-HTTP stuff","64","                url = Jenkins.getInstance().getRootUrl()+url.substring(1);","65","            }","66","        }"],"delete":["55","        if (url.startsWith(\"\/\"))","56","            url = Jenkins.getInstance().getRootUrl()+url.substring(1);"]}],"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["185","","186","            see https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Hyperlinks+in+HTML"],"delete":[]}],"changelog.html":[{"add":["67","    Absolute URLs in console output","68","    (<a href=\"https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-16368\">issue 16368<\/a>)","69","  <li class=bug>"],"delete":[]}],"core\/src\/main\/java\/jenkins\/model\/Jenkins.java":[{"add":["1866","     * @see <a href=\"https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Hyperlinks+in+HTML\">Hyperlinks in HTML<\/a>"],"delete":[]}]}},"0d53810761e61a6c07eba86c8db2ffe10bfef059":{"changes":{"core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/DependencyGraph.java":[{"add":[],"delete":["179","        if(dep.getUpstreamProject()==dep.getDownstreamProject())","180","            return;"]}]}},"90e989827e9e7a826c12997d7f7109ac21b0411b":{"changes":{"core\/src\/main\/java\/hudson\/util\/ProcessTree.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/util\/ProcessTree.java":[{"add":["430","                        env = new EnvVars();","431","","432","                        try","438","                        }","551","                UnixReflection.destroy(pid);","606","                if (isPreJava8()) {","607","                    DESTROY_PROCESS = clazz.getDeclaredMethod(\"destroyProcess\",int.class);","608","                } else {","609","                    DESTROY_PROCESS = clazz.getDeclaredMethod(\"destroyProcess\",int.class, boolean.class);","610","                }","626","","627","        public static void destroy(int pid) throws IllegalAccessException, InvocationTargetException {","628","            if (isPreJava8()) {","629","                DESTROY_PROCESS.invoke(null, pid);","630","            } else {","631","                DESTROY_PROCESS.invoke(null, pid, false);","632","            }","633","        }","634","","635","        private static boolean isPreJava8() {","636","            int javaVersionAsAnInteger = Integer.parseInt(System.getProperty(\"java.version\").replaceAll(\"\\\\.\", \"\").replaceAll(\"_\", \"\").substring(0, 2));","637","            return javaVersionAsAnInteger < 18;","638","        }"],"delete":["430","                        env = new EnvVars();   ","431","                        ","432","                        try ","438","                        }                          ","551","                UnixReflection.DESTROY_PROCESS.invoke(null, pid);","606","                DESTROY_PROCESS = clazz.getDeclaredMethod(\"destroyProcess\",int.class);"]}]}},"0320887575838e1a4c3e6b3d83ab8f3028e74410":{"changes":{"pom.xml":"MODIFY"},"diff":{"pom.xml":[{"add":["94","    <maven-plugin.version>2.14.1-20170124.191714-1<\/maven-plugin.version>"],"delete":["94","    <maven-plugin.version>2.14<\/maven-plugin.version>"]}]}},"52755f5e55f64fe55f3fdeb6b3b9ee562797052d":{"changes":{"core\/pom.xml":"MODIFY","cli\/pom.xml":"MODIFY","pom.xml":"MODIFY"},"diff":{"core\/pom.xml":[{"add":[],"delete":["209","      <version>1.12<\/version>"]}],"cli\/pom.xml":[{"add":[],"delete":["38","      <version>1.12<\/version>"]}],"pom.xml":[{"add":["268","","269","      <dependency>","270","        <groupId>org.jenkins-ci<\/groupId>","271","        <artifactId>annotation-indexer<\/artifactId>","272","        <version>1.12<\/version>","273","      <\/dependency>"],"delete":[]}]}},"b18b2e686db5a790d2e5b62313c9e0983d076883":{"changes":{"core\/src\/main\/java\/hudson\/Proc.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Proc.java":[{"add":["28","import hudson.util.ClassLoaderSanityThreadFactory;","141","    private static final ExecutorService executor = Executors.newCachedThreadPool(new ExceptionCatchingThreadFactory(new NamingThreadFactory(new ClassLoaderSanityThreadFactory(new DaemonThreadFactory()), \"Proc.executor\")));"],"delete":["140","    private static final ExecutorService executor = Executors.newCachedThreadPool(new ExceptionCatchingThreadFactory(new NamingThreadFactory(new DaemonThreadFactory(), \"Proc.executor\")));"]}]}},"62734aed0995106c962d13b77ee00417fd490939":{"changes":{"core\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/maven\/MavenModuleSetBuild.java":[{"add":["64","                if(r==null)","65","                    r = br;","66","                else"],"delete":[]}]}},"1f31f421770847787f7928f52bc83cf825bba373":{"changes":{"core\/src\/main\/java\/hudson\/model\/View.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/View.java":[{"add":["549","        List<Action> result = new ArrayList<>();","550","        result.addAll(getOwner().getViewActions());","551","        result.addAll(TransientViewActionFactory.createAllFor(this));","552","        return result;","554","","555","    \/**","556","     * No-op. Included to maintain backwards compatibility.","557","     * @deprecated This method does nothing and should not be used","558","     *\/","559","    @Restricted(DoNotUse.class)","560","    @Deprecated","561","    public void updateTransientActions() {}","562",""],"delete":["118","import static jenkins.scm.RunWithSCM.*;","174","    protected transient List<Action> transientActions;","175","","552","    \tList<Action> result = new ArrayList<Action>();","553","    \tresult.addAll(getOwner().getViewActions());","554","    \tsynchronized (this) {","555","    \t\tif (transientActions == null) {","556","                updateTransientActions();","557","    \t\t}","558","    \t\tresult.addAll(transientActions);","559","    \t}","560","    \treturn result;","562","    ","563","    public synchronized void updateTransientActions() {","564","        transientActions = TransientViewActionFactory.createAllFor(this); ","565","    }","566","    ","996","        updateTransientActions();  "]}]}},"c9b878f4889659b889d03e24aa8e5cb6eb763b89":{"changes":{"core\/src\/main\/resources\/jenkins\/model\/Jenkins\/manage.jelly":"MODIFY","core\/src\/main\/java\/jenkins\/management\/ReloadLink.java":"MODIFY"},"diff":{"core\/src\/main\/resources\/jenkins\/model\/Jenkins\/manage.jelly":[{"add":["34","      ${taskTags!=null and attrs.contextMenu!='false' ? taskTags.add(href,iconUrl,title,post,requiresConfirmation) : null}","38","                 href=\"${requiresConfirmation || post ? null : href}\" iconOnly=\"true\">","42","              <l:confirmationLink href=\"${_href}\" post=\"${post}\" message=\"${%are.you.sure(title)}\">${title}<\/l:confirmationLink>"],"delete":["34","      ${taskTags!=null and attrs.contextMenu!='false' ? taskTags.add(href,iconUrl,title,requiresConfirmation,requiresConfirmation) : null}","38","                 href=\"${requiresConfirmation ? null : href}\" iconOnly=\"true\">","42","              <l:confirmationLink href=\"${_href}\" post=\"true\" message=\"${%are.you.sure(title)}\">${title}<\/l:confirmationLink>"]}],"core\/src\/main\/java\/jenkins\/management\/ReloadLink.java":[{"add":["58","","59","    @Override","60","    public boolean getRequiresPOST() {","61","        return true;","62","    }"],"delete":["58","    "]}]}},"67a610338a28e77dd3ee9cc549d7ef531371bd69":{"changes":{"core\/src\/main\/java\/hudson\/model\/ProxyView.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/ProxyView.java":[{"add":["94","    public TopLevelItem getItem(String name) {","95","        return getProxiedView().getItem(name);","96","    }","97","","98","    @Override"],"delete":[]}]}},"96f06f1ddab3ecbf9ff4b362c9236e9402aabbb9":{"changes":{"core\/src\/main\/java\/hudson\/model\/Slave.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/model\/Slave.java":[{"add":["6","import hudson.model.Descriptor.FormException;","59","    public Slave(String name, String description, String command, String remoteFS, File localFS, int numExecutors, Mode mode) throws FormException {","67","","68","        if (!name.equals(\"\"))","69","            throw new FormException(\"Invalid slave configuration. Name is empty\", null);","70","        if (!localFS.exists())","71","            throw new FormException(\"Invalid slave configuration for \" + name + \". No such directory exists: \" + localFS, null);","72","        if (remoteFS.equals(\"\"))","73","            throw new FormException(\"Invalid slave configuration for \" + name + \". No remote directory given\", null);"],"delete":["58","    public Slave(String name, String description, String command, String remoteFS, File localFS, int numExecutors, Mode mode) {"]}]}},"a5ac77ebb6c935f589d297df5aeb090d8fdcee72":{"changes":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":"MODIFY","core\/src\/main\/java\/hudson\/tasks\/BuildWrapper.java":"MODIFY","core\/src\/main\/java\/hudson\/Proc.java":"MODIFY","core\/src\/main\/java\/hudson\/Launcher.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/Run.java":"MODIFY","core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":"MODIFY","core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/tasks\/Ant.java":[{"add":["70","    public boolean perform(Build build, Launcher launcher, BuildListener listener) throws InterruptedException {"],"delete":["70","    public boolean perform(Build build, Launcher launcher, BuildListener listener) {"]}],"core\/src\/main\/java\/hudson\/tasks\/BuildWrapper.java":[{"add":["81","        public abstract boolean tearDown( Build build, BuildListener listener ) throws IOException, InterruptedException;","103","    public abstract Environment setUp( Build build, Launcher launcher, BuildListener listener ) throws IOException, InterruptedException;"],"delete":["81","        public abstract boolean tearDown( Build build, BuildListener listener ) throws IOException;","103","    public abstract Environment setUp( Build build, Launcher launcher, BuildListener listener ) throws IOException;"]}],"core\/src\/main\/java\/hudson\/Proc.java":[{"add":["34","    public abstract void kill() throws IOException, InterruptedException;","48","    public abstract int join() throws IOException, InterruptedException;","98","        public int join() throws InterruptedException {","106","                throw e;","111","        public void kill() throws InterruptedException {","162","        public void kill() throws IOException, InterruptedException {","168","        public int join() throws IOException, InterruptedException {","174","                throw e;"],"delete":["34","    public abstract void kill() throws IOException;","48","    public abstract int join() throws IOException;","98","        public int join() {","106","                return -1;","111","        public void kill() {","162","        public void kill() throws IOException {","168","        public int join() throws IOException {","174","                return -1;"]}],"core\/src\/main\/java\/hudson\/Launcher.java":[{"add":["252","            try {","253","                return p.join();","254","            } catch (InterruptedException e) {","255","                return -1;","256","            }"],"delete":["252","            return p.join();"]}],"core\/src\/main\/java\/hudson\/model\/Run.java":[{"add":["38","import java.util.logging.Level;","566","                } catch( InterruptedException e) {","567","                    \/\/ aborted","568","                    result = Result.ABORTED;","569","                    listener.getLogger().println(\"Build was aborted\");","570","                    LOGGER.log(Level.INFO,toString()+\" aborted\",e);"],"delete":[]}],"core\/src\/main\/java\/hudson\/model\/AbstractBuild.java":[{"add":["136","        private void createLastSuccessfulLink(BuildListener listener) throws InterruptedException {"],"delete":["136","        private void createLastSuccessfulLink(BuildListener listener) {"]}],"core\/src\/main\/java\/hudson\/scm\/CVSSCM.java":[{"add":["744","    protected final boolean run(Launcher launcher, ArgumentListBuilder cmd, TaskListener listener, FilePath dir, OutputStream out) throws IOException, InterruptedException {","754","    protected final boolean run(Launcher launcher, ArgumentListBuilder cmd, TaskListener listener, FilePath dir) throws IOException, InterruptedException {","914","        public void doVersion(StaplerRequest req, StaplerResponse rsp) throws IOException, ServletException, InterruptedException {","1039","        public void doPostPassword(StaplerRequest req, StaplerResponse rsp) throws IOException, InterruptedException {"],"delete":["744","    protected final boolean run(Launcher launcher, ArgumentListBuilder cmd, TaskListener listener, FilePath dir, OutputStream out) throws IOException {","754","    protected final boolean run(Launcher launcher, ArgumentListBuilder cmd, TaskListener listener, FilePath dir) throws IOException {","914","        public void doVersion(StaplerRequest req, StaplerResponse rsp) throws IOException, ServletException {","1039","        public void doPostPassword(StaplerRequest req, StaplerResponse rsp) throws IOException {"]}]}},"4afa96dcb049618502e0731488e759ca2fa3044a":{"changes":{"core\/src\/main\/java\/hudson\/scm\/SubversionSCM.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/scm\/SubversionSCM.java":[{"add":["742","                    return null;"],"delete":[]}]}},"eb82dd44ac778de68ff7314543742f34d87c7d8c":{"changes":{"core\/src\/main\/java\/hudson\/Util.java":"MODIFY","core\/src\/main\/resources\/hudson\/rss20.jelly":"MODIFY","core\/src\/main\/java\/hudson\/Functions.java":"MODIFY"},"diff":{"core\/src\/main\/java\/hudson\/Util.java":[{"add":["15","import java.util.Locale;","348","    \/\/ Note: RFC822 dates must not be localized!","349","    public static final SimpleDateFormat RFC822_DATETIME_FORMATTER","350","            = new SimpleDateFormat(\"EEE, dd MMM yyyy HH:mm:ss Z\", Locale.US);","351",""],"delete":[]}],"core\/src\/main\/resources\/hudson\/rss20.jelly":[{"add":["17","          <pubDate>${h.rfc822Date(adapter.getEntryTimestamp(e))}<\/pubDate>","18","          <author>users@hudson.dev.java.net (Hudson Server)<\/author>","23","<\/j:jelly>"],"delete":["17","          <pubDate>${h.xsDate(adapter.getEntryTimestamp(e))}<\/pubDate>","18","          <author>Hudson<\/author>","23","<\/j:jelly>"]}],"core\/src\/main\/java\/hudson\/Functions.java":[{"add":["33","    public static String rfc822Date(Calendar cal) {","34","        return Util.RFC822_DATETIME_FORMATTER.format(cal.getTime());","35","    }","36",""],"delete":[]}]}}}